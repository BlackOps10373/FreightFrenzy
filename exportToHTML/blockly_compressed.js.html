<html>
<head>
<title>blockly_compressed.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #cc7832;}
.s4 { color: #6897bb;}
.s5 { color: #4646f1;}
.s6 { color: #6a8759;}
.ln { color: #606366; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
blockly_compressed.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">// Do not edit this file; automatically generated by build.py.</span>
<a name="l2"><span class="ln">2    </span></a><span class="s2">'use strict'</span><span class="s1">;</span>
<a name="l3"><span class="ln">3    </span></a>
<a name="l4"><span class="ln">4    </span></a><span class="s3">var </span><span class="s1">$jscomp=$jscomp||{};$jscomp.scope={};</span><span class="s3">var </span><span class="s1">COMPILED=!</span><span class="s4">0</span><span class="s1">,goog=goog||{};goog.global=</span><span class="s3">this</span><span class="s1">||self;goog.isDef=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">!==a};goog.isString=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a};goog.isBoolean=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;boolean&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a};goog.isNumber=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a};</span>
<a name="l5"><span class="ln">5    </span></a><span class="s1">goog.exportPath_=</span><span class="s3">function</span><span class="s1">(a,b,c){a=a.split(</span><span class="s2">&quot;.&quot;</span><span class="s1">);c=c||goog.global;a[</span><span class="s4">0</span><span class="s1">]</span><span class="s3">in </span><span class="s1">c||</span><span class="s2">&quot;undefined&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">c.execScript||c.execScript(</span><span class="s2">&quot;var &quot;</span><span class="s1">+a[</span><span class="s4">0</span><span class="s1">]);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d;a.length&amp;&amp;(d=a.shift());)!a.length&amp;&amp;goog.isDef(b)?c[d]=b:c=c[d]&amp;&amp;c[d]!==Object.prototype[d]?c[d]:c[d]={}};</span>
<a name="l6"><span class="ln">6    </span></a><span class="s1">goog.define=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b;</span><span class="s3">if</span><span class="s1">(!COMPILED){</span><span class="s3">var </span><span class="s1">d=goog.global.CLOSURE_UNCOMPILED_DEFINES,e=goog.global.CLOSURE_DEFINES;d&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===d.nodeType&amp;&amp;Object.prototype.hasOwnProperty.call(d,a)?c=d[a]:e&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===e.nodeType&amp;&amp;Object.prototype.hasOwnProperty.call(e,a)&amp;&amp;(c=e[a])}</span><span class="s3">return </span><span class="s1">c};goog.FEATURESET_YEAR=</span><span class="s4">2012</span><span class="s1">;goog.DEBUG=!</span><span class="s4">1</span><span class="s1">;goog.LOCALE=</span><span class="s2">&quot;en&quot;</span><span class="s1">;goog.TRUSTED_SITE=!</span><span class="s4">0</span><span class="s1">;goog.STRICT_MODE_COMPATIBLE=!</span><span class="s4">1</span><span class="s1">;goog.DISALLOW_TEST_ONLY_CODE=COMPILED&amp;&amp;!goog.DEBUG;goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l7"><span class="ln">7    </span></a><span class="s1">goog.provide=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.isInModuleLoader_())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.provide cannot be used within a module.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!COMPILED&amp;&amp;goog.isProvided_(a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Namespace &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; already declared.'</span><span class="s1">);goog.constructNamespace_(a)};goog.constructNamespace_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!COMPILED){</span><span class="s3">delete </span><span class="s1">goog.implicitNamespaces_[a];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a;(c=c.substring(</span><span class="s4">0</span><span class="s1">,c.lastIndexOf(</span><span class="s2">&quot;.&quot;</span><span class="s1">)))&amp;&amp;!goog.getObjectByName(c);)goog.implicitNamespaces_[c]=!</span><span class="s4">0</span><span class="s1">}goog.exportPath_(a,b)};</span>
<a name="l8"><span class="ln">8    </span></a><span class="s1">goog.getScriptNonce=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a&amp;&amp;a!=goog.global)</span><span class="s3">return </span><span class="s1">goog.getScriptNonce_(a.document);</span><span class="s3">null</span><span class="s1">===goog.cspNonce_&amp;&amp;(goog.cspNonce_=goog.getScriptNonce_(goog.global.document));</span><span class="s3">return </span><span class="s1">goog.cspNonce_};goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">}$/;goog.cspNonce_=</span><span class="s3">null</span><span class="s1">;goog.getScriptNonce_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=a.querySelector&amp;&amp;a.querySelector(</span><span class="s2">&quot;script[nonce]&quot;</span><span class="s1">))&amp;&amp;(a=a.nonce||a.getAttribute(</span><span class="s2">&quot;nonce&quot;</span><span class="s1">))&amp;&amp;goog.NONCE_PATTERN_.test(a)?a:</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;</span>
<a name="l9"><span class="ln">9    </span></a><span class="s1">goog.module=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!goog.isString(a)||!a||-</span><span class="s4">1</span><span class="s1">==a.search(goog.VALID_MODULE_RE_))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid module identifier&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!goog.isInGoogModuleLoader_())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Module &quot;</span><span class="s1">+a+</span><span class="s2">&quot; has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.&quot;</span><span class="s1">);</span>
<a name="l10"><span class="ln">10   </span></a><span class="s3">if</span><span class="s1">(goog.moduleLoaderState_.moduleName)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.module may only be called once per module.&quot;</span><span class="s1">);goog.moduleLoaderState_.moduleName=a;</span><span class="s3">if</span><span class="s1">(!COMPILED){</span><span class="s3">if</span><span class="s1">(goog.isProvided_(a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Namespace &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; already declared.'</span><span class="s1">);</span><span class="s3">delete </span><span class="s1">goog.implicitNamespaces_[a]}};goog.module.get=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.module.getInternal_(a)};</span>
<a name="l11"><span class="ln">11   </span></a><span class="s1">goog.module.getInternal_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!COMPILED){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in </span><span class="s1">goog.loadedModules_)</span><span class="s3">return </span><span class="s1">goog.loadedModules_[a].exports;</span><span class="s3">if</span><span class="s1">(!goog.implicitNamespaces_[a])</span><span class="s3">return </span><span class="s1">a=goog.getObjectByName(a),</span><span class="s3">null</span><span class="s1">!=a?a:</span><span class="s3">null</span><span class="s1">}</span><span class="s3">return null</span><span class="s1">};goog.ModuleType={ES6:</span><span class="s2">&quot;es6&quot;</span><span class="s1">,GOOG:</span><span class="s2">&quot;goog&quot;</span><span class="s1">};goog.moduleLoaderState_=</span><span class="s3">null</span><span class="s1">;goog.isInModuleLoader_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()};goog.isInGoogModuleLoader_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!goog.moduleLoaderState_&amp;&amp;goog.moduleLoaderState_.type==goog.ModuleType.GOOG};</span>
<a name="l12"><span class="ln">12   </span></a><span class="s1">goog.isInEs6ModuleLoader_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(goog.moduleLoaderState_&amp;&amp;goog.moduleLoaderState_.type==goog.ModuleType.ES6)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=goog.global.$jscomp;</span><span class="s3">return </span><span class="s1">a?</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.getCurrentModulePath?!</span><span class="s4">1</span><span class="s1">:!!a.getCurrentModulePath():!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l13"><span class="ln">13   </span></a><span class="s1">goog.module.declareLegacyNamespace=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!COMPILED&amp;&amp;!goog.isInGoogModuleLoader_())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.module.declareLegacyNamespace must be called from within a goog.module&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!COMPILED&amp;&amp;!goog.moduleLoaderState_.moduleName)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.module must be called prior to goog.module.declareLegacyNamespace.&quot;</span><span class="s1">);goog.moduleLoaderState_.declareLegacyNamespace=!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l14"><span class="ln">14   </span></a><span class="s1">goog.declareModuleId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!COMPILED){</span><span class="s3">if</span><span class="s1">(!goog.isInEs6ModuleLoader_())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.declareModuleId may only be called from within an ES6 module&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.moduleLoaderState_&amp;&amp;goog.moduleLoaderState_.moduleName)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.declareModuleId may only be called once per module.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in </span><span class="s1">goog.loadedModules_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Module with namespace &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; already exists.'</span><span class="s1">);}</span><span class="s3">if</span><span class="s1">(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=a;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=goog.global.$jscomp;</span><span class="s3">if</span><span class="s1">(!b||</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b.getCurrentModulePath)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Module with namespace &quot;'</span><span class="s1">+</span>
<a name="l15"><span class="ln">15   </span></a><span class="s1">a+</span><span class="s2">'&quot; has been loaded incorrectly.'</span><span class="s1">);b=b.require(b.getCurrentModulePath());goog.loadedModules_[a]={exports:b,type:goog.ModuleType.ES6,moduleId:a}}};goog.setTestOnly=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.DISALLOW_TEST_ONLY_CODE)</span><span class="s3">throw </span><span class="s1">a=a||</span><span class="s2">&quot;&quot;</span><span class="s1">,Error(</span><span class="s2">&quot;Importing test-only code into non-debug environment&quot;</span><span class="s1">+(a?</span><span class="s2">&quot;: &quot;</span><span class="s1">+a:</span><span class="s2">&quot;.&quot;</span><span class="s1">));};goog.forwardDeclare=</span><span class="s3">function</span><span class="s1">(a){};</span>
<a name="l16"><span class="ln">16   </span></a><span class="s1">COMPILED||(goog.isProvided_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">in </span><span class="s1">goog.loadedModules_||!goog.implicitNamespaces_[a]&amp;&amp;goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={</span><span class="s2">&quot;goog.module&quot;</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">});goog.getObjectByName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.split(</span><span class="s2">&quot;.&quot;</span><span class="s1">),d=b||goog.global,e=</span><span class="s4">0</span><span class="s1">;e&lt;c.length;e++)</span><span class="s3">if</span><span class="s1">(d=d[c[e]],!goog.isDefAndNotNull(d))</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">return </span><span class="s1">d};goog.globalize=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b||goog.global,d;</span><span class="s3">for</span><span class="s1">(d </span><span class="s3">in </span><span class="s1">a)c[d]=a[d]};</span>
<a name="l17"><span class="ln">17   </span></a><span class="s1">goog.addDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d){!COMPILED&amp;&amp;goog.DEPENDENCIES_ENABLED&amp;&amp;goog.debugLoader_.addDependency(a,b,c,d)};goog.ENABLE_DEBUG_LOADER=!</span><span class="s4">0</span><span class="s1">;goog.logToConsole_=</span><span class="s3">function</span><span class="s1">(a){goog.global.console&amp;&amp;goog.global.console.error(a)};</span>
<a name="l18"><span class="ln">18   </span></a><span class="s1">goog.require=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!COMPILED){goog.ENABLE_DEBUG_LOADER&amp;&amp;goog.debugLoader_.requested(a);</span><span class="s3">if</span><span class="s1">(goog.isProvided_(a)){</span><span class="s3">if</span><span class="s1">(goog.isInModuleLoader_())</span><span class="s3">return </span><span class="s1">goog.module.getInternal_(a)}</span><span class="s3">else if</span><span class="s1">(goog.ENABLE_DEBUG_LOADER){</span><span class="s3">var </span><span class="s1">b=goog.moduleLoaderState_;goog.moduleLoaderState_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{goog.debugLoader_.load_(a)}</span><span class="s3">finally</span><span class="s1">{goog.moduleLoaderState_=b}}</span><span class="s3">return null</span><span class="s1">}};goog.requireType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">{}};goog.basePath=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.nullFunction=</span><span class="s3">function</span><span class="s1">(){};</span>
<a name="l19"><span class="ln">19   </span></a><span class="s1">goog.abstractMethod=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;unimplemented abstract method&quot;</span><span class="s1">);};goog.addSingletonGetter=</span><span class="s3">function</span><span class="s1">(a){a.instance_=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;a.getInstance=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(a.instance_)</span><span class="s3">return </span><span class="s1">a.instance_;goog.DEBUG&amp;&amp;(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a);</span><span class="s3">return </span><span class="s1">a.instance_=</span><span class="s3">new </span><span class="s1">a}};goog.instantiatedSingletons_=[];goog.LOAD_MODULE_USING_EVAL=!</span><span class="s4">0</span><span class="s1">;goog.SEAL_MODULE_EXPORTS=goog.DEBUG;goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&amp;&amp;goog.ENABLE_DEBUG_LOADER;goog.TRANSPILE=</span><span class="s2">&quot;detect&quot;</span><span class="s1">;</span>
<a name="l20"><span class="ln">20   </span></a><span class="s1">goog.ASSUME_ES_MODULES_TRANSPILED=!</span><span class="s4">1</span><span class="s1">;goog.TRANSPILE_TO_LANGUAGE=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.TRANSPILER=</span><span class="s2">&quot;transpile.js&quot;</span><span class="s1">;goog.hasBadLetScoping=</span><span class="s3">null</span><span class="s1">;goog.useSafari10Workaround=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">==goog.hasBadLetScoping){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">a=!eval(</span><span class="s2">'&quot;use strict&quot;;let x = 1; function f() { return typeof x; };f() == &quot;number&quot;;'</span><span class="s1">)}</span><span class="s3">catch</span><span class="s1">(b){a=!</span><span class="s4">1</span><span class="s1">}goog.hasBadLetScoping=a}</span><span class="s3">return </span><span class="s1">goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;(function(){&quot;</span><span class="s1">+a+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">;})();</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">};</span>
<a name="l21"><span class="ln">21   </span></a><span class="s1">goog.loadModule=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.moduleLoaderState_;</span><span class="s3">try</span><span class="s1">{goog.moduleLoaderState_={moduleName:</span><span class="s2">&quot;&quot;</span><span class="s1">,declareLegacyNamespace:!</span><span class="s4">1</span><span class="s1">,type:goog.ModuleType.GOOG};</span><span class="s3">if</span><span class="s1">(goog.isFunction(a))</span><span class="s3">var </span><span class="s1">c=a.call(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,{});</span><span class="s3">else if</span><span class="s1">(goog.isString(a))goog.useSafari10Workaround()&amp;&amp;(a=goog.workaroundSafari10EvalBug(a)),c=goog.loadModuleFromSource_.call(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,a);</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid module definition&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=goog.moduleLoaderState_.moduleName;</span><span class="s3">if</span><span class="s1">(goog.isString(d)&amp;&amp;d)goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(d,</span>
<a name="l22"><span class="ln">22   </span></a><span class="s1">c):goog.SEAL_MODULE_EXPORTS&amp;&amp;Object.seal&amp;&amp;</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">c&amp;&amp;</span><span class="s3">null</span><span class="s1">!=c&amp;&amp;Object.seal(c),goog.loadedModules_[d]={exports:c,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName};</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">'Invalid module name &quot;'</span><span class="s1">+d+</span><span class="s2">'&quot;'</span><span class="s1">);}</span><span class="s3">finally</span><span class="s1">{goog.moduleLoaderState_=b}};goog.loadModuleFromSource_=</span><span class="s3">function</span><span class="s1">(a){eval(a);</span><span class="s3">return</span><span class="s1">{}};goog.normalizePath_=</span><span class="s3">function</span><span class="s1">(a){a=a.split(</span><span class="s2">&quot;/&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;)</span><span class="s2">&quot;.&quot;</span><span class="s1">==a[b]?a.splice(b,</span><span class="s4">1</span><span class="s1">):b&amp;&amp;</span><span class="s2">&quot;..&quot;</span><span class="s1">==a[b]&amp;&amp;a[b-1]&amp;&amp;</span><span class="s2">&quot;..&quot;</span><span class="s1">!=a[b-1]?a.splice(--b,</span><span class="s4">2</span><span class="s1">):b++;</span><span class="s3">return </span><span class="s1">a.join(</span><span class="s2">&quot;/&quot;</span><span class="s1">)};</span>
<a name="l23"><span class="ln">23   </span></a><span class="s1">goog.loadFileSync_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.global.CLOSURE_LOAD_FILE_SYNC)</span><span class="s3">return </span><span class="s1">goog.global.CLOSURE_LOAD_FILE_SYNC(a);</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.global.XMLHttpRequest;b.open(</span><span class="s2">&quot;get&quot;</span><span class="s1">,a,!</span><span class="s4">1</span><span class="s1">);b.send();</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==b.status||</span><span class="s4">200</span><span class="s1">==b.status?b.responseText:</span><span class="s3">null</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(c){</span><span class="s3">return null</span><span class="s1">}};</span>
<a name="l24"><span class="ln">24   </span></a><span class="s1">goog.transpile_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=goog.global.$jscomp;d||(goog.global.$jscomp=d={});</span><span class="s3">var </span><span class="s1">e=d.transpile;</span><span class="s3">if</span><span class="s1">(!e){</span><span class="s3">var </span><span class="s1">f=goog.basePath+goog.TRANSPILER,g=goog.loadFileSync_(f);</span><span class="s3">if</span><span class="s1">(g){(</span><span class="s3">function</span><span class="s1">(){(</span><span class="s4">0</span><span class="s1">,eval)(g+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">//# sourceURL=&quot;</span><span class="s1">+f)}).call(goog.global);</span><span class="s3">if</span><span class="s1">(goog.global.$gwtExport&amp;&amp;goog.global.$gwtExport.$jscomp&amp;&amp;!goog.global.$gwtExport.$jscomp.transpile)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'The transpiler did not properly export the &quot;transpile&quot; method. $gwtExport: '</span><span class="s1">+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=</span>
<a name="l25"><span class="ln">25   </span></a><span class="s1">goog.global.$gwtExport.$jscomp.transpile;d=goog.global.$jscomp;e=d.transpile}}e||(e=d.transpile=</span><span class="s3">function</span><span class="s1">(a,b){goog.logToConsole_(b+</span><span class="s2">&quot; requires transpilation but no transpiler was found.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a});</span><span class="s3">return </span><span class="s1">e(a,b,c)};</span>
<a name="l26"><span class="ln">26   </span></a><span class="s1">goog.typeOf=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">typeof </span><span class="s1">a;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;object&quot;</span><span class="s1">==b)</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">Array)</span><span class="s3">return</span><span class="s2">&quot;array&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">Object)</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">var </span><span class="s1">c=Object.prototype.toString.call(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;[object Window]&quot;</span><span class="s1">==c)</span><span class="s3">return</span><span class="s2">&quot;object&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;[object Array]&quot;</span><span class="s1">==c||</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.length&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.splice&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(</span><span class="s2">&quot;splice&quot;</span><span class="s1">))</span><span class="s3">return</span><span class="s2">&quot;array&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;[object Function]&quot;</span><span class="s1">==c||</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.call&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.propertyIsEnumerable&amp;&amp;!a.propertyIsEnumerable(</span><span class="s2">&quot;call&quot;</span><span class="s1">))</span><span class="s3">return</span><span class="s2">&quot;function&quot;</span><span class="s1">}</span><span class="s3">else return</span><span class="s2">&quot;null&quot;</span><span class="s1">;</span>
<a name="l27"><span class="ln">27   </span></a><span class="s3">else if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">==b&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.call)</span><span class="s3">return</span><span class="s2">&quot;object&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">b};goog.isNull=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return null</span><span class="s1">===a};goog.isDefAndNotNull=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return null</span><span class="s1">!=a};goog.isArray=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;array&quot;</span><span class="s1">==goog.typeOf(a)};goog.isArrayLike=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.typeOf(a);</span><span class="s3">return</span><span class="s2">&quot;array&quot;</span><span class="s1">==b||</span><span class="s2">&quot;object&quot;</span><span class="s1">==b&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.length};goog.isDateLike=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isObject(a)&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.getFullYear};goog.isFunction=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==goog.typeOf(a)};</span>
<a name="l28"><span class="ln">28   </span></a><span class="s1">goog.isObject=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">typeof </span><span class="s1">a;</span><span class="s3">return</span><span class="s2">&quot;object&quot;</span><span class="s1">==b&amp;&amp;</span><span class="s3">null</span><span class="s1">!=a||</span><span class="s2">&quot;function&quot;</span><span class="s1">==b};goog.getUid=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!!a[goog.UID_PROPERTY_]};goog.removeUid=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">null</span><span class="s1">!==a&amp;&amp;</span><span class="s2">&quot;removeAttribute&quot;</span><span class="s3">in </span><span class="s1">a&amp;&amp;a.removeAttribute(goog.UID_PROPERTY_);</span><span class="s3">try</span><span class="s1">{</span><span class="s3">delete </span><span class="s1">a[goog.UID_PROPERTY_]}</span><span class="s3">catch</span><span class="s1">(b){}};goog.UID_PROPERTY_=</span><span class="s2">&quot;closure_uid_&quot;</span><span class="s1">+(</span><span class="s4">1</span><span class="s1">E9*Math.random()&gt;&gt;&gt;</span><span class="s4">0</span><span class="s1">);goog.uidCounter_=</span><span class="s4">0</span><span class="s1">;goog.getHashCode=goog.getUid;</span>
<a name="l29"><span class="ln">29   </span></a><span class="s1">goog.removeHashCode=goog.removeUid;goog.cloneObject=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.typeOf(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;object&quot;</span><span class="s1">==b||</span><span class="s2">&quot;array&quot;</span><span class="s1">==b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">===</span><span class="s3">typeof </span><span class="s1">a.clone)</span><span class="s3">return </span><span class="s1">a.clone();b=</span><span class="s2">&quot;array&quot;</span><span class="s1">==b?[]:{};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">a)b[c]=goog.cloneObject(a[c]);</span><span class="s3">return </span><span class="s1">b}</span><span class="s3">return </span><span class="s1">a};goog.bindNative_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">a.call.apply(a.bind,arguments)};</span>
<a name="l30"><span class="ln">30   </span></a><span class="s1">goog.bindJs_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">throw </span><span class="s1">Error();</span><span class="s3">if</span><span class="s1">(</span><span class="s4">2</span><span class="s1">&lt;arguments.length){</span><span class="s3">var </span><span class="s1">d=Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">);</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);</span><span class="s3">return </span><span class="s1">a.apply(b,c)}}</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">a.apply(b,arguments)}};goog.bind=</span><span class="s3">function</span><span class="s1">(a,b,c){Function.prototype.bind&amp;&amp;-</span><span class="s4">1</span><span class="s1">!=Function.prototype.bind.toString().indexOf(</span><span class="s2">&quot;native code&quot;</span><span class="s1">)?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_;</span><span class="s3">return </span><span class="s1">goog.bind.apply(</span><span class="s3">null</span><span class="s1">,arguments)};</span>
<a name="l31"><span class="ln">31   </span></a><span class="s1">goog.partial=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Array.prototype.slice.call(arguments,</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">b=c.slice();b.push.apply(b,arguments);</span><span class="s3">return </span><span class="s1">a.apply(</span><span class="s3">this</span><span class="s1">,b)}};goog.mixin=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">b)a[c]=b[c]};goog.now=goog.TRUSTED_SITE&amp;&amp;Date.now||</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">+</span><span class="s3">new </span><span class="s1">Date};</span>
<a name="l32"><span class="ln">32   </span></a><span class="s1">goog.globalEval=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.global.execScript)goog.global.execScript(a,</span><span class="s2">&quot;JavaScript&quot;</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">(goog.global.eval){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">==goog.evalWorksForGlobals_){</span><span class="s3">try</span><span class="s1">{goog.global.eval(</span><span class="s2">&quot;var _evalTest_ = 1;&quot;</span><span class="s1">)}</span><span class="s3">catch</span><span class="s1">(d){}</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">goog.global._evalTest_){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">delete </span><span class="s1">goog.global._evalTest_}</span><span class="s3">catch</span><span class="s1">(d){}goog.evalWorksForGlobals_=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">else </span><span class="s1">goog.evalWorksForGlobals_=!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(goog.evalWorksForGlobals_)goog.global.eval(a);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=goog.global.document,c=b.createElement(</span><span class="s2">&quot;SCRIPT&quot;</span><span class="s1">);c.type=</span><span class="s2">&quot;text/javascript&quot;</span><span class="s1">;c.defer=</span>
<a name="l33"><span class="ln">33   </span></a><span class="s1">!</span><span class="s4">1</span><span class="s1">;c.appendChild(b.createTextNode(a));b.head.appendChild(c);b.head.removeChild(c)}}</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.globalEval not available&quot;</span><span class="s1">);};goog.evalWorksForGlobals_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l34"><span class="ln">34   </span></a><span class="s1">goog.getCssName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;.&quot;</span><span class="s1">==String(a).charAt(</span><span class="s4">0</span><span class="s1">))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'className passed in goog.getCssName must not start with &quot;.&quot;. You passed: '</span><span class="s1">+a);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.cssNameMapping_[a]||a},d=</span><span class="s3">function</span><span class="s1">(a){a=a.split(</span><span class="s2">&quot;-&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)b.push(c(a[d]));</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;-&quot;</span><span class="s1">)};d=goog.cssNameMapping_?</span><span class="s2">&quot;BY_WHOLE&quot;</span><span class="s1">==goog.cssNameMappingStyle_?c:d:</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};d=b?a+</span><span class="s2">&quot;-&quot;</span><span class="s1">+d(b):d(a);</span><span class="s3">return </span><span class="s1">goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(d):d};</span>
<a name="l35"><span class="ln">35   </span></a><span class="s1">goog.setCssNameMapping=</span><span class="s3">function</span><span class="s1">(a,b){goog.cssNameMapping_=a;goog.cssNameMappingStyle_=b};!COMPILED&amp;&amp;goog.global.CLOSURE_CSS_NAME_MAPPING&amp;&amp;(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING);goog.getMsg=</span><span class="s3">function</span><span class="s1">(a,b){b&amp;&amp;(a=a.replace(/\{\$([^}]+)}/g,</span><span class="s3">function</span><span class="s1">(a,d){</span><span class="s3">return null</span><span class="s1">!=b&amp;&amp;d </span><span class="s3">in </span><span class="s1">b?b[d]:a}));</span><span class="s3">return </span><span class="s1">a};goog.getMsgWithFallback=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a};goog.exportSymbol=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.exportPath_(a,b,c)};goog.exportProperty=</span><span class="s3">function</span><span class="s1">(a,b,c){a[b]=c};</span>
<a name="l36"><span class="ln">36   </span></a><span class="s1">goog.inherits=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">function </span><span class="s1">c(){}c.prototype=b.prototype;a.superClass_=b.prototype;a.prototype=</span><span class="s3">new </span><span class="s1">c;a.prototype.constructor=a;a.base=</span><span class="s3">function</span><span class="s1">(a,c,f){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=Array(arguments.length-2),e=</span><span class="s4">2</span><span class="s1">;e&lt;arguments.length;e++)d[e-2]=arguments[e];</span><span class="s3">return </span><span class="s1">b.prototype[c].apply(a,d)}};</span>
<a name="l37"><span class="ln">37   </span></a><span class="s1">goog.base=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=arguments.callee.caller;</span><span class="s3">if</span><span class="s1">(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&amp;&amp;!d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">d.superClass_){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=Array(arguments.length-1),f=</span><span class="s4">1</span><span class="s1">;f&lt;arguments.length;f++)e[f-1]=arguments[f];</span><span class="s3">return </span><span class="s1">d.superClass_.constructor.apply(a,e)}</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b&amp;&amp;</span><span class="s2">&quot;symbol&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;method names provided to goog.base must be a string or a symbol&quot;</span><span class="s1">);</span>
<a name="l38"><span class="ln">38   </span></a><span class="s1">e=Array(arguments.length-2);</span><span class="s3">for</span><span class="s1">(f=</span><span class="s4">2</span><span class="s1">;f&lt;arguments.length;f++)e[f-2]=arguments[f];f=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=a.constructor.prototype;g;g=Object.getPrototypeOf(g))</span><span class="s3">if</span><span class="s1">(g[b]===d)f=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(f)</span><span class="s3">return </span><span class="s1">g[b].apply(a,e);</span><span class="s3">if</span><span class="s1">(a[b]===d)</span><span class="s3">return </span><span class="s1">a.constructor.prototype[b].apply(a,e);</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.base called from a method of one name to a method of a different name&quot;</span><span class="s1">);};goog.scope=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.isInModuleLoader_())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.scope is not supported within a module.&quot;</span><span class="s1">);a.call(goog.global)};</span>
<a name="l39"><span class="ln">39   </span></a><span class="s1">COMPILED||(goog.global.COMPILED=COMPILED);goog.defineClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.constructor,d=b.statics;c&amp;&amp;c!=Object.prototype.constructor||(c=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;cannot instantiate an interface (no constructor defined).&quot;</span><span class="s1">);});c=goog.defineClass.createSealingConstructor_(c,a);a&amp;&amp;goog.inherits(c,a);</span><span class="s3">delete </span><span class="s1">b.constructor;</span><span class="s3">delete </span><span class="s1">b.statics;goog.defineClass.applyProperties_(c.prototype,b);</span><span class="s3">null</span><span class="s1">!=d&amp;&amp;(d </span><span class="s3">instanceof </span><span class="s1">Function?d(c):goog.defineClass.applyProperties_(c,d));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l40"><span class="ln">40   </span></a><span class="s1">goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG;goog.defineClass.createSealingConstructor_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!goog.defineClass.SEAL_CLASS_INSTANCES)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">var </span><span class="s1">c=!goog.defineClass.isUnsealable_(b),d=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">b=a.apply(</span><span class="s3">this</span><span class="s1">,arguments)||</span><span class="s3">this</span><span class="s1">;b[goog.UID_PROPERTY_]=b[goog.UID_PROPERTY_];</span><span class="s3">this</span><span class="s1">.constructor===d&amp;&amp;c&amp;&amp;Object.seal </span><span class="s3">instanceof </span><span class="s1">Function&amp;&amp;Object.seal(b);</span><span class="s3">return </span><span class="s1">b};</span><span class="s3">return </span><span class="s1">d};goog.defineClass.isUnsealable_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.prototype&amp;&amp;a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};</span>
<a name="l41"><span class="ln">41   </span></a><span class="s1">goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=</span><span class="s2">&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;</span><span class="s1">.split(</span><span class="s2">&quot; &quot;</span><span class="s1">);goog.defineClass.applyProperties_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">b)Object.prototype.hasOwnProperty.call(b,c)&amp;&amp;(a[c]=b[c]);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&amp;&amp;(a[c]=b[c])};</span>
<a name="l42"><span class="ln">42   </span></a><span class="s1">goog.tagUnsealableClass=</span><span class="s3">function</span><span class="s1">(a){!COMPILED&amp;&amp;goog.defineClass.SEAL_CLASS_INSTANCES&amp;&amp;(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!</span><span class="s4">0</span><span class="s1">)};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_=</span><span class="s2">&quot;goog_defineClass_legacy_unsealable&quot;</span><span class="s1">;</span>
<a name="l43"><span class="ln">43   </span></a><span class="s1">!COMPILED&amp;&amp;goog.DEPENDENCIES_ENABLED&amp;&amp;(goog.inHtmlDocument_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.global.document;</span><span class="s3">return null</span><span class="s1">!=a&amp;&amp;</span><span class="s2">&quot;write&quot;</span><span class="s3">in </span><span class="s1">a},goog.isDocumentLoading_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.global.document;</span><span class="s3">return </span><span class="s1">a.attachEvent?</span><span class="s2">&quot;complete&quot;</span><span class="s1">!=a.readyState:</span><span class="s2">&quot;loading&quot;</span><span class="s1">==a.readyState},goog.findBasePath_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(goog.isDef(goog.global.CLOSURE_BASE_PATH)&amp;&amp;goog.isString(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;</span><span class="s3">else if</span><span class="s1">(goog.inHtmlDocument_()){</span><span class="s3">var </span><span class="s1">a=goog.global.document,b=a.currentScript;</span>
<a name="l44"><span class="ln">44   </span></a><span class="s1">a=b?[b]:a.getElementsByTagName(</span><span class="s2">&quot;SCRIPT&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(b=a.length-1;</span><span class="s4">0</span><span class="s1">&lt;=b;--b){</span><span class="s3">var </span><span class="s1">c=a[b].src,d=c.lastIndexOf(</span><span class="s2">&quot;?&quot;</span><span class="s1">);d=-</span><span class="s4">1</span><span class="s1">==d?c.length:d;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;base.js&quot;</span><span class="s1">==c.substr(d-7,</span><span class="s4">7</span><span class="s1">)){goog.basePath=c.substr(</span><span class="s4">0</span><span class="s1">,d-7);</span><span class="s3">break</span><span class="s1">}}}},goog.findBasePath_(),goog.Transpiler=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.requiresTranspilation_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.transpilationTarget_=goog.TRANSPILE_TO_LANGUAGE},goog.Transpiler.prototype.createRequiresTranspilation_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">function </span><span class="s1">a(a,b){e?d[a]=!</span><span class="s4">0</span><span class="s1">:b()?(c=a,d[a]=!</span><span class="s4">1</span><span class="s1">):e=d[a]=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">function </span><span class="s1">b(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">return</span><span class="s1">!!eval(a)}</span><span class="s3">catch</span><span class="s1">(h){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}}</span>
<a name="l45"><span class="ln">45   </span></a><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;es3&quot;</span><span class="s1">,d={es3:!</span><span class="s4">1</span><span class="s1">},e=!</span><span class="s4">1</span><span class="s1">,f=goog.global.navigator&amp;&amp;goog.global.navigator.userAgent?goog.global.navigator.userAgent:</span><span class="s2">&quot;&quot;</span><span class="s1">;a(</span><span class="s2">&quot;es5&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">b(</span><span class="s2">&quot;[1,].length==1&quot;</span><span class="s1">)});a(</span><span class="s2">&quot;es6&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">f.match(/Edge\/(\d+)(\.\d)*/i)?!</span><span class="s4">1</span><span class="s1">:b(</span><span class="s2">'(()=&gt;{&quot;use strict&quot;;class X{constructor(){if(new.target!=String)throw 1;this.x=42}}let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof String))throw 1;for(const a of[2,3]){if(a==2)continue;function f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()==3}})()'</span><span class="s1">)});</span>
<a name="l46"><span class="ln">46   </span></a><span class="s1">a(</span><span class="s2">&quot;es7&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">b(</span><span class="s2">&quot;2 ** 2 == 4&quot;</span><span class="s1">)});a(</span><span class="s2">&quot;es8&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">b(</span><span class="s2">&quot;async () =&gt; 1, true&quot;</span><span class="s1">)});a(</span><span class="s2">&quot;es9&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">b(</span><span class="s2">&quot;({...rest} = {}), true&quot;</span><span class="s1">)});a(</span><span class="s2">&quot;es_next&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">});</span><span class="s3">return</span><span class="s1">{target:c,map:d}},goog.Transpiler.prototype.needsTranspile=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;always&quot;</span><span class="s1">==goog.TRANSPILE)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;never&quot;</span><span class="s1">==goog.TRANSPILE)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.requiresTranspilation_){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.createRequiresTranspilation_();</span><span class="s3">this</span><span class="s1">.requiresTranspilation_=c.map;</span><span class="s3">this</span><span class="s1">.transpilationTarget_=</span><span class="s3">this</span><span class="s1">.transpilationTarget_||</span>
<a name="l47"><span class="ln">47   </span></a><span class="s1">c.target}</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in this</span><span class="s1">.requiresTranspilation_)</span><span class="s3">return this</span><span class="s1">.requiresTranspilation_[a]?!</span><span class="s4">0</span><span class="s1">:!goog.inHtmlDocument_()||</span><span class="s2">&quot;es6&quot;</span><span class="s1">!=b||</span><span class="s2">&quot;noModule&quot;</span><span class="s3">in </span><span class="s1">goog.global.document.createElement(</span><span class="s2">&quot;script&quot;</span><span class="s1">)?!</span><span class="s4">1</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unknown language mode: &quot;</span><span class="s1">+a);},goog.Transpiler.prototype.transpile=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.transpile_(a,b,</span><span class="s3">this</span><span class="s1">.transpilationTarget_)},goog.transpiler_=</span><span class="s3">new </span><span class="s1">goog.Transpiler,goog.protectScriptTag_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/&lt;\/(SCRIPT)/ig,</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">x3c/$1&quot;</span><span class="s1">)},goog.DebugLoader_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.dependencies_={};</span>
<a name="l48"><span class="ln">48   </span></a><span class="s3">this</span><span class="s1">.idToPath_={};</span><span class="s3">this</span><span class="s1">.written_={};</span><span class="s3">this</span><span class="s1">.loadingDeps_=[];</span><span class="s3">this</span><span class="s1">.depsToLoad_=[];</span><span class="s3">this</span><span class="s1">.paused_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.factory_=</span><span class="s3">new </span><span class="s1">goog.DependencyFactory(goog.transpiler_);</span><span class="s3">this</span><span class="s1">.deferredCallbacks_={};</span><span class="s3">this</span><span class="s1">.deferredQueue_=[]},goog.DebugLoader_.prototype.bootstrap=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">function </span><span class="s1">c(){d&amp;&amp;(goog.global.setTimeout(d,</span><span class="s4">0</span><span class="s1">),d=</span><span class="s3">null</span><span class="s1">)}</span><span class="s3">var </span><span class="s1">d=b;</span><span class="s3">if</span><span class="s1">(a.length){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=[],f=</span><span class="s4">0</span><span class="s1">;f&lt;a.length;f++){</span><span class="s3">var </span><span class="s1">g=</span><span class="s3">this</span><span class="s1">.getPathFromDeps_(a[f]);</span><span class="s3">if</span><span class="s1">(!g)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unregonized namespace: &quot;</span><span class="s1">+a[f]);e.push(</span><span class="s3">this</span><span class="s1">.dependencies_[g])}g=goog.require;</span><span class="s3">var </span><span class="s1">h=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(f=</span>
<a name="l49"><span class="ln">49   </span></a><span class="s4">0</span><span class="s1">;f&lt;a.length;f++)g(a[f]),e[f].onLoad(</span><span class="s3">function</span><span class="s1">(){++h==a.length&amp;&amp;c()})}</span><span class="s3">else </span><span class="s1">c()},goog.DebugLoader_.prototype.loadClosureDeps=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.depsToLoad_.push(</span><span class="s3">this</span><span class="s1">.factory_.createDependency(goog.normalizePath_(goog.basePath+</span><span class="s2">&quot;deps.js&quot;</span><span class="s1">),</span><span class="s2">&quot;deps.js&quot;</span><span class="s1">,[],[],{},!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.loadDeps_()},goog.DebugLoader_.prototype.requested=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getPathFromDeps_(a);</span><span class="s3">if</span><span class="s1">(c&amp;&amp;(b||</span><span class="s3">this</span><span class="s1">.areDepsLoaded_(</span><span class="s3">this</span><span class="s1">.dependencies_[c].requires))){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.deferredCallbacks_[c];d&amp;&amp;(</span><span class="s3">delete this</span><span class="s1">.deferredCallbacks_[c],d())}},goog.DebugLoader_.prototype.setDependencyFactory=</span>
<a name="l50"><span class="ln">50   </span></a><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.factory_=a},goog.DebugLoader_.prototype.load_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.getPathFromDeps_(a)){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">,c=[],d=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">e=b.getPathFromDeps_(a);</span><span class="s3">if</span><span class="s1">(!e)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Bad dependency path or symbol: &quot;</span><span class="s1">+a);</span><span class="s3">if</span><span class="s1">(!b.written_[e]){b.written_[e]=!</span><span class="s4">0</span><span class="s1">;a=b.dependencies_[e];</span><span class="s3">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;e&lt;a.requires.length;e++)goog.isProvided_(a.requires[e])||d(a.requires[e]);c.push(a)}};d(a);a=!!</span><span class="s3">this</span><span class="s1">.depsToLoad_.length;</span><span class="s3">this</span><span class="s1">.depsToLoad_=</span><span class="s3">this</span><span class="s1">.depsToLoad_.concat(c);</span><span class="s3">this</span><span class="s1">.paused_||a||</span><span class="s3">this</span><span class="s1">.loadDeps_()}</span><span class="s3">else throw </span><span class="s1">a=</span><span class="s2">&quot;goog.require could not find: &quot;</span><span class="s1">+</span>
<a name="l51"><span class="ln">51   </span></a><span class="s1">a,goog.logToConsole_(a),Error(a);},goog.DebugLoader_.prototype.loadDeps_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">,b=</span><span class="s3">this</span><span class="s1">.paused_;</span><span class="s3">this</span><span class="s1">.depsToLoad_.length&amp;&amp;!b;)(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">,d=a.depsToLoad_.shift(),e=!</span><span class="s4">1</span><span class="s1">;a.loading_(d);</span><span class="s3">var </span><span class="s1">f={pause:</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Cannot call pause after the call to load.&quot;</span><span class="s1">);b=!</span><span class="s4">0</span><span class="s1">},resume:</span><span class="s3">function</span><span class="s1">(){c?a.resume_():b=!</span><span class="s4">1</span><span class="s1">},loaded:</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(e)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Double call to loaded.&quot;</span><span class="s1">);e=!</span><span class="s4">0</span><span class="s1">;a.loaded_(d)},pending:</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">;c&lt;a.loadingDeps_.length;c++)b.push(a.loadingDeps_[c]);</span>
<a name="l52"><span class="ln">52   </span></a><span class="s3">return </span><span class="s1">b},setModuleState:</span><span class="s3">function</span><span class="s1">(a){goog.moduleLoaderState_={type:a,moduleName:</span><span class="s2">&quot;&quot;</span><span class="s1">,declareLegacyNamespace:!</span><span class="s4">1</span><span class="s1">}},registerEs6ModuleExports:</span><span class="s3">function</span><span class="s1">(a,b,c){c&amp;&amp;(goog.loadedModules_[c]={exports:b,type:goog.ModuleType.ES6,moduleId:c||</span><span class="s2">&quot;&quot;</span><span class="s1">})},registerGoogModuleExports:</span><span class="s3">function</span><span class="s1">(a,b){goog.loadedModules_[a]={exports:b,type:goog.ModuleType.GOOG,moduleId:a}},clearModuleState:</span><span class="s3">function</span><span class="s1">(){goog.moduleLoaderState_=</span><span class="s3">null</span><span class="s1">},defer:</span><span class="s3">function</span><span class="s1">(b){</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Cannot register with defer after the call to load.&quot;</span><span class="s1">);a.defer_(d,</span>
<a name="l53"><span class="ln">53   </span></a><span class="s1">b)},areDepsLoaded:</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">a.areDepsLoaded_(d.requires)}};</span><span class="s3">try</span><span class="s1">{d.load(f)}</span><span class="s3">finally</span><span class="s1">{c=!</span><span class="s4">0</span><span class="s1">}})();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.pause_()},goog.DebugLoader_.prototype.pause_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.paused_=!</span><span class="s4">0</span><span class="s1">},goog.DebugLoader_.prototype.resume_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.paused_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.paused_=!</span><span class="s4">1</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.loadDeps_())},goog.DebugLoader_.prototype.loading_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.loadingDeps_.push(a)},goog.DebugLoader_.prototype.loaded_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.loadingDeps_.length;b++)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.loadingDeps_[b]==a){</span><span class="s3">this</span><span class="s1">.loadingDeps_.splice(b,</span><span class="s4">1</span><span class="s1">);</span>
<a name="l54"><span class="ln">54   </span></a><span class="s3">break</span><span class="s1">}</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.deferredQueue_.length;b++)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.deferredQueue_[b]==a.path){</span><span class="s3">this</span><span class="s1">.deferredQueue_.splice(b,</span><span class="s4">1</span><span class="s1">);</span><span class="s3">break</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.loadingDeps_.length==</span><span class="s3">this</span><span class="s1">.deferredQueue_.length&amp;&amp;!</span><span class="s3">this</span><span class="s1">.depsToLoad_.length)</span><span class="s3">for</span><span class="s1">(;</span><span class="s3">this</span><span class="s1">.deferredQueue_.length;)</span><span class="s3">this</span><span class="s1">.requested(</span><span class="s3">this</span><span class="s1">.deferredQueue_.shift(),!</span><span class="s4">0</span><span class="s1">);a.loaded()},goog.DebugLoader_.prototype.areDepsLoaded_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getPathFromDeps_(a[b]);</span><span class="s3">if</span><span class="s1">(!c||!(c </span><span class="s3">in this</span><span class="s1">.deferredCallbacks_||goog.isProvided_(a[b])))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">},goog.DebugLoader_.prototype.getPathFromDeps_=</span>
<a name="l55"><span class="ln">55   </span></a><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">in this</span><span class="s1">.idToPath_?</span><span class="s3">this</span><span class="s1">.idToPath_[a]:a </span><span class="s3">in this</span><span class="s1">.dependencies_?a:</span><span class="s3">null</span><span class="s1">},goog.DebugLoader_.prototype.defer_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.deferredCallbacks_[a.path]=b;</span><span class="s3">this</span><span class="s1">.deferredQueue_.push(a.path)},goog.LoadController=</span><span class="s3">function</span><span class="s1">(){},goog.LoadController.prototype.pause=</span><span class="s3">function</span><span class="s1">(){},goog.LoadController.prototype.resume=</span><span class="s3">function</span><span class="s1">(){},goog.LoadController.prototype.loaded=</span><span class="s3">function</span><span class="s1">(){},goog.LoadController.prototype.pending=</span><span class="s3">function</span><span class="s1">(){},goog.LoadController.prototype.registerEs6ModuleExports=</span><span class="s3">function</span><span class="s1">(a,</span>
<a name="l56"><span class="ln">56   </span></a><span class="s1">b,c){},goog.LoadController.prototype.setModuleState=</span><span class="s3">function</span><span class="s1">(a){},goog.LoadController.prototype.clearModuleState=</span><span class="s3">function</span><span class="s1">(){},goog.LoadController.prototype.defer=</span><span class="s3">function</span><span class="s1">(a){},goog.LoadController.prototype.areDepsLoaded=</span><span class="s3">function</span><span class="s1">(){},goog.Dependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">this</span><span class="s1">.path=a;</span><span class="s3">this</span><span class="s1">.relativePath=b;</span><span class="s3">this</span><span class="s1">.provides=c;</span><span class="s3">this</span><span class="s1">.requires=d;</span><span class="s3">this</span><span class="s1">.loadFlags=e;</span><span class="s3">this</span><span class="s1">.loaded_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.loadCallbacks_=[]},goog.Dependency.prototype.getPathName=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.path,b=a.indexOf(</span><span class="s2">&quot;://&quot;</span><span class="s1">);</span><span class="s4">0</span><span class="s1">&lt;=b&amp;&amp;(a=a.substring(b+</span><span class="s4">3</span><span class="s1">),b=</span>
<a name="l57"><span class="ln">57   </span></a><span class="s1">a.indexOf(</span><span class="s2">&quot;/&quot;</span><span class="s1">),</span><span class="s4">0</span><span class="s1">&lt;=b&amp;&amp;(a=a.substring(b+</span><span class="s4">1</span><span class="s1">)));</span><span class="s3">return </span><span class="s1">a},goog.Dependency.prototype.onLoad=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.loaded_?a():</span><span class="s3">this</span><span class="s1">.loadCallbacks_.push(a)},goog.Dependency.prototype.loaded=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.loaded_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.loadCallbacks_;</span><span class="s3">this</span><span class="s1">.loadCallbacks_=[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++)a[b]()},goog.Dependency.defer_=!</span><span class="s4">1</span><span class="s1">,goog.Dependency.callbackMap_={},goog.Dependency.registerCallback_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Math.random().toString(</span><span class="s4">32</span><span class="s1">);goog.Dependency.callbackMap_[b]=a;</span><span class="s3">return </span><span class="s1">b},goog.Dependency.unregisterCallback_=</span>
<a name="l58"><span class="ln">58   </span></a><span class="s3">function</span><span class="s1">(a){</span><span class="s3">delete </span><span class="s1">goog.Dependency.callbackMap_[a]},goog.Dependency.callback_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in </span><span class="s1">goog.Dependency.callbackMap_){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=goog.Dependency.callbackMap_[a],d=[],e=</span><span class="s4">1</span><span class="s1">;e&lt;arguments.length;e++)d.push(arguments[e]);c.apply(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,d)}</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;Callback key &quot;</span><span class="s1">+a+</span><span class="s2">&quot; does not exist (was base.js loaded more than once?).&quot;</span><span class="s1">);},goog.Dependency.prototype.load=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(</span><span class="s3">this</span><span class="s1">.path)?a.loaded():a.pause();</span><span class="s3">else if</span><span class="s1">(goog.inHtmlDocument_()){</span><span class="s3">var </span><span class="s1">b=</span>
<a name="l59"><span class="ln">59   </span></a><span class="s1">goog.global.document;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;complete&quot;</span><span class="s1">==b.readyState&amp;&amp;!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){</span><span class="s3">if</span><span class="s1">(/\bdeps.js$/.test(</span><span class="s3">this</span><span class="s1">.path)){a.loaded();</span><span class="s3">return</span><span class="s1">}</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Cannot write &quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.path+</span><span class="s2">'&quot; after document load'</span><span class="s1">);}</span><span class="s3">if</span><span class="s1">(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&amp;&amp;goog.isDocumentLoading_()){</span><span class="s3">var </span><span class="s1">c=goog.Dependency.registerCallback_(</span><span class="s3">function</span><span class="s1">(b){goog.DebugLoader_.IS_OLD_IE_&amp;&amp;</span><span class="s2">&quot;complete&quot;</span><span class="s1">!=b.readyState||(goog.Dependency.unregisterCallback_(c),a.loaded())}),d=!goog.DebugLoader_.IS_OLD_IE_&amp;&amp;goog.getScriptNonce()?</span>
<a name="l60"><span class="ln">60   </span></a><span class="s2">' nonce=&quot;'</span><span class="s1">+goog.getScriptNonce()+</span><span class="s2">'&quot;'</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">;d=</span><span class="s2">'&lt;script src=&quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.path+</span><span class="s2">'&quot; '</span><span class="s1">+(goog.DebugLoader_.IS_OLD_IE_?</span><span class="s2">&quot;onreadystatechange&quot;</span><span class="s1">:</span><span class="s2">&quot;onload&quot;</span><span class="s1">)+</span><span class="s2">&quot;=</span><span class="s5">\&quot;</span><span class="s2">goog.Dependency.callback_('&quot;</span><span class="s1">+c+</span><span class="s2">'</span><span class="s5">\'</span><span class="s2">, this)&quot; type=&quot;text/javascript&quot; '</span><span class="s1">+(goog.Dependency.defer_?</span><span class="s2">&quot;defer&quot;</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">)+d+</span><span class="s2">&quot;&gt;</span><span class="s5">\x</span><span class="s2">3c/script&gt;&quot;</span><span class="s1">;b.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(d):d)}</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=b.createElement(</span><span class="s2">&quot;script&quot;</span><span class="s1">);e.defer=goog.Dependency.defer_;e.async=!</span><span class="s4">1</span><span class="s1">;e.type=</span><span class="s2">&quot;text/javascript&quot;</span><span class="s1">;(d=goog.getScriptNonce())&amp;&amp;e.setAttribute(</span><span class="s2">&quot;nonce&quot;</span><span class="s1">,d);goog.DebugLoader_.IS_OLD_IE_?</span>
<a name="l61"><span class="ln">61   </span></a><span class="s1">(a.pause(),e.onreadystatechange=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;loaded&quot;</span><span class="s1">==e.readyState||</span><span class="s2">&quot;complete&quot;</span><span class="s1">==e.readyState)a.loaded(),a.resume()}):e.onload=</span><span class="s3">function</span><span class="s1">(){e.onload=</span><span class="s3">null</span><span class="s1">;a.loaded()};e.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(</span><span class="s3">this</span><span class="s1">.path):</span><span class="s3">this</span><span class="s1">.path;b.head.appendChild(e)}}</span><span class="s3">else </span><span class="s1">goog.logToConsole_(</span><span class="s2">&quot;Cannot use default debug loader outside of HTML documents.&quot;</span><span class="s1">),</span><span class="s2">&quot;deps.js&quot;</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.relativePath?(goog.logToConsole_(</span><span class="s2">&quot;Consider setting CLOSURE_IMPORT_SCRIPT before loading base.js, or setting CLOSURE_NO_DEPS to true.&quot;</span><span class="s1">),</span>
<a name="l62"><span class="ln">62   </span></a><span class="s1">a.loaded()):a.pause()},goog.Es6ModuleDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){goog.Dependency.call(</span><span class="s3">this</span><span class="s1">,a,b,c,d,e)},goog.inherits(goog.Es6ModuleDependency,goog.Dependency),goog.Es6ModuleDependency.prototype.load=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">function </span><span class="s1">b(a,b){</span><span class="s3">var </span><span class="s1">c=b?</span><span class="s2">'&lt;script type=&quot;module&quot; crossorigin&gt;'</span><span class="s1">+b+</span><span class="s2">&quot;</span><span class="s5">\x</span><span class="s2">3c/script&gt;&quot;</span><span class="s1">:</span><span class="s2">'&lt;script type=&quot;module&quot; crossorigin src=&quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;&gt;</span><span class="s5">\x</span><span class="s2">3c/script&gt;'</span><span class="s1">;d.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(c):c)}</span><span class="s3">function </span><span class="s1">c(a,b){</span><span class="s3">var </span><span class="s1">c=d.createElement(</span><span class="s2">&quot;script&quot;</span><span class="s1">);c.defer=!</span><span class="s4">0</span><span class="s1">;c.async=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l63"><span class="ln">63   </span></a><span class="s1">c.type=</span><span class="s2">&quot;module&quot;</span><span class="s1">;c.setAttribute(</span><span class="s2">&quot;crossorigin&quot;</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=goog.getScriptNonce();e&amp;&amp;c.setAttribute(</span><span class="s2">&quot;nonce&quot;</span><span class="s1">,e);b?c.textContent=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScript(b):b:c.src=goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createScriptURL(a):a;d.head.appendChild(c)}</span><span class="s3">if</span><span class="s1">(goog.global.CLOSURE_IMPORT_SCRIPT)goog.global.CLOSURE_IMPORT_SCRIPT(</span><span class="s3">this</span><span class="s1">.path)?a.loaded():a.pause();</span><span class="s3">else if</span><span class="s1">(goog.inHtmlDocument_()){</span><span class="s3">var </span><span class="s1">d=goog.global.document,e=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.isDocumentLoading_()){</span><span class="s3">var </span><span class="s1">f=</span>
<a name="l64"><span class="ln">64   </span></a><span class="s1">b;goog.Dependency.defer_=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">else </span><span class="s1">f=c;</span><span class="s3">var </span><span class="s1">g=goog.Dependency.registerCallback_(</span><span class="s3">function</span><span class="s1">(){goog.Dependency.unregisterCallback_(g);a.setModuleState(goog.ModuleType.ES6)});f(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">'goog.Dependency.callback_(&quot;'</span><span class="s1">+g+</span><span class="s2">'&quot;)'</span><span class="s1">);f(</span><span class="s3">this</span><span class="s1">.path,</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">h=goog.Dependency.registerCallback_(</span><span class="s3">function</span><span class="s1">(b){goog.Dependency.unregisterCallback_(h);a.registerEs6ModuleExports(e.path,b,goog.moduleLoaderState_.moduleName)});f(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">'import * as m from &quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.path+</span><span class="s2">'&quot;; goog.Dependency.callback_(&quot;'</span><span class="s1">+h+</span><span class="s2">'&quot;, m)'</span><span class="s1">);</span><span class="s3">var </span><span class="s1">k=goog.Dependency.registerCallback_(</span><span class="s3">function</span><span class="s1">(){goog.Dependency.unregisterCallback_(k);</span>
<a name="l65"><span class="ln">65   </span></a><span class="s1">a.clearModuleState();a.loaded()});f(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,</span><span class="s2">'goog.Dependency.callback_(&quot;'</span><span class="s1">+k+</span><span class="s2">'&quot;)'</span><span class="s1">)}</span><span class="s3">else </span><span class="s1">goog.logToConsole_(</span><span class="s2">&quot;Cannot use default debug loader outside of HTML documents.&quot;</span><span class="s1">),a.pause()},goog.TransformedDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){goog.Dependency.call(</span><span class="s3">this</span><span class="s1">,a,b,c,d,e);</span><span class="s3">this</span><span class="s1">.contents_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.lazyFetch_=!goog.inHtmlDocument_()||!(</span><span class="s2">&quot;noModule&quot;</span><span class="s3">in </span><span class="s1">goog.global.document.createElement(</span><span class="s2">&quot;script&quot;</span><span class="s1">))},goog.inherits(goog.TransformedDependency,goog.Dependency),goog.TransformedDependency.prototype.load=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">function </span><span class="s1">b(){e.contents_=</span>
<a name="l66"><span class="ln">66   </span></a><span class="s1">goog.loadFileSync_(e.path);e.contents_&amp;&amp;(e.contents_=e.transform(e.contents_),e.contents_&amp;&amp;(e.contents_+=</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">//# sourceURL=&quot;</span><span class="s1">+e.path))}</span><span class="s3">function </span><span class="s1">c(){e.lazyFetch_&amp;&amp;b();</span><span class="s3">if</span><span class="s1">(e.contents_){f&amp;&amp;a.setModuleState(goog.ModuleType.ES6);</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=e.contents_;e.contents_=</span><span class="s3">null</span><span class="s1">;goog.globalEval(c);</span><span class="s3">if</span><span class="s1">(f)</span><span class="s3">var </span><span class="s1">d=goog.moduleLoaderState_.moduleName}</span><span class="s3">finally</span><span class="s1">{f&amp;&amp;a.clearModuleState()}f&amp;&amp;goog.global.$jscomp.require.ensure([e.getPathName()],</span><span class="s3">function</span><span class="s1">(){a.registerEs6ModuleExports(e.path,goog.global.$jscomp.require(e.getPathName()),</span>
<a name="l67"><span class="ln">67   </span></a><span class="s1">d)});a.loaded()}}</span><span class="s3">function </span><span class="s1">d(){</span><span class="s3">var </span><span class="s1">a=goog.global.document,b=goog.Dependency.registerCallback_(</span><span class="s3">function</span><span class="s1">(){goog.Dependency.unregisterCallback_(b);c()}),d=</span><span class="s2">'&lt;script type=&quot;text/javascript&quot;&gt;'</span><span class="s1">+goog.protectScriptTag_(</span><span class="s2">'goog.Dependency.callback_(&quot;'</span><span class="s1">+b+</span><span class="s2">'&quot;);'</span><span class="s1">)+</span><span class="s2">&quot;</span><span class="s5">\x</span><span class="s2">3c/script&gt;&quot;</span><span class="s1">;a.write(goog.TRUSTED_TYPES_POLICY_?goog.TRUSTED_TYPES_POLICY_.createHTML(d):d)}</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.global.CLOSURE_IMPORT_SCRIPT)b(),</span><span class="s3">this</span><span class="s1">.contents_&amp;&amp;goog.global.CLOSURE_IMPORT_SCRIPT(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.contents_)?(</span><span class="s3">this</span><span class="s1">.contents_=</span><span class="s3">null</span><span class="s1">,a.loaded()):a.pause();</span>
<a name="l68"><span class="ln">68   </span></a><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.loadFlags.module==goog.ModuleType.ES6;</span><span class="s3">this</span><span class="s1">.lazyFetch_||b();</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">1</span><span class="s1">&lt;a.pending().length,h=g&amp;&amp;goog.DebugLoader_.IS_OLD_IE_;g=goog.Dependency.defer_&amp;&amp;(g||goog.isDocumentLoading_());</span><span class="s3">if</span><span class="s1">(h||g)a.defer(</span><span class="s3">function</span><span class="s1">(){c()});</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">k=goog.global.document;h=goog.inHtmlDocument_()&amp;&amp;</span><span class="s2">&quot;ActiveXObject&quot;</span><span class="s3">in </span><span class="s1">goog.global;</span><span class="s3">if</span><span class="s1">(f&amp;&amp;goog.inHtmlDocument_()&amp;&amp;goog.isDocumentLoading_()&amp;&amp;!h){goog.Dependency.defer_=!</span><span class="s4">0</span><span class="s1">;a.pause();</span><span class="s3">var </span><span class="s1">l=k.onreadystatechange;k.onreadystatechange=</span><span class="s3">function</span><span class="s1">(){</span><span class="s2">&quot;interactive&quot;</span><span class="s1">==k.readyState&amp;&amp;(k.onreadystatechange=</span>
<a name="l69"><span class="ln">69   </span></a><span class="s1">l,c(),a.resume());goog.isFunction(l)&amp;&amp;l.apply(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,arguments)}}</span><span class="s3">else</span><span class="s1">!goog.DebugLoader_.IS_OLD_IE_&amp;&amp;goog.inHtmlDocument_()&amp;&amp;goog.isDocumentLoading_()?d():c()}}},goog.TransformedDependency.prototype.transform=</span><span class="s3">function</span><span class="s1">(a){},goog.TranspiledDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){goog.TransformedDependency.call(</span><span class="s3">this</span><span class="s1">,a,b,c,d,e);</span><span class="s3">this</span><span class="s1">.transpiler=f},goog.inherits(goog.TranspiledDependency,goog.TransformedDependency),goog.TranspiledDependency.prototype.transform=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.transpiler.transpile(a,</span><span class="s3">this</span><span class="s1">.getPathName())},</span>
<a name="l70"><span class="ln">70   </span></a><span class="s1">goog.PreTranspiledEs6ModuleDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){goog.TransformedDependency.call(</span><span class="s3">this</span><span class="s1">,a,b,c,d,e)},goog.inherits(goog.PreTranspiledEs6ModuleDependency,goog.TransformedDependency),goog.PreTranspiledEs6ModuleDependency.prototype.transform=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a},goog.GoogModuleDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f,g){goog.TransformedDependency.call(</span><span class="s3">this</span><span class="s1">,a,b,c,d,e);</span><span class="s3">this</span><span class="s1">.needsTranspile_=f;</span><span class="s3">this</span><span class="s1">.transpiler_=g},goog.inherits(goog.GoogModuleDependency,goog.TransformedDependency),goog.GoogModuleDependency.prototype.transform=</span>
<a name="l71"><span class="ln">71   </span></a><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.needsTranspile_&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.transpiler_.transpile(a,</span><span class="s3">this</span><span class="s1">.getPathName()));</span><span class="s3">return </span><span class="s1">goog.LOAD_MODULE_USING_EVAL&amp;&amp;goog.isDef(goog.global.JSON)?</span><span class="s2">&quot;goog.loadModule(&quot;</span><span class="s1">+goog.global.JSON.stringify(a+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">//# sourceURL=&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.path+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)+</span><span class="s2">&quot;);&quot;</span><span class="s1">:</span><span class="s2">'goog.loadModule(function(exports) {&quot;use strict&quot;;'</span><span class="s1">+a+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">;return exports});</span><span class="s5">\n</span><span class="s2">//# sourceURL=&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.path+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">},goog.DebugLoader_.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.DebugLoader_.prototype.addDependency=</span><span class="s3">function</span><span class="s1">(a,b,</span>
<a name="l72"><span class="ln">72   </span></a><span class="s1">c,d){b=b||[];a=a.replace(/\\/g,</span><span class="s2">&quot;/&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=goog.normalizePath_(goog.basePath+a);d&amp;&amp;</span><span class="s2">&quot;boolean&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">d||(d=d?{module:goog.ModuleType.GOOG}:{});c=</span><span class="s3">this</span><span class="s1">.factory_.createDependency(e,a,b,c,d,goog.transpiler_.needsTranspile(d.lang||</span><span class="s2">&quot;es3&quot;</span><span class="s1">,d.module));</span><span class="s3">this</span><span class="s1">.dependencies_[e]=c;</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++)</span><span class="s3">this</span><span class="s1">.idToPath_[b[c]]=e;</span><span class="s3">this</span><span class="s1">.idToPath_[a]=e},goog.DependencyFactory=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.transpiler=a},goog.DependencyFactory.prototype.createDependency=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">return </span><span class="s1">e.module==goog.ModuleType.GOOG?</span><span class="s3">new </span><span class="s1">goog.GoogModuleDependency(a,</span>
<a name="l73"><span class="ln">73   </span></a><span class="s1">b,c,d,e,f,</span><span class="s3">this</span><span class="s1">.transpiler):f?</span><span class="s3">new </span><span class="s1">goog.TranspiledDependency(a,b,c,d,e,</span><span class="s3">this</span><span class="s1">.transpiler):e.module==goog.ModuleType.ES6?</span><span class="s2">&quot;never&quot;</span><span class="s1">==goog.TRANSPILE&amp;&amp;goog.ASSUME_ES_MODULES_TRANSPILED?</span><span class="s3">new </span><span class="s1">goog.PreTranspiledEs6ModuleDependency(a,b,c,d,e):</span><span class="s3">new </span><span class="s1">goog.Es6ModuleDependency(a,b,c,d,e):</span><span class="s3">new </span><span class="s1">goog.Dependency(a,b,c,d,e)},goog.debugLoader_=</span><span class="s3">new </span><span class="s1">goog.DebugLoader_,goog.loadClosureDeps=</span><span class="s3">function</span><span class="s1">(){goog.debugLoader_.loadClosureDeps()},goog.setDependencyFactory=</span><span class="s3">function</span><span class="s1">(a){goog.debugLoader_.setDependencyFactory(a)},goog.global.CLOSURE_NO_DEPS||</span>
<a name="l74"><span class="ln">74   </span></a><span class="s1">goog.debugLoader_.loadClosureDeps(),goog.bootstrap=</span><span class="s3">function</span><span class="s1">(a,b){goog.debugLoader_.bootstrap(a,b)});goog.TRUSTED_TYPES_POLICY_NAME=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.identity_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};goog.createTrustedTypesPolicy=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">===</span><span class="s3">typeof </span><span class="s1">TrustedTypes||!TrustedTypes.createPolicy)</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">try</span><span class="s1">{b=TrustedTypes.createPolicy(a,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}</span><span class="s3">catch</span><span class="s1">(c){goog.logToConsole_(c.message)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l75"><span class="ln">75   </span></a><span class="s1">goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+</span><span class="s2">&quot;#base&quot;</span><span class="s1">):</span><span class="s3">null</span><span class="s1">;goog.debug={};goog.debug.Error=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(Error.captureStackTrace)Error.captureStackTrace(</span><span class="s3">this</span><span class="s1">,goog.debug.Error);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=Error().stack;b&amp;&amp;(</span><span class="s3">this</span><span class="s1">.stack=b)}a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.message=String(a));</span><span class="s3">this</span><span class="s1">.reportErrorToServer=!</span><span class="s4">0</span><span class="s1">};goog.inherits(goog.debug.Error,Error);goog.debug.Error.prototype.name=</span><span class="s2">&quot;CustomError&quot;</span><span class="s1">;goog.dom={};goog.dom.NodeType={ELEMENT:</span><span class="s4">1</span><span class="s1">,ATTRIBUTE:</span><span class="s4">2</span><span class="s1">,TEXT:</span><span class="s4">3</span><span class="s1">,CDATA_SECTION:</span><span class="s4">4</span><span class="s1">,ENTITY_REFERENCE:</span><span class="s4">5</span><span class="s1">,ENTITY:</span><span class="s4">6</span><span class="s1">,PROCESSING_INSTRUCTION:</span><span class="s4">7</span><span class="s1">,COMMENT:</span><span class="s4">8</span><span class="s1">,DOCUMENT:</span><span class="s4">9</span><span class="s1">,DOCUMENT_TYPE:</span><span class="s4">10</span><span class="s1">,DOCUMENT_FRAGMENT:</span><span class="s4">11</span><span class="s1">,NOTATION:</span><span class="s4">12</span><span class="s1">};goog.asserts={};goog.asserts.ENABLE_ASSERTS=goog.DEBUG;goog.asserts.AssertionError=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.Error.call(</span><span class="s3">this</span><span class="s1">,goog.asserts.subs_(a,b));</span><span class="s3">this</span><span class="s1">.messagePattern=a};goog.inherits(goog.asserts.AssertionError,goog.debug.Error);goog.asserts.AssertionError.prototype.name=</span><span class="s2">&quot;AssertionError&quot;</span><span class="s1">;goog.asserts.DEFAULT_ERROR_HANDLER=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">throw </span><span class="s1">a;};goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER;</span>
<a name="l76"><span class="ln">76   </span></a><span class="s1">goog.asserts.subs_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.split(</span><span class="s2">&quot;%s&quot;</span><span class="s1">),d=</span><span class="s2">&quot;&quot;</span><span class="s1">,e=c.length-1,f=</span><span class="s4">0</span><span class="s1">;f&lt;e;f++)d+=c[f]+(f&lt;b.length?b[f]:</span><span class="s2">&quot;%s&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">d+c[e]};goog.asserts.doAssertFailure_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=</span><span class="s2">&quot;Assertion failed&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(c){e+=</span><span class="s2">&quot;: &quot;</span><span class="s1">+c;</span><span class="s3">var </span><span class="s1">f=d}</span><span class="s3">else </span><span class="s1">a&amp;&amp;(e+=</span><span class="s2">&quot;: &quot;</span><span class="s1">+a,f=b);a=</span><span class="s3">new </span><span class="s1">goog.asserts.AssertionError(</span><span class="s2">&quot;&quot;</span><span class="s1">+e,f||[]);goog.asserts.errorHandler_(a)};goog.asserts.setErrorHandler=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.ENABLE_ASSERTS&amp;&amp;(goog.asserts.errorHandler_=a)};</span>
<a name="l77"><span class="ln">77   </span></a><span class="s1">goog.asserts.assert=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!a&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.asserts.assertExists=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;</span><span class="s3">null</span><span class="s1">==a&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected to exist: %s.&quot;</span><span class="s1">,[a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l78"><span class="ln">78   </span></a><span class="s1">goog.asserts.fail=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.ENABLE_ASSERTS&amp;&amp;goog.asserts.errorHandler_(</span><span class="s3">new </span><span class="s1">goog.asserts.AssertionError(</span><span class="s2">&quot;Failure&quot;</span><span class="s1">+(a?</span><span class="s2">&quot;: &quot;</span><span class="s1">+a:</span><span class="s2">&quot;&quot;</span><span class="s1">),Array.prototype.slice.call(arguments,</span><span class="s4">1</span><span class="s1">)))};goog.asserts.assertNumber=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!goog.isNumber(a)&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected number but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l79"><span class="ln">79   </span></a><span class="s1">goog.asserts.assertString=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!goog.isString(a)&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected string but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.asserts.assertFunction=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!goog.isFunction(a)&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected function but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l80"><span class="ln">80   </span></a><span class="s1">goog.asserts.assertObject=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!goog.isObject(a)&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected object but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.asserts.assertArray=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!goog.isArray(a)&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected array but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l81"><span class="ln">81   </span></a><span class="s1">goog.asserts.assertBoolean=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.ENABLE_ASSERTS&amp;&amp;!goog.isBoolean(a)&amp;&amp;goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected boolean but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.asserts.assertElement=</span><span class="s3">function</span><span class="s1">(a,b,c){!goog.asserts.ENABLE_ASSERTS||goog.isObject(a)&amp;&amp;a.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected Element but got %s: %s.&quot;</span><span class="s1">,[goog.typeOf(a),a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l82"><span class="ln">82   </span></a><span class="s1">goog.asserts.assertInstanceof=</span><span class="s3">function</span><span class="s1">(a,b,c,d){!goog.asserts.ENABLE_ASSERTS||a </span><span class="s3">instanceof </span><span class="s1">b||goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected instanceof %s but got %s.&quot;</span><span class="s1">,[goog.asserts.getType_(b),goog.asserts.getType_(a)],c,Array.prototype.slice.call(arguments,</span><span class="s4">3</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.asserts.assertFinite=</span><span class="s3">function</span><span class="s1">(a,b,c){!goog.asserts.ENABLE_ASSERTS||</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;isFinite(a)||goog.asserts.doAssertFailure_(</span><span class="s2">&quot;Expected %s to be a finite number but it is not.&quot;</span><span class="s1">,[a],b,Array.prototype.slice.call(arguments,</span><span class="s4">2</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l83"><span class="ln">83   </span></a><span class="s1">goog.asserts.assertObjectPrototypeIsIntact=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a </span><span class="s3">in </span><span class="s1">Object.prototype)goog.asserts.fail(a+</span><span class="s2">&quot; should not be enumerable in Object.prototype.&quot;</span><span class="s1">)};goog.asserts.getType_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">instanceof </span><span class="s1">Function?a.displayName||a.name||</span><span class="s2">&quot;unknown type name&quot;</span><span class="s1">:a </span><span class="s3">instanceof </span><span class="s1">Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):</span><span class="s3">null</span><span class="s1">===a?</span><span class="s2">&quot;null&quot;</span><span class="s1">:</span><span class="s3">typeof </span><span class="s1">a};goog.debug.entryPointRegistry={};goog.debug.EntryPointMonitor=</span><span class="s3">function</span><span class="s1">(){};goog.debug.entryPointRegistry.refList_=[];goog.debug.entryPointRegistry.monitors_=[];goog.debug.entryPointRegistry.monitorsMayExist_=!</span><span class="s4">1</span><span class="s1">;goog.debug.entryPointRegistry.register=</span><span class="s3">function</span><span class="s1">(a){goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=a;</span><span class="s3">if</span><span class="s1">(goog.debug.entryPointRegistry.monitorsMayExist_)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=goog.debug.entryPointRegistry.monitors_,c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++)a(goog.bind(b[c].wrap,b[c]))};</span>
<a name="l84"><span class="ln">84   </span></a><span class="s1">goog.debug.entryPointRegistry.monitorAll=</span><span class="s3">function</span><span class="s1">(a){goog.debug.entryPointRegistry.monitorsMayExist_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=goog.bind(a.wrap,a),c=</span><span class="s4">0</span><span class="s1">;c&lt;goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](b);goog.debug.entryPointRegistry.monitors_.push(a)};</span>
<a name="l85"><span class="ln">85   </span></a><span class="s1">goog.debug.entryPointRegistry.unmonitorAllIfPossible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(a==b[b.length-1],</span><span class="s2">&quot;Only the most recent monitor can be unwrapped.&quot;</span><span class="s1">);a=goog.bind(a.unwrap,a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;goog.debug.entryPointRegistry.refList_.length;c++)goog.debug.entryPointRegistry.refList_[c](a);b.length--};goog.array={};goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE;goog.array.ASSUME_NATIVE_FUNCTIONS=!</span><span class="s4">1</span><span class="s1">;goog.array.peek=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a[a.length-1]};goog.array.last=goog.array.peek;</span>
<a name="l86"><span class="ln">86   </span></a><span class="s1">goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.indexOf.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){c=</span><span class="s3">null</span><span class="s1">==c?</span><span class="s4">0</span><span class="s1">:</span><span class="s4">0</span><span class="s1">&gt;c?Math.max(</span><span class="s4">0</span><span class="s1">,a.length+c):c;</span><span class="s3">if</span><span class="s1">(goog.isString(a))</span><span class="s3">return </span><span class="s1">goog.isString(b)&amp;&amp;</span><span class="s4">1</span><span class="s1">==b.length?a.indexOf(b,c):-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(;c&lt;a.length;c++)</span><span class="s3">if</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a&amp;&amp;a[c]===b)</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};</span>
<a name="l87"><span class="ln">87   </span></a><span class="s1">goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.lastIndexOf.call(a,b,</span><span class="s3">null</span><span class="s1">==c?a.length-1:c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){c=</span><span class="s3">null</span><span class="s1">==c?a.length-1:c;</span><span class="s4">0</span><span class="s1">&gt;c&amp;&amp;(c=Math.max(</span><span class="s4">0</span><span class="s1">,a.length+c));</span><span class="s3">if</span><span class="s1">(goog.isString(a))</span><span class="s3">return </span><span class="s1">goog.isString(b)&amp;&amp;</span><span class="s4">1</span><span class="s1">==b.length?a.lastIndexOf(b,c):-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(;</span><span class="s4">0</span><span class="s1">&lt;=c;c--)</span><span class="s3">if</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a&amp;&amp;a[c]===b)</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};</span>
<a name="l88"><span class="ln">88   </span></a><span class="s1">goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);Array.prototype.forEach.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.length,e=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a,f=</span><span class="s4">0</span><span class="s1">;f&lt;d;f++)f </span><span class="s3">in </span><span class="s1">e&amp;&amp;b.call(c,e[f],f,a)};goog.array.forEachRight=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.length,e=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a;</span><span class="s3">for</span><span class="s1">(--d;</span><span class="s4">0</span><span class="s1">&lt;=d;--d)d </span><span class="s3">in </span><span class="s1">e&amp;&amp;b.call(c,e[d],d,a)};</span>
<a name="l89"><span class="ln">89   </span></a><span class="s1">goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.filter.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.length,e=[],f=</span><span class="s4">0</span><span class="s1">,g=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a,h=</span><span class="s4">0</span><span class="s1">;h&lt;d;h++)</span><span class="s3">if</span><span class="s1">(h </span><span class="s3">in </span><span class="s1">g){</span><span class="s3">var </span><span class="s1">k=g[h];b.call(c,k,h,a)&amp;&amp;(e[f++]=k)}</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l90"><span class="ln">90   </span></a><span class="s1">goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.map.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.length,e=Array(d),f=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a,g=</span><span class="s4">0</span><span class="s1">;g&lt;d;g++)g </span><span class="s3">in </span><span class="s1">f&amp;&amp;(e[g]=b.call(c,f[g],g,a));</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l91"><span class="ln">91   </span></a><span class="s1">goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);d&amp;&amp;(b=goog.bind(b,d));</span><span class="s3">return </span><span class="s1">Array.prototype.reduce.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=c;goog.array.forEach(a,</span><span class="s3">function</span><span class="s1">(c,g){e=b.call(d,e,c,g,a)});</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l92"><span class="ln">92   </span></a><span class="s1">goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=b);d&amp;&amp;(b=goog.bind(b,d));</span><span class="s3">return </span><span class="s1">Array.prototype.reduceRight.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=c;goog.array.forEachRight(a,</span><span class="s3">function</span><span class="s1">(c,g){e=b.call(d,e,c,g,a)});</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l93"><span class="ln">93   </span></a><span class="s1">goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.some.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.length,e=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a,f=</span><span class="s4">0</span><span class="s1">;f&lt;d;f++)</span><span class="s3">if</span><span class="s1">(f </span><span class="s3">in </span><span class="s1">e&amp;&amp;b.call(c,e[f],f,a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l94"><span class="ln">94   </span></a><span class="s1">goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&amp;&amp;(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.every.call(a,b,c)}:</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.length,e=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a,f=</span><span class="s4">0</span><span class="s1">;f&lt;d;f++)</span><span class="s3">if</span><span class="s1">(f </span><span class="s3">in </span><span class="s1">e&amp;&amp;!b.call(c,e[f],f,a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.array.count=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;goog.array.forEach(a,</span><span class="s3">function</span><span class="s1">(a,f,g){b.call(c,a,f,g)&amp;&amp;++d},c);</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l95"><span class="ln">95   </span></a><span class="s1">goog.array.find=</span><span class="s3">function</span><span class="s1">(a,b,c){b=goog.array.findIndex(a,b,c);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;b?</span><span class="s3">null</span><span class="s1">:goog.isString(a)?a.charAt(b):a[b]};goog.array.findIndex=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.length,e=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a,f=</span><span class="s4">0</span><span class="s1">;f&lt;d;f++)</span><span class="s3">if</span><span class="s1">(f </span><span class="s3">in </span><span class="s1">e&amp;&amp;b.call(c,e[f],f,a))</span><span class="s3">return </span><span class="s1">f;</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};goog.array.findRight=</span><span class="s3">function</span><span class="s1">(a,b,c){b=goog.array.findIndexRight(a,b,c);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;b?</span><span class="s3">null</span><span class="s1">:goog.isString(a)?a.charAt(b):a[b]};</span>
<a name="l96"><span class="ln">96   </span></a><span class="s1">goog.array.findIndexRight=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.length,e=goog.isString(a)?a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">):a;</span><span class="s3">for</span><span class="s1">(--d;</span><span class="s4">0</span><span class="s1">&lt;=d;d--)</span><span class="s3">if</span><span class="s1">(d </span><span class="s3">in </span><span class="s1">e&amp;&amp;b.call(c,e[d],d,a))</span><span class="s3">return </span><span class="s1">d;</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};goog.array.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=goog.array.indexOf(a,b)};goog.array.isEmpty=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a.length};goog.array.clear=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!goog.isArray(a))</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=a.length-1;</span><span class="s4">0</span><span class="s1">&lt;=b;b--)</span><span class="s3">delete </span><span class="s1">a[b];a.length=</span><span class="s4">0</span><span class="s1">};goog.array.insert=</span><span class="s3">function</span><span class="s1">(a,b){goog.array.contains(a,b)||a.push(b)};</span>
<a name="l97"><span class="ln">97   </span></a><span class="s1">goog.array.insertAt=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.array.splice(a,c,</span><span class="s4">0</span><span class="s1">,b)};goog.array.insertArrayAt=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.partial(goog.array.splice,a,c,</span><span class="s4">0</span><span class="s1">).apply(</span><span class="s3">null</span><span class="s1">,b)};goog.array.insertBefore=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d;</span><span class="s4">2</span><span class="s1">==arguments.length||</span><span class="s4">0</span><span class="s1">&gt;(d=goog.array.indexOf(a,c))?a.push(b):goog.array.insertAt(a,b,d)};goog.array.remove=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.array.indexOf(a,b),d;(d=</span><span class="s4">0</span><span class="s1">&lt;=c)&amp;&amp;goog.array.removeAt(a,c);</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l98"><span class="ln">98   </span></a><span class="s1">goog.array.removeLast=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.array.lastIndexOf(a,b);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=c?(goog.array.removeAt(a,c),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};goog.array.removeAt=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s4">1</span><span class="s1">==Array.prototype.splice.call(a,b,</span><span class="s4">1</span><span class="s1">).length};goog.array.removeIf=</span><span class="s3">function</span><span class="s1">(a,b,c){b=goog.array.findIndex(a,b,c);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=b?(goog.array.removeAt(a,b),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};goog.array.removeAllIf=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;goog.array.forEachRight(a,</span><span class="s3">function</span><span class="s1">(e,f){b.call(c,e,f,a)&amp;&amp;goog.array.removeAt(a,f)&amp;&amp;d++});</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l99"><span class="ln">99   </span></a><span class="s1">goog.array.concat=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Array.prototype.concat.apply([],arguments)};goog.array.join=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Array.prototype.concat.apply([],arguments)};goog.array.toArray=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.length;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=Array(b),d=</span><span class="s4">0</span><span class="s1">;d&lt;b;d++)c[d]=a[d];</span><span class="s3">return </span><span class="s1">c}</span><span class="s3">return</span><span class="s1">[]};goog.array.clone=goog.array.toArray;goog.array.extend=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">1</span><span class="s1">;c&lt;arguments.length;c++){</span><span class="s3">var </span><span class="s1">d=arguments[c];</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(d)){</span><span class="s3">var </span><span class="s1">e=a.length||</span><span class="s4">0</span><span class="s1">,f=d.length||</span><span class="s4">0</span><span class="s1">;a.length=e+f;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">;g&lt;f;g++)a[e+g]=d[g]}</span><span class="s3">else </span><span class="s1">a.push(d)}};</span>
<a name="l100"><span class="ln">100  </span></a><span class="s1">goog.array.splice=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s1">Array.prototype.splice.apply(a,goog.array.slice(arguments,</span><span class="s4">1</span><span class="s1">))};goog.array.slice=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);</span><span class="s3">return </span><span class="s4">2</span><span class="s1">&gt;=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)};</span>
<a name="l101"><span class="ln">101  </span></a><span class="s1">goog.array.removeDuplicates=</span><span class="s3">function</span><span class="s1">(a,b,c){b=b||a;</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isObject(a)?</span><span class="s2">&quot;o&quot;</span><span class="s1">+goog.getUid(a):(</span><span class="s3">typeof </span><span class="s1">a).charAt(</span><span class="s4">0</span><span class="s1">)+a};c=c||d;d={};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f=</span><span class="s4">0</span><span class="s1">;f&lt;a.length;){</span><span class="s3">var </span><span class="s1">g=a[f++],h=c(g);Object.prototype.hasOwnProperty.call(d,h)||(d[h]=!</span><span class="s4">0</span><span class="s1">,b[e++]=g)}b.length=e};goog.array.binarySearch=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.array.binarySearch_(a,c||goog.array.defaultCompare,!</span><span class="s4">1</span><span class="s1">,b)};goog.array.binarySelect=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.array.binarySearch_(a,b,!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,c)};</span>
<a name="l102"><span class="ln">102  </span></a><span class="s1">goog.array.binarySearch_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">,g=a.length,h;f&lt;g;){</span><span class="s3">var </span><span class="s1">k=f+g&gt;&gt;</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">l=c?b.call(e,a[k],k,a):b(d,a[k]);</span><span class="s4">0</span><span class="s1">&lt;l?f=k+</span><span class="s4">1</span><span class="s1">:(g=k,h=!l)}</span><span class="s3">return </span><span class="s1">h?f:~f};goog.array.sort=</span><span class="s3">function</span><span class="s1">(a,b){a.sort(b||goog.array.defaultCompare)};goog.array.stableSort=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=Array(a.length),d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)c[d]={index:d,value:a[d]};</span><span class="s3">var </span><span class="s1">e=b||goog.array.defaultCompare;goog.array.sort(c,</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">e(a.value,b.value)||a.index-b.index});</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)a[d]=c[d].value};</span>
<a name="l103"><span class="ln">103  </span></a><span class="s1">goog.array.sortByKey=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=c||goog.array.defaultCompare;goog.array.sort(a,</span><span class="s3">function</span><span class="s1">(a,c){</span><span class="s3">return </span><span class="s1">d(b(a),b(c))})};goog.array.sortObjectsByKey=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.array.sortByKey(a,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a[b]},c)};goog.array.isSorted=</span><span class="s3">function</span><span class="s1">(a,b,c){b=b||goog.array.defaultCompare;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">1</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=b(a[d-1],a[d]);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;e||</span><span class="s4">0</span><span class="s1">==e&amp;&amp;c)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l104"><span class="ln">104  </span></a><span class="s1">goog.array.equals=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!goog.isArrayLike(a)||!goog.isArrayLike(b)||a.length!=b.length)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">d=a.length;c=c||goog.array.defaultCompareEquality;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;d;e++)</span><span class="s3">if</span><span class="s1">(!c(a[e],b[e]))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.array.compare3=</span><span class="s3">function</span><span class="s1">(a,b,c){c=c||goog.array.defaultCompare;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=Math.min(a.length,b.length),e=</span><span class="s4">0</span><span class="s1">;e&lt;d;e++){</span><span class="s3">var </span><span class="s1">f=c(a[e],b[e]);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">!=f)</span><span class="s3">return </span><span class="s1">f}</span><span class="s3">return </span><span class="s1">goog.array.defaultCompare(a.length,b.length)};goog.array.defaultCompare=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a&gt;b?</span><span class="s4">1</span><span class="s1">:a&lt;b?-</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">};</span>
<a name="l105"><span class="ln">105  </span></a><span class="s1">goog.array.inverseDefaultCompare=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">-goog.array.defaultCompare(a,b)};goog.array.defaultCompareEquality=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a===b};goog.array.binaryInsert=</span><span class="s3">function</span><span class="s1">(a,b,c){c=goog.array.binarySearch(a,b,c);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;c?(goog.array.insertAt(a,b,-(c+</span><span class="s4">1</span><span class="s1">)),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};goog.array.binaryRemove=</span><span class="s3">function</span><span class="s1">(a,b,c){b=goog.array.binarySearch(a,b,c);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=b?goog.array.removeAt(a,b):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l106"><span class="ln">106  </span></a><span class="s1">goog.array.bucket=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d={},e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;e++){</span><span class="s3">var </span><span class="s1">f=a[e],g=b.call(c,f,e,a);goog.isDef(g)&amp;&amp;(d[g]||(d[g]=[])).push(f)}</span><span class="s3">return </span><span class="s1">d};goog.array.toObject=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d={};goog.array.forEach(a,</span><span class="s3">function</span><span class="s1">(e,f){d[b.call(c,e,f,a)]=e});</span><span class="s3">return </span><span class="s1">d};goog.array.range=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=[],e=</span><span class="s4">0</span><span class="s1">,f=a;c=c||</span><span class="s4">1</span><span class="s1">;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b&amp;&amp;(e=a,f=b);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;c*(f-e))</span><span class="s3">return</span><span class="s1">[];</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;c)</span><span class="s3">for</span><span class="s1">(a=e;a&lt;f;a+=c)d.push(a);</span><span class="s3">else for</span><span class="s1">(a=e;a&gt;f;a+=c)d.push(a);</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l107"><span class="ln">107  </span></a><span class="s1">goog.array.repeat=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=[],d=</span><span class="s4">0</span><span class="s1">;d&lt;b;d++)c[d]=a;</span><span class="s3">return </span><span class="s1">c};goog.array.flatten=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">;c&lt;arguments.length;c++){</span><span class="s3">var </span><span class="s1">d=arguments[c];</span><span class="s3">if</span><span class="s1">(goog.isArray(d))</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e+=</span><span class="s4">8192</span><span class="s1">){</span><span class="s3">var </span><span class="s1">f=goog.array.slice(d,e,e+</span><span class="s4">8192</span><span class="s1">);f=goog.array.flatten.apply(</span><span class="s3">null</span><span class="s1">,f);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">;g&lt;f.length;g++)b.push(f[g])}</span><span class="s3">else </span><span class="s1">b.push(d)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l108"><span class="ln">108  </span></a><span class="s1">goog.array.rotate=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.length);a.length&amp;&amp;(b%=a.length,</span><span class="s4">0</span><span class="s1">&lt;b?Array.prototype.unshift.apply(a,a.splice(-b,b)):</span><span class="s4">0</span><span class="s1">&gt;b&amp;&amp;Array.prototype.push.apply(a,a.splice(</span><span class="s4">0</span><span class="s1">,-b)));</span><span class="s3">return </span><span class="s1">a};goog.array.moveItem=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s4">0</span><span class="s1">&lt;=b&amp;&amp;b&lt;a.length);goog.asserts.assert(</span><span class="s4">0</span><span class="s1">&lt;=c&amp;&amp;c&lt;a.length);b=Array.prototype.splice.call(a,b,</span><span class="s4">1</span><span class="s1">);Array.prototype.splice.call(a,c,</span><span class="s4">0</span><span class="s1">,b[</span><span class="s4">0</span><span class="s1">])};</span>
<a name="l109"><span class="ln">109  </span></a><span class="s1">goog.array.zip=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!arguments.length)</span><span class="s3">return</span><span class="s1">[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=arguments[</span><span class="s4">0</span><span class="s1">].length,d=</span><span class="s4">1</span><span class="s1">;d&lt;arguments.length;d++)arguments[d].length&lt;c&amp;&amp;(c=arguments[d].length);</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;c;d++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=[],f=</span><span class="s4">0</span><span class="s1">;f&lt;arguments.length;f++)e.push(arguments[f][d]);b.push(e)}</span><span class="s3">return </span><span class="s1">b};goog.array.shuffle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=b||Math.random,d=a.length-1;</span><span class="s4">0</span><span class="s1">&lt;d;d--){</span><span class="s3">var </span><span class="s1">e=Math.floor(c()*(d+</span><span class="s4">1</span><span class="s1">)),f=a[d];a[d]=a[e];a[e]=f}};goog.array.copyByIndex=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[];goog.array.forEach(b,</span><span class="s3">function</span><span class="s1">(b){c.push(a[b])});</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l110"><span class="ln">110  </span></a><span class="s1">goog.array.concatMap=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.array.concat.apply([],goog.array.map(a,b,c))};goog.debug.errorcontext={};goog.debug.errorcontext.addErrorContext=</span><span class="s3">function</span><span class="s1">(a,b,c){a[goog.debug.errorcontext.CONTEXT_KEY_]||(a[goog.debug.errorcontext.CONTEXT_KEY_]={});a[goog.debug.errorcontext.CONTEXT_KEY_][b]=c};goog.debug.errorcontext.getErrorContext=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a[goog.debug.errorcontext.CONTEXT_KEY_]||{}};goog.debug.errorcontext.CONTEXT_KEY_=</span><span class="s2">&quot;__closure__error__context__984382&quot;</span><span class="s1">;goog.string={};goog.string.internal={};goog.string.internal.startsWith=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a.lastIndexOf(b,</span><span class="s4">0</span><span class="s1">)};goog.string.internal.endsWith=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.length-b.length;</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=c&amp;&amp;a.indexOf(b,c)==c};goog.string.internal.caseInsensitiveStartsWith=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==goog.string.internal.caseInsensitiveCompare(b,a.substr(</span><span class="s4">0</span><span class="s1">,b.length))};goog.string.internal.caseInsensitiveEndsWith=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==goog.string.internal.caseInsensitiveCompare(b,a.substr(a.length-b.length,b.length))};</span>
<a name="l111"><span class="ln">111  </span></a><span class="s1">goog.string.internal.caseInsensitiveEquals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.toLowerCase()==b.toLowerCase()};goog.string.internal.isEmptyOrWhitespace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">/^[\s\xa0]*$/.test(a)};goog.string.internal.trim=goog.TRUSTED_SITE&amp;&amp;String.prototype.trim?</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.trim()}:</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[</span><span class="s4">1</span><span class="s1">]};goog.string.internal.caseInsensitiveCompare=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=String(a).toLowerCase(),d=String(b).toLowerCase();</span><span class="s3">return </span><span class="s1">c&lt;d?-</span><span class="s4">1</span><span class="s1">:c==d?</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1</span><span class="s1">};</span>
<a name="l112"><span class="ln">112  </span></a><span class="s1">goog.string.internal.newLineToBr=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.replace(/(\r\n|\r|\n)/g,b?</span><span class="s2">&quot;&lt;br /&gt;&quot;</span><span class="s1">:</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="s1">)};</span>
<a name="l113"><span class="ln">113  </span></a><span class="s1">goog.string.internal.htmlEscape=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b)a=a.replace(goog.string.internal.AMP_RE_,</span><span class="s2">&quot;&amp;amp;&quot;</span><span class="s1">).replace(goog.string.internal.LT_RE_,</span><span class="s2">&quot;&amp;lt;&quot;</span><span class="s1">).replace(goog.string.internal.GT_RE_,</span><span class="s2">&quot;&amp;gt;&quot;</span><span class="s1">).replace(goog.string.internal.QUOT_RE_,</span><span class="s2">&quot;&amp;quot;&quot;</span><span class="s1">).replace(goog.string.internal.SINGLE_QUOTE_RE_,</span><span class="s2">&quot;&amp;#39;&quot;</span><span class="s1">).replace(goog.string.internal.NULL_RE_,</span><span class="s2">&quot;&amp;#0;&quot;</span><span class="s1">);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(!goog.string.internal.ALL_RE_.test(a))</span><span class="s3">return </span><span class="s1">a;-</span><span class="s4">1</span><span class="s1">!=a.indexOf(</span><span class="s2">&quot;&amp;&quot;</span><span class="s1">)&amp;&amp;(a=a.replace(goog.string.internal.AMP_RE_,</span><span class="s2">&quot;&amp;amp;&quot;</span><span class="s1">));-</span><span class="s4">1</span><span class="s1">!=a.indexOf(</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">)&amp;&amp;(a=a.replace(goog.string.internal.LT_RE_,</span>
<a name="l114"><span class="ln">114  </span></a><span class="s2">&quot;&amp;lt;&quot;</span><span class="s1">));-</span><span class="s4">1</span><span class="s1">!=a.indexOf(</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">)&amp;&amp;(a=a.replace(goog.string.internal.GT_RE_,</span><span class="s2">&quot;&amp;gt;&quot;</span><span class="s1">));-</span><span class="s4">1</span><span class="s1">!=a.indexOf(</span><span class="s2">'&quot;'</span><span class="s1">)&amp;&amp;(a=a.replace(goog.string.internal.QUOT_RE_,</span><span class="s2">&quot;&amp;quot;&quot;</span><span class="s1">));-</span><span class="s4">1</span><span class="s1">!=a.indexOf(</span><span class="s2">&quot;'&quot;</span><span class="s1">)&amp;&amp;(a=a.replace(goog.string.internal.SINGLE_QUOTE_RE_,</span><span class="s2">&quot;&amp;#39;&quot;</span><span class="s1">));-</span><span class="s4">1</span><span class="s1">!=a.indexOf(</span><span class="s2">&quot;</span><span class="s5">\x</span><span class="s2">00&quot;</span><span class="s1">)&amp;&amp;(a=a.replace(goog.string.internal.NULL_RE_,</span><span class="s2">&quot;&amp;#0;&quot;</span><span class="s1">))}</span><span class="s3">return </span><span class="s1">a};goog.string.internal.AMP_RE_=/&amp;/g;goog.string.internal.LT_RE_=/&lt;/g;goog.string.internal.GT_RE_=/&gt;/g;goog.string.internal.QUOT_RE_=/</span><span class="s2">&quot;/g;goog.string.internal.SINGLE_QUOTE_RE_=/'/g;</span>
<a name="l115"><span class="ln">115  </span></a><span class="s1">goog.string.internal.NULL_RE_=/\x00/g;goog.string.internal.ALL_RE_=/[\x00&amp;&lt;&gt;</span><span class="s2">&quot;']/;goog.string.internal.whitespaceEscape=function(a,b){return goog.string.internal.newLineToBr(a.replace(/  /g,&quot; </span><span class="s1">&amp;#</span><span class="s4">160</span><span class="s1">;</span><span class="s2">&quot;),b)};goog.string.internal.contains=function(a,b){return-1!=a.indexOf(b)};goog.string.internal.caseInsensitiveContains=function(a,b){return goog.string.internal.contains(a.toLowerCase(),b.toLowerCase())};</span>
<a name="l116"><span class="ln">116  </span></a><span class="s1">goog.string.internal.compareVersions=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d=goog.string.internal.trim(String(a)).split(</span><span class="s2">&quot;.&quot;</span><span class="s1">),e=goog.string.internal.trim(String(b)).split(</span><span class="s2">&quot;.&quot;</span><span class="s1">),f=Math.max(d.length,e.length),g=</span><span class="s4">0</span><span class="s1">;</span><span class="s4">0</span><span class="s1">==c&amp;&amp;g&lt;f;g++){</span><span class="s3">var </span><span class="s1">h=d[g]||</span><span class="s2">&quot;&quot;</span><span class="s1">,k=e[g]||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">do</span><span class="s1">{h=/(\d*)(\D*)(.*)/.exec(h)||[</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">];k=/(\d*)(\D*)(.*)/.exec(k)||[</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">==h[</span><span class="s4">0</span><span class="s1">].length&amp;&amp;</span><span class="s4">0</span><span class="s1">==k[</span><span class="s4">0</span><span class="s1">].length)</span><span class="s3">break</span><span class="s1">;c=</span><span class="s4">0</span><span class="s1">==h[</span><span class="s4">1</span><span class="s1">].length?</span><span class="s4">0</span><span class="s1">:parseInt(h[</span><span class="s4">1</span><span class="s1">],</span><span class="s4">10</span><span class="s1">);</span><span class="s3">var </span><span class="s1">l=</span><span class="s4">0</span><span class="s1">==k[</span><span class="s4">1</span><span class="s1">].length?</span><span class="s4">0</span><span class="s1">:parseInt(k[</span><span class="s4">1</span><span class="s1">],</span><span class="s4">10</span><span class="s1">);c=goog.string.internal.compareElements_(c,l)||goog.string.internal.compareElements_(</span><span class="s4">0</span><span class="s1">==</span>
<a name="l117"><span class="ln">117  </span></a><span class="s1">h[</span><span class="s4">2</span><span class="s1">].length,</span><span class="s4">0</span><span class="s1">==k[</span><span class="s4">2</span><span class="s1">].length)||goog.string.internal.compareElements_(h[</span><span class="s4">2</span><span class="s1">],k[</span><span class="s4">2</span><span class="s1">]);h=h[</span><span class="s4">3</span><span class="s1">];k=k[</span><span class="s4">3</span><span class="s1">]}</span><span class="s3">while</span><span class="s1">(</span><span class="s4">0</span><span class="s1">==c)}</span><span class="s3">return </span><span class="s1">c};goog.string.internal.compareElements_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a&lt;b?-</span><span class="s4">1</span><span class="s1">:a&gt;b?</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">};goog.labs={};goog.labs.userAgent={};goog.labs.userAgent.util={};goog.labs.userAgent.util.getNativeUserAgentString_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.labs.userAgent.util.getNavigator_();</span><span class="s3">return </span><span class="s1">a&amp;&amp;(a=a.userAgent)?a:</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.labs.userAgent.util.getNavigator_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.global.navigator};goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_();goog.labs.userAgent.util.setUserAgent=</span><span class="s3">function</span><span class="s1">(a){goog.labs.userAgent.util.userAgent_=a||goog.labs.userAgent.util.getNativeUserAgentString_()};</span>
<a name="l118"><span class="ln">118  </span></a><span class="s1">goog.labs.userAgent.util.getUserAgent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.userAgent_};goog.labs.userAgent.util.matchUserAgent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.labs.userAgent.util.getUserAgent();</span><span class="s3">return </span><span class="s1">goog.string.internal.contains(b,a)};goog.labs.userAgent.util.matchUserAgentIgnoreCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.labs.userAgent.util.getUserAgent();</span><span class="s3">return </span><span class="s1">goog.string.internal.caseInsensitiveContains(b,a)};</span>
<a name="l119"><span class="ln">119  </span></a><span class="s1">goog.labs.userAgent.util.extractVersionTuples=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=RegExp(</span><span class="s2">&quot;(</span><span class="s5">\\</span><span class="s2">w[</span><span class="s5">\\</span><span class="s2">w ]+)/([^</span><span class="s5">\\</span><span class="s2">s]+)</span><span class="s5">\\</span><span class="s2">s*(?:</span><span class="s5">\\</span><span class="s2">((.*?)</span><span class="s5">\\</span><span class="s2">))?&quot;</span><span class="s1">,</span><span class="s2">&quot;g&quot;</span><span class="s1">),c=[],d;d=b.exec(a);)c.push([d[</span><span class="s4">1</span><span class="s1">],d[</span><span class="s4">2</span><span class="s1">],d[</span><span class="s4">3</span><span class="s1">]||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">]);</span><span class="s3">return </span><span class="s1">c};goog.object={};goog.object.is=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a===b?</span><span class="s4">0</span><span class="s1">!==a||</span><span class="s4">1</span><span class="s1">/a===</span><span class="s4">1</span><span class="s1">/b:a!==a&amp;&amp;b!==b};goog.object.forEach=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">a)b.call(c,a[d],d,a)};goog.object.filter=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d={},e;</span><span class="s3">for</span><span class="s1">(e </span><span class="s3">in </span><span class="s1">a)b.call(c,a[e],e,a)&amp;&amp;(d[e]=a[e]);</span><span class="s3">return </span><span class="s1">d};goog.object.map=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d={},e;</span><span class="s3">for</span><span class="s1">(e </span><span class="s3">in </span><span class="s1">a)d[e]=b.call(c,a[e],e,a);</span><span class="s3">return </span><span class="s1">d};goog.object.some=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(b.call(c,a[d],d,a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l120"><span class="ln">120  </span></a><span class="s1">goog.object.every=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(!b.call(c,a[d],d,a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.object.getCount=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a)b++;</span><span class="s3">return </span><span class="s1">b};goog.object.getAnyKey=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">return </span><span class="s1">b};goog.object.getAnyValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">return </span><span class="s1">a[b]};goog.object.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.object.containsValue(a,b)};goog.object.getValues=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">,d;</span><span class="s3">for</span><span class="s1">(d </span><span class="s3">in </span><span class="s1">a)b[c++]=a[d];</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l121"><span class="ln">121  </span></a><span class="s1">goog.object.getKeys=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">,d;</span><span class="s3">for</span><span class="s1">(d </span><span class="s3">in </span><span class="s1">a)b[c++]=d;</span><span class="s3">return </span><span class="s1">b};goog.object.getValueByKeys=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isArrayLike(b),d=c?b:arguments;</span><span class="s3">for</span><span class="s1">(c=c?</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1</span><span class="s1">;c&lt;d.length;c++){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">==a)</span><span class="s3">return</span><span class="s1">;a=a[d[c]]}</span><span class="s3">return </span><span class="s1">a};goog.object.containsKey=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return null</span><span class="s1">!==a&amp;&amp;b </span><span class="s3">in </span><span class="s1">a};goog.object.containsValue=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(a[c]==b)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.object.findKey=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(b.call(c,a[d],d,a))</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l122"><span class="ln">122  </span></a><span class="s1">goog.object.findValue=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return</span><span class="s1">(b=goog.object.findKey(a,b,c))&amp;&amp;a[b]};goog.object.isEmpty=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.object.clear=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">delete </span><span class="s1">a[b]};goog.object.remove=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c;(c=b </span><span class="s3">in </span><span class="s1">a)&amp;&amp;</span><span class="s3">delete </span><span class="s1">a[b];</span><span class="s3">return </span><span class="s1">c};goog.object.add=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!==a&amp;&amp;b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'The object already contains the key &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot;'</span><span class="s1">);goog.object.set(a,b,c)};goog.object.get=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return null</span><span class="s1">!==a&amp;&amp;b </span><span class="s3">in </span><span class="s1">a?a[b]:c};</span>
<a name="l123"><span class="ln">123  </span></a><span class="s1">goog.object.set=</span><span class="s3">function</span><span class="s1">(a,b,c){a[b]=c};goog.object.setIfUndefined=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">b </span><span class="s3">in </span><span class="s1">a?a[b]:a[b]=c};goog.object.setWithReturnValueIfNotSet=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">return </span><span class="s1">a[b];c=c();</span><span class="s3">return </span><span class="s1">a[b]=c};goog.object.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(!(c </span><span class="s3">in </span><span class="s1">b)||a[c]!==b[c])</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">b)</span><span class="s3">if</span><span class="s1">(!(c </span><span class="s3">in </span><span class="s1">a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.object.clone=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b={},c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a)b[c]=a[c];</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l124"><span class="ln">124  </span></a><span class="s1">goog.object.unsafeClone=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.typeOf(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;object&quot;</span><span class="s1">==b||</span><span class="s2">&quot;array&quot;</span><span class="s1">==b){</span><span class="s3">if</span><span class="s1">(goog.isFunction(a.clone))</span><span class="s3">return </span><span class="s1">a.clone();b=</span><span class="s2">&quot;array&quot;</span><span class="s1">==b?[]:{};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">a)b[c]=goog.object.unsafeClone(a[c]);</span><span class="s3">return </span><span class="s1">b}</span><span class="s3">return </span><span class="s1">a};goog.object.transpose=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b={},c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a)b[a[c]]=c;</span><span class="s3">return </span><span class="s1">b};goog.object.PROTOTYPE_FIELDS_=</span><span class="s2">&quot;constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf&quot;</span><span class="s1">.split(</span><span class="s2">&quot; &quot;</span><span class="s1">);</span>
<a name="l125"><span class="ln">125  </span></a><span class="s1">goog.object.extend=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c,d,e=</span><span class="s4">1</span><span class="s1">;e&lt;arguments.length;e++){d=arguments[e];</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">d)a[c]=d[c];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;goog.object.PROTOTYPE_FIELDS_.length;f++)c=goog.object.PROTOTYPE_FIELDS_[f],Object.prototype.hasOwnProperty.call(d,c)&amp;&amp;(a[c]=d[c])}};</span>
<a name="l126"><span class="ln">126  </span></a><span class="s1">goog.object.create=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=arguments.length;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">==b&amp;&amp;goog.isArray(arguments[</span><span class="s4">0</span><span class="s1">]))</span><span class="s3">return </span><span class="s1">goog.object.create.apply(</span><span class="s3">null</span><span class="s1">,arguments[</span><span class="s4">0</span><span class="s1">]);</span><span class="s3">if</span><span class="s1">(b%</span><span class="s4">2</span><span class="s1">)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Uneven number of arguments&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c={},d=</span><span class="s4">0</span><span class="s1">;d&lt;b;d+=</span><span class="s4">2</span><span class="s1">)c[arguments[d]]=arguments[d+</span><span class="s4">1</span><span class="s1">];</span><span class="s3">return </span><span class="s1">c};goog.object.createSet=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=arguments.length;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">==b&amp;&amp;goog.isArray(arguments[</span><span class="s4">0</span><span class="s1">]))</span><span class="s3">return </span><span class="s1">goog.object.createSet.apply(</span><span class="s3">null</span><span class="s1">,arguments[</span><span class="s4">0</span><span class="s1">]);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c={},d=</span><span class="s4">0</span><span class="s1">;d&lt;b;d++)c[arguments[d]]=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l127"><span class="ln">127  </span></a><span class="s1">goog.object.createImmutableView=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a;Object.isFrozen&amp;&amp;!Object.isFrozen(a)&amp;&amp;(b=Object.create(a),Object.freeze(b));</span><span class="s3">return </span><span class="s1">b};goog.object.isImmutableView=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!!Object.isFrozen&amp;&amp;Object.isFrozen(a)};</span>
<a name="l128"><span class="ln">128  </span></a><span class="s1">goog.object.getAllPropertyNames=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s1">[];</span><span class="s3">if</span><span class="s1">(!Object.getOwnPropertyNames||!Object.getPrototypeOf)</span><span class="s3">return </span><span class="s1">goog.object.getKeys(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d={};a&amp;&amp;(a!==Object.prototype||b)&amp;&amp;(a!==Function.prototype||c);){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=Object.getOwnPropertyNames(a),f=</span><span class="s4">0</span><span class="s1">;f&lt;e.length;f++)d[e[f]]=!</span><span class="s4">0</span><span class="s1">;a=Object.getPrototypeOf(a)}</span><span class="s3">return </span><span class="s1">goog.object.getKeys(d)};goog.labs.userAgent.browser={};goog.labs.userAgent.browser.matchOpera_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Opera&quot;</span><span class="s1">)};goog.labs.userAgent.browser.matchIE_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Trident&quot;</span><span class="s1">)||goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;MSIE&quot;</span><span class="s1">)};goog.labs.userAgent.browser.matchEdgeHtml_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Edge&quot;</span><span class="s1">)};goog.labs.userAgent.browser.matchEdgeChromium_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Edg/&quot;</span><span class="s1">)};</span>
<a name="l129"><span class="ln">129  </span></a><span class="s1">goog.labs.userAgent.browser.matchOperaChromium_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;OPR&quot;</span><span class="s1">)};goog.labs.userAgent.browser.matchFirefox_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Firefox&quot;</span><span class="s1">)||goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;FxiOS&quot;</span><span class="s1">)};</span>
<a name="l130"><span class="ln">130  </span></a><span class="s1">goog.labs.userAgent.browser.matchSafari_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Safari&quot;</span><span class="s1">)&amp;&amp;!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Android&quot;</span><span class="s1">))};</span>
<a name="l131"><span class="ln">131  </span></a><span class="s1">goog.labs.userAgent.browser.matchCoast_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Coast&quot;</span><span class="s1">)};goog.labs.userAgent.browser.matchIosWebview_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">(goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPad&quot;</span><span class="s1">)||goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPhone&quot;</span><span class="s1">))&amp;&amp;!goog.labs.userAgent.browser.matchSafari_()&amp;&amp;!goog.labs.userAgent.browser.matchChrome_()&amp;&amp;!goog.labs.userAgent.browser.matchCoast_()&amp;&amp;!goog.labs.userAgent.browser.matchFirefox_()&amp;&amp;goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;AppleWebKit&quot;</span><span class="s1">)};</span>
<a name="l132"><span class="ln">132  </span></a><span class="s1">goog.labs.userAgent.browser.matchChrome_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">(goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Chrome&quot;</span><span class="s1">)||goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;CriOS&quot;</span><span class="s1">))&amp;&amp;!goog.labs.userAgent.browser.matchEdgeHtml_()};goog.labs.userAgent.browser.matchAndroidBrowser_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Android&quot;</span><span class="s1">)&amp;&amp;!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())};</span>
<a name="l133"><span class="ln">133  </span></a><span class="s1">goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_;goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_;goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_;goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_;goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_;goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_;</span>
<a name="l134"><span class="ln">134  </span></a><span class="s1">goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_;goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_;goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_;goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_;goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_;goog.labs.userAgent.browser.isSilk=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Silk&quot;</span><span class="s1">)};</span>
<a name="l135"><span class="ln">135  </span></a><span class="s1">goog.labs.userAgent.browser.getVersion=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">function </span><span class="s1">a(a){a=goog.array.find(a,d);</span><span class="s3">return </span><span class="s1">c[a]||</span><span class="s2">&quot;&quot;</span><span class="s1">}</span><span class="s3">var </span><span class="s1">b=goog.labs.userAgent.util.getUserAgent();</span><span class="s3">if</span><span class="s1">(goog.labs.userAgent.browser.isIE())</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.browser.getIEVersion_(b);b=goog.labs.userAgent.util.extractVersionTuples(b);</span><span class="s3">var </span><span class="s1">c={};goog.array.forEach(b,</span><span class="s3">function</span><span class="s1">(a){c[a[</span><span class="s4">0</span><span class="s1">]]=a[</span><span class="s4">1</span><span class="s1">]});</span><span class="s3">var </span><span class="s1">d=goog.partial(goog.object.containsKey,c);</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.browser.isOpera()?a([</span><span class="s2">&quot;Version&quot;</span><span class="s1">,</span><span class="s2">&quot;Opera&quot;</span><span class="s1">]):goog.labs.userAgent.browser.isEdge()?a([</span><span class="s2">&quot;Edge&quot;</span><span class="s1">]):</span>
<a name="l136"><span class="ln">136  </span></a><span class="s1">goog.labs.userAgent.browser.isEdgeChromium()?a([</span><span class="s2">&quot;Edg&quot;</span><span class="s1">]):goog.labs.userAgent.browser.isChrome()?a([</span><span class="s2">&quot;Chrome&quot;</span><span class="s1">,</span><span class="s2">&quot;CriOS&quot;</span><span class="s1">]):(b=b[</span><span class="s4">2</span><span class="s1">])&amp;&amp;b[</span><span class="s4">1</span><span class="s1">]||</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.labs.userAgent.browser.isVersionOrHigher=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),a)};</span>
<a name="l137"><span class="ln">137  </span></a><span class="s1">goog.labs.userAgent.browser.getIEVersion_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=/rv: *([\d\.]*)/.exec(a);</span><span class="s3">if</span><span class="s1">(b&amp;&amp;b[</span><span class="s4">1</span><span class="s1">])</span><span class="s3">return </span><span class="s1">b[</span><span class="s4">1</span><span class="s1">];b=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=/MSIE +([\d\.]+)/.exec(a);</span><span class="s3">if</span><span class="s1">(c&amp;&amp;c[</span><span class="s4">1</span><span class="s1">])</span><span class="s3">if</span><span class="s1">(a=/Trident\/(\d.\d)/.exec(a),</span><span class="s2">&quot;7.0&quot;</span><span class="s1">==c[</span><span class="s4">1</span><span class="s1">])</span><span class="s3">if</span><span class="s1">(a&amp;&amp;a[</span><span class="s4">1</span><span class="s1">])</span><span class="s3">switch</span><span class="s1">(a[</span><span class="s4">1</span><span class="s1">]){</span><span class="s3">case </span><span class="s2">&quot;4.0&quot;</span><span class="s1">:b=</span><span class="s2">&quot;8.0&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;5.0&quot;</span><span class="s1">:b=</span><span class="s2">&quot;9.0&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;6.0&quot;</span><span class="s1">:b=</span><span class="s2">&quot;10.0&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;7.0&quot;</span><span class="s1">:b=</span><span class="s2">&quot;11.0&quot;</span><span class="s1">}</span><span class="s3">else </span><span class="s1">b=</span><span class="s2">&quot;7.0&quot;</span><span class="s1">;</span><span class="s3">else </span><span class="s1">b=c[</span><span class="s4">1</span><span class="s1">];</span><span class="s3">return </span><span class="s1">b};goog.dom.asserts={};goog.dom.asserts.assertIsLocation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.asserts.ENABLE_ASSERTS){</span><span class="s3">var </span><span class="s1">b=goog.dom.asserts.getWindow_(a);b&amp;&amp;(!a||!(a </span><span class="s3">instanceof </span><span class="s1">b.Location)&amp;&amp;a </span><span class="s3">instanceof </span><span class="s1">b.Element)&amp;&amp;goog.asserts.fail(</span><span class="s2">&quot;Argument is not a Location (or a non-Element mock); got: %s&quot;</span><span class="s1">,goog.dom.asserts.debugStringForType_(a))}</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l138"><span class="ln">138  </span></a><span class="s1">goog.dom.asserts.assertIsElementType_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.asserts.ENABLE_ASSERTS){</span><span class="s3">var </span><span class="s1">c=goog.dom.asserts.getWindow_(a);c&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">c[b]&amp;&amp;(a&amp;&amp;(a </span><span class="s3">instanceof </span><span class="s1">c[b]||!(a </span><span class="s3">instanceof </span><span class="s1">c.Location||a </span><span class="s3">instanceof </span><span class="s1">c.Element))||goog.asserts.fail(</span><span class="s2">&quot;Argument is not a %s (or a non-Element, non-Location mock); got: %s&quot;</span><span class="s1">,b,goog.dom.asserts.debugStringForType_(a)))}</span><span class="s3">return </span><span class="s1">a};goog.dom.asserts.assertIsHTMLAnchorElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLAnchorElement&quot;</span><span class="s1">)};</span>
<a name="l139"><span class="ln">139  </span></a><span class="s1">goog.dom.asserts.assertIsHTMLButtonElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLButtonElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLLinkElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLLinkElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLImageElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLImageElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLAudioElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLAudioElement&quot;</span><span class="s1">)};</span>
<a name="l140"><span class="ln">140  </span></a><span class="s1">goog.dom.asserts.assertIsHTMLVideoElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLVideoElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLInputElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLInputElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLTextAreaElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLTextAreaElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLCanvasElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLCanvasElement&quot;</span><span class="s1">)};</span>
<a name="l141"><span class="ln">141  </span></a><span class="s1">goog.dom.asserts.assertIsHTMLEmbedElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLEmbedElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLFormElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLFormElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLFrameElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLFrameElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLIFrameElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLIFrameElement&quot;</span><span class="s1">)};</span>
<a name="l142"><span class="ln">142  </span></a><span class="s1">goog.dom.asserts.assertIsHTMLObjectElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLObjectElement&quot;</span><span class="s1">)};goog.dom.asserts.assertIsHTMLScriptElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.asserts.assertIsElementType_(a,</span><span class="s2">&quot;HTMLScriptElement&quot;</span><span class="s1">)};</span>
<a name="l143"><span class="ln">143  </span></a><span class="s1">goog.dom.asserts.debugStringForType_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.isObject(a))</span><span class="s3">try</span><span class="s1">{</span><span class="s3">return </span><span class="s1">a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a)}</span><span class="s3">catch</span><span class="s1">(b){</span><span class="s3">return</span><span class="s2">&quot;&lt;object could not be stringified&gt;&quot;</span><span class="s1">}</span><span class="s3">else return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s2">&quot;undefined&quot;</span><span class="s1">:</span><span class="s3">null</span><span class="s1">===a?</span><span class="s2">&quot;null&quot;</span><span class="s1">:</span><span class="s3">typeof </span><span class="s1">a};goog.dom.asserts.getWindow_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a&amp;&amp;a.ownerDocument,c=b&amp;&amp;(b.defaultView||b.parentWindow);c=c||goog.global;</span><span class="s3">if</span><span class="s1">(c.Element&amp;&amp;c.Location)</span><span class="s3">return </span><span class="s1">c}</span><span class="s3">catch</span><span class="s1">(d){}</span><span class="s3">return null</span><span class="s1">};goog.functions={};goog.functions.constant=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">a}};goog.functions.FALSE=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.functions.TRUE=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.functions.NULL=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return null</span><span class="s1">};goog.functions.identity=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a};goog.functions.error=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">throw </span><span class="s1">Error(a);}};goog.functions.fail=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">throw </span><span class="s1">a;}};</span>
<a name="l144"><span class="ln">144  </span></a><span class="s1">goog.functions.lock=</span><span class="s3">function</span><span class="s1">(a,b){b=b||</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">a.apply(</span><span class="s3">this</span><span class="s1">,Array.prototype.slice.call(arguments,</span><span class="s4">0</span><span class="s1">,b))}};goog.functions.nth=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">arguments[a]}};goog.functions.partialRight=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Array.prototype.slice.call(arguments,</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">b=Array.prototype.slice.call(arguments);b.push.apply(b,c);</span><span class="s3">return </span><span class="s1">a.apply(</span><span class="s3">this</span><span class="s1">,b)}};goog.functions.withReturnValue=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.functions.sequence(a,goog.functions.constant(b))};</span>
<a name="l145"><span class="ln">145  </span></a><span class="s1">goog.functions.equalTo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return function</span><span class="s1">(c){</span><span class="s3">return </span><span class="s1">b?a==c:a===c}};goog.functions.compose=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=arguments,d=c.length;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a;d&amp;&amp;(a=c[d-1].apply(</span><span class="s3">this</span><span class="s1">,arguments));</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=d-2;</span><span class="s4">0</span><span class="s1">&lt;=b;b--)a=c[b].call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">return </span><span class="s1">a}};goog.functions.sequence=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=arguments,c=b.length;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a,e=</span><span class="s4">0</span><span class="s1">;e&lt;c;e++)a=b[e].apply(</span><span class="s3">this</span><span class="s1">,arguments);</span><span class="s3">return </span><span class="s1">a}};</span>
<a name="l146"><span class="ln">146  </span></a><span class="s1">goog.functions.and=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=arguments,c=b.length;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">;a&lt;c;a++)</span><span class="s3">if</span><span class="s1">(!b[a].apply(</span><span class="s3">this</span><span class="s1">,arguments))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}};goog.functions.or=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=arguments,c=b.length;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">;a&lt;c;a++)</span><span class="s3">if</span><span class="s1">(b[a].apply(</span><span class="s3">this</span><span class="s1">,arguments))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}};goog.functions.not=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!a.apply(</span><span class="s3">this</span><span class="s1">,arguments)}};</span>
<a name="l147"><span class="ln">147  </span></a><span class="s1">goog.functions.create=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">function</span><span class="s1">(){};c.prototype=a.prototype;c=</span><span class="s3">new </span><span class="s1">c;a.apply(c,Array.prototype.slice.call(arguments,</span><span class="s4">1</span><span class="s1">));</span><span class="s3">return </span><span class="s1">c};goog.functions.CACHE_RETURN_VALUE=!</span><span class="s4">0</span><span class="s1">;goog.functions.cacheReturnValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">,c;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!goog.functions.CACHE_RETURN_VALUE)</span><span class="s3">return </span><span class="s1">a();b||(c=a(),b=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c}};goog.functions.once=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a;</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">a=b;b=</span><span class="s3">null</span><span class="s1">;a()}}};</span>
<a name="l148"><span class="ln">148  </span></a><span class="s1">goog.functions.debounce=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return function</span><span class="s1">(e){goog.global.clearTimeout(d);</span><span class="s3">var </span><span class="s1">f=arguments;d=goog.global.setTimeout(</span><span class="s3">function</span><span class="s1">(){a.apply(c,f)},b)}};goog.functions.throttle=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=!</span><span class="s4">1</span><span class="s1">,f=[],g=</span><span class="s3">function</span><span class="s1">(){d=</span><span class="s4">0</span><span class="s1">;e&amp;&amp;(e=!</span><span class="s4">1</span><span class="s1">,h())},h=</span><span class="s3">function</span><span class="s1">(){d=goog.global.setTimeout(g,b);a.apply(c,f)};</span><span class="s3">return function</span><span class="s1">(a){f=arguments;d?e=!</span><span class="s4">0</span><span class="s1">:h()}};goog.functions.rateLimit=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s3">function</span><span class="s1">(){d=</span><span class="s4">0</span><span class="s1">};</span><span class="s3">return function</span><span class="s1">(f){d||(d=goog.global.setTimeout(e,b),a.apply(c,arguments))}};goog.dom.HtmlElement=</span><span class="s3">function</span><span class="s1">(){};goog.dom.TagName=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.tagName_=a};goog.dom.TagName.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.tagName_};goog.dom.TagName.A=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;A&quot;</span><span class="s1">);goog.dom.TagName.ABBR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;ABBR&quot;</span><span class="s1">);goog.dom.TagName.ACRONYM=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;ACRONYM&quot;</span><span class="s1">);goog.dom.TagName.ADDRESS=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;ADDRESS&quot;</span><span class="s1">);goog.dom.TagName.APPLET=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;APPLET&quot;</span><span class="s1">);goog.dom.TagName.AREA=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;AREA&quot;</span><span class="s1">);goog.dom.TagName.ARTICLE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;ARTICLE&quot;</span><span class="s1">);</span>
<a name="l149"><span class="ln">149  </span></a><span class="s1">goog.dom.TagName.ASIDE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;ASIDE&quot;</span><span class="s1">);goog.dom.TagName.AUDIO=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;AUDIO&quot;</span><span class="s1">);goog.dom.TagName.B=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;B&quot;</span><span class="s1">);goog.dom.TagName.BASE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BASE&quot;</span><span class="s1">);goog.dom.TagName.BASEFONT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BASEFONT&quot;</span><span class="s1">);goog.dom.TagName.BDI=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BDI&quot;</span><span class="s1">);goog.dom.TagName.BDO=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BDO&quot;</span><span class="s1">);goog.dom.TagName.BIG=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BIG&quot;</span><span class="s1">);goog.dom.TagName.BLOCKQUOTE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BLOCKQUOTE&quot;</span><span class="s1">);goog.dom.TagName.BODY=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BODY&quot;</span><span class="s1">);</span>
<a name="l150"><span class="ln">150  </span></a><span class="s1">goog.dom.TagName.BR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BR&quot;</span><span class="s1">);goog.dom.TagName.BUTTON=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;BUTTON&quot;</span><span class="s1">);goog.dom.TagName.CANVAS=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;CANVAS&quot;</span><span class="s1">);goog.dom.TagName.CAPTION=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;CAPTION&quot;</span><span class="s1">);goog.dom.TagName.CENTER=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;CENTER&quot;</span><span class="s1">);goog.dom.TagName.CITE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;CITE&quot;</span><span class="s1">);goog.dom.TagName.CODE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;CODE&quot;</span><span class="s1">);goog.dom.TagName.COL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;COL&quot;</span><span class="s1">);goog.dom.TagName.COLGROUP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;COLGROUP&quot;</span><span class="s1">);</span>
<a name="l151"><span class="ln">151  </span></a><span class="s1">goog.dom.TagName.COMMAND=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;COMMAND&quot;</span><span class="s1">);goog.dom.TagName.DATA=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DATA&quot;</span><span class="s1">);goog.dom.TagName.DATALIST=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DATALIST&quot;</span><span class="s1">);goog.dom.TagName.DD=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DD&quot;</span><span class="s1">);goog.dom.TagName.DEL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DEL&quot;</span><span class="s1">);goog.dom.TagName.DETAILS=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DETAILS&quot;</span><span class="s1">);goog.dom.TagName.DFN=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DFN&quot;</span><span class="s1">);goog.dom.TagName.DIALOG=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DIALOG&quot;</span><span class="s1">);goog.dom.TagName.DIR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DIR&quot;</span><span class="s1">);goog.dom.TagName.DIV=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">);</span>
<a name="l152"><span class="ln">152  </span></a><span class="s1">goog.dom.TagName.DL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DL&quot;</span><span class="s1">);goog.dom.TagName.DT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;DT&quot;</span><span class="s1">);goog.dom.TagName.EM=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;EM&quot;</span><span class="s1">);goog.dom.TagName.EMBED=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;EMBED&quot;</span><span class="s1">);goog.dom.TagName.FIELDSET=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FIELDSET&quot;</span><span class="s1">);goog.dom.TagName.FIGCAPTION=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FIGCAPTION&quot;</span><span class="s1">);goog.dom.TagName.FIGURE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FIGURE&quot;</span><span class="s1">);goog.dom.TagName.FONT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FONT&quot;</span><span class="s1">);goog.dom.TagName.FOOTER=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FOOTER&quot;</span><span class="s1">);goog.dom.TagName.FORM=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FORM&quot;</span><span class="s1">);</span>
<a name="l153"><span class="ln">153  </span></a><span class="s1">goog.dom.TagName.FRAME=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FRAME&quot;</span><span class="s1">);goog.dom.TagName.FRAMESET=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;FRAMESET&quot;</span><span class="s1">);goog.dom.TagName.H1=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;H1&quot;</span><span class="s1">);goog.dom.TagName.H2=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;H2&quot;</span><span class="s1">);goog.dom.TagName.H3=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;H3&quot;</span><span class="s1">);goog.dom.TagName.H4=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;H4&quot;</span><span class="s1">);goog.dom.TagName.H5=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;H5&quot;</span><span class="s1">);goog.dom.TagName.H6=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;H6&quot;</span><span class="s1">);goog.dom.TagName.HEAD=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;HEAD&quot;</span><span class="s1">);goog.dom.TagName.HEADER=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;HEADER&quot;</span><span class="s1">);</span>
<a name="l154"><span class="ln">154  </span></a><span class="s1">goog.dom.TagName.HGROUP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;HGROUP&quot;</span><span class="s1">);goog.dom.TagName.HR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;HR&quot;</span><span class="s1">);goog.dom.TagName.HTML=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;HTML&quot;</span><span class="s1">);goog.dom.TagName.I=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;I&quot;</span><span class="s1">);goog.dom.TagName.IFRAME=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;IFRAME&quot;</span><span class="s1">);goog.dom.TagName.IMG=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;IMG&quot;</span><span class="s1">);goog.dom.TagName.INPUT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">);goog.dom.TagName.INS=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;INS&quot;</span><span class="s1">);goog.dom.TagName.ISINDEX=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;ISINDEX&quot;</span><span class="s1">);goog.dom.TagName.KBD=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;KBD&quot;</span><span class="s1">);</span>
<a name="l155"><span class="ln">155  </span></a><span class="s1">goog.dom.TagName.KEYGEN=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;KEYGEN&quot;</span><span class="s1">);goog.dom.TagName.LABEL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;LABEL&quot;</span><span class="s1">);goog.dom.TagName.LEGEND=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;LEGEND&quot;</span><span class="s1">);goog.dom.TagName.LI=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;LI&quot;</span><span class="s1">);goog.dom.TagName.LINK=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;LINK&quot;</span><span class="s1">);goog.dom.TagName.MAIN=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;MAIN&quot;</span><span class="s1">);goog.dom.TagName.MAP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;MAP&quot;</span><span class="s1">);goog.dom.TagName.MARK=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;MARK&quot;</span><span class="s1">);goog.dom.TagName.MATH=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;MATH&quot;</span><span class="s1">);goog.dom.TagName.MENU=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;MENU&quot;</span><span class="s1">);</span>
<a name="l156"><span class="ln">156  </span></a><span class="s1">goog.dom.TagName.MENUITEM=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;MENUITEM&quot;</span><span class="s1">);goog.dom.TagName.META=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;META&quot;</span><span class="s1">);goog.dom.TagName.METER=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;METER&quot;</span><span class="s1">);goog.dom.TagName.NAV=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;NAV&quot;</span><span class="s1">);goog.dom.TagName.NOFRAMES=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;NOFRAMES&quot;</span><span class="s1">);goog.dom.TagName.NOSCRIPT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;NOSCRIPT&quot;</span><span class="s1">);goog.dom.TagName.OBJECT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;OBJECT&quot;</span><span class="s1">);goog.dom.TagName.OL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;OL&quot;</span><span class="s1">);goog.dom.TagName.OPTGROUP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;OPTGROUP&quot;</span><span class="s1">);</span>
<a name="l157"><span class="ln">157  </span></a><span class="s1">goog.dom.TagName.OPTION=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;OPTION&quot;</span><span class="s1">);goog.dom.TagName.OUTPUT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;OUTPUT&quot;</span><span class="s1">);goog.dom.TagName.P=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;P&quot;</span><span class="s1">);goog.dom.TagName.PARAM=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;PARAM&quot;</span><span class="s1">);goog.dom.TagName.PICTURE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;PICTURE&quot;</span><span class="s1">);goog.dom.TagName.PRE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;PRE&quot;</span><span class="s1">);goog.dom.TagName.PROGRESS=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;PROGRESS&quot;</span><span class="s1">);goog.dom.TagName.Q=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;Q&quot;</span><span class="s1">);goog.dom.TagName.RP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;RP&quot;</span><span class="s1">);goog.dom.TagName.RT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;RT&quot;</span><span class="s1">);</span>
<a name="l158"><span class="ln">158  </span></a><span class="s1">goog.dom.TagName.RTC=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;RTC&quot;</span><span class="s1">);goog.dom.TagName.RUBY=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;RUBY&quot;</span><span class="s1">);goog.dom.TagName.S=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;S&quot;</span><span class="s1">);goog.dom.TagName.SAMP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SAMP&quot;</span><span class="s1">);goog.dom.TagName.SCRIPT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SCRIPT&quot;</span><span class="s1">);goog.dom.TagName.SECTION=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SECTION&quot;</span><span class="s1">);goog.dom.TagName.SELECT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SELECT&quot;</span><span class="s1">);goog.dom.TagName.SMALL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SMALL&quot;</span><span class="s1">);goog.dom.TagName.SOURCE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SOURCE&quot;</span><span class="s1">);goog.dom.TagName.SPAN=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SPAN&quot;</span><span class="s1">);</span>
<a name="l159"><span class="ln">159  </span></a><span class="s1">goog.dom.TagName.STRIKE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;STRIKE&quot;</span><span class="s1">);goog.dom.TagName.STRONG=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;STRONG&quot;</span><span class="s1">);goog.dom.TagName.STYLE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;STYLE&quot;</span><span class="s1">);goog.dom.TagName.SUB=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SUB&quot;</span><span class="s1">);goog.dom.TagName.SUMMARY=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SUMMARY&quot;</span><span class="s1">);goog.dom.TagName.SUP=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SUP&quot;</span><span class="s1">);goog.dom.TagName.SVG=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;SVG&quot;</span><span class="s1">);goog.dom.TagName.TABLE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TABLE&quot;</span><span class="s1">);goog.dom.TagName.TBODY=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TBODY&quot;</span><span class="s1">);goog.dom.TagName.TD=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TD&quot;</span><span class="s1">);</span>
<a name="l160"><span class="ln">160  </span></a><span class="s1">goog.dom.TagName.TEMPLATE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TEMPLATE&quot;</span><span class="s1">);goog.dom.TagName.TEXTAREA=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TEXTAREA&quot;</span><span class="s1">);goog.dom.TagName.TFOOT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TFOOT&quot;</span><span class="s1">);goog.dom.TagName.TH=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TH&quot;</span><span class="s1">);goog.dom.TagName.THEAD=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;THEAD&quot;</span><span class="s1">);goog.dom.TagName.TIME=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TIME&quot;</span><span class="s1">);goog.dom.TagName.TITLE=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TITLE&quot;</span><span class="s1">);goog.dom.TagName.TR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TR&quot;</span><span class="s1">);goog.dom.TagName.TRACK=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TRACK&quot;</span><span class="s1">);goog.dom.TagName.TT=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;TT&quot;</span><span class="s1">);</span>
<a name="l161"><span class="ln">161  </span></a><span class="s1">goog.dom.TagName.U=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;U&quot;</span><span class="s1">);goog.dom.TagName.UL=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;UL&quot;</span><span class="s1">);goog.dom.TagName.VAR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">);goog.dom.TagName.VIDEO=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;VIDEO&quot;</span><span class="s1">);goog.dom.TagName.WBR=</span><span class="s3">new </span><span class="s1">goog.dom.TagName(</span><span class="s2">&quot;WBR&quot;</span><span class="s1">);goog.dom.tags={};goog.dom.tags.VOID_TAGS_={area:!</span><span class="s4">0</span><span class="s1">,base:!</span><span class="s4">0</span><span class="s1">,br:!</span><span class="s4">0</span><span class="s1">,col:!</span><span class="s4">0</span><span class="s1">,command:!</span><span class="s4">0</span><span class="s1">,embed:!</span><span class="s4">0</span><span class="s1">,hr:!</span><span class="s4">0</span><span class="s1">,img:!</span><span class="s4">0</span><span class="s1">,input:!</span><span class="s4">0</span><span class="s1">,keygen:!</span><span class="s4">0</span><span class="s1">,link:!</span><span class="s4">0</span><span class="s1">,meta:!</span><span class="s4">0</span><span class="s1">,param:!</span><span class="s4">0</span><span class="s1">,source:!</span><span class="s4">0</span><span class="s1">,track:!</span><span class="s4">0</span><span class="s1">,wbr:!</span><span class="s4">0</span><span class="s1">};goog.dom.tags.isVoidTag=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">===goog.dom.tags.VOID_TAGS_[a]};goog.html={};goog.html.trustedtypes={};goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+</span><span class="s2">&quot;#html&quot;</span><span class="s1">):</span><span class="s3">null</span><span class="s1">;goog.string.TypedString=</span><span class="s3">function</span><span class="s1">(){};goog.string.Const=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.stringConstValueWithSecurityContract__googStringSecurityPrivate_=a===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&amp;&amp;b||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_};goog.string.Const.prototype.implementsGoogStringTypedString=!</span><span class="s4">0</span><span class="s1">;goog.string.Const.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.stringConstValueWithSecurityContract__googStringSecurityPrivate_};</span>
<a name="l162"><span class="ln">162  </span></a><span class="s1">goog.string.Const.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;Const{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.stringConstValueWithSecurityContract__googStringSecurityPrivate_+</span><span class="s2">&quot;}&quot;</span><span class="s1">};goog.string.Const.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.string.Const&amp;&amp;a.constructor===goog.string.Const&amp;&amp;a.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_)</span><span class="s3">return </span><span class="s1">a.stringConstValueWithSecurityContract__googStringSecurityPrivate_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type Const, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;'&quot;</span><span class="s1">);</span><span class="s3">return</span><span class="s2">&quot;type_error:Const&quot;</span><span class="s1">};</span>
<a name="l163"><span class="ln">163  </span></a><span class="s1">goog.string.Const.from=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,a)};goog.string.Const.TYPE_MARKER_={};goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={};goog.string.Const.EMPTY=goog.string.Const.from(</span><span class="s2">&quot;&quot;</span><span class="s1">);goog.html.SafeScript=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeScriptWrappedValue_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeScript.prototype.implementsGoogStringTypedString=!</span><span class="s4">0</span><span class="s1">;goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeScript.fromConstant=</span><span class="s3">function</span><span class="s1">(a){a=goog.string.Const.unwrap(a);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">===a.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l164"><span class="ln">164  </span></a><span class="s1">goog.html.SafeScript.fromConstantAndArgs=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=[],d=</span><span class="s4">1</span><span class="s1">;d&lt;arguments.length;d++)c.push(goog.html.SafeScript.stringify_(arguments[d]));</span><span class="s3">return </span><span class="s1">goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;(&quot;</span><span class="s1">+goog.string.Const.unwrap(a)+</span><span class="s2">&quot;)(&quot;</span><span class="s1">+c.join(</span><span class="s2">&quot;, &quot;</span><span class="s1">)+</span><span class="s2">&quot;);&quot;</span><span class="s1">)};goog.html.SafeScript.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(a))};goog.html.SafeScript.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()};</span>
<a name="l165"><span class="ln">165  </span></a><span class="s1">goog.DEBUG&amp;&amp;(goog.html.SafeScript.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;SafeScript{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeScriptWrappedValue_+</span><span class="s2">&quot;}&quot;</span><span class="s1">});goog.html.SafeScript.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeScript.unwrapTrustedScript(a).toString()};</span>
<a name="l166"><span class="ln">166  </span></a><span class="s1">goog.html.SafeScript.unwrapTrustedScript=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeScript&amp;&amp;a.constructor===goog.html.SafeScript&amp;&amp;a.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)</span><span class="s3">return </span><span class="s1">a.privateDoNotAccessOrElseSafeScriptWrappedValue_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type SafeScript, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;' of type &quot;</span><span class="s1">+goog.typeOf(a));</span><span class="s3">return</span><span class="s2">&quot;type_error:SafeScript&quot;</span><span class="s1">};</span>
<a name="l167"><span class="ln">167  </span></a><span class="s1">goog.html.SafeScript.stringify_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">JSON.stringify(a).replace(/&lt;/g,</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">x3c&quot;</span><span class="s1">)};goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(a)};</span>
<a name="l168"><span class="ln">168  </span></a><span class="s1">goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(a):a;</span><span class="s3">return this</span><span class="s1">};goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;&quot;</span><span class="s1">);goog.fs={};goog.fs.url={};goog.fs.url.createObjectUrl=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.fs.url.getUrlObject_().createObjectURL(a)};goog.fs.url.revokeObjectUrl=</span><span class="s3">function</span><span class="s1">(a){goog.fs.url.getUrlObject_().revokeObjectURL(a)};goog.fs.url.getUrlObject_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.fs.url.findUrlObject_();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!=a)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;This browser doesn't seem to support blob URLs&quot;</span><span class="s1">);};</span>
<a name="l169"><span class="ln">169  </span></a><span class="s1">goog.fs.url.findUrlObject_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.isDef(goog.global.URL)&amp;&amp;goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&amp;&amp;goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:</span><span class="s3">null</span><span class="s1">};goog.fs.url.browserSupportsObjectUrls=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return null</span><span class="s1">!=goog.fs.url.findUrlObject_()};goog.i18n={};goog.i18n.bidi={};goog.i18n.bidi.FORCE_RTL=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l170"><span class="ln">170  </span></a><span class="s1">goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(</span><span class="s2">&quot;ar&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;fa&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;he&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;iw&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;ps&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;sd&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;ug&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;ur&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;yi&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">).toLowerCase())&amp;&amp;(</span><span class="s4">2</span><span class="s1">==goog.LOCALE.length||</span>
<a name="l171"><span class="ln">171  </span></a><span class="s2">&quot;-&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">3</span><span class="s1">)||</span><span class="s2">&quot;_&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">3</span><span class="s1">))||</span><span class="s4">3</span><span class="s1">&lt;=goog.LOCALE.length&amp;&amp;</span><span class="s2">&quot;ckb&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">3</span><span class="s1">).toLowerCase()&amp;&amp;(</span><span class="s4">3</span><span class="s1">==goog.LOCALE.length||</span><span class="s2">&quot;-&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">4</span><span class="s1">)||</span><span class="s2">&quot;_&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">4</span><span class="s1">))||</span><span class="s4">7</span><span class="s1">&lt;=goog.LOCALE.length&amp;&amp;(</span><span class="s2">&quot;-&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">3</span><span class="s1">)||</span><span class="s2">&quot;_&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">2</span><span class="s1">,</span><span class="s4">3</span><span class="s1">))&amp;&amp;(</span><span class="s2">&quot;adlm&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">7</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;arab&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">7</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;hebr&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">7</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;nkoo&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span>
<a name="l172"><span class="ln">172  </span></a><span class="s4">7</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;rohg&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">7</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;thaa&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">7</span><span class="s1">).toLowerCase())||</span><span class="s4">8</span><span class="s1">&lt;=goog.LOCALE.length&amp;&amp;(</span><span class="s2">&quot;-&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">4</span><span class="s1">)||</span><span class="s2">&quot;_&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">3</span><span class="s1">,</span><span class="s4">4</span><span class="s1">))&amp;&amp;(</span><span class="s2">&quot;adlm&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">8</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;arab&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">8</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;hebr&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">8</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;nkoo&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">8</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;rohg&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">8</span><span class="s1">).toLowerCase()||</span><span class="s2">&quot;thaa&quot;</span><span class="s1">==goog.LOCALE.substring(</span><span class="s4">4</span><span class="s1">,</span><span class="s4">8</span><span class="s1">).toLowerCase());</span>
<a name="l173"><span class="ln">173  </span></a><span class="s1">goog.i18n.bidi.Format={LRE:</span><span class="s2">&quot;</span><span class="s5">\u202a</span><span class="s2">&quot;</span><span class="s1">,RLE:</span><span class="s2">&quot;</span><span class="s5">\u202b</span><span class="s2">&quot;</span><span class="s1">,PDF:</span><span class="s2">&quot;</span><span class="s5">\u202c</span><span class="s2">&quot;</span><span class="s1">,LRM:</span><span class="s2">&quot;</span><span class="s5">\u200e</span><span class="s2">&quot;</span><span class="s1">,RLM:</span><span class="s2">&quot;</span><span class="s5">\u200f</span><span class="s2">&quot;</span><span class="s1">};goog.i18n.bidi.Dir={LTR:</span><span class="s4">1</span><span class="s1">,RTL:-</span><span class="s4">1</span><span class="s1">,NEUTRAL:</span><span class="s4">0</span><span class="s1">};goog.i18n.bidi.RIGHT=</span><span class="s2">&quot;right&quot;</span><span class="s1">;goog.i18n.bidi.LEFT=</span><span class="s2">&quot;left&quot;</span><span class="s1">;goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT;goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT;</span>
<a name="l174"><span class="ln">174  </span></a><span class="s1">goog.i18n.bidi.toDir=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a?</span><span class="s4">0</span><span class="s1">&lt;a?goog.i18n.bidi.Dir.LTR:</span><span class="s4">0</span><span class="s1">&gt;a?goog.i18n.bidi.Dir.RTL:b?</span><span class="s3">null</span><span class="s1">:goog.i18n.bidi.Dir.NEUTRAL:</span><span class="s3">null</span><span class="s1">==a?</span><span class="s3">null</span><span class="s1">:a?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};goog.i18n.bidi.ltrChars_=</span><span class="s2">&quot;A-Za-z</span><span class="s5">\u00c0</span><span class="s2">-</span><span class="s5">\u00d6\u00d8</span><span class="s2">-</span><span class="s5">\u00f6\u00f8</span><span class="s2">-</span><span class="s5">\u02b8\u0300</span><span class="s2">-</span><span class="s5">\u0590\u0900</span><span class="s2">-</span><span class="s5">\u1fff\u200e\u2c00</span><span class="s2">-</span><span class="s5">\ud801\ud804</span><span class="s2">-</span><span class="s5">\ud839\ud83c</span><span class="s2">-</span><span class="s5">\udbff\uf900</span><span class="s2">-</span><span class="s5">\ufb1c\ufe00</span><span class="s2">-</span><span class="s5">\ufe6f\ufefd</span><span class="s2">-</span><span class="s5">\uffff</span><span class="s2">&quot;</span><span class="s1">;goog.i18n.bidi.rtlChars_=</span><span class="s2">&quot;</span><span class="s5">\u0591</span><span class="s2">-</span><span class="s5">\u06ef\u06fa</span><span class="s2">-</span><span class="s5">\u08ff\u200f\ud802</span><span class="s2">-</span><span class="s5">\ud803\ud83a</span><span class="s2">-</span><span class="s5">\ud83b\ufb1d</span><span class="s2">-</span><span class="s5">\ufdff\ufe70</span><span class="s2">-</span><span class="s5">\ufefc</span><span class="s2">&quot;</span><span class="s1">;</span>
<a name="l175"><span class="ln">175  </span></a><span class="s1">goog.i18n.bidi.htmlSkipReg_=/&lt;[^&gt;]*&gt;|&amp;[^;]+;/g;goog.i18n.bidi.stripHtmlIfNeeded_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b?a.replace(goog.i18n.bidi.htmlSkipReg_,</span><span class="s2">&quot;&quot;</span><span class="s1">):a};goog.i18n.bidi.rtlCharReg_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;[&quot;</span><span class="s1">+goog.i18n.bidi.rtlChars_+</span><span class="s2">&quot;]&quot;</span><span class="s1">);goog.i18n.bidi.ltrCharReg_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;[&quot;</span><span class="s1">+goog.i18n.bidi.ltrChars_+</span><span class="s2">&quot;]&quot;</span><span class="s1">);goog.i18n.bidi.hasAnyRtl=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl;</span>
<a name="l176"><span class="ln">176  </span></a><span class="s1">goog.i18n.bidi.hasAnyLtr=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.ltrRe_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;^[&quot;</span><span class="s1">+goog.i18n.bidi.ltrChars_+</span><span class="s2">&quot;]&quot;</span><span class="s1">);goog.i18n.bidi.rtlRe_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;^[&quot;</span><span class="s1">+goog.i18n.bidi.rtlChars_+</span><span class="s2">&quot;]&quot;</span><span class="s1">);goog.i18n.bidi.isRtlChar=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.rtlRe_.test(a)};goog.i18n.bidi.isLtrChar=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.ltrRe_.test(a)};goog.i18n.bidi.isNeutralChar=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!goog.i18n.bidi.isLtrChar(a)&amp;&amp;!goog.i18n.bidi.isRtlChar(a)};</span>
<a name="l177"><span class="ln">177  </span></a><span class="s1">goog.i18n.bidi.ltrDirCheckRe_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;^[^&quot;</span><span class="s1">+goog.i18n.bidi.rtlChars_+</span><span class="s2">&quot;]*[&quot;</span><span class="s1">+goog.i18n.bidi.ltrChars_+</span><span class="s2">&quot;]&quot;</span><span class="s1">);goog.i18n.bidi.rtlDirCheckRe_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;^[^&quot;</span><span class="s1">+goog.i18n.bidi.ltrChars_+</span><span class="s2">&quot;]*[&quot;</span><span class="s1">+goog.i18n.bidi.rtlChars_+</span><span class="s2">&quot;]&quot;</span><span class="s1">);goog.i18n.bidi.startsWithRtl=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl;</span>
<a name="l178"><span class="ln">178  </span></a><span class="s1">goog.i18n.bidi.startsWithLtr=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr;goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/;goog.i18n.bidi.isNeutralText=</span><span class="s3">function</span><span class="s1">(a,b){a=goog.i18n.bidi.stripHtmlIfNeeded_(a,b);</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.isRequiredLtrRe_.test(a)||!goog.i18n.bidi.hasAnyLtr(a)&amp;&amp;!goog.i18n.bidi.hasAnyRtl(a)};</span>
<a name="l179"><span class="ln">179  </span></a><span class="s1">goog.i18n.bidi.ltrExitDirCheckRe_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;[&quot;</span><span class="s1">+goog.i18n.bidi.ltrChars_+</span><span class="s2">&quot;][^&quot;</span><span class="s1">+goog.i18n.bidi.rtlChars_+</span><span class="s2">&quot;]*$&quot;</span><span class="s1">);goog.i18n.bidi.rtlExitDirCheckRe_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;[&quot;</span><span class="s1">+goog.i18n.bidi.rtlChars_+</span><span class="s2">&quot;][^&quot;</span><span class="s1">+goog.i18n.bidi.ltrChars_+</span><span class="s2">&quot;]*$&quot;</span><span class="s1">);goog.i18n.bidi.endsWithLtr=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr;</span>
<a name="l180"><span class="ln">180  </span></a><span class="s1">goog.i18n.bidi.endsWithRtl=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(a,b))};goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl;goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;goog.i18n.bidi.isRtlLanguage=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.rtlLocalesRe_.test(a)};goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(&lt;.*?&gt;+)/g;</span>
<a name="l181"><span class="ln">181  </span></a><span class="s1">goog.i18n.bidi.guardBracketInText=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b?goog.i18n.bidi.hasAnyRtl(a):b)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;</span><span class="s3">return </span><span class="s1">a.replace(goog.i18n.bidi.bracketGuardTextRe_,c+</span><span class="s2">&quot;$&amp;&quot;</span><span class="s1">+c)};goog.i18n.bidi.enforceRtlInHtml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">==a.charAt(</span><span class="s4">0</span><span class="s1">)?a.replace(/&lt;\w+/,</span><span class="s2">&quot;$&amp; dir=rtl&quot;</span><span class="s1">):</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&lt;span dir=rtl&gt;&quot;</span><span class="s1">+a+</span><span class="s2">&quot;&lt;/span&gt;&quot;</span><span class="s1">};goog.i18n.bidi.enforceRtlInText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.Format.RLE+a+goog.i18n.bidi.Format.PDF};</span>
<a name="l182"><span class="ln">182  </span></a><span class="s1">goog.i18n.bidi.enforceLtrInHtml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">==a.charAt(</span><span class="s4">0</span><span class="s1">)?a.replace(/&lt;\w+/,</span><span class="s2">&quot;$&amp; dir=ltr&quot;</span><span class="s1">):</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&lt;span dir=ltr&gt;&quot;</span><span class="s1">+a+</span><span class="s2">&quot;&lt;/span&gt;&quot;</span><span class="s1">};goog.i18n.bidi.enforceLtrInText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.Format.LRE+a+goog.i18n.bidi.Format.PDF};goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g;goog.i18n.bidi.leftRe_=/left/gi;goog.i18n.bidi.rightRe_=/right/gi;goog.i18n.bidi.tempRe_=/%%%%/g;</span>
<a name="l183"><span class="ln">183  </span></a><span class="s1">goog.i18n.bidi.mirrorCSS=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(goog.i18n.bidi.dimensionsRe_,</span><span class="s2">&quot;:$1 $4 $3 $2&quot;</span><span class="s1">).replace(goog.i18n.bidi.leftRe_,</span><span class="s2">&quot;%%%%&quot;</span><span class="s1">).replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)};goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])</span><span class="s2">&quot;/g;goog.i18n.bidi.singleQuoteSubstituteRe_=/([</span><span class="s5">\u0591</span><span class="s2">-</span><span class="s5">\u05f2</span><span class="s2">])'/g;</span>
<a name="l184"><span class="ln">184  </span></a><span class="s1">goog.i18n.bidi.normalizeHebrewQuote=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,</span><span class="s2">&quot;$1</span><span class="s5">\u05f4</span><span class="s2">&quot;</span><span class="s1">).replace(goog.i18n.bidi.singleQuoteSubstituteRe_,</span><span class="s2">&quot;$1</span><span class="s5">\u05f3</span><span class="s2">&quot;</span><span class="s1">)};goog.i18n.bidi.wordSeparatorRe_=/\s+/;goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/;goog.i18n.bidi.rtlDetectionThreshold_=.</span><span class="s4">4</span><span class="s1">;</span>
<a name="l185"><span class="ln">185  </span></a><span class="s1">goog.i18n.bidi.estimateDirection=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">,e=!</span><span class="s4">1</span><span class="s1">,f=goog.i18n.bidi.stripHtmlIfNeeded_(a,b).split(goog.i18n.bidi.wordSeparatorRe_),g=</span><span class="s4">0</span><span class="s1">;g&lt;f.length;g++){</span><span class="s3">var </span><span class="s1">h=f[g];goog.i18n.bidi.startsWithRtl(h)?(c++,d++):goog.i18n.bidi.isRequiredLtrRe_.test(h)?e=!</span><span class="s4">0</span><span class="s1">:goog.i18n.bidi.hasAnyLtr(h)?d++:goog.i18n.bidi.hasNumeralsRe_.test(h)&amp;&amp;(e=!</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==d?e?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:c/d&gt;goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR};</span>
<a name="l186"><span class="ln">186  </span></a><span class="s1">goog.i18n.bidi.detectRtlDirectionality=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.estimateDirection(a,b)==goog.i18n.bidi.Dir.RTL};goog.i18n.bidi.setElementDirAndAlign=</span><span class="s3">function</span><span class="s1">(a,b){a&amp;&amp;(b=goog.i18n.bidi.toDir(b))&amp;&amp;(a.style.textAlign=b==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,a.dir=b==goog.i18n.bidi.Dir.RTL?</span><span class="s2">&quot;rtl&quot;</span><span class="s1">:</span><span class="s2">&quot;ltr&quot;</span><span class="s1">)};</span>
<a name="l187"><span class="ln">187  </span></a><span class="s1">goog.i18n.bidi.setElementDirByTextDirectionality=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">switch</span><span class="s1">(goog.i18n.bidi.estimateDirection(b)){</span><span class="s3">case </span><span class="s1">goog.i18n.bidi.Dir.LTR:a.dir=</span><span class="s2">&quot;ltr&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.i18n.bidi.Dir.RTL:a.dir=</span><span class="s2">&quot;rtl&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:a.removeAttribute(</span><span class="s2">&quot;dir&quot;</span><span class="s1">)}};goog.i18n.bidi.DirectionalString=</span><span class="s3">function</span><span class="s1">(){};goog.html.TrustedResourceUrl=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.trustedURL_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!</span><span class="s4">0</span><span class="s1">;goog.html.TrustedResourceUrl.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()};</span>
<a name="l188"><span class="ln">188  </span></a><span class="s1">goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!</span><span class="s4">0</span><span class="s1">;goog.html.TrustedResourceUrl.prototype.getDirection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.Dir.LTR};</span>
<a name="l189"><span class="ln">189  </span></a><span class="s1">goog.html.TrustedResourceUrl.prototype.cloneWithParams=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.html.TrustedResourceUrl.unwrap(</span><span class="s3">this</span><span class="s1">);c=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(c);</span><span class="s3">var </span><span class="s1">d=c[</span><span class="s4">3</span><span class="s1">]||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(c[</span><span class="s4">1</span><span class="s1">]+goog.html.TrustedResourceUrl.stringifyParams_(</span><span class="s2">&quot;?&quot;</span><span class="s1">,c[</span><span class="s4">2</span><span class="s1">]||</span><span class="s2">&quot;&quot;</span><span class="s1">,a)+goog.html.TrustedResourceUrl.stringifyParams_(</span><span class="s2">&quot;#&quot;</span><span class="s1">,d,b))};</span>
<a name="l190"><span class="ln">190  </span></a><span class="s1">goog.DEBUG&amp;&amp;(goog.html.TrustedResourceUrl.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;TrustedResourceUrl{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+</span><span class="s2">&quot;}&quot;</span><span class="s1">});goog.html.TrustedResourceUrl.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(a).toString()};</span>
<a name="l191"><span class="ln">191  </span></a><span class="s1">goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.TrustedResourceUrl&amp;&amp;a.constructor===goog.html.TrustedResourceUrl&amp;&amp;a.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)</span><span class="s3">return </span><span class="s1">a.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type TrustedResourceUrl, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;' of type &quot;</span><span class="s1">+goog.typeOf(a));</span><span class="s3">return</span><span class="s2">&quot;type_error:TrustedResourceUrl&quot;</span><span class="s1">};</span>
<a name="l192"><span class="ln">192  </span></a><span class="s1">goog.html.TrustedResourceUrl.unwrapTrustedURL=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.trustedURL_?a.trustedURL_:goog.html.TrustedResourceUrl.unwrap(a)};</span>
<a name="l193"><span class="ln">193  </span></a><span class="s1">goog.html.TrustedResourceUrl.format=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.string.Const.unwrap(a);</span><span class="s3">if</span><span class="s1">(!goog.html.TrustedResourceUrl.BASE_URL_.test(c))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid TrustedResourceUrl format: &quot;</span><span class="s1">+c);</span><span class="s3">var </span><span class="s1">d=c.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,</span><span class="s3">function</span><span class="s1">(a,d){</span><span class="s3">if</span><span class="s1">(!Object.prototype.hasOwnProperty.call(b,d))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Found marker, &quot;'</span><span class="s1">+d+</span><span class="s2">'&quot;, in format string, &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot;, but no valid label mapping found in args: '</span><span class="s1">+JSON.stringify(b));</span><span class="s3">var </span><span class="s1">e=b[d];</span><span class="s3">return </span><span class="s1">e </span><span class="s3">instanceof </span><span class="s1">goog.string.Const?goog.string.Const.unwrap(e):</span>
<a name="l194"><span class="ln">194  </span></a><span class="s1">encodeURIComponent(String(e))});</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(d)};goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g;goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i;goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/;</span>
<a name="l195"><span class="ln">195  </span></a><span class="s1">goog.html.TrustedResourceUrl.formatWithParams=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.format(a,b).cloneWithParams(c,d)};goog.html.TrustedResourceUrl.fromConstant=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};goog.html.TrustedResourceUrl.fromConstants=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;&quot;</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)b+=goog.string.Const.unwrap(a[c]);</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};</span>
<a name="l196"><span class="ln">196  </span></a><span class="s1">goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};</span>
<a name="l197"><span class="ln">197  </span></a><span class="s1">goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.html.TrustedResourceUrl;b.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(a):a;goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&amp;&amp;(b.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(a));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l198"><span class="ln">198  </span></a><span class="s1">goog.html.TrustedResourceUrl.stringifyParams_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">==c)</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">if</span><span class="s1">(goog.isString(c))</span><span class="s3">return </span><span class="s1">c?a+encodeURIComponent(c):</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">c){</span><span class="s3">var </span><span class="s1">e=c[d];e=goog.isArray(e)?e:[e];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;e.length;f++){</span><span class="s3">var </span><span class="s1">g=e[f];</span><span class="s3">null</span><span class="s1">!=g&amp;&amp;(b||(b=a),b+=(b.length&gt;a.length?</span><span class="s2">&quot;&amp;&quot;</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">)+encodeURIComponent(d)+</span><span class="s2">&quot;=&quot;</span><span class="s1">+encodeURIComponent(String(g)))}}</span><span class="s3">return </span><span class="s1">b};goog.html.SafeUrl=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeUrlWrappedValue_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeUrl.INNOCUOUS_STRING=</span><span class="s2">&quot;about:invalid#zClosurez&quot;</span><span class="s1">;goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!</span><span class="s4">0</span><span class="s1">;goog.html.SafeUrl.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()};</span>
<a name="l199"><span class="ln">199  </span></a><span class="s1">goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!</span><span class="s4">0</span><span class="s1">;goog.html.SafeUrl.prototype.getDirection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.i18n.bidi.Dir.LTR};goog.DEBUG&amp;&amp;(goog.html.SafeUrl.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;SafeUrl{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeUrlWrappedValue_+</span><span class="s2">&quot;}&quot;</span><span class="s1">});goog.html.SafeUrl.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.unwrapTrustedURL(a).toString()};</span>
<a name="l200"><span class="ln">200  </span></a><span class="s1">goog.html.SafeUrl.unwrapTrustedURL=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl&amp;&amp;a.constructor===goog.html.SafeUrl&amp;&amp;a.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)</span><span class="s3">return </span><span class="s1">a.privateDoNotAccessOrElseSafeUrlWrappedValue_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type SafeUrl, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;' of type &quot;</span><span class="s1">+goog.typeOf(a));</span><span class="s3">return</span><span class="s2">&quot;type_error:SafeUrl&quot;</span><span class="s1">};goog.html.SafeUrl.fromConstant=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(a))};</span>
<a name="l201"><span class="ln">201  </span></a><span class="s1">goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:</span><span class="s4">3</span><span class="s1">gpp2|</span><span class="s4">3</span><span class="s1">gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|</span><span class="s2">&quot;[</span><span class="s6">\w</span><span class="s2">;=]+&quot;</span><span class="s1">))*$/i;goog.html.SafeUrl.isSafeMimeType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SAFE_MIME_TYPE_PATTERN_.test(a)};goog.html.SafeUrl.fromBlob=</span><span class="s3">function</span><span class="s1">(a){a=goog.html.SAFE_MIME_TYPE_PATTERN_.test(a.type)?goog.fs.url.createObjectUrl(a):goog.html.SafeUrl.INNOCUOUS_STRING;</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l202"><span class="ln">202  </span></a><span class="s1">goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i;goog.html.SafeUrl.fromDataUrl=</span><span class="s3">function</span><span class="s1">(a){a=a.replace(/(%</span><span class="s4">0</span><span class="s1">A|%</span><span class="s4">0</span><span class="s1">D)/g,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=a.match(goog.html.DATA_URL_PATTERN_);b=b&amp;&amp;goog.html.SAFE_MIME_TYPE_PATTERN_.test(b[</span><span class="s4">1</span><span class="s1">]);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b?a:goog.html.SafeUrl.INNOCUOUS_STRING)};goog.html.SafeUrl.fromTelUrl=</span><span class="s3">function</span><span class="s1">(a){goog.string.internal.caseInsensitiveStartsWith(a,</span><span class="s2">&quot;tel:&quot;</span><span class="s1">)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l203"><span class="ln">203  </span></a><span class="s1">goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&amp;</span><span class="s2">'*</span><span class="s6">\/</span><span class="s2">=^`{|}~-]+@([a-z0-9-]+</span><span class="s6">\.</span><span class="s2">)+[a-z0-9]{2,63}$/i;goog.html.SafeUrl.fromSipUrl=function(a){goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(a))||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromFacebookMessengerUrl=function(a){goog.string.internal.caseInsensitiveStartsWith(a,&quot;fb-messenger://share&quot;)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l204"><span class="ln">204  </span></a><span class="s1">goog.html.SafeUrl.fromWhatsAppUrl=</span><span class="s3">function</span><span class="s1">(a){goog.string.internal.caseInsensitiveStartsWith(a,</span><span class="s2">&quot;whatsapp://send&quot;</span><span class="s1">)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeUrl.fromSmsUrl=</span><span class="s3">function</span><span class="s1">(a){goog.string.internal.caseInsensitiveStartsWith(a,</span><span class="s2">&quot;sms:&quot;</span><span class="s1">)&amp;&amp;goog.html.SafeUrl.isSmsUrlBodyValid_(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l205"><span class="ln">205  </span></a><span class="s1">goog.html.SafeUrl.isSmsUrlBodyValid_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.indexOf(</span><span class="s2">&quot;#&quot;</span><span class="s1">);</span><span class="s4">0</span><span class="s1">&lt;b&amp;&amp;(a=a.substring(</span><span class="s4">0</span><span class="s1">,b));b=a.match(/[?&amp;]body=/gi);</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">&lt;b.length)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;a=a.match(/[?&amp;]body=([^&amp;]*)/)[</span><span class="s4">1</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{decodeURIComponent(a)}</span><span class="s3">catch</span><span class="s1">(c){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return</span><span class="s1">/^(?:[a-z0-9\-_.~]|%[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">a-f]{</span><span class="s4">2</span><span class="s1">})+$/i.test(a)};goog.html.SafeUrl.fromSshUrl=</span><span class="s3">function</span><span class="s1">(a){goog.string.internal.caseInsensitiveStartsWith(a,</span><span class="s2">&quot;ssh://&quot;</span><span class="s1">)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l206"><span class="ln">206  </span></a><span class="s1">goog.html.SafeUrl.sanitizeChromeExtensionUrl=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\</span><span class="s0">//,a,b)};goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(a,b){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,a,b)};goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(a,b){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,a,b)};</span>
<a name="l207"><span class="ln">207  </span></a><span class="s1">goog.html.SafeUrl.sanitizeExtensionUrl_=</span><span class="s3">function</span><span class="s1">(a,b,c){(a=a.exec(b))?(a=a[</span><span class="s4">1</span><span class="s1">],-</span><span class="s4">1</span><span class="s1">==(c </span><span class="s3">instanceof </span><span class="s1">goog.string.Const?[goog.string.Const.unwrap(c)]:c.map(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.string.Const.unwrap(a)})).indexOf(a)&amp;&amp;(b=goog.html.SafeUrl.INNOCUOUS_STRING)):b=goog.html.SafeUrl.INNOCUOUS_STRING;</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};goog.html.SafeUrl.fromTrustedResourceUrl=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(a))};</span>
<a name="l208"><span class="ln">208  </span></a><span class="s1">goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_;goog.html.SafeUrl.sanitize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl)</span><span class="s3">return </span><span class="s1">a;a=</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);goog.html.SAFE_URL_PATTERN_.test(a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l209"><span class="ln">209  </span></a><span class="s1">goog.html.SafeUrl.sanitizeAssertUnchanged=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl)</span><span class="s3">return </span><span class="s1">a;a=</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);</span><span class="s3">if</span><span class="s1">(b&amp;&amp;/^data:/i.test(a)){</span><span class="s3">var </span><span class="s1">c=goog.html.SafeUrl.fromDataUrl(a);</span><span class="s3">if</span><span class="s1">(c.getTypedStringValue()==a)</span><span class="s3">return </span><span class="s1">c}goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(a),</span><span class="s2">&quot;%s does not match the safe URL pattern&quot;</span><span class="s1">,a)||(a=goog.html.SafeUrl.INNOCUOUS_STRING);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l210"><span class="ln">210  </span></a><span class="s1">goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.html.SafeUrl;b.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(a):a;</span><span class="s3">return </span><span class="s1">b};goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;about:blank&quot;</span><span class="s1">);goog.html.SafeStyle=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleWrappedValue_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!</span><span class="s4">0</span><span class="s1">;goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};</span>
<a name="l211"><span class="ln">211  </span></a><span class="s1">goog.html.SafeStyle.fromConstant=</span><span class="s3">function</span><span class="s1">(a){a=goog.string.Const.unwrap(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">===a.length)</span><span class="s3">return </span><span class="s1">goog.html.SafeStyle.EMPTY;goog.asserts.assert(goog.string.internal.endsWith(a,</span><span class="s2">&quot;;&quot;</span><span class="s1">),</span><span class="s2">&quot;Last character of style string is not ';': &quot;</span><span class="s1">+a);goog.asserts.assert(goog.string.internal.contains(a,</span><span class="s2">&quot;:&quot;</span><span class="s1">),</span><span class="s2">&quot;Style string must contain at least one ':', to specify a </span><span class="s5">\&quot;</span><span class="s2">name: value</span><span class="s5">\&quot; </span><span class="s2">pair: &quot;</span><span class="s1">+a);</span><span class="s3">return </span><span class="s1">goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(a)};</span>
<a name="l212"><span class="ln">212  </span></a><span class="s1">goog.html.SafeStyle.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleWrappedValue_};goog.DEBUG&amp;&amp;(goog.html.SafeStyle.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;SafeStyle{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleWrappedValue_+</span><span class="s2">&quot;}&quot;</span><span class="s1">});</span>
<a name="l213"><span class="ln">213  </span></a><span class="s1">goog.html.SafeStyle.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeStyle&amp;&amp;a.constructor===goog.html.SafeStyle&amp;&amp;a.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)</span><span class="s3">return </span><span class="s1">a.privateDoNotAccessOrElseSafeStyleWrappedValue_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type SafeStyle, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;' of type &quot;</span><span class="s1">+goog.typeOf(a));</span><span class="s3">return</span><span class="s2">&quot;type_error:SafeStyle&quot;</span><span class="s1">};goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(a)};</span>
<a name="l214"><span class="ln">214  </span></a><span class="s1">goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleWrappedValue_=a;</span><span class="s3">return this</span><span class="s1">};goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;&quot;</span><span class="s1">);goog.html.SafeStyle.INNOCUOUS_STRING=</span><span class="s2">&quot;zClosurez&quot;</span><span class="s1">;</span>
<a name="l215"><span class="ln">215  </span></a><span class="s1">goog.html.SafeStyle.create=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;&quot;</span><span class="s1">,c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a){</span><span class="s3">if</span><span class="s1">(!/^[-_a-zA-Z0-9]+$/.test(c))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Name allows only [-_a-zA-Z0-9], got: &quot;</span><span class="s1">+c);</span><span class="s3">var </span><span class="s1">d=a[c];</span><span class="s3">null</span><span class="s1">!=d&amp;&amp;(d=goog.isArray(d)?goog.array.map(d,goog.html.SafeStyle.sanitizePropertyValue_).join(</span><span class="s2">&quot; &quot;</span><span class="s1">):goog.html.SafeStyle.sanitizePropertyValue_(d),b+=c+</span><span class="s2">&quot;:&quot;</span><span class="s1">+d+</span><span class="s2">&quot;;&quot;</span><span class="s1">)}</span><span class="s3">return </span><span class="s1">b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};</span>
<a name="l216"><span class="ln">216  </span></a><span class="s1">goog.html.SafeStyle.sanitizePropertyValue_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl)</span><span class="s3">return</span><span class="s2">'url(&quot;'</span><span class="s1">+goog.html.SafeUrl.unwrap(a).replace(/&lt;/g,</span><span class="s2">&quot;%3c&quot;</span><span class="s1">).replace(/[\\</span><span class="s2">&quot;]/g,&quot;</span><span class="s1">\\$&amp;</span><span class="s2">&quot;)+'&quot;</span><span class="s1">)</span><span class="s2">';a=a instanceof goog.string.Const?goog.string.Const.unwrap(a):goog.html.SafeStyle.sanitizePropertyValueString_(String(a));if(/[{;}]/.test(a))throw new goog.asserts.AssertionError(&quot;Value does not allow [{;}], got: %s.&quot;,[a]);return a};</span>
<a name="l217"><span class="ln">217  </span></a><span class="s1">goog.html.SafeStyle.sanitizePropertyValueString_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.replace(goog.html.SafeStyle.FUNCTIONS_RE_,</span><span class="s2">&quot;$1&quot;</span><span class="s1">).replace(goog.html.SafeStyle.FUNCTIONS_RE_,</span><span class="s2">&quot;$1&quot;</span><span class="s1">).replace(goog.html.SafeStyle.URL_RE_,</span><span class="s2">&quot;url&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.html.SafeStyle.VALUE_RE_.test(b)){</span><span class="s3">if</span><span class="s1">(goog.html.SafeStyle.COMMENT_RE_.test(a))</span><span class="s3">return </span><span class="s1">goog.asserts.fail(</span><span class="s2">&quot;String value disallows comments, got: &quot;</span><span class="s1">+a),goog.html.SafeStyle.INNOCUOUS_STRING;</span><span class="s3">if</span><span class="s1">(!goog.html.SafeStyle.hasBalancedQuotes_(a))</span><span class="s3">return </span><span class="s1">goog.asserts.fail(</span><span class="s2">&quot;String value requires balanced quotes, got: &quot;</span><span class="s1">+</span>
<a name="l218"><span class="ln">218  </span></a><span class="s1">a),goog.html.SafeStyle.INNOCUOUS_STRING;</span><span class="s3">if</span><span class="s1">(!goog.html.SafeStyle.hasBalancedSquareBrackets_(a))</span><span class="s3">return </span><span class="s1">goog.asserts.fail(</span><span class="s2">&quot;String value requires balanced square brackets and one identifier per pair of brackets, got: &quot;</span><span class="s1">+a),goog.html.SafeStyle.INNOCUOUS_STRING}</span><span class="s3">else return </span><span class="s1">goog.asserts.fail(</span><span class="s2">&quot;String value allows only &quot;</span><span class="s1">+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+</span><span class="s2">&quot; and simple functions, got: &quot;</span><span class="s1">+a),goog.html.SafeStyle.INNOCUOUS_STRING;</span><span class="s3">return </span><span class="s1">goog.html.SafeStyle.sanitizeUrl_(a)};</span>
<a name="l219"><span class="ln">219  </span></a><span class="s1">goog.html.SafeStyle.hasBalancedQuotes_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">0</span><span class="s1">,c=!</span><span class="s4">0</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=a.charAt(d);</span><span class="s2">&quot;'&quot;</span><span class="s1">==e&amp;&amp;c?b=!b:</span><span class="s2">'&quot;'</span><span class="s1">==e&amp;&amp;b&amp;&amp;(c=!c)}</span><span class="s3">return </span><span class="s1">b&amp;&amp;c};goog.html.SafeStyle.hasBalancedSquareBrackets_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">0</span><span class="s1">,c=/^[-_a-zA-Z0-9]$/,d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=a.charAt(d);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;]&quot;</span><span class="s1">==e){</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;b=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">else if</span><span class="s1">(</span><span class="s2">&quot;[&quot;</span><span class="s1">==e){</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;b=!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">else if</span><span class="s1">(!b&amp;&amp;!c.test(e))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return </span><span class="s1">b};goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=</span><span class="s2">&quot;[-,.</span><span class="s5">\&quot;</span><span class="s2">'%_!# a-zA-Z0-9</span><span class="s5">\\</span><span class="s2">[</span><span class="s5">\\</span><span class="s2">]]&quot;</span><span class="s1">;</span>
<a name="l220"><span class="ln">220  </span></a><span class="s1">goog.html.SafeStyle.VALUE_RE_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;^&quot;</span><span class="s1">+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+</span><span class="s2">&quot;+$&quot;</span><span class="s1">);goog.html.SafeStyle.URL_RE_=RegExp(</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">b(url</span><span class="s5">\\</span><span class="s2">([ </span><span class="s5">\t\n</span><span class="s2">]*)('[ -&amp;(-</span><span class="s5">\\</span><span class="s2">[</span><span class="s5">\\</span><span class="s2">]-~]*'|</span><span class="s5">\&quot;</span><span class="s2">[ !#-</span><span class="s5">\\</span><span class="s2">[</span><span class="s5">\\</span><span class="s2">]-~]*</span><span class="s5">\&quot;</span><span class="s2">|[!#-&amp;*-</span><span class="s5">\\</span><span class="s2">[</span><span class="s5">\\</span><span class="s2">]-~]*)([ </span><span class="s5">\t\n</span><span class="s2">]*</span><span class="s5">\\</span><span class="s2">))&quot;</span><span class="s1">,</span><span class="s2">&quot;g&quot;</span><span class="s1">);goog.html.SafeStyle.FUNCTIONS_RE_=RegExp(</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)</span><span class="s5">\\</span><span class="s2">([-+*/0-9a-z.%</span><span class="s5">\\</span><span class="s2">[</span><span class="s5">\\</span><span class="s2">], ]+</span><span class="s5">\\</span><span class="s2">)&quot;</span><span class="s1">,</span><span class="s2">&quot;g&quot;</span><span class="s1">);goog.html.SafeStyle.COMMENT_RE_=/\/\*/;</span>
<a name="l221"><span class="ln">221  </span></a><span class="s1">goog.html.SafeStyle.sanitizeUrl_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(goog.html.SafeStyle.URL_RE_,</span><span class="s3">function</span><span class="s1">(a,c,d,e){</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;&quot;</span><span class="s1">;d=d.replace(/^([</span><span class="s2">'&quot;])(.*)</span><span class="s5">\1</span><span class="s2">$/,function(a,c,d){b=c;return d});a=goog.html.SafeUrl.sanitize(d).getTypedStringValue();return c+b+a+b+e})};goog.html.SafeStyle.concat=function(a){var b=&quot;&quot;,c=function(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyle.unwrap(a)};goog.array.forEach(arguments,c);return b?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b):goog.html.SafeStyle.EMPTY};goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=&quot;&quot;;this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_};goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0;goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};</span>
<a name="l222"><span class="ln">222  </span></a><span class="s1">goog.html.SafeStyleSheet.createRule=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.string.internal.contains(a,</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Selector does not allow '&lt;', got: &quot;</span><span class="s1">+a);</span><span class="s3">var </span><span class="s1">c=a.replace(/(</span><span class="s2">'|&quot;)((?!</span><span class="s5">\1</span><span class="s2">)[^</span><span class="s5">\r\n\f\\</span><span class="s2">]|</span><span class="s5">\\</span><span class="s2">[</span><span class="s6">\s\S</span><span class="s2">])*</span><span class="s5">\1</span><span class="s2">/g,&quot;&quot;);if(!/^[-_a-zA-Z0-9#.:* ,&gt;+~[</span><span class="s6">\]</span><span class="s2">()=^$|]+$/.test(c))throw Error(&quot;Selector allows only [-_a-zA-Z0-9#.:* ,&gt;+~[</span><span class="s5">\\</span><span class="s2">]()=^$|] and strings, got: &quot;+a);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(c))throw Error(&quot;() and [] in selector must be balanced, got: &quot;+a);b instanceof goog.html.SafeStyle||(b=goog.html.SafeStyle.create(b));</span>
<a name="l223"><span class="ln">223  </span></a><span class="s1">c=a+</span><span class="s2">&quot;{&quot;</span><span class="s1">+goog.html.SafeStyle.unwrap(b).replace(/&lt;/g,</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">3C &quot;</span><span class="s1">)+</span><span class="s2">&quot;}&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(c)};goog.html.SafeStyleSheet.hasBalancedBrackets_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b={</span><span class="s2">&quot;(&quot;</span><span class="s1">:</span><span class="s2">&quot;)&quot;</span><span class="s1">,</span><span class="s2">&quot;[&quot;</span><span class="s1">:</span><span class="s2">&quot;]&quot;</span><span class="s1">},c=[],d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=a[d];</span><span class="s3">if</span><span class="s1">(b[e])c.push(b[e]);</span><span class="s3">else if</span><span class="s1">(goog.object.contains(b,e)&amp;&amp;c.pop()!=e)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==c.length};</span>
<a name="l224"><span class="ln">224  </span></a><span class="s1">goog.html.SafeStyleSheet.concat=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;&quot;</span><span class="s1">,c=</span><span class="s3">function</span><span class="s1">(a){goog.isArray(a)?goog.array.forEach(a,c):b+=goog.html.SafeStyleSheet.unwrap(a)};goog.array.forEach(arguments,c);</span><span class="s3">return </span><span class="s1">goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};</span>
<a name="l225"><span class="ln">225  </span></a><span class="s1">goog.html.SafeStyleSheet.fromConstant=</span><span class="s3">function</span><span class="s1">(a){a=goog.string.Const.unwrap(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">===a.length)</span><span class="s3">return </span><span class="s1">goog.html.SafeStyleSheet.EMPTY;goog.asserts.assert(!goog.string.internal.contains(a,</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">),</span><span class="s2">&quot;Forbidden '&lt;' character in style sheet string: &quot;</span><span class="s1">+a);</span><span class="s3">return </span><span class="s1">goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(a)};goog.html.SafeStyleSheet.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_};</span>
<a name="l226"><span class="ln">226  </span></a><span class="s1">goog.DEBUG&amp;&amp;(goog.html.SafeStyleSheet.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;SafeStyleSheet{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+</span><span class="s2">&quot;}&quot;</span><span class="s1">});</span>
<a name="l227"><span class="ln">227  </span></a><span class="s1">goog.html.SafeStyleSheet.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeStyleSheet&amp;&amp;a.constructor===goog.html.SafeStyleSheet&amp;&amp;a.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)</span><span class="s3">return </span><span class="s1">a.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type SafeStyleSheet, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;' of type &quot;</span><span class="s1">+goog.typeOf(a));</span><span class="s3">return</span><span class="s2">&quot;type_error:SafeStyleSheet&quot;</span><span class="s1">};</span>
<a name="l228"><span class="ln">228  </span></a><span class="s1">goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(a)};goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=a;</span><span class="s3">return this</span><span class="s1">};goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;&quot;</span><span class="s1">);goog.html.SafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeHtmlWrappedValue_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_;</span><span class="s3">this</span><span class="s1">.dir_=</span><span class="s3">null</span><span class="s1">};goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!</span><span class="s4">0</span><span class="s1">;goog.html.SafeHtml.prototype.getDirection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.dir_};goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!</span><span class="s4">0</span><span class="s1">;goog.html.SafeHtml.prototype.getTypedStringValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()};</span>
<a name="l229"><span class="ln">229  </span></a><span class="s1">goog.DEBUG&amp;&amp;(goog.html.SafeHtml.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;SafeHtml{&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeHtmlWrappedValue_+</span><span class="s2">&quot;}&quot;</span><span class="s1">});goog.html.SafeHtml.unwrap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.unwrapTrustedHTML(a).toString()};</span>
<a name="l230"><span class="ln">230  </span></a><span class="s1">goog.html.SafeHtml.unwrapTrustedHTML=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeHtml&amp;&amp;a.constructor===goog.html.SafeHtml&amp;&amp;a.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_)</span><span class="s3">return </span><span class="s1">a.privateDoNotAccessOrElseSafeHtmlWrappedValue_;goog.asserts.fail(</span><span class="s2">&quot;expected object of type SafeHtml, got '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;' of type &quot;</span><span class="s1">+goog.typeOf(a));</span><span class="s3">return</span><span class="s2">&quot;type_error:SafeHtml&quot;</span><span class="s1">};</span>
<a name="l231"><span class="ln">231  </span></a><span class="s1">goog.html.SafeHtml.htmlEscape=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeHtml)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a,c=</span><span class="s3">null</span><span class="s1">;b&amp;&amp;a.implementsGoogI18nBidiDirectionalString&amp;&amp;(c=a.getDirection());a=b&amp;&amp;a.implementsGoogStringTypedString?a.getTypedStringValue():String(a);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(a),c)};</span>
<a name="l232"><span class="ln">232  </span></a><span class="s1">goog.html.SafeHtml.htmlEscapePreservingNewlines=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeHtml)</span><span class="s3">return </span><span class="s1">a;a=goog.html.SafeHtml.htmlEscape(a);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(a)),a.getDirection())};</span>
<a name="l233"><span class="ln">233  </span></a><span class="s1">goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeHtml)</span><span class="s3">return </span><span class="s1">a;a=goog.html.SafeHtml.htmlEscape(a);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(a)),a.getDirection())};goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape;goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/;</span>
<a name="l234"><span class="ln">234  </span></a><span class="s1">goog.html.SafeHtml.URL_ATTRIBUTES_={action:!</span><span class="s4">0</span><span class="s1">,cite:!</span><span class="s4">0</span><span class="s1">,data:!</span><span class="s4">0</span><span class="s1">,formaction:!</span><span class="s4">0</span><span class="s1">,href:!</span><span class="s4">0</span><span class="s1">,manifest:!</span><span class="s4">0</span><span class="s1">,poster:!</span><span class="s4">0</span><span class="s1">,src:!</span><span class="s4">0</span><span class="s1">};goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!</span><span class="s4">0</span><span class="s1">,BASE:!</span><span class="s4">0</span><span class="s1">,EMBED:!</span><span class="s4">0</span><span class="s1">,IFRAME:!</span><span class="s4">0</span><span class="s1">,LINK:!</span><span class="s4">0</span><span class="s1">,MATH:!</span><span class="s4">0</span><span class="s1">,META:!</span><span class="s4">0</span><span class="s1">,OBJECT:!</span><span class="s4">0</span><span class="s1">,SCRIPT:!</span><span class="s4">0</span><span class="s1">,STYLE:!</span><span class="s4">0</span><span class="s1">,SVG:!</span><span class="s4">0</span><span class="s1">,TEMPLATE:!</span><span class="s4">0</span><span class="s1">};goog.html.SafeHtml.create=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.html.SafeHtml.verifyTagName(String(a));</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(a),b,c)};</span>
<a name="l235"><span class="ln">235  </span></a><span class="s1">goog.html.SafeHtml.verifyTagName=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid tag name &lt;&quot;</span><span class="s1">+a+</span><span class="s2">&quot;&gt;.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.toUpperCase()</span><span class="s3">in </span><span class="s1">goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tag name &lt;&quot;</span><span class="s1">+a+</span><span class="s2">&quot;&gt; is not allowed for SafeHtml.&quot;</span><span class="s1">);};</span>
<a name="l236"><span class="ln">236  </span></a><span class="s1">goog.html.SafeHtml.createIframe=</span><span class="s3">function</span><span class="s1">(a,b,c,d){a&amp;&amp;goog.html.TrustedResourceUrl.unwrap(a);</span><span class="s3">var </span><span class="s1">e={};e.src=a||</span><span class="s3">null</span><span class="s1">;e.srcdoc=b&amp;&amp;goog.html.SafeHtml.unwrap(b);a=goog.html.SafeHtml.combineAttributes(e,{sandbox:</span><span class="s2">&quot;&quot;</span><span class="s1">},c);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;iframe&quot;</span><span class="s1">,a,d)};</span>
<a name="l237"><span class="ln">237  </span></a><span class="s1">goog.html.SafeHtml.createSandboxIframe=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(!goog.html.SafeHtml.canUseSandboxIframe())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;The browser does not support sandboxed iframes.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e={};e.src=a?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a)):</span><span class="s3">null</span><span class="s1">;e.srcdoc=b||</span><span class="s3">null</span><span class="s1">;e.sandbox=</span><span class="s2">&quot;&quot;</span><span class="s1">;a=goog.html.SafeHtml.combineAttributes(e,{},c);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;iframe&quot;</span><span class="s1">,a,d)};</span>
<a name="l238"><span class="ln">238  </span></a><span class="s1">goog.html.SafeHtml.canUseSandboxIframe=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.global.HTMLIFrameElement&amp;&amp;</span><span class="s2">&quot;sandbox&quot;</span><span class="s3">in </span><span class="s1">goog.global.HTMLIFrameElement.prototype};goog.html.SafeHtml.createScriptSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.html.TrustedResourceUrl.unwrap(a);</span><span class="s3">var </span><span class="s1">c=goog.html.SafeHtml.combineAttributes({src:a},{},b);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;script&quot;</span><span class="s1">,c)};</span>
<a name="l239"><span class="ln">239  </span></a><span class="s1">goog.html.SafeHtml.createScript=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in </span><span class="s1">b){</span><span class="s3">var </span><span class="s1">d=c.toLowerCase();</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;language&quot;</span><span class="s1">==d||</span><span class="s2">&quot;src&quot;</span><span class="s1">==d||</span><span class="s2">&quot;text&quot;</span><span class="s1">==d||</span><span class="s2">&quot;type&quot;</span><span class="s1">==d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Cannot set &quot;'</span><span class="s1">+d+</span><span class="s2">'&quot; attribute'</span><span class="s1">);}c=</span><span class="s2">&quot;&quot;</span><span class="s1">;a=goog.array.concat(a);</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)c+=goog.html.SafeScript.unwrap(a[d]);c=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c,goog.i18n.bidi.Dir.NEUTRAL);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;script&quot;</span><span class="s1">,b,c)};</span>
<a name="l240"><span class="ln">240  </span></a><span class="s1">goog.html.SafeHtml.createStyle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.html.SafeHtml.combineAttributes({type:</span><span class="s2">&quot;text/css&quot;</span><span class="s1">},{},b),d=</span><span class="s2">&quot;&quot;</span><span class="s1">;a=goog.array.concat(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;e++)d+=goog.html.SafeStyleSheet.unwrap(a[e]);d=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d,goog.i18n.bidi.Dir.NEUTRAL);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;style&quot;</span><span class="s1">,c,d)};</span>
<a name="l241"><span class="ln">241  </span></a><span class="s1">goog.html.SafeHtml.createMetaRefresh=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(a));(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&amp;&amp;goog.string.internal.contains(c,</span><span class="s2">&quot;;&quot;</span><span class="s1">)&amp;&amp;(c=</span><span class="s2">&quot;'&quot;</span><span class="s1">+c.replace(/</span><span class="s2">'/g,&quot;%27&quot;)+&quot;'&quot;);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(&quot;</span><span class="s1">meta</span><span class="s2">&quot;,{&quot;</span><span class="s1">http-equiv</span><span class="s2">&quot;:&quot;</span><span class="s1">refresh</span><span class="s2">&quot;,content:(b||0)+&quot;</span><span class="s1">; url=</span><span class="s2">&quot;+c})};</span>
<a name="l242"><span class="ln">242  </span></a><span class="s1">goog.html.SafeHtml.getAttrNameAndValue_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(c </span><span class="s3">instanceof </span><span class="s1">goog.string.Const)c=goog.string.Const.unwrap(c);</span><span class="s3">else if</span><span class="s1">(</span><span class="s2">&quot;style&quot;</span><span class="s1">==b.toLowerCase())c=goog.html.SafeHtml.getStyleValue_(c);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(/^on/i.test(b))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Attribute &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot; requires goog.string.Const value, &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot; given.'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b.toLowerCase()</span><span class="s3">in </span><span class="s1">goog.html.SafeHtml.URL_ATTRIBUTES_)</span><span class="s3">if</span><span class="s1">(c </span><span class="s3">instanceof </span><span class="s1">goog.html.TrustedResourceUrl)c=goog.html.TrustedResourceUrl.unwrap(c);</span><span class="s3">else if</span><span class="s1">(c </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl)c=goog.html.SafeUrl.unwrap(c);</span>
<a name="l243"><span class="ln">243  </span></a><span class="s3">else if</span><span class="s1">(goog.isString(c))c=goog.html.SafeUrl.sanitize(c).getTypedStringValue();</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">'Attribute &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot; on tag &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; requires goog.html.SafeUrl, goog.string.Const, or string, value &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot; given.'</span><span class="s1">);}c.implementsGoogStringTypedString&amp;&amp;(c=c.getTypedStringValue());goog.asserts.assert(goog.isString(c)||goog.isNumber(c),</span><span class="s2">&quot;String or number value expected, got &quot;</span><span class="s1">+</span><span class="s3">typeof </span><span class="s1">c+</span><span class="s2">&quot; with value: &quot;</span><span class="s1">+c);</span><span class="s3">return </span><span class="s1">b+</span><span class="s2">'=&quot;'</span><span class="s1">+goog.string.internal.htmlEscape(String(c))+</span><span class="s2">'&quot;'</span><span class="s1">};</span>
<a name="l244"><span class="ln">244  </span></a><span class="s1">goog.html.SafeHtml.getStyleValue_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!goog.isObject(a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'The &quot;style&quot; attribute requires goog.html.SafeStyle or map of style properties, '</span><span class="s1">+</span><span class="s3">typeof </span><span class="s1">a+</span><span class="s2">&quot; given: &quot;</span><span class="s1">+a);a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeStyle||(a=goog.html.SafeStyle.create(a));</span><span class="s3">return </span><span class="s1">goog.html.SafeStyle.unwrap(a)};goog.html.SafeHtml.createWithDir=</span><span class="s3">function</span><span class="s1">(a,b,c,d){b=goog.html.SafeHtml.create(b,c,d);b.dir_=a;</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l245"><span class="ln">245  </span></a><span class="s1">goog.html.SafeHtml.join=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.html.SafeHtml.htmlEscape(a),d=c.getDirection(),e=[],f=</span><span class="s3">function</span><span class="s1">(a){goog.isArray(a)?goog.array.forEach(a,f):(a=goog.html.SafeHtml.htmlEscape(a),e.push(goog.html.SafeHtml.unwrap(a)),a=a.getDirection(),d==goog.i18n.bidi.Dir.NEUTRAL?d=a:a!=goog.i18n.bidi.Dir.NEUTRAL&amp;&amp;d!=a&amp;&amp;(d=</span><span class="s3">null</span><span class="s1">))};goog.array.forEach(b,f);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e.join(goog.html.SafeHtml.unwrap(c)),d)};</span>
<a name="l246"><span class="ln">246  </span></a><span class="s1">goog.html.SafeHtml.concat=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))};goog.html.SafeHtml.concatWithDir=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.html.SafeHtml.concat(goog.array.slice(arguments,</span><span class="s4">1</span><span class="s1">));c.dir_=a;</span><span class="s3">return </span><span class="s1">c};goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={};goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(a,b)};</span>
<a name="l247"><span class="ln">247  </span></a><span class="s1">goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(a):a;</span><span class="s3">this</span><span class="s1">.dir_=b;</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l248"><span class="ln">248  </span></a><span class="s1">goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">e=</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">+a+goog.html.SafeHtml.stringifyAttributes(a,b);goog.isDefAndNotNull(c)?goog.isArray(c)||(c=[c]):c=[];goog.dom.tags.isVoidTag(a.toLowerCase())?(goog.asserts.assert(!c.length,</span><span class="s2">&quot;Void tag &lt;&quot;</span><span class="s1">+a+</span><span class="s2">&quot;&gt; does not allow content.&quot;</span><span class="s1">),e+=</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">):(d=goog.html.SafeHtml.concat(c),e+=</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">+goog.html.SafeHtml.unwrap(d)+</span><span class="s2">&quot;&lt;/&quot;</span><span class="s1">+a+</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">,d=d.getDirection());(a=b&amp;&amp;b.dir)&amp;&amp;(d=/^(ltr|rtl|auto)$/i.test(a)?goog.i18n.bidi.Dir.NEUTRAL:</span>
<a name="l249"><span class="ln">249  </span></a><span class="s3">null</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,d)};goog.html.SafeHtml.stringifyAttributes=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">b){</span><span class="s3">if</span><span class="s1">(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(d))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Invalid attribute name &quot;'</span><span class="s1">+d+</span><span class="s2">'&quot;.'</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=b[d];goog.isDefAndNotNull(e)&amp;&amp;(c+=</span><span class="s2">&quot; &quot;</span><span class="s1">+goog.html.SafeHtml.getAttrNameAndValue_(a,d,e))}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l250"><span class="ln">250  </span></a><span class="s1">goog.html.SafeHtml.combineAttributes=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d={},e;</span><span class="s3">for</span><span class="s1">(e </span><span class="s3">in </span><span class="s1">a)goog.asserts.assert(e.toLowerCase()==e,</span><span class="s2">&quot;Must be lower case&quot;</span><span class="s1">),d[e]=a[e];</span><span class="s3">for</span><span class="s1">(e </span><span class="s3">in </span><span class="s1">b)goog.asserts.assert(e.toLowerCase()==e,</span><span class="s2">&quot;Must be lower case&quot;</span><span class="s1">),d[e]=b[e];</span><span class="s3">for</span><span class="s1">(e </span><span class="s3">in </span><span class="s1">c){</span><span class="s3">var </span><span class="s1">f=e.toLowerCase();</span><span class="s3">if</span><span class="s1">(f </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Cannot override &quot;'</span><span class="s1">+f+</span><span class="s2">'&quot; attribute, got &quot;'</span><span class="s1">+e+</span><span class="s2">'&quot; with value &quot;'</span><span class="s1">+c[e]+</span><span class="s2">'&quot;'</span><span class="s1">);f </span><span class="s3">in </span><span class="s1">b&amp;&amp;</span><span class="s3">delete </span><span class="s1">d[f];d[e]=c[e]}</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l251"><span class="ln">251  </span></a><span class="s1">goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;&lt;!DOCTYPE html&gt;&quot;</span><span class="s1">,goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;&quot;</span><span class="s1">,goog.i18n.bidi.Dir.NEUTRAL);goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(</span><span class="s2">&quot;&lt;br&gt;&quot;</span><span class="s1">,goog.i18n.bidi.Dir.NEUTRAL);goog.html.uncheckedconversions={};goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assertString(goog.string.Const.unwrap(a),</span><span class="s2">&quot;must provide justification&quot;</span><span class="s1">);goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),</span><span class="s2">&quot;must provide non-empty justification&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(b,c||</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l252"><span class="ln">252  </span></a><span class="s1">goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),</span><span class="s2">&quot;must provide justification&quot;</span><span class="s1">);goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),</span><span class="s2">&quot;must provide non-empty justification&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(b)};</span>
<a name="l253"><span class="ln">253  </span></a><span class="s1">goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),</span><span class="s2">&quot;must provide justification&quot;</span><span class="s1">);goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),</span><span class="s2">&quot;must provide non-empty justification&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(b)};</span>
<a name="l254"><span class="ln">254  </span></a><span class="s1">goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),</span><span class="s2">&quot;must provide justification&quot;</span><span class="s1">);goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),</span><span class="s2">&quot;must provide non-empty justification&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(b)};</span>
<a name="l255"><span class="ln">255  </span></a><span class="s1">goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),</span><span class="s2">&quot;must provide justification&quot;</span><span class="s1">);goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),</span><span class="s2">&quot;must provide non-empty justification&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(b)};</span>
<a name="l256"><span class="ln">256  </span></a><span class="s1">goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertString(goog.string.Const.unwrap(a),</span><span class="s2">&quot;must provide justification&quot;</span><span class="s1">);goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(a)),</span><span class="s2">&quot;must provide non-empty justification&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(b)};goog.dom.safe={};goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:</span><span class="s2">&quot;afterbegin&quot;</span><span class="s1">,AFTEREND:</span><span class="s2">&quot;afterend&quot;</span><span class="s1">,BEFOREBEGIN:</span><span class="s2">&quot;beforebegin&quot;</span><span class="s1">,BEFOREEND:</span><span class="s2">&quot;beforeend&quot;</span><span class="s1">};goog.dom.safe.insertAdjacentHtml=</span><span class="s3">function</span><span class="s1">(a,b,c){a.insertAdjacentHTML(b,goog.html.SafeHtml.unwrapTrustedHTML(c))};goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!</span><span class="s4">0</span><span class="s1">,SCRIPT:!</span><span class="s4">0</span><span class="s1">,STYLE:!</span><span class="s4">0</span><span class="s1">,SVG:!</span><span class="s4">0</span><span class="s1">,TEMPLATE:!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l257"><span class="ln">257  </span></a><span class="s1">goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(goog.DEBUG&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">===</span><span class="s3">typeof </span><span class="s1">document)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">),b=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);b.appendChild(document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">));a.appendChild(b);</span><span class="s3">if</span><span class="s1">(goog.DEBUG&amp;&amp;!a.firstChild)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;b=a.firstChild.firstChild;a.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY);</span><span class="s3">return</span><span class="s1">!b.parentElement});</span>
<a name="l258"><span class="ln">258  </span></a><span class="s1">goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.dom.safe.isInnerHtmlCleanupRecursive_())</span><span class="s3">for</span><span class="s1">(;a.lastChild;)a.removeChild(a.lastChild);a.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(b)};</span>
<a name="l259"><span class="ln">259  </span></a><span class="s1">goog.dom.safe.setInnerHtml=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.asserts.ENABLE_ASSERTS){</span><span class="s3">var </span><span class="s1">c=a.tagName.toUpperCase();</span><span class="s3">if</span><span class="s1">(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[c])</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.dom.safe.setInnerHtml cannot be used to set content of &quot;</span><span class="s1">+a.tagName+</span><span class="s2">&quot;.&quot;</span><span class="s1">);}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(a,b)};goog.dom.safe.setOuterHtml=</span><span class="s3">function</span><span class="s1">(a,b){a.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(b)};</span>
<a name="l260"><span class="ln">260  </span></a><span class="s1">goog.dom.safe.setFormElementAction=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLFormElement(a).action=goog.html.SafeUrl.unwrapTrustedURL(c)};goog.dom.safe.setButtonFormAction=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLButtonElement(a).formAction=goog.html.SafeUrl.unwrapTrustedURL(c)};</span>
<a name="l261"><span class="ln">261  </span></a><span class="s1">goog.dom.safe.setInputFormAction=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);goog.dom.asserts.assertIsHTMLInputElement(a).formAction=goog.html.SafeUrl.unwrapTrustedURL(c)};goog.dom.safe.setStyle=</span><span class="s3">function</span><span class="s1">(a,b){a.style.cssText=goog.html.SafeStyle.unwrap(b)};goog.dom.safe.documentWrite=</span><span class="s3">function</span><span class="s1">(a,b){a.write(goog.html.SafeHtml.unwrapTrustedHTML(b))};</span>
<a name="l262"><span class="ln">262  </span></a><span class="s1">goog.dom.safe.setAnchorHref=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLAnchorElement(a);</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrapTrustedURL(c)};goog.dom.safe.setImageSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLImageElement(a);</span><span class="s3">if</span><span class="s1">(b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl)</span><span class="s3">var </span><span class="s1">c=b;</span><span class="s3">else </span><span class="s1">c=/^data:image\</span><span class="s0">//i.test(b),c=goog.html.SafeUrl.sanitizeAssertUnchanged(b,c);a.src=goog.html.SafeUrl.unwrapTrustedURL(c)};</span>
<a name="l263"><span class="ln">263  </span></a><span class="s1">goog.dom.safe.setAudioSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLAudioElement(a);</span><span class="s3">if</span><span class="s1">(b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl)</span><span class="s3">var </span><span class="s1">c=b;</span><span class="s3">else </span><span class="s1">c=/^data:audio\</span><span class="s0">//i.test(b),c=goog.html.SafeUrl.sanitizeAssertUnchanged(b,c);a.src=goog.html.SafeUrl.unwrapTrustedURL(c)};goog.dom.safe.setVideoSrc=function(a,b){goog.dom.asserts.assertIsHTMLVideoElement(a);if(b instanceof goog.html.SafeUrl)var c=b;else c=/^data:video\//i.test(b),c=goog.html.SafeUrl.sanitizeAssertUnchanged(b,c);a.src=goog.html.SafeUrl.unwrapTrustedURL(c)};</span>
<a name="l264"><span class="ln">264  </span></a><span class="s1">goog.dom.safe.setEmbedSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLEmbedElement(a);a.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b)};goog.dom.safe.setFrameSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(b)};goog.dom.safe.setIframeSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(b)};</span>
<a name="l265"><span class="ln">265  </span></a><span class="s1">goog.dom.safe.setIframeSrcdoc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLIFrameElement(a);a.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(b)};</span>
<a name="l266"><span class="ln">266  </span></a><span class="s1">goog.dom.safe.setLinkHrefAndRel=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.dom.asserts.assertIsHTMLLinkElement(a);a.rel=c;goog.string.internal.caseInsensitiveContains(c,</span><span class="s2">&quot;stylesheet&quot;</span><span class="s1">)?(goog.asserts.assert(b </span><span class="s3">instanceof </span><span class="s1">goog.html.TrustedResourceUrl,</span><span class="s2">'URL must be TrustedResourceUrl because &quot;rel&quot; contains &quot;stylesheet&quot;'</span><span class="s1">),a.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(b)):a.href=b </span><span class="s3">instanceof </span><span class="s1">goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(b):b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(b):</span>
<a name="l267"><span class="ln">267  </span></a><span class="s1">goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(b))};goog.dom.safe.setObjectData=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLObjectElement(a);a.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b)};goog.dom.safe.setScriptSrc=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(b);</span><span class="s3">var </span><span class="s1">c=goog.getScriptNonce();c&amp;&amp;a.setAttribute(</span><span class="s2">&quot;nonce&quot;</span><span class="s1">,c)};</span>
<a name="l268"><span class="ln">268  </span></a><span class="s1">goog.dom.safe.setScriptContent=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsHTMLScriptElement(a);a.text=goog.html.SafeScript.unwrapTrustedScript(b);</span><span class="s3">var </span><span class="s1">c=goog.getScriptNonce();c&amp;&amp;a.setAttribute(</span><span class="s2">&quot;nonce&quot;</span><span class="s1">,c)};goog.dom.safe.setLocationHref=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsLocation(a);</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.href=goog.html.SafeUrl.unwrapTrustedURL(c)};</span>
<a name="l269"><span class="ln">269  </span></a><span class="s1">goog.dom.safe.assignLocation=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsLocation(a);</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.assign(goog.html.SafeUrl.unwrapTrustedURL(c))};goog.dom.safe.replaceLocation=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.asserts.assertIsLocation(a);</span><span class="s3">var </span><span class="s1">c=b </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?b:goog.html.SafeUrl.sanitizeAssertUnchanged(b);a.replace(goog.html.SafeUrl.unwrapTrustedURL(c))};</span>
<a name="l270"><span class="ln">270  </span></a><span class="s1">goog.dom.safe.openInWindow=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){a=a </span><span class="s3">instanceof </span><span class="s1">goog.html.SafeUrl?a:goog.html.SafeUrl.sanitizeAssertUnchanged(a);</span><span class="s3">return</span><span class="s1">(b||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(a),c?goog.string.Const.unwrap(c):</span><span class="s2">&quot;&quot;</span><span class="s1">,d,e)};goog.dom.safe.parseFromStringHtml=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.dom.safe.parseFromString(a,b,</span><span class="s2">&quot;text/html&quot;</span><span class="s1">)};goog.dom.safe.parseFromString=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">a.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(b),c)};</span>
<a name="l271"><span class="ln">271  </span></a><span class="s1">goog.dom.safe.createImageFromBlob=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!/^image\/.*/g.test(a.type))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=goog.global.URL.createObjectURL(a);a=</span><span class="s3">new </span><span class="s1">goog.global.Image;a.onload=</span><span class="s3">function</span><span class="s1">(){goog.global.URL.revokeObjectURL(b)};goog.dom.safe.setImageSrc(a,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(</span><span class="s2">&quot;Image blob URL.&quot;</span><span class="s1">),b));</span><span class="s3">return </span><span class="s1">a};goog.string.DETECT_DOUBLE_ESCAPING=!</span><span class="s4">1</span><span class="s1">;goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!</span><span class="s4">1</span><span class="s1">;goog.string.Unicode={NBSP:</span><span class="s2">&quot;</span><span class="s5">\u00a0</span><span class="s2">&quot;</span><span class="s1">};goog.string.startsWith=goog.string.internal.startsWith;goog.string.endsWith=goog.string.internal.endsWith;goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith;goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith;goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals;</span>
<a name="l272"><span class="ln">272  </span></a><span class="s1">goog.string.subs=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.split(</span><span class="s2">&quot;%s&quot;</span><span class="s1">),d=</span><span class="s2">&quot;&quot;</span><span class="s1">,e=Array.prototype.slice.call(arguments,</span><span class="s4">1</span><span class="s1">);e.length&amp;&amp;</span><span class="s4">1</span><span class="s1">&lt;c.length;)d+=c.shift()+e.shift();</span><span class="s3">return </span><span class="s1">d+c.join(</span><span class="s2">&quot;%s&quot;</span><span class="s1">)};goog.string.collapseWhitespace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/[\s\xa0]+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">).replace(/^\s+|\s+$/g,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace;goog.string.isEmptyString=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a.length};goog.string.isEmpty=goog.string.isEmptyOrWhitespace;goog.string.isEmptyOrWhitespaceSafe=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.string.isEmptyOrWhitespace(goog.string.makeSafe(a))};</span>
<a name="l273"><span class="ln">273  </span></a><span class="s1">goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe;goog.string.isBreakingWhitespace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!/[^\t\n\r ]/.test(a)};goog.string.isAlpha=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!/[^a-zA-Z]/.test(a)};goog.string.isNumeric=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!/[^</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]/.test(a)};goog.string.isAlphaNumeric=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!/[^a-zA-Z0-9]/.test(a)};goog.string.isSpace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot; &quot;</span><span class="s1">==a};goog.string.isUnicodeChar=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">1</span><span class="s1">==a.length&amp;&amp;</span><span class="s2">&quot; &quot;</span><span class="s1">&lt;=a&amp;&amp;</span><span class="s2">&quot;~&quot;</span><span class="s1">&gt;=a||</span><span class="s2">&quot;</span><span class="s5">\u0080</span><span class="s2">&quot;</span><span class="s1">&lt;=a&amp;&amp;</span><span class="s2">&quot;</span><span class="s5">\ufffd</span><span class="s2">&quot;</span><span class="s1">&gt;=a};</span>
<a name="l274"><span class="ln">274  </span></a><span class="s1">goog.string.stripNewlines=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/(\r\n|\r|\n)+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">)};goog.string.canonicalizeNewlines=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/(\r\n|\r|\n)/g,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};goog.string.normalizeWhitespace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/\xa0|\s/g,</span><span class="s2">&quot; &quot;</span><span class="s1">)};goog.string.normalizeSpaces=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/\xa0|[ \t]+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">)};goog.string.collapseBreakingSpaces=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/[\t\r\n ]+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">).replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.trim=goog.string.internal.trim;</span>
<a name="l275"><span class="ln">275  </span></a><span class="s1">goog.string.trimLeft=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/^[\s\xa0]+/,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.trimRight=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/[\s\xa0]+$/,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare;</span>
<a name="l276"><span class="ln">276  </span></a><span class="s1">goog.string.numberAwareCompare_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(a==b)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return </span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.toLowerCase().match(c),e=b.toLowerCase().match(c),f=Math.min(d.length,e.length),g=</span><span class="s4">0</span><span class="s1">;g&lt;f;g++){c=d[g];</span><span class="s3">var </span><span class="s1">h=e[g];</span><span class="s3">if</span><span class="s1">(c!=h)</span><span class="s3">return </span><span class="s1">a=parseInt(c,</span><span class="s4">10</span><span class="s1">),!isNaN(a)&amp;&amp;(b=parseInt(h,</span><span class="s4">10</span><span class="s1">),!isNaN(b)&amp;&amp;a-b)?a-b:c&lt;h?-</span><span class="s4">1</span><span class="s1">:</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return </span><span class="s1">d.length!=e.length?d.length-e.length:a&lt;b?-</span><span class="s4">1</span><span class="s1">:</span><span class="s4">1</span><span class="s1">};goog.string.intAwareCompare=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.string.numberAwareCompare_(a,b,/\d+|\D+/g)};</span>
<a name="l277"><span class="ln">277  </span></a><span class="s1">goog.string.floatAwareCompare=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.string.numberAwareCompare_(a,b,/\d+|\.\d+|\D+/g)};goog.string.numerateCompare=goog.string.floatAwareCompare;goog.string.urlEncode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">encodeURIComponent(String(a))};goog.string.urlDecode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">decodeURIComponent(a.replace(/\+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">))};goog.string.newLineToBr=goog.string.internal.newLineToBr;</span>
<a name="l278"><span class="ln">278  </span></a><span class="s1">goog.string.htmlEscape=</span><span class="s3">function</span><span class="s1">(a,b){a=goog.string.internal.htmlEscape(a,b);goog.string.DETECT_DOUBLE_ESCAPING&amp;&amp;(a=a.replace(goog.string.E_RE_,</span><span class="s2">&quot;&amp;#101;&quot;</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.string.E_RE_=/e/g;goog.string.unescapeEntities=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.string.contains(a,</span><span class="s2">&quot;&amp;&quot;</span><span class="s1">)?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&amp;&amp;</span><span class="s2">&quot;document&quot;</span><span class="s3">in </span><span class="s1">goog.global?goog.string.unescapeEntitiesUsingDom_(a):goog.string.unescapePureXmlEntities_(a):a};</span>
<a name="l279"><span class="ln">279  </span></a><span class="s1">goog.string.unescapeEntitiesWithDocument=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.string.contains(a,</span><span class="s2">&quot;&amp;&quot;</span><span class="s1">)?goog.string.unescapeEntitiesUsingDom_(a,b):a};</span>
<a name="l280"><span class="ln">280  </span></a><span class="s1">goog.string.unescapeEntitiesUsingDom_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c={</span><span class="s2">&quot;&amp;amp;&quot;</span><span class="s1">:</span><span class="s2">&quot;&amp;&quot;</span><span class="s1">,</span><span class="s2">&quot;&amp;lt;&quot;</span><span class="s1">:</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">,</span><span class="s2">&quot;&amp;gt;&quot;</span><span class="s1">:</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">,</span><span class="s2">&quot;&amp;quot;&quot;</span><span class="s1">:</span><span class="s2">'&quot;'</span><span class="s1">};</span><span class="s3">var </span><span class="s1">d=b?b.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">):goog.global.document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.replace(goog.string.HTML_ENTITY_PATTERN_,</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">e=c[a];</span><span class="s3">if</span><span class="s1">(e)</span><span class="s3">return </span><span class="s1">e;</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;#&quot;</span><span class="s1">==b.charAt(</span><span class="s4">0</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">f=Number(</span><span class="s2">&quot;0&quot;</span><span class="s1">+b.substr(</span><span class="s4">1</span><span class="s1">));isNaN(f)||(e=String.fromCharCode(f))}e||(goog.dom.safe.setInnerHtml(d,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(</span><span class="s2">&quot;Single HTML entity.&quot;</span><span class="s1">),</span>
<a name="l281"><span class="ln">281  </span></a><span class="s1">a+</span><span class="s2">&quot; &quot;</span><span class="s1">)),e=d.firstChild.nodeValue.slice(</span><span class="s4">0</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">));</span><span class="s3">return </span><span class="s1">c[a]=e})};goog.string.unescapePureXmlEntities_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/&amp;([^;]+);/g,</span><span class="s3">function</span><span class="s1">(a,c){</span><span class="s3">switch</span><span class="s1">(c){</span><span class="s3">case </span><span class="s2">&quot;amp&quot;</span><span class="s1">:</span><span class="s3">return</span><span class="s2">&quot;&amp;&quot;</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;lt&quot;</span><span class="s1">:</span><span class="s3">return</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;gt&quot;</span><span class="s1">:</span><span class="s3">return</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;quot&quot;</span><span class="s1">:</span><span class="s3">return</span><span class="s2">'&quot;'</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;#&quot;</span><span class="s1">==c.charAt(</span><span class="s4">0</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">b=Number(</span><span class="s2">&quot;0&quot;</span><span class="s1">+c.substr(</span><span class="s4">1</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(!isNaN(b))</span><span class="s3">return </span><span class="s1">String.fromCharCode(b)}</span><span class="s3">return </span><span class="s1">a}})};goog.string.HTML_ENTITY_PATTERN_=/&amp;([^;\s&lt;&amp;]+);?/g;</span>
<a name="l282"><span class="ln">282  </span></a><span class="s1">goog.string.whitespaceEscape=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.string.newLineToBr(a.replace(/  /g,</span><span class="s2">&quot; &amp;#160;&quot;</span><span class="s1">),b)};goog.string.preserveSpaces=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/(^|[\n ]) /g,</span><span class="s2">&quot;$1&quot;</span><span class="s1">+goog.string.Unicode.NBSP)};goog.string.stripQuotes=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=b.length,d=</span><span class="s4">0</span><span class="s1">;d&lt;c;d++){</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">1</span><span class="s1">==c?b:b.charAt(d);</span><span class="s3">if</span><span class="s1">(a.charAt(</span><span class="s4">0</span><span class="s1">)==e&amp;&amp;a.charAt(a.length-1)==e)</span><span class="s3">return </span><span class="s1">a.substring(</span><span class="s4">1</span><span class="s1">,a.length-1)}</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l283"><span class="ln">283  </span></a><span class="s1">goog.string.truncate=</span><span class="s3">function</span><span class="s1">(a,b,c){c&amp;&amp;(a=goog.string.unescapeEntities(a));a.length&gt;b&amp;&amp;(a=a.substring(</span><span class="s4">0</span><span class="s1">,b-3)+</span><span class="s2">&quot;...&quot;</span><span class="s1">);c&amp;&amp;(a=goog.string.htmlEscape(a));</span><span class="s3">return </span><span class="s1">a};goog.string.truncateMiddle=</span><span class="s3">function</span><span class="s1">(a,b,c,d){c&amp;&amp;(a=goog.string.unescapeEntities(a));</span><span class="s3">if</span><span class="s1">(d&amp;&amp;a.length&gt;b){d&gt;b&amp;&amp;(d=b);</span><span class="s3">var </span><span class="s1">e=a.length-d;a=a.substring(</span><span class="s4">0</span><span class="s1">,b-d)+</span><span class="s2">&quot;...&quot;</span><span class="s1">+a.substring(e)}</span><span class="s3">else </span><span class="s1">a.length&gt;b&amp;&amp;(d=Math.floor(b/</span><span class="s4">2</span><span class="s1">),e=a.length-d,a=a.substring(</span><span class="s4">0</span><span class="s1">,d+b%</span><span class="s4">2</span><span class="s1">)+</span><span class="s2">&quot;...&quot;</span><span class="s1">+a.substring(e));c&amp;&amp;(a=goog.string.htmlEscape(a));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l284"><span class="ln">284  </span></a><span class="s1">goog.string.specialEscapeChars_={</span><span class="s2">&quot;</span><span class="s5">\x</span><span class="s2">00&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">0&quot;</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\b</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">b&quot;</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\f</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">f&quot;</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">n&quot;</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\r</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">r&quot;</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\t</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">t&quot;</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\x</span><span class="s2">0B&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">x0B&quot;</span><span class="s1">,</span><span class="s2">'&quot;'</span><span class="s1">:</span><span class="s2">'</span><span class="s5">\\</span><span class="s2">&quot;'</span><span class="s1">,</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\\\</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">u003C&quot;</span><span class="s1">};goog.string.jsEscapeCache_={</span><span class="s2">&quot;'&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">'&quot;</span><span class="s1">};goog.string.quote=</span><span class="s3">function</span><span class="s1">(a){a=String(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[</span><span class="s2">'&quot;'</span><span class="s1">],c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=a.charAt(c),e=d.charCodeAt(</span><span class="s4">0</span><span class="s1">);b[c+</span><span class="s4">1</span><span class="s1">]=goog.string.specialEscapeChars_[d]||(</span><span class="s4">31</span><span class="s1">&lt;e&amp;&amp;</span><span class="s4">127</span><span class="s1">&gt;e?d:goog.string.escapeChar(d))}b.push(</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l285"><span class="ln">285  </span></a><span class="s1">goog.string.escapeString=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)b[c]=goog.string.escapeChar(a.charAt(c));</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l286"><span class="ln">286  </span></a><span class="s1">goog.string.escapeChar=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in </span><span class="s1">goog.string.jsEscapeCache_)</span><span class="s3">return </span><span class="s1">goog.string.jsEscapeCache_[a];</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in </span><span class="s1">goog.string.specialEscapeChars_)</span><span class="s3">return </span><span class="s1">goog.string.jsEscapeCache_[a]=goog.string.specialEscapeChars_[a];</span><span class="s3">var </span><span class="s1">b=a.charCodeAt(</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">31</span><span class="s1">&lt;b&amp;&amp;</span><span class="s4">127</span><span class="s1">&gt;b)</span><span class="s3">var </span><span class="s1">c=a;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(</span><span class="s4">256</span><span class="s1">&gt;b){</span><span class="s3">if</span><span class="s1">(c=</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">x&quot;</span><span class="s1">,</span><span class="s4">16</span><span class="s1">&gt;b||</span><span class="s4">256</span><span class="s1">&lt;b)c+=</span><span class="s2">&quot;0&quot;</span><span class="s1">}</span><span class="s3">else </span><span class="s1">c=</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">u&quot;</span><span class="s1">,</span><span class="s4">4096</span><span class="s1">&gt;b&amp;&amp;(c+=</span><span class="s2">&quot;0&quot;</span><span class="s1">);c+=b.toString(</span><span class="s4">16</span><span class="s1">).toUpperCase()}</span><span class="s3">return </span><span class="s1">goog.string.jsEscapeCache_[a]=c};goog.string.contains=goog.string.internal.contains;goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains;</span>
<a name="l287"><span class="ln">287  </span></a><span class="s1">goog.string.countOf=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a&amp;&amp;b?a.split(b).length-1:</span><span class="s4">0</span><span class="s1">};goog.string.removeAt=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a;</span><span class="s4">0</span><span class="s1">&lt;=b&amp;&amp;b&lt;a.length&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;c&amp;&amp;(d=a.substr(</span><span class="s4">0</span><span class="s1">,b)+a.substr(b+c,a.length-b-c));</span><span class="s3">return </span><span class="s1">d};goog.string.remove=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.replace(b,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.removeAll=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">RegExp(goog.string.regExpEscape(b),</span><span class="s2">&quot;g&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.replace(c,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.replaceAll=</span><span class="s3">function</span><span class="s1">(a,b,c){b=</span><span class="s3">new </span><span class="s1">RegExp(goog.string.regExpEscape(b),</span><span class="s2">&quot;g&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.replace(b,c.replace(/\$/g,</span><span class="s2">&quot;$$$$&quot;</span><span class="s1">))};</span>
<a name="l288"><span class="ln">288  </span></a><span class="s1">goog.string.regExpEscape=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">String(a).replace(/([-()\[\]{}+?*.$\^|,:#&lt;!\\])/g,</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">$1&quot;</span><span class="s1">).replace(/\x08/g,</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">x08&quot;</span><span class="s1">)};goog.string.repeat=String.prototype.repeat?</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.repeat(b)}:</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">Array(b+</span><span class="s4">1</span><span class="s1">).join(a)};goog.string.padNumber=</span><span class="s3">function</span><span class="s1">(a,b,c){a=goog.isDef(c)?a.toFixed(c):String(a);c=a.indexOf(</span><span class="s2">&quot;.&quot;</span><span class="s1">);-</span><span class="s4">1</span><span class="s1">==c&amp;&amp;(c=a.length);</span><span class="s3">return </span><span class="s1">goog.string.repeat(</span><span class="s2">&quot;0&quot;</span><span class="s1">,Math.max(</span><span class="s4">0</span><span class="s1">,b-c))+a};goog.string.makeSafe=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return null</span><span class="s1">==a?</span><span class="s2">&quot;&quot;</span><span class="s1">:String(a)};</span>
<a name="l289"><span class="ln">289  </span></a><span class="s1">goog.string.buildString=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Array.prototype.join.call(arguments,</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.string.getRandomString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Math.floor(</span><span class="s4">2147483648</span><span class="s1">*Math.random()).toString(</span><span class="s4">36</span><span class="s1">)+Math.abs(Math.floor(</span><span class="s4">2147483648</span><span class="s1">*Math.random())^goog.now()).toString(</span><span class="s4">36</span><span class="s1">)};goog.string.compareVersions=goog.string.internal.compareVersions;goog.string.hashCode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;++c)b=</span><span class="s4">31</span><span class="s1">*b+a.charCodeAt(c)&gt;&gt;&gt;</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return </span><span class="s1">b};goog.string.uniqueStringCounter_=</span><span class="s4">2147483648</span><span class="s1">*Math.random()|</span><span class="s4">0</span><span class="s1">;</span>
<a name="l290"><span class="ln">290  </span></a><span class="s1">goog.string.createUniqueString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;goog_&quot;</span><span class="s1">+goog.string.uniqueStringCounter_++};goog.string.toNumber=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Number(a);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==b&amp;&amp;goog.string.isEmptyOrWhitespace(a)?NaN:b};goog.string.isLowerCamelCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">/^[a-z]+([A-Z][a-z]*)*$/.test(a)};goog.string.isUpperCamelCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">/^([A-Z][a-z]*)+$/.test(a)};goog.string.toCamelCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">String(a).replace(/\-([a-z])/g,</span><span class="s3">function</span><span class="s1">(a,c){</span><span class="s3">return </span><span class="s1">c.toUpperCase()})};</span>
<a name="l291"><span class="ln">291  </span></a><span class="s1">goog.string.toSelectorCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">String(a).replace(/([A-Z])/g,</span><span class="s2">&quot;-$1&quot;</span><span class="s1">).toLowerCase()};goog.string.toTitleCase=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isString(b)?goog.string.regExpEscape(b):</span><span class="s2">&quot;</span><span class="s5">\\</span><span class="s2">s&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">a.replace(</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;(^&quot;</span><span class="s1">+(c?</span><span class="s2">&quot;|[&quot;</span><span class="s1">+c+</span><span class="s2">&quot;]+&quot;</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">)+</span><span class="s2">&quot;)([a-z])&quot;</span><span class="s1">,</span><span class="s2">&quot;g&quot;</span><span class="s1">),</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">b+c.toUpperCase()})};goog.string.capitalize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">String(a.charAt(</span><span class="s4">0</span><span class="s1">)).toUpperCase()+String(a.substr(</span><span class="s4">1</span><span class="s1">)).toLowerCase()};</span>
<a name="l292"><span class="ln">292  </span></a><span class="s1">goog.string.parseInt=</span><span class="s3">function</span><span class="s1">(a){isFinite(a)&amp;&amp;(a=String(a));</span><span class="s3">return </span><span class="s1">goog.isString(a)?/^\s*-?</span><span class="s4">0</span><span class="s1">x/i.test(a)?parseInt(a,</span><span class="s4">16</span><span class="s1">):parseInt(a,</span><span class="s4">10</span><span class="s1">):NaN};goog.string.splitLimit=</span><span class="s3">function</span><span class="s1">(a,b,c){a=a.split(b);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=[];</span><span class="s4">0</span><span class="s1">&lt;c&amp;&amp;a.length;)d.push(a.shift()),c--;a.length&amp;&amp;d.push(a.join(b));</span><span class="s3">return </span><span class="s1">d};goog.string.lastComponent=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b)</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">b&amp;&amp;(b=[b]);</span><span class="s3">else return </span><span class="s1">a;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=-</span><span class="s4">1</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">;d&lt;b.length;d++)</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;&quot;</span><span class="s1">!=b[d]){</span><span class="s3">var </span><span class="s1">e=a.lastIndexOf(b[d]);e&gt;c&amp;&amp;(c=e)}</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">==c?a:a.slice(c+</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l293"><span class="ln">293  </span></a><span class="s1">goog.string.editDistance=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[],d=[];</span><span class="s3">if</span><span class="s1">(a==b)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!a.length||!b.length)</span><span class="s3">return </span><span class="s1">Math.max(a.length,b.length);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;b.length+</span><span class="s4">1</span><span class="s1">;e++)c[e]=e;</span><span class="s3">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;e++){d[</span><span class="s4">0</span><span class="s1">]=e+</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++)d[f+</span><span class="s4">1</span><span class="s1">]=Math.min(d[f]+</span><span class="s4">1</span><span class="s1">,c[f+</span><span class="s4">1</span><span class="s1">]+</span><span class="s4">1</span><span class="s1">,c[f]+Number(a[e]!=b[f]));</span><span class="s3">for</span><span class="s1">(f=</span><span class="s4">0</span><span class="s1">;f&lt;c.length;f++)c[f]=d[f]}</span><span class="s3">return </span><span class="s1">d[b.length]};goog.labs.userAgent.engine={};goog.labs.userAgent.engine.isPresto=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Presto&quot;</span><span class="s1">)};goog.labs.userAgent.engine.isTrident=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Trident&quot;</span><span class="s1">)||goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;MSIE&quot;</span><span class="s1">)};goog.labs.userAgent.engine.isEdge=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Edge&quot;</span><span class="s1">)};</span>
<a name="l294"><span class="ln">294  </span></a><span class="s1">goog.labs.userAgent.engine.isWebKit=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgentIgnoreCase(</span><span class="s2">&quot;WebKit&quot;</span><span class="s1">)&amp;&amp;!goog.labs.userAgent.engine.isEdge()};goog.labs.userAgent.engine.isGecko=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Gecko&quot;</span><span class="s1">)&amp;&amp;!goog.labs.userAgent.engine.isWebKit()&amp;&amp;!goog.labs.userAgent.engine.isTrident()&amp;&amp;!goog.labs.userAgent.engine.isEdge()};</span>
<a name="l295"><span class="ln">295  </span></a><span class="s1">goog.labs.userAgent.engine.getVersion=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.labs.userAgent.util.getUserAgent();</span><span class="s3">if</span><span class="s1">(a){a=goog.labs.userAgent.util.extractVersionTuples(a);</span><span class="s3">var </span><span class="s1">b=goog.labs.userAgent.engine.getEngineTuple_(a);</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">return</span><span class="s2">&quot;Gecko&quot;</span><span class="s1">==b[</span><span class="s4">0</span><span class="s1">]?goog.labs.userAgent.engine.getVersionForKey_(a,</span><span class="s2">&quot;Firefox&quot;</span><span class="s1">):b[</span><span class="s4">1</span><span class="s1">];a=a[</span><span class="s4">0</span><span class="s1">];</span><span class="s3">var </span><span class="s1">c;</span><span class="s3">if</span><span class="s1">(a&amp;&amp;(c=a[</span><span class="s4">2</span><span class="s1">])&amp;&amp;(c=/Trident\/([^\s;]+)/.exec(c)))</span><span class="s3">return </span><span class="s1">c[</span><span class="s4">1</span><span class="s1">]}</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">};</span>
<a name="l296"><span class="ln">296  </span></a><span class="s1">goog.labs.userAgent.engine.getEngineTuple_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!goog.labs.userAgent.engine.isEdge())</span><span class="s3">return </span><span class="s1">a[</span><span class="s4">1</span><span class="s1">];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++){</span><span class="s3">var </span><span class="s1">c=a[b];</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;Edge&quot;</span><span class="s1">==c[</span><span class="s4">0</span><span class="s1">])</span><span class="s3">return </span><span class="s1">c}};goog.labs.userAgent.engine.isVersionOrHigher=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),a)};goog.labs.userAgent.engine.getVersionForKey_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.array.find(a,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">b==a[</span><span class="s4">0</span><span class="s1">]});</span><span class="s3">return </span><span class="s1">c&amp;&amp;c[</span><span class="s4">1</span><span class="s1">]||</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.labs.userAgent.platform={};goog.labs.userAgent.platform.isAndroid=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Android&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isIpod=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPod&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isIphone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPhone&quot;</span><span class="s1">)&amp;&amp;!goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPod&quot;</span><span class="s1">)&amp;&amp;!goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPad&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isIpad=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;iPad&quot;</span><span class="s1">)};</span>
<a name="l297"><span class="ln">297  </span></a><span class="s1">goog.labs.userAgent.platform.isIos=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()};goog.labs.userAgent.platform.isMacintosh=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Macintosh&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isLinux=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Linux&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isWindows=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Windows&quot;</span><span class="s1">)};</span>
<a name="l298"><span class="ln">298  </span></a><span class="s1">goog.labs.userAgent.platform.isChromeOS=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;CrOS&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isChromecast=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;CrKey&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isKaiOS=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgentIgnoreCase(</span><span class="s2">&quot;KaiOS&quot;</span><span class="s1">)};goog.labs.userAgent.platform.isGo2Phone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.matchUserAgentIgnoreCase(</span><span class="s2">&quot;GAFP&quot;</span><span class="s1">)};</span>
<a name="l299"><span class="ln">299  </span></a><span class="s1">goog.labs.userAgent.platform.getVersion=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.labs.userAgent.util.getUserAgent(),b=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.labs.userAgent.platform.isWindows()?(b=/Windows (?:NT|Phone) ([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">.]+)/,b=(a=b.exec(a))?a[</span><span class="s4">1</span><span class="s1">]:</span><span class="s2">&quot;0.0&quot;</span><span class="s1">):goog.labs.userAgent.platform.isIos()?(b=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,b=(a=b.exec(a))&amp;&amp;a[</span><span class="s4">1</span><span class="s1">].replace(/_/g,</span><span class="s2">&quot;.&quot;</span><span class="s1">)):goog.labs.userAgent.platform.isMacintosh()?(b=/Mac OS X ([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">_.]+)/,b=(a=b.exec(a))?a[</span><span class="s4">1</span><span class="s1">].replace(/_/g,</span><span class="s2">&quot;.&quot;</span><span class="s1">):</span><span class="s2">&quot;10&quot;</span><span class="s1">):goog.labs.userAgent.platform.isKaiOS()?(b=/(?:KaiOS)\/(\S+)/i,</span>
<a name="l300"><span class="ln">300  </span></a><span class="s1">b=(a=b.exec(a))&amp;&amp;a[</span><span class="s4">1</span><span class="s1">]):goog.labs.userAgent.platform.isAndroid()?(b=/Android\s+([^\);]+)(\)|;)/,b=(a=b.exec(a))&amp;&amp;a[</span><span class="s4">1</span><span class="s1">]):goog.labs.userAgent.platform.isChromeOS()&amp;&amp;(b=/(?:CrOS\s+(?:i686|x86_64)\s+([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">.]+))/,b=(a=b.exec(a))&amp;&amp;a[</span><span class="s4">1</span><span class="s1">]);</span><span class="s3">return </span><span class="s1">b||</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.labs.userAgent.platform.isVersionOrHigher=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),a)};goog.reflect={};goog.reflect.object=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b};goog.reflect.objectProperty=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a};goog.reflect.sinkValue=</span><span class="s3">function</span><span class="s1">(a){goog.reflect.sinkValue[</span><span class="s2">&quot; &quot;</span><span class="s1">](a);</span><span class="s3">return </span><span class="s1">a};goog.reflect.sinkValue[</span><span class="s2">&quot; &quot;</span><span class="s1">]=goog.nullFunction;goog.reflect.canAccessProperty=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">return </span><span class="s1">goog.reflect.sinkValue(a[b]),!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(c){}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.reflect.cache=</span><span class="s3">function</span><span class="s1">(a,b,c,d){d=d?d(b):b;</span><span class="s3">return </span><span class="s1">Object.prototype.hasOwnProperty.call(a,d)?a[d]:a[d]=c(b)};goog.userAgent={};goog.userAgent.ASSUME_IE=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_EDGE=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_GECKO=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_WEBKIT=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_MOBILE_WEBKIT=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_OPERA=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_ANY_VERSION=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA;goog.userAgent.getUserAgentString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.util.getUserAgent()};</span>
<a name="l301"><span class="ln">301  </span></a><span class="s1">goog.userAgent.getNavigatorTyped=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.global.navigator||</span><span class="s3">null</span><span class="s1">};goog.userAgent.getNavigator=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.userAgent.getNavigatorTyped()};goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera();goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE();goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge();</span>
<a name="l302"><span class="ln">302  </span></a><span class="s1">goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE;goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko();goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit();goog.userAgent.isMobile_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.userAgent.WEBKIT&amp;&amp;goog.labs.userAgent.util.matchUserAgent(</span><span class="s2">&quot;Mobile&quot;</span><span class="s1">)};</span>
<a name="l303"><span class="ln">303  </span></a><span class="s1">goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_();goog.userAgent.SAFARI=goog.userAgent.WEBKIT;goog.userAgent.determinePlatform_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.userAgent.getNavigatorTyped();</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.platform||</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_();goog.userAgent.ASSUME_MAC=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_WINDOWS=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_LINUX=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_X11=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_ANDROID=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_IPHONE=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l304"><span class="ln">304  </span></a><span class="s1">goog.userAgent.ASSUME_IPAD=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_IPOD=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_KAIOS=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.ASSUME_GO2PHONE=!</span><span class="s4">1</span><span class="s1">;goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD;goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh();</span>
<a name="l305"><span class="ln">305  </span></a><span class="s1">goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows();goog.userAgent.isLegacyLinux_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()};goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_();goog.userAgent.isX11_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.userAgent.getNavigatorTyped();</span><span class="s3">return</span><span class="s1">!!a&amp;&amp;goog.string.contains(a.appVersion||</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;X11&quot;</span><span class="s1">)};</span>
<a name="l306"><span class="ln">306  </span></a><span class="s1">goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_();goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid();goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone();goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad();</span>
<a name="l307"><span class="ln">307  </span></a><span class="s1">goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod();goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos();goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS();goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone();</span>
<a name="l308"><span class="ln">308  </span></a><span class="s1">goog.userAgent.determineVersion_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s2">&quot;&quot;</span><span class="s1">,b=goog.userAgent.getVersionRegexResult_();b&amp;&amp;(a=b?b[</span><span class="s4">1</span><span class="s1">]:</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.userAgent.IE&amp;&amp;(b=goog.userAgent.getDocumentMode_(),</span><span class="s3">null</span><span class="s1">!=b&amp;&amp;b&gt;parseFloat(a))?String(b):a};</span>
<a name="l309"><span class="ln">309  </span></a><span class="s1">goog.userAgent.getVersionRegexResult_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.userAgent.getUserAgentString();</span><span class="s3">if</span><span class="s1">(goog.userAgent.GECKO)</span><span class="s3">return</span><span class="s1">/rv:([^\);]+)(\)|;)/.exec(a);</span><span class="s3">if</span><span class="s1">(goog.userAgent.EDGE)</span><span class="s3">return</span><span class="s1">/Edge\/([\d\.]+)/.exec(a);</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE)</span><span class="s3">return</span><span class="s1">/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);</span><span class="s3">if</span><span class="s1">(goog.userAgent.WEBKIT)</span><span class="s3">return</span><span class="s1">/WebKit\/(\S+)/.exec(a);</span><span class="s3">if</span><span class="s1">(goog.userAgent.OPERA)</span><span class="s3">return</span><span class="s1">/(?:Version)[ \/]?(\S+)/.exec(a)};goog.userAgent.getDocumentMode_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.global.document;</span><span class="s3">return </span><span class="s1">a?a.documentMode:</span><span class="s3">void </span><span class="s4">0</span><span class="s1">};</span>
<a name="l310"><span class="ln">310  </span></a><span class="s1">goog.userAgent.VERSION=goog.userAgent.determineVersion_();goog.userAgent.compare=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.string.compareVersions(a,b)};goog.userAgent.isVersionOrHigherCache_={};goog.userAgent.isVersionOrHigher=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,a,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=goog.string.compareVersions(goog.userAgent.VERSION,a)})};goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher;</span>
<a name="l311"><span class="ln">311  </span></a><span class="s1">goog.userAgent.isDocumentModeOrHigher=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Number(goog.userAgent.DOCUMENT_MODE)&gt;=a};goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher;goog.userAgent.DOCUMENT_MODE=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(goog.global.document&amp;&amp;goog.userAgent.IE)</span><span class="s3">return </span><span class="s1">goog.userAgent.getDocumentMode_()}();goog.debug.LOGGING_ENABLED=goog.DEBUG;goog.debug.FORCE_SLOPPY_STACKS=!</span><span class="s4">1</span><span class="s1">;goog.debug.catchErrors=</span><span class="s3">function</span><span class="s1">(a,b,c){c=c||goog.global;</span><span class="s3">var </span><span class="s1">d=c.onerror,e=!!b;goog.userAgent.WEBKIT&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;535.3&quot;</span><span class="s1">)&amp;&amp;(e=!e);c.onerror=</span><span class="s3">function</span><span class="s1">(b,c,h,k,l){d&amp;&amp;d(b,c,h,k,l);a({message:b,fileName:c,line:h,lineNumber:h,col:k,error:l});</span><span class="s3">return </span><span class="s1">e}};</span>
<a name="l312"><span class="ln">312  </span></a><span class="s1">goog.debug.expose=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a)</span><span class="s3">return</span><span class="s2">&quot;undefined&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">==a)</span><span class="s3">return</span><span class="s2">&quot;NULL&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=[],d;</span><span class="s3">for</span><span class="s1">(d </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(b||!goog.isFunction(a[d])){</span><span class="s3">var </span><span class="s1">e=d+</span><span class="s2">&quot; = &quot;</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{e+=a[d]}</span><span class="s3">catch</span><span class="s1">(f){e+=</span><span class="s2">&quot;*** &quot;</span><span class="s1">+f+</span><span class="s2">&quot; ***&quot;</span><span class="s1">}c.push(e)}</span><span class="s3">return </span><span class="s1">c.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};</span>
<a name="l313"><span class="ln">313  </span></a><span class="s1">goog.debug.deepExpose=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[],d=[],e={},f=</span><span class="s3">function</span><span class="s1">(a,g){</span><span class="s3">var </span><span class="s1">h=g+</span><span class="s2">&quot;  &quot;</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(goog.isDef(a))</span><span class="s3">if</span><span class="s1">(goog.isNull(a))c.push(</span><span class="s2">&quot;NULL&quot;</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">(goog.isString(a))c.push(</span><span class="s2">'&quot;'</span><span class="s1">+a.replace(/\n/g,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+g)+</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">(goog.isFunction(a))c.push(String(a).replace(/\n/g,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+g));</span><span class="s3">else if</span><span class="s1">(goog.isObject(a)){goog.hasUid(a)||d.push(a);</span><span class="s3">var </span><span class="s1">k=goog.getUid(a);</span><span class="s3">if</span><span class="s1">(e[k])c.push(</span><span class="s2">&quot;*** reference loop detected (id=&quot;</span><span class="s1">+k+</span><span class="s2">&quot;) ***&quot;</span><span class="s1">);</span><span class="s3">else</span><span class="s1">{e[k]=!</span><span class="s4">0</span><span class="s1">;c.push(</span><span class="s2">&quot;{&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">m </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(b||!goog.isFunction(a[m]))c.push(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">),c.push(h),c.push(m+</span>
<a name="l314"><span class="ln">314  </span></a><span class="s2">&quot; = &quot;</span><span class="s1">),f(a[m],h);c.push(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+g+</span><span class="s2">&quot;}&quot;</span><span class="s1">);</span><span class="s3">delete </span><span class="s1">e[k]}}</span><span class="s3">else </span><span class="s1">c.push(a);</span><span class="s3">else </span><span class="s1">c.push(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">)}</span><span class="s3">catch</span><span class="s1">(p){c.push(</span><span class="s2">&quot;*** &quot;</span><span class="s1">+p+</span><span class="s2">&quot; ***&quot;</span><span class="s1">)}};f(a,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">;g&lt;d.length;g++)goog.removeUid(d[g]);</span><span class="s3">return </span><span class="s1">c.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.debug.exposeArray=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)goog.isArray(a[c])?b.push(goog.debug.exposeArray(a[c])):b.push(a[c]);</span><span class="s3">return</span><span class="s2">&quot;[ &quot;</span><span class="s1">+b.join(</span><span class="s2">&quot;, &quot;</span><span class="s1">)+</span><span class="s2">&quot; ]&quot;</span><span class="s1">};</span>
<a name="l315"><span class="ln">315  </span></a><span class="s1">goog.debug.normalizeErrorObject=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.getObjectByName(</span><span class="s2">&quot;window.location.href&quot;</span><span class="s1">);</span><span class="s3">null</span><span class="s1">==a&amp;&amp;(a=</span><span class="s2">'Unknown Error of type &quot;null/undefined&quot;'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.isString(a))</span><span class="s3">return</span><span class="s1">{message:a,name:</span><span class="s2">&quot;Unknown error&quot;</span><span class="s1">,lineNumber:</span><span class="s2">&quot;Not available&quot;</span><span class="s1">,fileName:b,stack:</span><span class="s2">&quot;Not available&quot;</span><span class="s1">};</span><span class="s3">var </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=a.lineNumber||a.line||</span><span class="s2">&quot;Not available&quot;</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(f){d=</span><span class="s2">&quot;Not available&quot;</span><span class="s1">,c=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=a.fileName||a.filename||a.sourceURL||goog.global.$googDebugFname||b}</span><span class="s3">catch</span><span class="s1">(f){e=</span><span class="s2">&quot;Not available&quot;</span><span class="s1">,c=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!c&amp;&amp;a.lineNumber&amp;&amp;a.fileName&amp;&amp;</span>
<a name="l316"><span class="ln">316  </span></a><span class="s1">a.stack&amp;&amp;a.message&amp;&amp;a.name?a:(b=a.message,</span><span class="s3">null</span><span class="s1">==b&amp;&amp;(b=a.constructor&amp;&amp;a.constructor </span><span class="s3">instanceof </span><span class="s1">Function?</span><span class="s2">'Unknown Error of type &quot;'</span><span class="s1">+(a.constructor.name?a.constructor.name:goog.debug.getFunctionName(a.constructor))+</span><span class="s2">'&quot;'</span><span class="s1">:</span><span class="s2">&quot;Unknown Error of unknown type&quot;</span><span class="s1">),{message:b,name:a.name||</span><span class="s2">&quot;UnknownError&quot;</span><span class="s1">,lineNumber:d,fileName:e,stack:a.stack||</span><span class="s2">&quot;Not available&quot;</span><span class="s1">})};</span>
<a name="l317"><span class="ln">317  </span></a><span class="s1">goog.debug.enhanceError=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">Error)</span><span class="s3">var </span><span class="s1">c=a;</span><span class="s3">else </span><span class="s1">c=Error(a),Error.captureStackTrace&amp;&amp;Error.captureStackTrace(c,goog.debug.enhanceError);c.stack||(c.stack=goog.debug.getStacktrace(goog.debug.enhanceError));</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;c[</span><span class="s2">&quot;message&quot;</span><span class="s1">+d];)++d;c[</span><span class="s2">&quot;message&quot;</span><span class="s1">+d]=String(b)}</span><span class="s3">return </span><span class="s1">c};goog.debug.enhanceErrorWithContext=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.debug.enhanceError(a);</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">b)goog.debug.errorcontext.addErrorContext(c,d,b[d]);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l318"><span class="ln">318  </span></a><span class="s1">goog.debug.getStacktraceSimple=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!goog.debug.FORCE_SLOPPY_STACKS){</span><span class="s3">var </span><span class="s1">b=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">return </span><span class="s1">b}b=[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=arguments.callee.caller,d=</span><span class="s4">0</span><span class="s1">;c&amp;&amp;(!a||d&lt;a);){b.push(goog.debug.getFunctionName(c));b.push(</span><span class="s2">&quot;()</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{c=c.caller}</span><span class="s3">catch</span><span class="s1">(e){b.push(</span><span class="s2">&quot;[exception trying to get caller]</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">break</span><span class="s1">}d++;</span><span class="s3">if</span><span class="s1">(d&gt;=goog.debug.MAX_STACK_DEPTH){b.push(</span><span class="s2">&quot;[...long stack...]&quot;</span><span class="s1">);</span><span class="s3">break</span><span class="s1">}}a&amp;&amp;d&gt;=a?b.push(</span><span class="s2">&quot;[...reached max depth limit...]&quot;</span><span class="s1">):b.push(</span><span class="s2">&quot;[end]&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l319"><span class="ln">319  </span></a><span class="s1">goog.debug.MAX_STACK_DEPTH=</span><span class="s4">50</span><span class="s1">;goog.debug.getNativeStackTrace_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Error();</span><span class="s3">if</span><span class="s1">(Error.captureStackTrace)</span><span class="s3">return </span><span class="s1">Error.captureStackTrace(b,a),String(b.stack);</span><span class="s3">try</span><span class="s1">{</span><span class="s3">throw </span><span class="s1">b;}</span><span class="s3">catch</span><span class="s1">(c){b=c}</span><span class="s3">return</span><span class="s1">(a=b.stack)?String(a):</span><span class="s3">null</span><span class="s1">};goog.debug.getStacktrace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b;goog.debug.FORCE_SLOPPY_STACKS||(b=goog.debug.getNativeStackTrace_(a||goog.debug.getStacktrace));b||(b=goog.debug.getStacktraceHelper_(a||arguments.callee.caller,[]));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l320"><span class="ln">320  </span></a><span class="s1">goog.debug.getStacktraceHelper_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[];</span><span class="s3">if</span><span class="s1">(goog.array.contains(b,a))c.push(</span><span class="s2">&quot;[...circular reference...]&quot;</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">(a&amp;&amp;b.length&lt;goog.debug.MAX_STACK_DEPTH){c.push(goog.debug.getFunctionName(a)+</span><span class="s2">&quot;(&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.arguments,e=</span><span class="s4">0</span><span class="s1">;d&amp;&amp;e&lt;d.length;e++){</span><span class="s4">0</span><span class="s1">&lt;e&amp;&amp;c.push(</span><span class="s2">&quot;, &quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">f=d[e];</span><span class="s3">switch</span><span class="s1">(</span><span class="s3">typeof </span><span class="s1">f){</span><span class="s3">case </span><span class="s2">&quot;object&quot;</span><span class="s1">:f=f?</span><span class="s2">&quot;object&quot;</span><span class="s1">:</span><span class="s2">&quot;null&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;string&quot;</span><span class="s1">:</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;number&quot;</span><span class="s1">:f=String(f);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;boolean&quot;</span><span class="s1">:f=f?</span><span class="s2">&quot;true&quot;</span><span class="s1">:</span><span class="s2">&quot;false&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;function&quot;</span><span class="s1">:f=(f=goog.debug.getFunctionName(f))?f:</span><span class="s2">&quot;[fn]&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:f=</span>
<a name="l321"><span class="ln">321  </span></a><span class="s3">typeof </span><span class="s1">f}</span><span class="s4">40</span><span class="s1">&lt;f.length&amp;&amp;(f=f.substr(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">40</span><span class="s1">)+</span><span class="s2">&quot;...&quot;</span><span class="s1">);c.push(f)}b.push(a);c.push(</span><span class="s2">&quot;)</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{c.push(goog.debug.getStacktraceHelper_(a.caller,b))}</span><span class="s3">catch</span><span class="s1">(g){c.push(</span><span class="s2">&quot;[exception trying to get caller]</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)}}</span><span class="s3">else </span><span class="s1">a?c.push(</span><span class="s2">&quot;[...long stack...]&quot;</span><span class="s1">):c.push(</span><span class="s2">&quot;[end]&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.debug.getFunctionName=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.debug.fnNameCache_[a])</span><span class="s3">return </span><span class="s1">goog.debug.fnNameCache_[a];a=String(a);</span><span class="s3">if</span><span class="s1">(!goog.debug.fnNameCache_[a]){</span><span class="s3">var </span><span class="s1">b=/</span><span class="s3">function</span><span class="s1">\s+([^\(]+)/m.exec(a);goog.debug.fnNameCache_[a]=b?b[</span><span class="s4">1</span><span class="s1">]:</span><span class="s2">&quot;[Anonymous]&quot;</span><span class="s1">}</span><span class="s3">return </span><span class="s1">goog.debug.fnNameCache_[a]};</span>
<a name="l322"><span class="ln">322  </span></a><span class="s1">goog.debug.makeWhitespaceVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.replace(/ /g,</span><span class="s2">&quot;[_]&quot;</span><span class="s1">).replace(/\f/g,</span><span class="s2">&quot;[f]&quot;</span><span class="s1">).replace(/\n/g,</span><span class="s2">&quot;[n]</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">).replace(/\r/g,</span><span class="s2">&quot;[r]&quot;</span><span class="s1">).replace(/\t/g,</span><span class="s2">&quot;[t]&quot;</span><span class="s1">)};goog.debug.runtimeType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">instanceof </span><span class="s1">Function?a.displayName||a.name||</span><span class="s2">&quot;unknown type name&quot;</span><span class="s1">:a </span><span class="s3">instanceof </span><span class="s1">Object?a.constructor.displayName||a.constructor.name||Object.prototype.toString.call(a):</span><span class="s3">null</span><span class="s1">===a?</span><span class="s2">&quot;null&quot;</span><span class="s1">:</span><span class="s3">typeof </span><span class="s1">a};goog.debug.fnNameCache_={};goog.debug.freezeInternal_=goog.DEBUG&amp;&amp;Object.freeze||</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l323"><span class="ln">323  </span></a><span class="s1">goog.debug.freeze=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.debug.freezeInternal_(a)};goog.events={};$jscomp.scope.purify=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">{valueOf:a}.valueOf()};</span>
<a name="l324"><span class="ln">324  </span></a><span class="s1">goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;9&quot;</span><span class="s1">),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;528&quot;</span><span class="s1">),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;1.9b&quot;</span><span class="s1">)||goog.userAgent.IE&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">)||</span>
<a name="l325"><span class="ln">325  </span></a><span class="s1">goog.userAgent.OPERA&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;9.5&quot;</span><span class="s1">)||goog.userAgent.WEBKIT&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;528&quot;</span><span class="s1">),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">)||goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;9&quot;</span><span class="s1">),TOUCH_ENABLED:</span><span class="s2">&quot;ontouchstart&quot;</span><span class="s3">in </span><span class="s1">goog.global||!!(goog.global.document&amp;&amp;document.documentElement&amp;&amp;</span><span class="s2">&quot;ontouchstart&quot;</span><span class="s3">in </span><span class="s1">document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.maxTouchPoints&amp;&amp;!goog.global.navigator.msMaxTouchPoints),</span>
<a name="l326"><span class="ln">326  </span></a><span class="s1">POINTER_EVENTS:</span><span class="s2">&quot;PointerEvent&quot;</span><span class="s3">in </span><span class="s1">goog.global,MSPOINTER_EVENTS:</span><span class="s2">&quot;MSPointerEvent&quot;</span><span class="s3">in </span><span class="s1">goog.global&amp;&amp;!(!goog.global.navigator||!goog.global.navigator.msPointerEnabled),PASSIVE_EVENTS:(</span><span class="s4">0</span><span class="s1">,$jscomp.scope.purify)(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!goog.global.addEventListener||!Object.defineProperty)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=!</span><span class="s4">1</span><span class="s1">,b=Object.defineProperty({},</span><span class="s2">&quot;passive&quot;</span><span class="s1">,{get:</span><span class="s3">function</span><span class="s1">(){a=!</span><span class="s4">0</span><span class="s1">}});</span><span class="s3">try</span><span class="s1">{goog.global.addEventListener(</span><span class="s2">&quot;test&quot;</span><span class="s1">,goog.nullFunction,b),goog.global.removeEventListener(</span><span class="s2">&quot;test&quot;</span><span class="s1">,goog.nullFunction,b)}</span><span class="s3">catch</span><span class="s1">(c){}</span><span class="s3">return </span><span class="s1">a})};goog.disposable={};goog.disposable.IDisposable=</span><span class="s3">function</span><span class="s1">(){};goog.disposable.IDisposable.prototype.dispose=goog.abstractMethod;goog.disposable.IDisposable.prototype.isDisposed=goog.abstractMethod;goog.Disposable=</span><span class="s3">function</span><span class="s1">(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&amp;&amp;(goog.Disposable.INCLUDE_STACK_ON_CREATION&amp;&amp;(</span><span class="s3">this</span><span class="s1">.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(</span><span class="s3">this</span><span class="s1">)]=</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.disposed_=</span><span class="s3">this</span><span class="s1">.disposed_;</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_=</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_};goog.Disposable.MonitoringMode={OFF:</span><span class="s4">0</span><span class="s1">,PERMANENT:</span><span class="s4">1</span><span class="s1">,INTERACTIVE:</span><span class="s4">2</span><span class="s1">};goog.Disposable.MONITORING_MODE=</span><span class="s4">0</span><span class="s1">;goog.Disposable.INCLUDE_STACK_ON_CREATION=!</span><span class="s4">0</span><span class="s1">;goog.Disposable.instances_={};</span>
<a name="l327"><span class="ln">327  </span></a><span class="s1">goog.Disposable.getUndisposedObjects=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[],b;</span><span class="s3">for</span><span class="s1">(b </span><span class="s3">in </span><span class="s1">goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(b)&amp;&amp;a.push(goog.Disposable.instances_[Number(b)]);</span><span class="s3">return </span><span class="s1">a};goog.Disposable.clearUndisposedObjects=</span><span class="s3">function</span><span class="s1">(){goog.Disposable.instances_={}};goog.Disposable.prototype.disposed_=!</span><span class="s4">1</span><span class="s1">;goog.Disposable.prototype.isDisposed=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.disposed_};goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed;</span>
<a name="l328"><span class="ln">328  </span></a><span class="s1">goog.Disposable.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.disposed_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.disposed_=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){</span><span class="s3">var </span><span class="s1">a=goog.getUid(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&amp;&amp;!goog.Disposable.instances_.hasOwnProperty(a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s3">this</span><span class="s1">+</span><span class="s2">&quot; did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&amp;&amp;</span>
<a name="l329"><span class="ln">329  </span></a><span class="s3">this</span><span class="s1">.onDisposeCallbacks_&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s3">this</span><span class="s1">+</span><span class="s2">&quot; did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.&quot;</span><span class="s1">);</span><span class="s3">delete </span><span class="s1">goog.Disposable.instances_[a]}};goog.Disposable.prototype.registerDisposable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.addOnDisposeCallback(goog.partial(goog.dispose,a))};</span>
<a name="l330"><span class="ln">330  </span></a><span class="s1">goog.Disposable.prototype.addOnDisposeCallback=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.disposed_?goog.isDef(b)?a.call(b):a():(</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_||(</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_=[]),</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_.push(goog.isDef(b)?goog.bind(a,b):a))};goog.Disposable.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_)</span><span class="s3">for</span><span class="s1">(;</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_.length;)</span><span class="s3">this</span><span class="s1">.onDisposeCallbacks_.shift()()};goog.Disposable.isDisposed=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.isDisposed?a.isDisposed():!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l331"><span class="ln">331  </span></a><span class="s1">goog.dispose=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.dispose&amp;&amp;a.dispose()};goog.disposeAll=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=arguments.length;b&lt;c;++b){</span><span class="s3">var </span><span class="s1">d=arguments[b];goog.isArrayLike(d)?goog.disposeAll.apply(</span><span class="s3">null</span><span class="s1">,d):goog.dispose(d)}};goog.events.EventId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.id=a};goog.events.EventId.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.id};goog.events.Event=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.type=a </span><span class="s3">instanceof </span><span class="s1">goog.events.EventId?String(a):a;</span><span class="s3">this</span><span class="s1">.currentTarget=</span><span class="s3">this</span><span class="s1">.target=b;</span><span class="s3">this</span><span class="s1">.defaultPrevented=</span><span class="s3">this</span><span class="s1">.propagationStopped_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.returnValue_=!</span><span class="s4">0</span><span class="s1">};goog.events.Event.prototype.stopPropagation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.propagationStopped_=!</span><span class="s4">0</span><span class="s1">};goog.events.Event.prototype.preventDefault=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.defaultPrevented=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.returnValue_=!</span><span class="s4">1</span><span class="s1">};goog.events.Event.stopPropagation=</span><span class="s3">function</span><span class="s1">(a){a.stopPropagation()};goog.events.Event.preventDefault=</span><span class="s3">function</span><span class="s1">(a){a.preventDefault()};goog.events.getVendorPrefixedName_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.userAgent.WEBKIT?</span><span class="s2">&quot;webkit&quot;</span><span class="s1">+a:goog.userAgent.OPERA?</span><span class="s2">&quot;o&quot;</span><span class="s1">+a.toLowerCase():a.toLowerCase()};</span>
<a name="l332"><span class="ln">332  </span></a><span class="s1">goog.events.EventType={CLICK:</span><span class="s2">&quot;click&quot;</span><span class="s1">,RIGHTCLICK:</span><span class="s2">&quot;rightclick&quot;</span><span class="s1">,DBLCLICK:</span><span class="s2">&quot;dblclick&quot;</span><span class="s1">,AUXCLICK:</span><span class="s2">&quot;auxclick&quot;</span><span class="s1">,MOUSEDOWN:</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,MOUSEUP:</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,MOUSEOVER:</span><span class="s2">&quot;mouseover&quot;</span><span class="s1">,MOUSEOUT:</span><span class="s2">&quot;mouseout&quot;</span><span class="s1">,MOUSEMOVE:</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,MOUSEENTER:</span><span class="s2">&quot;mouseenter&quot;</span><span class="s1">,MOUSELEAVE:</span><span class="s2">&quot;mouseleave&quot;</span><span class="s1">,MOUSECANCEL:</span><span class="s2">&quot;mousecancel&quot;</span><span class="s1">,SELECTIONCHANGE:</span><span class="s2">&quot;selectionchange&quot;</span><span class="s1">,SELECTSTART:</span><span class="s2">&quot;selectstart&quot;</span><span class="s1">,WHEEL:</span><span class="s2">&quot;wheel&quot;</span><span class="s1">,KEYPRESS:</span><span class="s2">&quot;keypress&quot;</span><span class="s1">,KEYDOWN:</span><span class="s2">&quot;keydown&quot;</span><span class="s1">,KEYUP:</span><span class="s2">&quot;keyup&quot;</span><span class="s1">,BLUR:</span><span class="s2">&quot;blur&quot;</span><span class="s1">,FOCUS:</span><span class="s2">&quot;focus&quot;</span><span class="s1">,DEACTIVATE:</span><span class="s2">&quot;deactivate&quot;</span><span class="s1">,FOCUSIN:</span><span class="s2">&quot;focusin&quot;</span><span class="s1">,FOCUSOUT:</span><span class="s2">&quot;focusout&quot;</span><span class="s1">,CHANGE:</span><span class="s2">&quot;change&quot;</span><span class="s1">,</span>
<a name="l333"><span class="ln">333  </span></a><span class="s1">RESET:</span><span class="s2">&quot;reset&quot;</span><span class="s1">,SELECT:</span><span class="s2">&quot;select&quot;</span><span class="s1">,SUBMIT:</span><span class="s2">&quot;submit&quot;</span><span class="s1">,INPUT:</span><span class="s2">&quot;input&quot;</span><span class="s1">,PROPERTYCHANGE:</span><span class="s2">&quot;propertychange&quot;</span><span class="s1">,DRAGSTART:</span><span class="s2">&quot;dragstart&quot;</span><span class="s1">,DRAG:</span><span class="s2">&quot;drag&quot;</span><span class="s1">,DRAGENTER:</span><span class="s2">&quot;dragenter&quot;</span><span class="s1">,DRAGOVER:</span><span class="s2">&quot;dragover&quot;</span><span class="s1">,DRAGLEAVE:</span><span class="s2">&quot;dragleave&quot;</span><span class="s1">,DROP:</span><span class="s2">&quot;drop&quot;</span><span class="s1">,DRAGEND:</span><span class="s2">&quot;dragend&quot;</span><span class="s1">,TOUCHSTART:</span><span class="s2">&quot;touchstart&quot;</span><span class="s1">,TOUCHMOVE:</span><span class="s2">&quot;touchmove&quot;</span><span class="s1">,TOUCHEND:</span><span class="s2">&quot;touchend&quot;</span><span class="s1">,TOUCHCANCEL:</span><span class="s2">&quot;touchcancel&quot;</span><span class="s1">,BEFOREUNLOAD:</span><span class="s2">&quot;beforeunload&quot;</span><span class="s1">,CONSOLEMESSAGE:</span><span class="s2">&quot;consolemessage&quot;</span><span class="s1">,CONTEXTMENU:</span><span class="s2">&quot;contextmenu&quot;</span><span class="s1">,DEVICECHANGE:</span><span class="s2">&quot;devicechange&quot;</span><span class="s1">,DEVICEMOTION:</span><span class="s2">&quot;devicemotion&quot;</span><span class="s1">,DEVICEORIENTATION:</span><span class="s2">&quot;deviceorientation&quot;</span><span class="s1">,DOMCONTENTLOADED:</span><span class="s2">&quot;DOMContentLoaded&quot;</span><span class="s1">,</span>
<a name="l334"><span class="ln">334  </span></a><span class="s1">ERROR:</span><span class="s2">&quot;error&quot;</span><span class="s1">,HELP:</span><span class="s2">&quot;help&quot;</span><span class="s1">,LOAD:</span><span class="s2">&quot;load&quot;</span><span class="s1">,LOSECAPTURE:</span><span class="s2">&quot;losecapture&quot;</span><span class="s1">,ORIENTATIONCHANGE:</span><span class="s2">&quot;orientationchange&quot;</span><span class="s1">,READYSTATECHANGE:</span><span class="s2">&quot;readystatechange&quot;</span><span class="s1">,RESIZE:</span><span class="s2">&quot;resize&quot;</span><span class="s1">,SCROLL:</span><span class="s2">&quot;scroll&quot;</span><span class="s1">,UNLOAD:</span><span class="s2">&quot;unload&quot;</span><span class="s1">,CANPLAY:</span><span class="s2">&quot;canplay&quot;</span><span class="s1">,CANPLAYTHROUGH:</span><span class="s2">&quot;canplaythrough&quot;</span><span class="s1">,DURATIONCHANGE:</span><span class="s2">&quot;durationchange&quot;</span><span class="s1">,EMPTIED:</span><span class="s2">&quot;emptied&quot;</span><span class="s1">,ENDED:</span><span class="s2">&quot;ended&quot;</span><span class="s1">,LOADEDDATA:</span><span class="s2">&quot;loadeddata&quot;</span><span class="s1">,LOADEDMETADATA:</span><span class="s2">&quot;loadedmetadata&quot;</span><span class="s1">,PAUSE:</span><span class="s2">&quot;pause&quot;</span><span class="s1">,PLAY:</span><span class="s2">&quot;play&quot;</span><span class="s1">,PLAYING:</span><span class="s2">&quot;playing&quot;</span><span class="s1">,RATECHANGE:</span><span class="s2">&quot;ratechange&quot;</span><span class="s1">,SEEKED:</span><span class="s2">&quot;seeked&quot;</span><span class="s1">,SEEKING:</span><span class="s2">&quot;seeking&quot;</span><span class="s1">,STALLED:</span><span class="s2">&quot;stalled&quot;</span><span class="s1">,SUSPEND:</span><span class="s2">&quot;suspend&quot;</span><span class="s1">,TIMEUPDATE:</span><span class="s2">&quot;timeupdate&quot;</span><span class="s1">,</span>
<a name="l335"><span class="ln">335  </span></a><span class="s1">VOLUMECHANGE:</span><span class="s2">&quot;volumechange&quot;</span><span class="s1">,WAITING:</span><span class="s2">&quot;waiting&quot;</span><span class="s1">,SOURCEOPEN:</span><span class="s2">&quot;sourceopen&quot;</span><span class="s1">,SOURCEENDED:</span><span class="s2">&quot;sourceended&quot;</span><span class="s1">,SOURCECLOSED:</span><span class="s2">&quot;sourceclosed&quot;</span><span class="s1">,ABORT:</span><span class="s2">&quot;abort&quot;</span><span class="s1">,UPDATE:</span><span class="s2">&quot;update&quot;</span><span class="s1">,UPDATESTART:</span><span class="s2">&quot;updatestart&quot;</span><span class="s1">,UPDATEEND:</span><span class="s2">&quot;updateend&quot;</span><span class="s1">,HASHCHANGE:</span><span class="s2">&quot;hashchange&quot;</span><span class="s1">,PAGEHIDE:</span><span class="s2">&quot;pagehide&quot;</span><span class="s1">,PAGESHOW:</span><span class="s2">&quot;pageshow&quot;</span><span class="s1">,POPSTATE:</span><span class="s2">&quot;popstate&quot;</span><span class="s1">,COPY:</span><span class="s2">&quot;copy&quot;</span><span class="s1">,PASTE:</span><span class="s2">&quot;paste&quot;</span><span class="s1">,CUT:</span><span class="s2">&quot;cut&quot;</span><span class="s1">,BEFORECOPY:</span><span class="s2">&quot;beforecopy&quot;</span><span class="s1">,BEFORECUT:</span><span class="s2">&quot;beforecut&quot;</span><span class="s1">,BEFOREPASTE:</span><span class="s2">&quot;beforepaste&quot;</span><span class="s1">,ONLINE:</span><span class="s2">&quot;online&quot;</span><span class="s1">,OFFLINE:</span><span class="s2">&quot;offline&quot;</span><span class="s1">,MESSAGE:</span><span class="s2">&quot;message&quot;</span><span class="s1">,CONNECT:</span><span class="s2">&quot;connect&quot;</span><span class="s1">,INSTALL:</span><span class="s2">&quot;install&quot;</span><span class="s1">,ACTIVATE:</span><span class="s2">&quot;activate&quot;</span><span class="s1">,</span>
<a name="l336"><span class="ln">336  </span></a><span class="s1">FETCH:</span><span class="s2">&quot;fetch&quot;</span><span class="s1">,FOREIGNFETCH:</span><span class="s2">&quot;foreignfetch&quot;</span><span class="s1">,MESSAGEERROR:</span><span class="s2">&quot;messageerror&quot;</span><span class="s1">,STATECHANGE:</span><span class="s2">&quot;statechange&quot;</span><span class="s1">,UPDATEFOUND:</span><span class="s2">&quot;updatefound&quot;</span><span class="s1">,CONTROLLERCHANGE:</span><span class="s2">&quot;controllerchange&quot;</span><span class="s1">,ANIMATIONSTART:goog.events.getVendorPrefixedName_(</span><span class="s2">&quot;AnimationStart&quot;</span><span class="s1">),ANIMATIONEND:goog.events.getVendorPrefixedName_(</span><span class="s2">&quot;AnimationEnd&quot;</span><span class="s1">),ANIMATIONITERATION:goog.events.getVendorPrefixedName_(</span><span class="s2">&quot;AnimationIteration&quot;</span><span class="s1">),TRANSITIONEND:goog.events.getVendorPrefixedName_(</span><span class="s2">&quot;TransitionEnd&quot;</span><span class="s1">),POINTERDOWN:</span><span class="s2">&quot;pointerdown&quot;</span><span class="s1">,POINTERUP:</span><span class="s2">&quot;pointerup&quot;</span><span class="s1">,POINTERCANCEL:</span><span class="s2">&quot;pointercancel&quot;</span><span class="s1">,</span>
<a name="l337"><span class="ln">337  </span></a><span class="s1">POINTERMOVE:</span><span class="s2">&quot;pointermove&quot;</span><span class="s1">,POINTEROVER:</span><span class="s2">&quot;pointerover&quot;</span><span class="s1">,POINTEROUT:</span><span class="s2">&quot;pointerout&quot;</span><span class="s1">,POINTERENTER:</span><span class="s2">&quot;pointerenter&quot;</span><span class="s1">,POINTERLEAVE:</span><span class="s2">&quot;pointerleave&quot;</span><span class="s1">,GOTPOINTERCAPTURE:</span><span class="s2">&quot;gotpointercapture&quot;</span><span class="s1">,LOSTPOINTERCAPTURE:</span><span class="s2">&quot;lostpointercapture&quot;</span><span class="s1">,MSGESTURECHANGE:</span><span class="s2">&quot;MSGestureChange&quot;</span><span class="s1">,MSGESTUREEND:</span><span class="s2">&quot;MSGestureEnd&quot;</span><span class="s1">,MSGESTUREHOLD:</span><span class="s2">&quot;MSGestureHold&quot;</span><span class="s1">,MSGESTURESTART:</span><span class="s2">&quot;MSGestureStart&quot;</span><span class="s1">,MSGESTURETAP:</span><span class="s2">&quot;MSGestureTap&quot;</span><span class="s1">,MSGOTPOINTERCAPTURE:</span><span class="s2">&quot;MSGotPointerCapture&quot;</span><span class="s1">,MSINERTIASTART:</span><span class="s2">&quot;MSInertiaStart&quot;</span><span class="s1">,MSLOSTPOINTERCAPTURE:</span><span class="s2">&quot;MSLostPointerCapture&quot;</span><span class="s1">,MSPOINTERCANCEL:</span><span class="s2">&quot;MSPointerCancel&quot;</span><span class="s1">,</span>
<a name="l338"><span class="ln">338  </span></a><span class="s1">MSPOINTERDOWN:</span><span class="s2">&quot;MSPointerDown&quot;</span><span class="s1">,MSPOINTERENTER:</span><span class="s2">&quot;MSPointerEnter&quot;</span><span class="s1">,MSPOINTERHOVER:</span><span class="s2">&quot;MSPointerHover&quot;</span><span class="s1">,MSPOINTERLEAVE:</span><span class="s2">&quot;MSPointerLeave&quot;</span><span class="s1">,MSPOINTERMOVE:</span><span class="s2">&quot;MSPointerMove&quot;</span><span class="s1">,MSPOINTEROUT:</span><span class="s2">&quot;MSPointerOut&quot;</span><span class="s1">,MSPOINTEROVER:</span><span class="s2">&quot;MSPointerOver&quot;</span><span class="s1">,MSPOINTERUP:</span><span class="s2">&quot;MSPointerUp&quot;</span><span class="s1">,TEXT:</span><span class="s2">&quot;text&quot;</span><span class="s1">,TEXTINPUT:goog.userAgent.IE?</span><span class="s2">&quot;textinput&quot;</span><span class="s1">:</span><span class="s2">&quot;textInput&quot;</span><span class="s1">,COMPOSITIONSTART:</span><span class="s2">&quot;compositionstart&quot;</span><span class="s1">,COMPOSITIONUPDATE:</span><span class="s2">&quot;compositionupdate&quot;</span><span class="s1">,COMPOSITIONEND:</span><span class="s2">&quot;compositionend&quot;</span><span class="s1">,BEFOREINPUT:</span><span class="s2">&quot;beforeinput&quot;</span><span class="s1">,EXIT:</span><span class="s2">&quot;exit&quot;</span><span class="s1">,LOADABORT:</span><span class="s2">&quot;loadabort&quot;</span><span class="s1">,LOADCOMMIT:</span><span class="s2">&quot;loadcommit&quot;</span><span class="s1">,LOADREDIRECT:</span><span class="s2">&quot;loadredirect&quot;</span><span class="s1">,</span>
<a name="l339"><span class="ln">339  </span></a><span class="s1">LOADSTART:</span><span class="s2">&quot;loadstart&quot;</span><span class="s1">,LOADSTOP:</span><span class="s2">&quot;loadstop&quot;</span><span class="s1">,RESPONSIVE:</span><span class="s2">&quot;responsive&quot;</span><span class="s1">,SIZECHANGED:</span><span class="s2">&quot;sizechanged&quot;</span><span class="s1">,UNRESPONSIVE:</span><span class="s2">&quot;unresponsive&quot;</span><span class="s1">,VISIBILITYCHANGE:</span><span class="s2">&quot;visibilitychange&quot;</span><span class="s1">,STORAGE:</span><span class="s2">&quot;storage&quot;</span><span class="s1">,DOMSUBTREEMODIFIED:</span><span class="s2">&quot;DOMSubtreeModified&quot;</span><span class="s1">,DOMNODEINSERTED:</span><span class="s2">&quot;DOMNodeInserted&quot;</span><span class="s1">,DOMNODEREMOVED:</span><span class="s2">&quot;DOMNodeRemoved&quot;</span><span class="s1">,DOMNODEREMOVEDFROMDOCUMENT:</span><span class="s2">&quot;DOMNodeRemovedFromDocument&quot;</span><span class="s1">,DOMNODEINSERTEDINTODOCUMENT:</span><span class="s2">&quot;DOMNodeInsertedIntoDocument&quot;</span><span class="s1">,DOMATTRMODIFIED:</span><span class="s2">&quot;DOMAttrModified&quot;</span><span class="s1">,DOMCHARACTERDATAMODIFIED:</span><span class="s2">&quot;DOMCharacterDataModified&quot;</span><span class="s1">,BEFOREPRINT:</span><span class="s2">&quot;beforeprint&quot;</span><span class="s1">,</span>
<a name="l340"><span class="ln">340  </span></a><span class="s1">AFTERPRINT:</span><span class="s2">&quot;afterprint&quot;</span><span class="s1">,BEFOREINSTALLPROMPT:</span><span class="s2">&quot;beforeinstallprompt&quot;</span><span class="s1">,APPINSTALLED:</span><span class="s2">&quot;appinstalled&quot;</span><span class="s1">};goog.events.getPointerFallbackEventName_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.events.BrowserFeature.POINTER_EVENTS?a:goog.events.BrowserFeature.MSPOINTER_EVENTS?b:c};</span>
<a name="l341"><span class="ln">341  </span></a><span class="s1">goog.events.PointerFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.MOUSEDOWN),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.MOUSEUP),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.MOUSECANCEL),</span>
<a name="l342"><span class="ln">342  </span></a><span class="s1">POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.MOUSEMOVE),POINTEROVER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROVER,goog.events.EventType.MSPOINTEROVER,goog.events.EventType.MOUSEOVER),POINTEROUT:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTEROUT,goog.events.EventType.MSPOINTEROUT,goog.events.EventType.MOUSEOUT),POINTERENTER:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERENTER,</span>
<a name="l343"><span class="ln">343  </span></a><span class="s1">goog.events.EventType.MSPOINTERENTER,goog.events.EventType.MOUSEENTER),POINTERLEAVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERLEAVE,goog.events.EventType.MSPOINTERLEAVE,goog.events.EventType.MOUSELEAVE)};</span>
<a name="l344"><span class="ln">344  </span></a><span class="s1">goog.events.PointerTouchFallbackEventType={POINTERDOWN:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERDOWN,goog.events.EventType.MSPOINTERDOWN,goog.events.EventType.TOUCHSTART),POINTERUP:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERUP,goog.events.EventType.MSPOINTERUP,goog.events.EventType.TOUCHEND),POINTERCANCEL:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERCANCEL,goog.events.EventType.MSPOINTERCANCEL,goog.events.EventType.TOUCHCANCEL),</span>
<a name="l345"><span class="ln">345  </span></a><span class="s1">POINTERMOVE:goog.events.getPointerFallbackEventName_(goog.events.EventType.POINTERMOVE,goog.events.EventType.MSPOINTERMOVE,goog.events.EventType.TOUCHMOVE)};</span>
<a name="l346"><span class="ln">346  </span></a><span class="s1">goog.events.PointerAsMouseEventType={MOUSEDOWN:goog.events.PointerFallbackEventType.POINTERDOWN,MOUSEUP:goog.events.PointerFallbackEventType.POINTERUP,MOUSECANCEL:goog.events.PointerFallbackEventType.POINTERCANCEL,MOUSEMOVE:goog.events.PointerFallbackEventType.POINTERMOVE,MOUSEOVER:goog.events.PointerFallbackEventType.POINTEROVER,MOUSEOUT:goog.events.PointerFallbackEventType.POINTEROUT,MOUSEENTER:goog.events.PointerFallbackEventType.POINTERENTER,MOUSELEAVE:goog.events.PointerFallbackEventType.POINTERLEAVE};</span>
<a name="l347"><span class="ln">347  </span></a><span class="s1">goog.events.MouseAsMouseEventType={MOUSEDOWN:goog.events.EventType.MOUSEDOWN,MOUSEUP:goog.events.EventType.MOUSEUP,MOUSECANCEL:goog.events.EventType.MOUSECANCEL,MOUSEMOVE:goog.events.EventType.MOUSEMOVE,MOUSEOVER:goog.events.EventType.MOUSEOVER,MOUSEOUT:goog.events.EventType.MOUSEOUT,MOUSEENTER:goog.events.EventType.MOUSEENTER,MOUSELEAVE:goog.events.EventType.MOUSELEAVE};</span>
<a name="l348"><span class="ln">348  </span></a><span class="s1">goog.events.PointerAsTouchEventType={TOUCHCANCEL:goog.events.PointerTouchFallbackEventType.POINTERCANCEL,TOUCHEND:goog.events.PointerTouchFallbackEventType.POINTERUP,TOUCHMOVE:goog.events.PointerTouchFallbackEventType.POINTERMOVE,TOUCHSTART:goog.events.PointerTouchFallbackEventType.POINTERDOWN};goog.events.USE_LAYER_XY_AS_OFFSET_XY=!</span><span class="s4">1</span><span class="s1">;goog.events.BrowserEvent=</span><span class="s3">function</span><span class="s1">(a,b){goog.events.Event.call(</span><span class="s3">this</span><span class="s1">,a?a.type:</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.relatedTarget=</span><span class="s3">this</span><span class="s1">.currentTarget=</span><span class="s3">this</span><span class="s1">.target=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.button=</span><span class="s3">this</span><span class="s1">.screenY=</span><span class="s3">this</span><span class="s1">.screenX=</span><span class="s3">this</span><span class="s1">.clientY=</span><span class="s3">this</span><span class="s1">.clientX=</span><span class="s3">this</span><span class="s1">.offsetY=</span><span class="s3">this</span><span class="s1">.offsetX=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.key=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.charCode=</span><span class="s3">this</span><span class="s1">.keyCode=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.metaKey=</span><span class="s3">this</span><span class="s1">.shiftKey=</span><span class="s3">this</span><span class="s1">.altKey=</span><span class="s3">this</span><span class="s1">.ctrlKey=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.state=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.platformModifierKey=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.pointerId=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.pointerType=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.event_=</span><span class="s3">null</span><span class="s1">;a&amp;&amp;</span><span class="s3">this</span><span class="s1">.init(a,b)};</span>
<a name="l349"><span class="ln">349  </span></a><span class="s1">goog.inherits(goog.events.BrowserEvent,goog.events.Event);goog.events.BrowserEvent.MouseButton={LEFT:</span><span class="s4">0</span><span class="s1">,MIDDLE:</span><span class="s4">1</span><span class="s1">,RIGHT:</span><span class="s4">2</span><span class="s1">};goog.events.BrowserEvent.PointerType={MOUSE:</span><span class="s2">&quot;mouse&quot;</span><span class="s1">,PEN:</span><span class="s2">&quot;pen&quot;</span><span class="s1">,TOUCH:</span><span class="s2">&quot;touch&quot;</span><span class="s1">};goog.events.BrowserEvent.IEButtonMap=goog.debug.freeze([</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">,</span><span class="s4">2</span><span class="s1">]);goog.events.BrowserEvent.IE_BUTTON_MAP=goog.events.BrowserEvent.IEButtonMap;goog.events.BrowserEvent.IE_POINTER_TYPE_MAP=goog.debug.freeze({</span><span class="s4">2</span><span class="s1">:goog.events.BrowserEvent.PointerType.TOUCH,</span><span class="s4">3</span><span class="s1">:goog.events.BrowserEvent.PointerType.PEN,</span><span class="s4">4</span><span class="s1">:goog.events.BrowserEvent.PointerType.MOUSE});</span>
<a name="l350"><span class="ln">350  </span></a><span class="s1">goog.events.BrowserEvent.prototype.init=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.type=a.type,d=a.changedTouches&amp;&amp;a.changedTouches.length?a.changedTouches[</span><span class="s4">0</span><span class="s1">]:</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.target=a.target||a.srcElement;</span><span class="s3">this</span><span class="s1">.currentTarget=b;</span><span class="s3">var </span><span class="s1">e=a.relatedTarget;e?goog.userAgent.GECKO&amp;&amp;(goog.reflect.canAccessProperty(e,</span><span class="s2">&quot;nodeName&quot;</span><span class="s1">)||(e=</span><span class="s3">null</span><span class="s1">)):c==goog.events.EventType.MOUSEOVER?e=a.fromElement:c==goog.events.EventType.MOUSEOUT&amp;&amp;(e=a.toElement);</span><span class="s3">this</span><span class="s1">.relatedTarget=e;d?(</span><span class="s3">this</span><span class="s1">.clientX=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==d.clientX?d.clientX:d.pageX,</span><span class="s3">this</span><span class="s1">.clientY=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==</span>
<a name="l351"><span class="ln">351  </span></a><span class="s1">d.clientY?d.clientY:d.pageY,</span><span class="s3">this</span><span class="s1">.screenX=d.screenX||</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.screenY=d.screenY||</span><span class="s4">0</span><span class="s1">):(goog.events.USE_LAYER_XY_AS_OFFSET_XY?(</span><span class="s3">this</span><span class="s1">.offsetX=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.layerX?a.layerX:a.offsetX,</span><span class="s3">this</span><span class="s1">.offsetY=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.layerY?a.layerY:a.offsetY):(</span><span class="s3">this</span><span class="s1">.offsetX=goog.userAgent.WEBKIT||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.offsetX?a.offsetX:a.layerX,</span><span class="s3">this</span><span class="s1">.offsetY=goog.userAgent.WEBKIT||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.offsetY?a.offsetY:a.layerY),</span><span class="s3">this</span><span class="s1">.clientX=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.clientX?a.clientX:a.pageX,</span><span class="s3">this</span><span class="s1">.clientY=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.clientY?a.clientY:a.pageY,</span><span class="s3">this</span><span class="s1">.screenX=a.screenX||</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.screenY=</span>
<a name="l352"><span class="ln">352  </span></a><span class="s1">a.screenY||</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.button=a.button;</span><span class="s3">this</span><span class="s1">.keyCode=a.keyCode||</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.key=a.key||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.charCode=a.charCode||(</span><span class="s2">&quot;keypress&quot;</span><span class="s1">==c?a.keyCode:</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.ctrlKey=a.ctrlKey;</span><span class="s3">this</span><span class="s1">.altKey=a.altKey;</span><span class="s3">this</span><span class="s1">.shiftKey=a.shiftKey;</span><span class="s3">this</span><span class="s1">.metaKey=a.metaKey;</span><span class="s3">this</span><span class="s1">.platformModifierKey=goog.userAgent.MAC?a.metaKey:a.ctrlKey;</span><span class="s3">this</span><span class="s1">.pointerId=a.pointerId||</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.pointerType=goog.events.BrowserEvent.getPointerType_(a);</span><span class="s3">this</span><span class="s1">.state=a.state;</span><span class="s3">this</span><span class="s1">.event_=a;a.defaultPrevented&amp;&amp;</span><span class="s3">this</span><span class="s1">.preventDefault()};</span>
<a name="l353"><span class="ln">353  </span></a><span class="s1">goog.events.BrowserEvent.prototype.isButton=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.events.BrowserFeature.HAS_W3C_BUTTON?</span><span class="s3">this</span><span class="s1">.event_.button==a:</span><span class="s2">&quot;click&quot;</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.type?a==goog.events.BrowserEvent.MouseButton.LEFT:!!(</span><span class="s3">this</span><span class="s1">.event_.button&amp;goog.events.BrowserEvent.IE_BUTTON_MAP[a])};goog.events.BrowserEvent.prototype.isMouseActionButton=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&amp;&amp;!(goog.userAgent.WEBKIT&amp;&amp;goog.userAgent.MAC&amp;&amp;</span><span class="s3">this</span><span class="s1">.ctrlKey)};</span>
<a name="l354"><span class="ln">354  </span></a><span class="s1">goog.events.BrowserEvent.prototype.stopPropagation=</span><span class="s3">function</span><span class="s1">(){goog.events.BrowserEvent.superClass_.stopPropagation.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.event_.stopPropagation?</span><span class="s3">this</span><span class="s1">.event_.stopPropagation():</span><span class="s3">this</span><span class="s1">.event_.cancelBubble=!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l355"><span class="ln">355  </span></a><span class="s1">goog.events.BrowserEvent.prototype.preventDefault=</span><span class="s3">function</span><span class="s1">(){goog.events.BrowserEvent.superClass_.preventDefault.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.event_;</span><span class="s3">if</span><span class="s1">(a.preventDefault)a.preventDefault();</span><span class="s3">else if</span><span class="s1">(a.returnValue=!</span><span class="s4">1</span><span class="s1">,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)</span><span class="s3">try</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(a.ctrlKey||</span><span class="s4">112</span><span class="s1">&lt;=a.keyCode&amp;&amp;</span><span class="s4">123</span><span class="s1">&gt;=a.keyCode)a.keyCode=-</span><span class="s4">1</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(b){}};goog.events.BrowserEvent.prototype.getBrowserEvent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.event_};</span>
<a name="l356"><span class="ln">356  </span></a><span class="s1">goog.events.BrowserEvent.getPointerType_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isString(a.pointerType)?a.pointerType:goog.events.BrowserEvent.IE_POINTER_TYPE_MAP[a.pointerType]||</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.events.Listenable=</span><span class="s3">function</span><span class="s1">(){};goog.events.Listenable.IMPLEMENTED_BY_PROP=</span><span class="s2">&quot;closure_listenable_&quot;</span><span class="s1">+(</span><span class="s4">1</span><span class="s1">E6*Math.random()|</span><span class="s4">0</span><span class="s1">);goog.events.Listenable.addImplementation=</span><span class="s3">function</span><span class="s1">(a){a.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!</span><span class="s4">0</span><span class="s1">};goog.events.Listenable.isImplementedBy=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!(!a||!a[goog.events.Listenable.IMPLEMENTED_BY_PROP])};goog.events.ListenableKey=</span><span class="s3">function</span><span class="s1">(){};goog.events.ListenableKey.counter_=</span><span class="s4">0</span><span class="s1">;goog.events.ListenableKey.reserveKey=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">++goog.events.ListenableKey.counter_};goog.events.Listener=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){goog.events.Listener.ENABLE_MONITORING&amp;&amp;(</span><span class="s3">this</span><span class="s1">.creationStack=Error().stack);</span><span class="s3">this</span><span class="s1">.listener=a;</span><span class="s3">this</span><span class="s1">.proxy=b;</span><span class="s3">this</span><span class="s1">.src=c;</span><span class="s3">this</span><span class="s1">.type=d;</span><span class="s3">this</span><span class="s1">.capture=!!e;</span><span class="s3">this</span><span class="s1">.handler=f;</span><span class="s3">this</span><span class="s1">.key=goog.events.ListenableKey.reserveKey();</span><span class="s3">this</span><span class="s1">.removed=</span><span class="s3">this</span><span class="s1">.callOnce=!</span><span class="s4">1</span><span class="s1">};goog.events.Listener.ENABLE_MONITORING=!</span><span class="s4">1</span><span class="s1">;goog.events.Listener.prototype.markAsRemoved=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.removed=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.handler=</span><span class="s3">this</span><span class="s1">.src=</span><span class="s3">this</span><span class="s1">.proxy=</span><span class="s3">this</span><span class="s1">.listener=</span><span class="s3">null</span><span class="s1">};goog.events.ListenerMap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.src=a;</span><span class="s3">this</span><span class="s1">.listeners={};</span><span class="s3">this</span><span class="s1">.typeCount_=</span><span class="s4">0</span><span class="s1">};goog.events.ListenerMap.prototype.getTypeCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.typeCount_};goog.events.ListenerMap.prototype.getListenerCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;</span><span class="s3">for</span><span class="s1">(b </span><span class="s3">in this</span><span class="s1">.listeners)a+=</span><span class="s3">this</span><span class="s1">.listeners[b].length;</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l357"><span class="ln">357  </span></a><span class="s1">goog.events.ListenerMap.prototype.add=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">var </span><span class="s1">f=a.toString();a=</span><span class="s3">this</span><span class="s1">.listeners[f];a||(a=</span><span class="s3">this</span><span class="s1">.listeners[f]=[],</span><span class="s3">this</span><span class="s1">.typeCount_++);</span><span class="s3">var </span><span class="s1">g=goog.events.ListenerMap.findListenerIndex_(a,b,d,e);-</span><span class="s4">1</span><span class="s1">&lt;g?(b=a[g],c||(b.callOnce=!</span><span class="s4">1</span><span class="s1">)):(b=</span><span class="s3">new </span><span class="s1">goog.events.Listener(b,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.src,f,!!d,e),b.callOnce=c,a.push(b));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l358"><span class="ln">358  </span></a><span class="s1">goog.events.ListenerMap.prototype.remove=</span><span class="s3">function</span><span class="s1">(a,b,c,d){a=a.toString();</span><span class="s3">if</span><span class="s1">(!(a </span><span class="s3">in this</span><span class="s1">.listeners))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.listeners[a];b=goog.events.ListenerMap.findListenerIndex_(e,b,c,d);</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">&lt;b?(e[b].markAsRemoved(),goog.array.removeAt(e,b),</span><span class="s4">0</span><span class="s1">==e.length&amp;&amp;(</span><span class="s3">delete this</span><span class="s1">.listeners[a],</span><span class="s3">this</span><span class="s1">.typeCount_--),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l359"><span class="ln">359  </span></a><span class="s1">goog.events.ListenerMap.prototype.removeByKey=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.type;</span><span class="s3">if</span><span class="s1">(!(b </span><span class="s3">in this</span><span class="s1">.listeners))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=goog.array.remove(</span><span class="s3">this</span><span class="s1">.listeners[b],a);c&amp;&amp;(a.markAsRemoved(),</span><span class="s4">0</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.listeners[b].length&amp;&amp;(</span><span class="s3">delete this</span><span class="s1">.listeners[b],</span><span class="s3">this</span><span class="s1">.typeCount_--));</span><span class="s3">return </span><span class="s1">c};goog.events.ListenerMap.prototype.removeAll=</span><span class="s3">function</span><span class="s1">(a){a=a&amp;&amp;a.toString();</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in this</span><span class="s1">.listeners)</span><span class="s3">if</span><span class="s1">(!a||c==a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.listeners[c],e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++)++b,d[e].markAsRemoved();</span><span class="s3">delete this</span><span class="s1">.listeners[c];</span><span class="s3">this</span><span class="s1">.typeCount_--}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l360"><span class="ln">360  </span></a><span class="s1">goog.events.ListenerMap.prototype.getListeners=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.listeners[a.toString()],d=[];</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;c.length;++e){</span><span class="s3">var </span><span class="s1">f=c[e];f.capture==b&amp;&amp;d.push(f)}</span><span class="s3">return </span><span class="s1">d};goog.events.ListenerMap.prototype.getListener=</span><span class="s3">function</span><span class="s1">(a,b,c,d){a=</span><span class="s3">this</span><span class="s1">.listeners[a.toString()];</span><span class="s3">var </span><span class="s1">e=-</span><span class="s4">1</span><span class="s1">;a&amp;&amp;(e=goog.events.ListenerMap.findListenerIndex_(a,b,c,d));</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">&lt;e?a[e]:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l361"><span class="ln">361  </span></a><span class="s1">goog.events.ListenerMap.prototype.hasListener=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isDef(a),d=c?a.toString():</span><span class="s2">&quot;&quot;</span><span class="s1">,e=goog.isDef(b);</span><span class="s3">return </span><span class="s1">goog.object.some(</span><span class="s3">this</span><span class="s1">.listeners,</span><span class="s3">function</span><span class="s1">(a,g){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;a.length;++f)</span><span class="s3">if</span><span class="s1">(!(c&amp;&amp;a[f].type!=d||e&amp;&amp;a[f].capture!=b))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">})};goog.events.ListenerMap.findListenerIndex_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;++e){</span><span class="s3">var </span><span class="s1">f=a[e];</span><span class="s3">if</span><span class="s1">(!f.removed&amp;&amp;f.listener==b&amp;&amp;f.capture==!!c&amp;&amp;f.handler==d)</span><span class="s3">return </span><span class="s1">e}</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};goog.events.LISTENER_MAP_PROP_=</span><span class="s2">&quot;closure_lm_&quot;</span><span class="s1">+(</span><span class="s4">1</span><span class="s1">E6*Math.random()|</span><span class="s4">0</span><span class="s1">);goog.events.onString_=</span><span class="s2">&quot;on&quot;</span><span class="s1">;goog.events.onStringMap_={};goog.events.CaptureSimulationMode={OFF_AND_FAIL:</span><span class="s4">0</span><span class="s1">,OFF_AND_SILENT:</span><span class="s4">1</span><span class="s1">,ON:</span><span class="s4">2</span><span class="s1">};goog.events.CAPTURE_SIMULATION_MODE=</span><span class="s4">2</span><span class="s1">;goog.events.listenerCountEstimate_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l362"><span class="ln">362  </span></a><span class="s1">goog.events.listen=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">if</span><span class="s1">(d&amp;&amp;d.once)</span><span class="s3">return </span><span class="s1">goog.events.listenOnce(a,b,c,d,e);</span><span class="s3">if</span><span class="s1">(goog.isArray(b)){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++)goog.events.listen(a,b[f],c,d,e);</span><span class="s3">return null</span><span class="s1">}c=goog.events.wrapListener(c);</span><span class="s3">return </span><span class="s1">goog.events.Listenable.isImplementedBy(a)?(d=goog.isObject(d)?!!d.capture:!!d,a.listen(b,c,d,e)):goog.events.listen_(a,b,c,!</span><span class="s4">1</span><span class="s1">,d,e)};</span>
<a name="l363"><span class="ln">363  </span></a><span class="s1">goog.events.listen_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid event type&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">g=goog.isObject(e)?!!e.capture:!!e;</span><span class="s3">if</span><span class="s1">(g&amp;&amp;!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){</span><span class="s3">if</span><span class="s1">(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)</span><span class="s3">return </span><span class="s1">goog.asserts.fail(</span><span class="s2">&quot;Can not register capture listener in IE8-.&quot;</span><span class="s1">),</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)</span><span class="s3">return null</span><span class="s1">}</span><span class="s3">var </span><span class="s1">h=goog.events.getListenerMap_(a);h||(a[goog.events.LISTENER_MAP_PROP_]=</span>
<a name="l364"><span class="ln">364  </span></a><span class="s1">h=</span><span class="s3">new </span><span class="s1">goog.events.ListenerMap(a));c=h.add(b,c,d,g,f);</span><span class="s3">if</span><span class="s1">(c.proxy)</span><span class="s3">return </span><span class="s1">c;d=goog.events.getProxy();c.proxy=d;d.src=a;d.listener=c;</span><span class="s3">if</span><span class="s1">(a.addEventListener)goog.events.BrowserFeature.PASSIVE_EVENTS||(e=g),</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===e&amp;&amp;(e=!</span><span class="s4">1</span><span class="s1">),a.addEventListener(b.toString(),d,e);</span><span class="s3">else if</span><span class="s1">(a.attachEvent)a.attachEvent(goog.events.getOnString_(b.toString()),d);</span><span class="s3">else if</span><span class="s1">(a.addListener&amp;&amp;a.removeListener)goog.asserts.assert(</span><span class="s2">&quot;change&quot;</span><span class="s1">===b,</span><span class="s2">&quot;MediaQueryList only has a change event&quot;</span><span class="s1">),a.addListener(d);</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;addEventListener and attachEvent are unavailable.&quot;</span><span class="s1">);</span>
<a name="l365"><span class="ln">365  </span></a><span class="s1">goog.events.listenerCountEstimate_++;</span><span class="s3">return </span><span class="s1">c};goog.events.getProxy=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.events.handleBrowserEvent_,b=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?</span><span class="s3">function</span><span class="s1">(c){</span><span class="s3">return </span><span class="s1">a.call(b.src,b.listener,c)}:</span><span class="s3">function</span><span class="s1">(c){c=a.call(b.src,b.listener,c);</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">return </span><span class="s1">c};</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l366"><span class="ln">366  </span></a><span class="s1">goog.events.listenOnce=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">if</span><span class="s1">(goog.isArray(b)){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++)goog.events.listenOnce(a,b[f],c,d,e);</span><span class="s3">return null</span><span class="s1">}c=goog.events.wrapListener(c);</span><span class="s3">return </span><span class="s1">goog.events.Listenable.isImplementedBy(a)?(d=goog.isObject(d)?!!d.capture:!!d,a.listenOnce(b,c,d,e)):goog.events.listen_(a,b,c,!</span><span class="s4">0</span><span class="s1">,d,e)};goog.events.listenWithWrapper=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){b.listen(a,c,d,e)};</span>
<a name="l367"><span class="ln">367  </span></a><span class="s1">goog.events.unlisten=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">if</span><span class="s1">(goog.isArray(b)){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++)goog.events.unlisten(a,b[f],c,d,e);</span><span class="s3">return null</span><span class="s1">}d=goog.isObject(d)?!!d.capture:!!d;c=goog.events.wrapListener(c);</span><span class="s3">if</span><span class="s1">(goog.events.Listenable.isImplementedBy(a))</span><span class="s3">return </span><span class="s1">a.unlisten(b,c,d,e);</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a=goog.events.getListenerMap_(a))</span><span class="s3">if</span><span class="s1">(b=a.getListener(b,c,d,e))</span><span class="s3">return </span><span class="s1">goog.events.unlistenByKey(b);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l368"><span class="ln">368  </span></a><span class="s1">goog.events.unlistenByKey=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.isNumber(a)||!a||a.removed)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=a.src;</span><span class="s3">if</span><span class="s1">(goog.events.Listenable.isImplementedBy(b))</span><span class="s3">return </span><span class="s1">b.unlistenByKey(a);</span><span class="s3">var </span><span class="s1">c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(goog.events.getOnString_(c),d):b.addListener&amp;&amp;b.removeListener&amp;&amp;b.removeListener(d);goog.events.listenerCountEstimate_--;(c=goog.events.getListenerMap_(b))?(c.removeByKey(a),</span><span class="s4">0</span><span class="s1">==c.getTypeCount()&amp;&amp;(c.src=</span><span class="s3">null</span><span class="s1">,b[goog.events.LISTENER_MAP_PROP_]=</span>
<a name="l369"><span class="ln">369  </span></a><span class="s3">null</span><span class="s1">)):a.markAsRemoved();</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.events.unlistenWithWrapper=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){b.unlisten(a,c,d,e)};goog.events.removeAll=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.events.Listenable.isImplementedBy(a))</span><span class="s3">return </span><span class="s1">a.removeAllListeners(b);</span><span class="s3">var </span><span class="s1">c=goog.events.getListenerMap_(a);</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=b&amp;&amp;b.toString(),f;</span><span class="s3">for</span><span class="s1">(f </span><span class="s3">in </span><span class="s1">c.listeners)</span><span class="s3">if</span><span class="s1">(!e||f==e)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=c.listeners[f].concat(),h=</span><span class="s4">0</span><span class="s1">;h&lt;g.length;++h)goog.events.unlistenByKey(g[h])&amp;&amp;++d;</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l370"><span class="ln">370  </span></a><span class="s1">goog.events.getListeners=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.events.Listenable.isImplementedBy(a)?a.getListeners(b,c):a?(a=goog.events.getListenerMap_(a))?a.getListeners(b,c):[]:[]};goog.events.getListener=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){c=goog.events.wrapListener(c);d=!!d;</span><span class="s3">return </span><span class="s1">goog.events.Listenable.isImplementedBy(a)?a.getListener(b,c,d,e):a?(a=goog.events.getListenerMap_(a))?a.getListener(b,c,d,e):</span><span class="s3">null</span><span class="s1">:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l371"><span class="ln">371  </span></a><span class="s1">goog.events.hasListener=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(goog.events.Listenable.isImplementedBy(a))</span><span class="s3">return </span><span class="s1">a.hasListener(b,c);a=goog.events.getListenerMap_(a);</span><span class="s3">return</span><span class="s1">!!a&amp;&amp;a.hasListener(b,c)};goog.events.expose=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[],c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a)a[c]&amp;&amp;a[c].id?b.push(c+</span><span class="s2">&quot; = &quot;</span><span class="s1">+a[c]+</span><span class="s2">&quot; (&quot;</span><span class="s1">+a[c].id+</span><span class="s2">&quot;)&quot;</span><span class="s1">):b.push(c+</span><span class="s2">&quot; = &quot;</span><span class="s1">+a[c]);</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};goog.events.getOnString_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">in </span><span class="s1">goog.events.onStringMap_?goog.events.onStringMap_[a]:goog.events.onStringMap_[a]=goog.events.onString_+a};</span>
<a name="l372"><span class="ln">372  </span></a><span class="s1">goog.events.fireListeners=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return </span><span class="s1">goog.events.Listenable.isImplementedBy(a)?a.fireListeners(b,c,d):goog.events.fireListeners_(a,b,c,d)};goog.events.fireListeners_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a=goog.events.getListenerMap_(a))</span><span class="s3">if</span><span class="s1">(b=a.listeners[b.toString()])</span><span class="s3">for</span><span class="s1">(b=b.concat(),a=</span><span class="s4">0</span><span class="s1">;a&lt;b.length;a++){</span><span class="s3">var </span><span class="s1">f=b[a];f&amp;&amp;f.capture==c&amp;&amp;!f.removed&amp;&amp;(f=goog.events.fireListener(f,d),e=e&amp;&amp;!</span><span class="s4">1</span><span class="s1">!==f)}</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l373"><span class="ln">373  </span></a><span class="s1">goog.events.fireListener=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.listener,d=a.handler||a.src;a.callOnce&amp;&amp;goog.events.unlistenByKey(a);</span><span class="s3">return </span><span class="s1">c.call(d,b)};goog.events.getTotalListenerCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.events.listenerCountEstimate_};goog.events.dispatchEvent=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(goog.events.Listenable.isImplementedBy(a),</span><span class="s2">&quot;Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.dispatchEvent(b)};</span>
<a name="l374"><span class="ln">374  </span></a><span class="s1">goog.events.protectBrowserEventEntryPoint=</span><span class="s3">function</span><span class="s1">(a){goog.events.handleBrowserEvent_=a.protectEntryPoint(goog.events.handleBrowserEvent_)};</span>
<a name="l375"><span class="ln">375  </span></a><span class="s1">goog.events.handleBrowserEvent_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a.removed)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){</span><span class="s3">var </span><span class="s1">c=b||goog.getObjectByName(</span><span class="s2">&quot;window.event&quot;</span><span class="s1">),d=</span><span class="s3">new </span><span class="s1">goog.events.BrowserEvent(c,</span><span class="s3">this</span><span class="s1">),e=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){</span><span class="s3">if</span><span class="s1">(!goog.events.isMarkedIeEvent_(c)){goog.events.markIeEvent_(c);c=[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=d.currentTarget;f;f=f.parentNode)c.push(f);f=a.type;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=c.length-1;!d.propagationStopped_&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=g;g--){d.currentTarget=c[g];</span><span class="s3">var </span><span class="s1">h=</span>
<a name="l376"><span class="ln">376  </span></a><span class="s1">goog.events.fireListeners_(c[g],f,!</span><span class="s4">0</span><span class="s1">,d);e=e&amp;&amp;h}</span><span class="s3">for</span><span class="s1">(g=</span><span class="s4">0</span><span class="s1">;!d.propagationStopped_&amp;&amp;g&lt;c.length;g++)d.currentTarget=c[g],h=goog.events.fireListeners_(c[g],f,!</span><span class="s4">1</span><span class="s1">,d),e=e&amp;&amp;h}}</span><span class="s3">else </span><span class="s1">e=goog.events.fireListener(a,d);</span><span class="s3">return </span><span class="s1">e}</span><span class="s3">return </span><span class="s1">goog.events.fireListener(a,</span><span class="s3">new </span><span class="s1">goog.events.BrowserEvent(b,</span><span class="s3">this</span><span class="s1">))};goog.events.markIeEvent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">==a.keyCode)</span><span class="s3">try</span><span class="s1">{a.keyCode=-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(c){b=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(b||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==a.returnValue)a.returnValue=!</span><span class="s4">0</span><span class="s1">};goog.events.isMarkedIeEvent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;a.keyCode||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!=a.returnValue};</span>
<a name="l377"><span class="ln">377  </span></a><span class="s1">goog.events.uniqueIdCounter_=</span><span class="s4">0</span><span class="s1">;goog.events.getUniqueId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a+</span><span class="s2">&quot;_&quot;</span><span class="s1">+goog.events.uniqueIdCounter_++};goog.events.getListenerMap_=</span><span class="s3">function</span><span class="s1">(a){a=a[goog.events.LISTENER_MAP_PROP_];</span><span class="s3">return </span><span class="s1">a </span><span class="s3">instanceof </span><span class="s1">goog.events.ListenerMap?a:</span><span class="s3">null</span><span class="s1">};goog.events.LISTENER_WRAPPER_PROP_=</span><span class="s2">&quot;__closure_events_fn_&quot;</span><span class="s1">+(</span><span class="s4">1</span><span class="s1">E9*Math.random()&gt;&gt;&gt;</span><span class="s4">0</span><span class="s1">);</span>
<a name="l378"><span class="ln">378  </span></a><span class="s1">goog.events.wrapListener=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(a,</span><span class="s2">&quot;Listener can not be null.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.isFunction(a))</span><span class="s3">return </span><span class="s1">a;goog.asserts.assert(a.handleEvent,</span><span class="s2">&quot;An object listener must have handleEvent method.&quot;</span><span class="s1">);a[goog.events.LISTENER_WRAPPER_PROP_]||(a[goog.events.LISTENER_WRAPPER_PROP_]=</span><span class="s3">function</span><span class="s1">(b){</span><span class="s3">return </span><span class="s1">a.handleEvent(b)});</span><span class="s3">return </span><span class="s1">a[goog.events.LISTENER_WRAPPER_PROP_]};goog.debug.entryPointRegistry.register(</span><span class="s3">function</span><span class="s1">(a){goog.events.handleBrowserEvent_=a(goog.events.handleBrowserEvent_)});goog.math={};goog.math.randomInt=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Math.floor(Math.random()*a)};goog.math.uniformRandom=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a+Math.random()*(b-a)};goog.math.clamp=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">Math.min(Math.max(a,b),c)};goog.math.modulo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a%b;</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;c*b?c+b:c};goog.math.lerp=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">a+c*(b-a)};goog.math.nearlyEquals=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">Math.abs(a-b)&lt;=(c||</span><span class="s4">1</span><span class="s1">E-6)};goog.math.standardAngle=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.modulo(a,</span><span class="s4">360</span><span class="s1">)};</span>
<a name="l379"><span class="ln">379  </span></a><span class="s1">goog.math.standardAngleInRadians=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.modulo(a,</span><span class="s4">2</span><span class="s1">*Math.PI)};goog.math.toRadians=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a*Math.PI/</span><span class="s4">180</span><span class="s1">};goog.math.toDegrees=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">180</span><span class="s1">*a/Math.PI};goog.math.angleDx=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b*Math.cos(goog.math.toRadians(a))};goog.math.angleDy=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b*Math.sin(goog.math.toRadians(a))};goog.math.angle=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return </span><span class="s1">goog.math.standardAngle(goog.math.toDegrees(Math.atan2(d-b,c-a)))};</span>
<a name="l380"><span class="ln">380  </span></a><span class="s1">goog.math.angleDifference=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.math.standardAngle(b)-goog.math.standardAngle(a);</span><span class="s4">180</span><span class="s1">&lt;c?c-=</span><span class="s4">360</span><span class="s1">:-</span><span class="s4">180</span><span class="s1">&gt;=c&amp;&amp;(c=</span><span class="s4">360</span><span class="s1">+c);</span><span class="s3">return </span><span class="s1">c};goog.math.sign=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;a?</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">&gt;a?-</span><span class="s4">1</span><span class="s1">:a};</span>
<a name="l381"><span class="ln">381  </span></a><span class="s1">goog.math.longestCommonSubsequence=</span><span class="s3">function</span><span class="s1">(a,b,c,d){c=c||</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a==b};d=d||</span><span class="s3">function</span><span class="s1">(b,c){</span><span class="s3">return </span><span class="s1">a[b]};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=a.length,f=b.length,g=[],h=</span><span class="s4">0</span><span class="s1">;h&lt;e+</span><span class="s4">1</span><span class="s1">;h++)g[h]=[],g[h][</span><span class="s4">0</span><span class="s1">]=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">k=</span><span class="s4">0</span><span class="s1">;k&lt;f+</span><span class="s4">1</span><span class="s1">;k++)g[</span><span class="s4">0</span><span class="s1">][k]=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(h=</span><span class="s4">1</span><span class="s1">;h&lt;=e;h++)</span><span class="s3">for</span><span class="s1">(k=</span><span class="s4">1</span><span class="s1">;k&lt;=f;k++)c(a[h-1],b[k-1])?g[h][k]=g[h-1][k-1]+</span><span class="s4">1</span><span class="s1">:g[h][k]=Math.max(g[h-1][k],g[h][k-1]);</span><span class="s3">var </span><span class="s1">l=[];h=e;</span><span class="s3">for</span><span class="s1">(k=f;</span><span class="s4">0</span><span class="s1">&lt;h&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;k;)c(a[h-1],b[k-1])?(l.unshift(d(h-1,k-1)),h--,k--):g[h-1][k]&gt;g[h][k-1]?h--:k--;</span><span class="s3">return </span><span class="s1">l};</span>
<a name="l382"><span class="ln">382  </span></a><span class="s1">goog.math.sum=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.array.reduce(arguments,</span><span class="s3">function</span><span class="s1">(a,c){</span><span class="s3">return </span><span class="s1">a+c},</span><span class="s4">0</span><span class="s1">)};goog.math.average=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.sum.apply(</span><span class="s3">null</span><span class="s1">,arguments)/arguments.length};goog.math.sampleVariance=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=arguments.length;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">2</span><span class="s1">&gt;b)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=goog.math.average.apply(</span><span class="s3">null</span><span class="s1">,arguments);</span><span class="s3">return </span><span class="s1">goog.math.sum.apply(</span><span class="s3">null</span><span class="s1">,goog.array.map(arguments,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Math.pow(a-c,</span><span class="s4">2</span><span class="s1">)}))/(b-1)};goog.math.standardDeviation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Math.sqrt(goog.math.sampleVariance.apply(</span><span class="s3">null</span><span class="s1">,arguments))};</span>
<a name="l383"><span class="ln">383  </span></a><span class="s1">goog.math.isInt=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">isFinite(a)&amp;&amp;</span><span class="s4">0</span><span class="s1">==a%</span><span class="s4">1</span><span class="s1">};goog.math.isFiniteNumber=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">isFinite(a)};goog.math.isNegativeZero=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a&amp;&amp;</span><span class="s4">0</span><span class="s1">&gt;</span><span class="s4">1</span><span class="s1">/a};goog.math.log10Floor=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;a){</span><span class="s3">var </span><span class="s1">b=Math.round(Math.log(a)*Math.LOG10E);</span><span class="s3">return </span><span class="s1">b-(parseFloat(</span><span class="s2">&quot;1e&quot;</span><span class="s1">+b)&gt;a?</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a?-Infinity:NaN};goog.math.safeFloor=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(!goog.isDef(b)||</span><span class="s4">0</span><span class="s1">&lt;b);</span><span class="s3">return </span><span class="s1">Math.floor(a+(b||</span><span class="s4">2</span><span class="s1">E-15))};</span>
<a name="l384"><span class="ln">384  </span></a><span class="s1">goog.math.safeCeil=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(!goog.isDef(b)||</span><span class="s4">0</span><span class="s1">&lt;b);</span><span class="s3">return </span><span class="s1">Math.ceil(a-(b||</span><span class="s4">2</span><span class="s1">E-15))};goog.math.Coordinate=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.x=goog.isDef(a)?a:</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.y=goog.isDef(b)?b:</span><span class="s4">0</span><span class="s1">};goog.math.Coordinate.prototype.clone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(</span><span class="s3">this</span><span class="s1">.x,</span><span class="s3">this</span><span class="s1">.y)};goog.DEBUG&amp;&amp;(goog.math.Coordinate.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.x+</span><span class="s2">&quot;, &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.y+</span><span class="s2">&quot;)&quot;</span><span class="s1">});goog.math.Coordinate.prototype.equals=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate&amp;&amp;goog.math.Coordinate.equals(</span><span class="s3">this</span><span class="s1">,a)};goog.math.Coordinate.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a==b?!</span><span class="s4">0</span><span class="s1">:a&amp;&amp;b?a.x==b.x&amp;&amp;a.y==b.y:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l385"><span class="ln">385  </span></a><span class="s1">goog.math.Coordinate.distance=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.x-b.x,d=a.y-b.y;</span><span class="s3">return </span><span class="s1">Math.sqrt(c*c+d*d)};goog.math.Coordinate.magnitude=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Math.sqrt(a.x*a.x+a.y*a.y)};goog.math.Coordinate.azimuth=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.angle(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,a.x,a.y)};goog.math.Coordinate.squaredDistance=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.x-b.x,d=a.y-b.y;</span><span class="s3">return </span><span class="s1">c*c+d*d};goog.math.Coordinate.difference=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(a.x-b.x,a.y-b.y)};</span>
<a name="l386"><span class="ln">386  </span></a><span class="s1">goog.math.Coordinate.sum=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(a.x+b.x,a.y+b.y)};goog.math.Coordinate.prototype.ceil=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.x=Math.ceil(</span><span class="s3">this</span><span class="s1">.x);</span><span class="s3">this</span><span class="s1">.y=Math.ceil(</span><span class="s3">this</span><span class="s1">.y);</span><span class="s3">return this</span><span class="s1">};goog.math.Coordinate.prototype.floor=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.x=Math.floor(</span><span class="s3">this</span><span class="s1">.x);</span><span class="s3">this</span><span class="s1">.y=Math.floor(</span><span class="s3">this</span><span class="s1">.y);</span><span class="s3">return this</span><span class="s1">};goog.math.Coordinate.prototype.round=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.x=Math.round(</span><span class="s3">this</span><span class="s1">.x);</span><span class="s3">this</span><span class="s1">.y=Math.round(</span><span class="s3">this</span><span class="s1">.y);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l387"><span class="ln">387  </span></a><span class="s1">goog.math.Coordinate.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){a </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate?(</span><span class="s3">this</span><span class="s1">.x+=a.x,</span><span class="s3">this</span><span class="s1">.y+=a.y):(</span><span class="s3">this</span><span class="s1">.x+=Number(a),goog.isNumber(b)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.y+=b));</span><span class="s3">return this</span><span class="s1">};goog.math.Coordinate.prototype.scale=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isNumber(b)?b:a;</span><span class="s3">this</span><span class="s1">.x*=a;</span><span class="s3">this</span><span class="s1">.y*=c;</span><span class="s3">return this</span><span class="s1">};goog.math.Coordinate.prototype.rotateRadians=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b||</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">),d=</span><span class="s3">this</span><span class="s1">.x,e=</span><span class="s3">this</span><span class="s1">.y,f=Math.cos(a),g=Math.sin(a);</span><span class="s3">this</span><span class="s1">.x=(d-c.x)*f-(e-c.y)*g+c.x;</span><span class="s3">this</span><span class="s1">.y=(d-c.x)*g+(e-c.y)*f+c.y};</span>
<a name="l388"><span class="ln">388  </span></a><span class="s1">goog.math.Coordinate.prototype.rotateDegrees=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.rotateRadians(goog.math.toRadians(a),b)};goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&amp;&amp;!goog.userAgent.IE||goog.userAgent.IE&amp;&amp;goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">)||goog.userAgent.GECKO&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;1.9.1&quot;</span><span class="s1">),CAN_USE_INNER_TEXT:goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;9&quot;</span><span class="s1">),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,</span>
<a name="l389"><span class="ln">389  </span></a><span class="s1">LEGACY_IE_RANGES:goog.userAgent.IE&amp;&amp;!goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">)};goog.math.Size=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.width=a;</span><span class="s3">this</span><span class="s1">.height=b};goog.math.Size.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a==b?!</span><span class="s4">0</span><span class="s1">:a&amp;&amp;b?a.width==b.width&amp;&amp;a.height==b.height:!</span><span class="s4">1</span><span class="s1">};goog.math.Size.prototype.clone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Size(</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.height)};goog.DEBUG&amp;&amp;(goog.math.Size.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.width+</span><span class="s2">&quot; x &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.height+</span><span class="s2">&quot;)&quot;</span><span class="s1">});goog.math.Size.prototype.getLongest=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Math.max(</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.height)};</span>
<a name="l390"><span class="ln">390  </span></a><span class="s1">goog.math.Size.prototype.getShortest=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Math.min(</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.height)};goog.math.Size.prototype.area=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.width*</span><span class="s3">this</span><span class="s1">.height};goog.math.Size.prototype.perimeter=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s4">2</span><span class="s1">*(</span><span class="s3">this</span><span class="s1">.width+</span><span class="s3">this</span><span class="s1">.height)};goog.math.Size.prototype.aspectRatio=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.width/</span><span class="s3">this</span><span class="s1">.height};goog.math.Size.prototype.isEmpty=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s3">this</span><span class="s1">.area()};goog.math.Size.prototype.ceil=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.width=Math.ceil(</span><span class="s3">this</span><span class="s1">.width);</span><span class="s3">this</span><span class="s1">.height=Math.ceil(</span><span class="s3">this</span><span class="s1">.height);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l391"><span class="ln">391  </span></a><span class="s1">goog.math.Size.prototype.fitsInside=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.width&lt;=a.width&amp;&amp;</span><span class="s3">this</span><span class="s1">.height&lt;=a.height};goog.math.Size.prototype.floor=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.width=Math.floor(</span><span class="s3">this</span><span class="s1">.width);</span><span class="s3">this</span><span class="s1">.height=Math.floor(</span><span class="s3">this</span><span class="s1">.height);</span><span class="s3">return this</span><span class="s1">};goog.math.Size.prototype.round=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.width=Math.round(</span><span class="s3">this</span><span class="s1">.width);</span><span class="s3">this</span><span class="s1">.height=Math.round(</span><span class="s3">this</span><span class="s1">.height);</span><span class="s3">return this</span><span class="s1">};goog.math.Size.prototype.scale=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isNumber(b)?b:a;</span><span class="s3">this</span><span class="s1">.width*=a;</span><span class="s3">this</span><span class="s1">.height*=c;</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l392"><span class="ln">392  </span></a><span class="s1">goog.math.Size.prototype.scaleToCover=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">this</span><span class="s1">.aspectRatio()&lt;=a.aspectRatio()?a.width/</span><span class="s3">this</span><span class="s1">.width:a.height/</span><span class="s3">this</span><span class="s1">.height;</span><span class="s3">return this</span><span class="s1">.scale(a)};goog.math.Size.prototype.scaleToFit=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">this</span><span class="s1">.aspectRatio()&gt;a.aspectRatio()?a.width/</span><span class="s3">this</span><span class="s1">.width:a.height/</span><span class="s3">this</span><span class="s1">.height;</span><span class="s3">return this</span><span class="s1">.scale(a)};goog.dom.ASSUME_QUIRKS_MODE=!</span><span class="s4">1</span><span class="s1">;goog.dom.ASSUME_STANDARDS_MODE=!</span><span class="s4">1</span><span class="s1">;goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE;goog.dom.getDomHelper=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a?</span><span class="s3">new </span><span class="s1">goog.dom.DomHelper(goog.dom.getOwnerDocument(a)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=</span><span class="s3">new </span><span class="s1">goog.dom.DomHelper)};goog.dom.getDocument=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">document};goog.dom.getElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getElementHelper_(document,a)};</span>
<a name="l393"><span class="ln">393  </span></a><span class="s1">goog.dom.getElementHelper_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.isString(b)?a.getElementById(b):b};goog.dom.getRequiredElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getRequiredElementHelper_(document,a)};goog.dom.getRequiredElementHelper_=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertString(b);</span><span class="s3">var </span><span class="s1">c=goog.dom.getElementHelper_(a,b);</span><span class="s3">return </span><span class="s1">c=goog.asserts.assertElement(c,</span><span class="s2">&quot;No element found with id: &quot;</span><span class="s1">+b)};goog.dom.$=goog.dom.getElement;goog.dom.getElementsByTagName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">(b||document).getElementsByTagName(String(a))};</span>
<a name="l394"><span class="ln">394  </span></a><span class="s1">goog.dom.getElementsByTagNameAndClass=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.getElementsByTagNameAndClass_(document,a,b,c)};goog.dom.getElementByTagNameAndClass=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.getElementByTagNameAndClass_(document,a,b,c)};goog.dom.getElementsByClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b||document;</span><span class="s3">return </span><span class="s1">goog.dom.canUseQuerySelector_(c)?c.querySelectorAll(</span><span class="s2">&quot;.&quot;</span><span class="s1">+a):goog.dom.getElementsByTagNameAndClass_(document,</span><span class="s2">&quot;*&quot;</span><span class="s1">,a,b)};</span>
<a name="l395"><span class="ln">395  </span></a><span class="s1">goog.dom.getElementByClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b||document;</span><span class="s3">return</span><span class="s1">(c.getElementsByClassName?c.getElementsByClassName(a)[</span><span class="s4">0</span><span class="s1">]:goog.dom.getElementByTagNameAndClass_(document,</span><span class="s2">&quot;*&quot;</span><span class="s1">,a,b))||</span><span class="s3">null</span><span class="s1">};goog.dom.getRequiredElementByClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.dom.getElementByClass(a,b);</span><span class="s3">return </span><span class="s1">goog.asserts.assert(c,</span><span class="s2">&quot;No element found with className: &quot;</span><span class="s1">+a)};goog.dom.canUseQuerySelector_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!(!a.querySelectorAll||!a.querySelector)};</span>
<a name="l396"><span class="ln">396  </span></a><span class="s1">goog.dom.getElementsByTagNameAndClass_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){a=d||a;b=b&amp;&amp;</span><span class="s2">&quot;*&quot;</span><span class="s1">!=b?String(b).toUpperCase():</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.dom.canUseQuerySelector_(a)&amp;&amp;(b||c))</span><span class="s3">return </span><span class="s1">a.querySelectorAll(b+(c?</span><span class="s2">&quot;.&quot;</span><span class="s1">+c:</span><span class="s2">&quot;&quot;</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(c&amp;&amp;a.getElementsByClassName){a=a.getElementsByClassName(c);</span><span class="s3">if</span><span class="s1">(b){d={};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f=</span><span class="s4">0</span><span class="s1">,g;g=a[f];f++)b==g.nodeName&amp;&amp;(d[e++]=g);d.length=e;</span><span class="s3">return </span><span class="s1">d}</span><span class="s3">return </span><span class="s1">a}a=a.getElementsByTagName(b||</span><span class="s2">&quot;*&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c){d={};</span><span class="s3">for</span><span class="s1">(f=e=</span><span class="s4">0</span><span class="s1">;g=a[f];f++)b=g.className,</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">b.split&amp;&amp;goog.array.contains(b.split(/\s+/),c)&amp;&amp;(d[e++]=g);</span>
<a name="l397"><span class="ln">397  </span></a><span class="s1">d.length=e;</span><span class="s3">return </span><span class="s1">d}</span><span class="s3">return </span><span class="s1">a};goog.dom.getElementByTagNameAndClass_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=d||a,f=b&amp;&amp;</span><span class="s2">&quot;*&quot;</span><span class="s1">!=b?String(b).toUpperCase():</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">goog.dom.canUseQuerySelector_(e)&amp;&amp;(f||c)?e.querySelector(f+(c?</span><span class="s2">&quot;.&quot;</span><span class="s1">+c:</span><span class="s2">&quot;&quot;</span><span class="s1">)):goog.dom.getElementsByTagNameAndClass_(a,b,c,d)[</span><span class="s4">0</span><span class="s1">]||</span><span class="s3">null</span><span class="s1">};goog.dom.$$=goog.dom.getElementsByTagNameAndClass;</span>
<a name="l398"><span class="ln">398  </span></a><span class="s1">goog.dom.setProperties=</span><span class="s3">function</span><span class="s1">(a,b){goog.object.forEach(b,</span><span class="s3">function</span><span class="s1">(b,d){b&amp;&amp;</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">b&amp;&amp;b.implementsGoogStringTypedString&amp;&amp;(b=b.getTypedStringValue());</span><span class="s2">&quot;style&quot;</span><span class="s1">==d?a.style.cssText=b:</span><span class="s2">&quot;class&quot;</span><span class="s1">==d?a.className=b:</span><span class="s2">&quot;for&quot;</span><span class="s1">==d?a.htmlFor=b:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(d)?a.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[d],b):goog.string.startsWith(d,</span><span class="s2">&quot;aria-&quot;</span><span class="s1">)||goog.string.startsWith(d,</span><span class="s2">&quot;data-&quot;</span><span class="s1">)?a.setAttribute(d,b):a[d]=b})};</span>
<a name="l399"><span class="ln">399  </span></a><span class="s1">goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:</span><span class="s2">&quot;cellPadding&quot;</span><span class="s1">,cellspacing:</span><span class="s2">&quot;cellSpacing&quot;</span><span class="s1">,colspan:</span><span class="s2">&quot;colSpan&quot;</span><span class="s1">,frameborder:</span><span class="s2">&quot;frameBorder&quot;</span><span class="s1">,height:</span><span class="s2">&quot;height&quot;</span><span class="s1">,maxlength:</span><span class="s2">&quot;maxLength&quot;</span><span class="s1">,nonce:</span><span class="s2">&quot;nonce&quot;</span><span class="s1">,role:</span><span class="s2">&quot;role&quot;</span><span class="s1">,rowspan:</span><span class="s2">&quot;rowSpan&quot;</span><span class="s1">,type:</span><span class="s2">&quot;type&quot;</span><span class="s1">,usemap:</span><span class="s2">&quot;useMap&quot;</span><span class="s1">,valign:</span><span class="s2">&quot;vAlign&quot;</span><span class="s1">,width:</span><span class="s2">&quot;width&quot;</span><span class="s1">};goog.dom.getViewportSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getViewportSize_(a||window)};goog.dom.getViewportSize_=</span><span class="s3">function</span><span class="s1">(a){a=a.document;a=goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body;</span><span class="s3">return new </span><span class="s1">goog.math.Size(a.clientWidth,a.clientHeight)};</span>
<a name="l400"><span class="ln">400  </span></a><span class="s1">goog.dom.getDocumentHeight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentHeight_(window)};goog.dom.getDocumentHeightForWindow=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentHeight_(a)};</span>
<a name="l401"><span class="ln">401  </span></a><span class="s1">goog.dom.getDocumentHeight_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.document,c=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(b){c=b.body;</span><span class="s3">var </span><span class="s1">d=b.documentElement;</span><span class="s3">if</span><span class="s1">(!d||!c)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;a=goog.dom.getViewportSize_(a).height;</span><span class="s3">if</span><span class="s1">(goog.dom.isCss1CompatMode_(b)&amp;&amp;d.scrollHeight)c=d.scrollHeight!=a?d.scrollHeight:d.offsetHeight;</span><span class="s3">else</span><span class="s1">{b=d.scrollHeight;</span><span class="s3">var </span><span class="s1">e=d.offsetHeight;d.clientHeight!=e&amp;&amp;(b=c.scrollHeight,e=c.offsetHeight);c=b&gt;a?b&gt;e?b:e:b&lt;e?b:e}}</span><span class="s3">return </span><span class="s1">c};goog.dom.getPageScroll=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getDomHelper((a||goog.global||window).document).getDocumentScroll()};</span>
<a name="l402"><span class="ln">402  </span></a><span class="s1">goog.dom.getDocumentScroll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentScroll_(document)};goog.dom.getDocumentScroll_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.dom.getDocumentScrollElement_(a);a=goog.dom.getWindow_(a);</span><span class="s3">return </span><span class="s1">goog.userAgent.IE&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;10&quot;</span><span class="s1">)&amp;&amp;a.pageYOffset!=b.scrollTop?</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(b.scrollLeft,b.scrollTop):</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)};goog.dom.getDocumentScrollElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentScrollElement_(document)};</span>
<a name="l403"><span class="ln">403  </span></a><span class="s1">goog.dom.getDocumentScrollElement_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.scrollingElement?a.scrollingElement:!goog.userAgent.WEBKIT&amp;&amp;goog.dom.isCss1CompatMode_(a)?a.documentElement:a.body||a.documentElement};goog.dom.getWindow=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a?goog.dom.getWindow_(a):window};goog.dom.getWindow_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.parentWindow||a.defaultView};goog.dom.createDom=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.createDom_(document,arguments)};</span>
<a name="l404"><span class="ln">404  </span></a><span class="s1">goog.dom.createDom_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=String(b[</span><span class="s4">0</span><span class="s1">]),d=b[</span><span class="s4">1</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&amp;&amp;d&amp;&amp;(d.name||d.type)){c=[</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">,c];d.name&amp;&amp;c.push(</span><span class="s2">' name=&quot;'</span><span class="s1">,goog.string.htmlEscape(d.name),</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(d.type){c.push(</span><span class="s2">' type=&quot;'</span><span class="s1">,goog.string.htmlEscape(d.type),</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e={};goog.object.extend(e,d);</span><span class="s3">delete </span><span class="s1">e.type;d=e}c.push(</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">);c=c.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)}c=a.createElement(c);d&amp;&amp;(goog.isString(d)?c.className=d:goog.isArray(d)?c.className=d.join(</span><span class="s2">&quot; &quot;</span><span class="s1">):goog.dom.setProperties(c,d));</span><span class="s4">2</span><span class="s1">&lt;b.length&amp;&amp;goog.dom.append_(a,</span>
<a name="l405"><span class="ln">405  </span></a><span class="s1">c,b,</span><span class="s4">2</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};goog.dom.append_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">function </span><span class="s1">e(c){c&amp;&amp;b.appendChild(goog.isString(c)?a.createTextNode(c):c)}</span><span class="s3">for</span><span class="s1">(;d&lt;c.length;d++){</span><span class="s3">var </span><span class="s1">f=c[d];goog.isArrayLike(f)&amp;&amp;!goog.dom.isNodeLike(f)?goog.array.forEach(goog.dom.isNodeList(f)?goog.array.toArray(f):f,e):e(f)}};goog.dom.$dom=goog.dom.createDom;goog.dom.createElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.createElement_(document,a)};goog.dom.createElement_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.createElement(String(b))};goog.dom.createTextNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">document.createTextNode(String(a))};</span>
<a name="l406"><span class="ln">406  </span></a><span class="s1">goog.dom.createTable=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.createTable_(document,a,b,!!c)};goog.dom.createTable_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=goog.dom.createElement_(a,</span><span class="s2">&quot;TABLE&quot;</span><span class="s1">),f=e.appendChild(goog.dom.createElement_(a,</span><span class="s2">&quot;TBODY&quot;</span><span class="s1">)),g=</span><span class="s4">0</span><span class="s1">;g&lt;b;g++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">h=goog.dom.createElement_(a,</span><span class="s2">&quot;TR&quot;</span><span class="s1">),k=</span><span class="s4">0</span><span class="s1">;k&lt;c;k++){</span><span class="s3">var </span><span class="s1">l=goog.dom.createElement_(a,</span><span class="s2">&quot;TD&quot;</span><span class="s1">);d&amp;&amp;goog.dom.setTextContent(l,goog.string.Unicode.NBSP);h.appendChild(l)}f.appendChild(h)}</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l407"><span class="ln">407  </span></a><span class="s1">goog.dom.constHtmlToNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.array.map(arguments,goog.string.Const.unwrap);b=goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from(</span><span class="s2">&quot;Constant HTML string, that gets turned into a Node later, so it will be automatically balanced.&quot;</span><span class="s1">),b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">));</span><span class="s3">return </span><span class="s1">goog.dom.safeHtmlToNode(b)};goog.dom.safeHtmlToNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.safeHtmlToNode_(document,a)};</span>
<a name="l408"><span class="ln">408  </span></a><span class="s1">goog.dom.safeHtmlToNode_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.dom.createElement_(a,</span><span class="s2">&quot;DIV&quot;</span><span class="s1">);goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,b)),c.removeChild(goog.asserts.assert(c.firstChild))):goog.dom.safe.setInnerHtml(c,b);</span><span class="s3">return </span><span class="s1">goog.dom.childrenToNode_(a,c)};</span>
<a name="l409"><span class="ln">409  </span></a><span class="s1">goog.dom.childrenToNode_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">==b.childNodes.length)</span><span class="s3">return </span><span class="s1">b.removeChild(goog.asserts.assert(b.firstChild));</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.createDocumentFragment();b.firstChild;)c.appendChild(b.firstChild);</span><span class="s3">return </span><span class="s1">c};goog.dom.isCss1CompatMode=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.isCss1CompatMode_(document)};goog.dom.isCss1CompatMode_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:</span><span class="s2">&quot;CSS1Compat&quot;</span><span class="s1">==a.compatMode};</span>
<a name="l410"><span class="ln">410  </span></a><span class="s1">goog.dom.canHaveChildren=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.nodeType!=goog.dom.NodeType.ELEMENT)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a.tagName){</span><span class="s3">case </span><span class="s2">&quot;APPLET&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;AREA&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;BASE&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;BR&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;COL&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;COMMAND&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;EMBED&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;FRAME&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;HR&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;IMG&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;INPUT&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;IFRAME&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;ISINDEX&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;KEYGEN&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;LINK&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;NOFRAMES&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;NOSCRIPT&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;META&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;OBJECT&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;PARAM&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;SCRIPT&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;SOURCE&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;STYLE&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;TRACK&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;WBR&quot;</span><span class="s1">:</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l411"><span class="ln">411  </span></a><span class="s1">goog.dom.appendChild=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;</span><span class="s3">null</span><span class="s1">!=b,</span><span class="s2">&quot;goog.dom.appendChild expects non-null arguments&quot;</span><span class="s1">);a.appendChild(b)};goog.dom.append=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.append_(goog.dom.getOwnerDocument(a),a,arguments,</span><span class="s4">1</span><span class="s1">)};goog.dom.removeChildren=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b;b=a.firstChild;)a.removeChild(b)};goog.dom.insertSiblingBefore=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;</span><span class="s3">null</span><span class="s1">!=b,</span><span class="s2">&quot;goog.dom.insertSiblingBefore expects non-null arguments&quot;</span><span class="s1">);b.parentNode&amp;&amp;b.parentNode.insertBefore(a,b)};</span>
<a name="l412"><span class="ln">412  </span></a><span class="s1">goog.dom.insertSiblingAfter=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;</span><span class="s3">null</span><span class="s1">!=b,</span><span class="s2">&quot;goog.dom.insertSiblingAfter expects non-null arguments&quot;</span><span class="s1">);b.parentNode&amp;&amp;b.parentNode.insertBefore(a,b.nextSibling)};goog.dom.insertChildAt=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a,</span><span class="s2">&quot;goog.dom.insertChildAt expects a non-null parent&quot;</span><span class="s1">);a.insertBefore(b,a.childNodes[c]||</span><span class="s3">null</span><span class="s1">)};goog.dom.removeNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.parentNode?a.parentNode.removeChild(a):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l413"><span class="ln">413  </span></a><span class="s1">goog.dom.replaceNode=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;</span><span class="s3">null</span><span class="s1">!=b,</span><span class="s2">&quot;goog.dom.replaceNode expects non-null arguments&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=b.parentNode;c&amp;&amp;c.replaceChild(a,b)};goog.dom.flattenElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b,c=a.parentNode;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;c.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){</span><span class="s3">if</span><span class="s1">(a.removeNode)</span><span class="s3">return </span><span class="s1">a.removeNode(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(;b=a.firstChild;)c.insertBefore(b,a);</span><span class="s3">return </span><span class="s1">goog.dom.removeNode(a)}};</span>
<a name="l414"><span class="ln">414  </span></a><span class="s1">goog.dom.getChildren=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!=a.children?a.children:goog.array.filter(a.childNodes,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.nodeType==goog.dom.NodeType.ELEMENT})};goog.dom.getFirstElementChild=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isDef(a.firstElementChild)?a.firstElementChild:goog.dom.getNextElementNode_(a.firstChild,!</span><span class="s4">0</span><span class="s1">)};goog.dom.getLastElementChild=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isDef(a.lastElementChild)?a.lastElementChild:goog.dom.getNextElementNode_(a.lastChild,!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l415"><span class="ln">415  </span></a><span class="s1">goog.dom.getNextElementSibling=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isDef(a.nextElementSibling)?a.nextElementSibling:goog.dom.getNextElementNode_(a.nextSibling,!</span><span class="s4">0</span><span class="s1">)};goog.dom.getPreviousElementSibling=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isDef(a.previousElementSibling)?a.previousElementSibling:goog.dom.getNextElementNode_(a.previousSibling,!</span><span class="s4">1</span><span class="s1">)};goog.dom.getNextElementNode_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(;a&amp;&amp;a.nodeType!=goog.dom.NodeType.ELEMENT;)a=b?a.nextSibling:a.previousSibling;</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l416"><span class="ln">416  </span></a><span class="s1">goog.dom.getNextNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a.firstChild)</span><span class="s3">return </span><span class="s1">a.firstChild;</span><span class="s3">for</span><span class="s1">(;a&amp;&amp;!a.nextSibling;)a=a.parentNode;</span><span class="s3">return </span><span class="s1">a?a.nextSibling:</span><span class="s3">null</span><span class="s1">};goog.dom.getPreviousNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!a.previousSibling)</span><span class="s3">return </span><span class="s1">a.parentNode;</span><span class="s3">for</span><span class="s1">(a=a.previousSibling;a&amp;&amp;a.lastChild;)a=a.lastChild;</span><span class="s3">return </span><span class="s1">a};goog.dom.isNodeLike=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isObject(a)&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;a.nodeType};goog.dom.isElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isObject(a)&amp;&amp;a.nodeType==goog.dom.NodeType.ELEMENT};</span>
<a name="l417"><span class="ln">417  </span></a><span class="s1">goog.dom.isWindow=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.isObject(a)&amp;&amp;a.window==a};goog.dom.getParentElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b;</span><span class="s3">if</span><span class="s1">(goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY&amp;&amp;!(goog.userAgent.IE&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;9&quot;</span><span class="s1">)&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;10&quot;</span><span class="s1">)&amp;&amp;goog.global.SVGElement&amp;&amp;a </span><span class="s3">instanceof </span><span class="s1">goog.global.SVGElement)&amp;&amp;(b=a.parentElement))</span><span class="s3">return </span><span class="s1">b;b=a.parentNode;</span><span class="s3">return </span><span class="s1">goog.dom.isElement(b)?b:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l418"><span class="ln">418  </span></a><span class="s1">goog.dom.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a||!b)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a.contains&amp;&amp;b.nodeType==goog.dom.NodeType.ELEMENT)</span><span class="s3">return </span><span class="s1">a==b||a.contains(b);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.compareDocumentPosition)</span><span class="s3">return </span><span class="s1">a==b||!!(a.compareDocumentPosition(b)&amp;</span><span class="s4">16</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(;b&amp;&amp;a!=b;)b=b.parentNode;</span><span class="s3">return </span><span class="s1">b==a};</span>
<a name="l419"><span class="ln">419  </span></a><span class="s1">goog.dom.compareNodeOrder=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a==b)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a.compareDocumentPosition)</span><span class="s3">return </span><span class="s1">a.compareDocumentPosition(b)&amp;</span><span class="s4">2</span><span class="s1">?</span><span class="s4">1</span><span class="s1">:-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;!goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">)){</span><span class="s3">if</span><span class="s1">(a.nodeType==goog.dom.NodeType.DOCUMENT)</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(b.nodeType==goog.dom.NodeType.DOCUMENT)</span><span class="s3">return </span><span class="s4">1</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;sourceIndex&quot;</span><span class="s3">in </span><span class="s1">a||a.parentNode&amp;&amp;</span><span class="s2">&quot;sourceIndex&quot;</span><span class="s3">in </span><span class="s1">a.parentNode){</span><span class="s3">var </span><span class="s1">c=a.nodeType==goog.dom.NodeType.ELEMENT,d=b.nodeType==goog.dom.NodeType.ELEMENT;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;d)</span><span class="s3">return </span><span class="s1">a.sourceIndex-b.sourceIndex;</span><span class="s3">var </span><span class="s1">e=a.parentNode,</span>
<a name="l420"><span class="ln">420  </span></a><span class="s1">f=b.parentNode;</span><span class="s3">return </span><span class="s1">e==f?goog.dom.compareSiblingOrder_(a,b):!c&amp;&amp;goog.dom.contains(e,b)?-</span><span class="s4">1</span><span class="s1">*goog.dom.compareParentsDescendantNodeIe_(a,b):!d&amp;&amp;goog.dom.contains(f,a)?goog.dom.compareParentsDescendantNodeIe_(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=goog.dom.getOwnerDocument(a);c=d.createRange();c.selectNode(a);c.collapse(!</span><span class="s4">0</span><span class="s1">);d=d.createRange();d.selectNode(b);d.collapse(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c.compareBoundaryPoints(goog.global.Range.START_TO_END,d)};</span>
<a name="l421"><span class="ln">421  </span></a><span class="s1">goog.dom.compareParentsDescendantNodeIe_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.parentNode;</span><span class="s3">if</span><span class="s1">(c==b)</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=b;d.parentNode!=c;)d=d.parentNode;</span><span class="s3">return </span><span class="s1">goog.dom.compareSiblingOrder_(d,a)};goog.dom.compareSiblingOrder_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=b;c=c.previousSibling;)</span><span class="s3">if</span><span class="s1">(c==a)</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return </span><span class="s4">1</span><span class="s1">};</span>
<a name="l422"><span class="ln">422  </span></a><span class="s1">goog.dom.findCommonAncestor=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b,c=arguments.length;</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">==c)</span><span class="s3">return </span><span class="s1">arguments[</span><span class="s4">0</span><span class="s1">];</span><span class="s3">var </span><span class="s1">d=[],e=Infinity;</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;c;b++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=[],g=arguments[b];g;)f.unshift(g),g=g.parentNode;d.push(f);e=Math.min(e,f.length)}f=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;e;b++){g=d[</span><span class="s4">0</span><span class="s1">][b];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">h=</span><span class="s4">1</span><span class="s1">;h&lt;c;h++)</span><span class="s3">if</span><span class="s1">(g!=d[h][b])</span><span class="s3">return </span><span class="s1">f;f=g}</span><span class="s3">return </span><span class="s1">f};goog.dom.isInDocument=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">16</span><span class="s1">==(a.ownerDocument.compareDocumentPosition(a)&amp;</span><span class="s4">16</span><span class="s1">)};</span>
<a name="l423"><span class="ln">423  </span></a><span class="s1">goog.dom.getOwnerDocument=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(a,</span><span class="s2">&quot;Node cannot be null or undefined.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.nodeType==goog.dom.NodeType.DOCUMENT?a:a.ownerDocument||a.document};goog.dom.getFrameContentDocument=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.contentDocument||a.contentWindow.document};goog.dom.getFrameContentWindow=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">return </span><span class="s1">a.contentWindow||(a.contentDocument?goog.dom.getWindow(a.contentDocument):</span><span class="s3">null</span><span class="s1">)}</span><span class="s3">catch</span><span class="s1">(b){}</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l424"><span class="ln">424  </span></a><span class="s1">goog.dom.setTextContent=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a,</span><span class="s2">&quot;goog.dom.setTextContent expects a non-null value for node&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;textContent&quot;</span><span class="s3">in </span><span class="s1">a)a.textContent=b;</span><span class="s3">else if</span><span class="s1">(a.nodeType==goog.dom.NodeType.TEXT)a.data=String(b);</span><span class="s3">else if</span><span class="s1">(a.firstChild&amp;&amp;a.firstChild.nodeType==goog.dom.NodeType.TEXT){</span><span class="s3">for</span><span class="s1">(;a.lastChild!=a.firstChild;)a.removeChild(goog.asserts.assert(a.lastChild));a.firstChild.data=String(b)}</span><span class="s3">else</span><span class="s1">{goog.dom.removeChildren(a);</span><span class="s3">var </span><span class="s1">c=goog.dom.getOwnerDocument(a);a.appendChild(c.createTextNode(String(b)))}};</span>
<a name="l425"><span class="ln">425  </span></a><span class="s1">goog.dom.getOuterHtml=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!==a,</span><span class="s2">&quot;goog.dom.getOuterHtml expects a non-null value for element&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;outerHTML&quot;</span><span class="s3">in </span><span class="s1">a)</span><span class="s3">return </span><span class="s1">a.outerHTML;</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(a);b=goog.dom.createElement_(b,</span><span class="s2">&quot;DIV&quot;</span><span class="s1">);b.appendChild(a.cloneNode(!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">return </span><span class="s1">b.innerHTML};goog.dom.findNode=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[];</span><span class="s3">return </span><span class="s1">goog.dom.findNodes_(a,b,c,!</span><span class="s4">0</span><span class="s1">)?c[</span><span class="s4">0</span><span class="s1">]:</span><span class="s3">void </span><span class="s4">0</span><span class="s1">};goog.dom.findNodes=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[];goog.dom.findNodes_(a,b,c,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l426"><span class="ln">426  </span></a><span class="s1">goog.dom.findNodes_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!=a)</span><span class="s3">for</span><span class="s1">(a=a.firstChild;a;){</span><span class="s3">if</span><span class="s1">(b(a)&amp;&amp;(c.push(a),d)||goog.dom.findNodes_(a,b,c,d))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;a=a.nextSibling}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.dom.findElement=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=goog.dom.getChildrenReverse_(a);</span><span class="s4">0</span><span class="s1">&lt;c.length;){</span><span class="s3">var </span><span class="s1">d=c.pop();</span><span class="s3">if</span><span class="s1">(b(d))</span><span class="s3">return </span><span class="s1">d;</span><span class="s3">for</span><span class="s1">(d=d.lastElementChild;d;d=d.previousElementSibling)c.push(d)}</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l427"><span class="ln">427  </span></a><span class="s1">goog.dom.findElements=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=[],d=goog.dom.getChildrenReverse_(a);</span><span class="s4">0</span><span class="s1">&lt;d.length;){</span><span class="s3">var </span><span class="s1">e=d.pop();b(e)&amp;&amp;c.push(e);</span><span class="s3">for</span><span class="s1">(e=e.lastElementChild;e;e=e.previousElementSibling)d.push(e)}</span><span class="s3">return </span><span class="s1">c};goog.dom.getChildrenReverse_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.nodeType==goog.dom.NodeType.DOCUMENT)</span><span class="s3">return</span><span class="s1">[a.documentElement];</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">for</span><span class="s1">(a=a.lastElementChild;a;a=a.previousElementSibling)b.push(a);</span><span class="s3">return </span><span class="s1">b};goog.dom.TAGS_TO_IGNORE_={SCRIPT:</span><span class="s4">1</span><span class="s1">,STYLE:</span><span class="s4">1</span><span class="s1">,HEAD:</span><span class="s4">1</span><span class="s1">,IFRAME:</span><span class="s4">1</span><span class="s1">,OBJECT:</span><span class="s4">1</span><span class="s1">};</span>
<a name="l428"><span class="ln">428  </span></a><span class="s1">goog.dom.PREDEFINED_TAG_VALUES_={IMG:</span><span class="s2">&quot; &quot;</span><span class="s1">,BR:</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">};goog.dom.isFocusableTabIndex=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.hasSpecifiedTabIndex_(a)&amp;&amp;goog.dom.isTabIndexFocusable_(a)};goog.dom.setFocusableTabIndex=</span><span class="s3">function</span><span class="s1">(a,b){b?a.tabIndex=</span><span class="s4">0</span><span class="s1">:(a.tabIndex=-</span><span class="s4">1</span><span class="s1">,a.removeAttribute(</span><span class="s2">&quot;tabIndex&quot;</span><span class="s1">))};</span>
<a name="l429"><span class="ln">429  </span></a><span class="s1">goog.dom.isFocusable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b;</span><span class="s3">return</span><span class="s1">(b=goog.dom.nativelySupportsFocus_(a)?!a.disabled&amp;&amp;(!goog.dom.hasSpecifiedTabIndex_(a)||goog.dom.isTabIndexFocusable_(a)):goog.dom.isFocusableTabIndex(a))&amp;&amp;goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(a):b};goog.dom.hasSpecifiedTabIndex_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;9&quot;</span><span class="s1">)?(a=a.getAttributeNode(</span><span class="s2">&quot;tabindex&quot;</span><span class="s1">),goog.isDefAndNotNull(a)&amp;&amp;a.specified):a.hasAttribute(</span><span class="s2">&quot;tabindex&quot;</span><span class="s1">)};</span>
<a name="l430"><span class="ln">430  </span></a><span class="s1">goog.dom.isTabIndexFocusable_=</span><span class="s3">function</span><span class="s1">(a){a=a.tabIndex;</span><span class="s3">return </span><span class="s1">goog.isNumber(a)&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=a&amp;&amp;</span><span class="s4">32768</span><span class="s1">&gt;a};goog.dom.nativelySupportsFocus_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;A&quot;</span><span class="s1">==a.tagName&amp;&amp;a.hasAttribute(</span><span class="s2">&quot;href&quot;</span><span class="s1">)||</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">==a.tagName||</span><span class="s2">&quot;TEXTAREA&quot;</span><span class="s1">==a.tagName||</span><span class="s2">&quot;SELECT&quot;</span><span class="s1">==a.tagName||</span><span class="s2">&quot;BUTTON&quot;</span><span class="s1">==a.tagName};</span>
<a name="l431"><span class="ln">431  </span></a><span class="s1">goog.dom.hasNonZeroBoundingRect_=</span><span class="s3">function</span><span class="s1">(a){a=!goog.isFunction(a.getBoundingClientRect)||goog.userAgent.IE&amp;&amp;</span><span class="s3">null</span><span class="s1">==a.parentElement?{height:a.offsetHeight,width:a.offsetWidth}:a.getBoundingClientRect();</span><span class="s3">return </span><span class="s1">goog.isDefAndNotNull(a)&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;a.height&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;a.width};</span>
<a name="l432"><span class="ln">432  </span></a><span class="s1">goog.dom.getTextContent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&amp;&amp;</span><span class="s3">null</span><span class="s1">!==a&amp;&amp;</span><span class="s2">&quot;innerText&quot;</span><span class="s3">in </span><span class="s1">a)a=goog.string.canonicalizeNewlines(a.innerText);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=[];goog.dom.getTextContent_(a,b,!</span><span class="s4">0</span><span class="s1">);a=b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)}a=a.replace(/ \xAD /g,</span><span class="s2">&quot; &quot;</span><span class="s1">).replace(/\xAD/g,</span><span class="s2">&quot;&quot;</span><span class="s1">);a=a.replace(/\u200B/g,</span><span class="s2">&quot;&quot;</span><span class="s1">);goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(a=a.replace(/ +/g,</span><span class="s2">&quot; &quot;</span><span class="s1">));</span><span class="s2">&quot; &quot;</span><span class="s1">!=a&amp;&amp;(a=a.replace(/^\s*/,</span><span class="s2">&quot;&quot;</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};goog.dom.getRawTextContent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];goog.dom.getTextContent_(a,b,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l433"><span class="ln">433  </span></a><span class="s1">goog.dom.getTextContent_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!(a.nodeName </span><span class="s3">in </span><span class="s1">goog.dom.TAGS_TO_IGNORE_))</span><span class="s3">if</span><span class="s1">(a.nodeType==goog.dom.NodeType.TEXT)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,</span><span class="s2">&quot;&quot;</span><span class="s1">)):b.push(a.nodeValue);</span><span class="s3">else if</span><span class="s1">(a.nodeName </span><span class="s3">in </span><span class="s1">goog.dom.PREDEFINED_TAG_VALUES_)b.push(goog.dom.PREDEFINED_TAG_VALUES_[a.nodeName]);</span><span class="s3">else for</span><span class="s1">(a=a.firstChild;a;)goog.dom.getTextContent_(a,b,c),a=a.nextSibling};goog.dom.getNodeTextLength=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getTextContent(a).length};</span>
<a name="l434"><span class="ln">434  </span></a><span class="s1">goog.dom.getNodeTextOffset=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=b||goog.dom.getOwnerDocument(a).body,d=[];a&amp;&amp;a!=c;){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=a;e=e.previousSibling;)d.unshift(goog.dom.getTextContent(e));a=a.parentNode}</span><span class="s3">return </span><span class="s1">goog.string.trimLeft(d.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)).replace(/ +/g,</span><span class="s2">&quot; &quot;</span><span class="s1">).length};</span>
<a name="l435"><span class="ln">435  </span></a><span class="s1">goog.dom.getNodeAtOffset=</span><span class="s3">function</span><span class="s1">(a,b,c){a=[a];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s3">null</span><span class="s1">;</span><span class="s4">0</span><span class="s1">&lt;a.length&amp;&amp;d&lt;b;)</span><span class="s3">if</span><span class="s1">(e=a.pop(),!(e.nodeName </span><span class="s3">in </span><span class="s1">goog.dom.TAGS_TO_IGNORE_))</span><span class="s3">if</span><span class="s1">(e.nodeType==goog.dom.NodeType.TEXT){</span><span class="s3">var </span><span class="s1">f=e.nodeValue.replace(/(\r\n|\r|\n)/g,</span><span class="s2">&quot;&quot;</span><span class="s1">).replace(/ +/g,</span><span class="s2">&quot; &quot;</span><span class="s1">);d+=f.length}</span><span class="s3">else if</span><span class="s1">(e.nodeName </span><span class="s3">in </span><span class="s1">goog.dom.PREDEFINED_TAG_VALUES_)d+=goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName].length;</span><span class="s3">else for</span><span class="s1">(f=e.childNodes.length-1;</span><span class="s4">0</span><span class="s1">&lt;=f;f--)a.push(e.childNodes[f]);goog.isObject(c)&amp;&amp;(c.remainder=e?e.nodeValue.length+b-d-1:</span><span class="s4">0</span><span class="s1">,c.node=e);</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l436"><span class="ln">436  </span></a><span class="s1">goog.dom.isNodeList=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a&amp;&amp;</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.length){</span><span class="s3">if</span><span class="s1">(goog.isObject(a))</span><span class="s3">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.item||</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.item;</span><span class="s3">if</span><span class="s1">(goog.isFunction(a))</span><span class="s3">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.item}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.dom.getAncestorByTagNameAndClass=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(!b&amp;&amp;!c)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">e=b?String(b).toUpperCase():</span><span class="s3">null</span><span class="s1">;</span><span class="s3">return </span><span class="s1">goog.dom.getAncestor(a,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(!e||a.nodeName==e)&amp;&amp;(!c||goog.isString(a.className)&amp;&amp;goog.array.contains(a.className.split(/\s+/),c))},!</span><span class="s4">0</span><span class="s1">,d)};</span>
<a name="l437"><span class="ln">437  </span></a><span class="s1">goog.dom.getAncestorByClass=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.getAncestorByTagNameAndClass(a,</span><span class="s3">null</span><span class="s1">,b,c)};goog.dom.getAncestor=</span><span class="s3">function</span><span class="s1">(a,b,c,d){a&amp;&amp;!c&amp;&amp;(a=a.parentNode);</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;a&amp;&amp;(</span><span class="s3">null</span><span class="s1">==d||c&lt;=d);){goog.asserts.assert(</span><span class="s2">&quot;parentNode&quot;</span><span class="s1">!=a.name);</span><span class="s3">if</span><span class="s1">(b(a))</span><span class="s3">return </span><span class="s1">a;a=a.parentNode;c++}</span><span class="s3">return null</span><span class="s1">};goog.dom.getActiveElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a&amp;&amp;a.activeElement;</span><span class="s3">return </span><span class="s1">b&amp;&amp;b.nodeName?b:</span><span class="s3">null</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(c){</span><span class="s3">return null</span><span class="s1">}};</span>
<a name="l438"><span class="ln">438  </span></a><span class="s1">goog.dom.getPixelRatio=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.dom.getWindow();</span><span class="s3">return </span><span class="s1">goog.isDef(a.devicePixelRatio)?a.devicePixelRatio:a.matchMedia?goog.dom.matchesPixelRatio_(</span><span class="s4">3</span><span class="s1">)||goog.dom.matchesPixelRatio_(</span><span class="s4">2</span><span class="s1">)||goog.dom.matchesPixelRatio_(</span><span class="s4">1.5</span><span class="s1">)||goog.dom.matchesPixelRatio_(</span><span class="s4">1</span><span class="s1">)||.</span><span class="s4">75</span><span class="s1">:</span><span class="s4">1</span><span class="s1">};goog.dom.matchesPixelRatio_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getWindow().matchMedia(</span><span class="s2">&quot;(min-resolution: &quot;</span><span class="s1">+a+</span><span class="s2">&quot;dppx),(min--moz-device-pixel-ratio: &quot;</span><span class="s1">+a+</span><span class="s2">&quot;),(min-resolution: &quot;</span><span class="s1">+</span><span class="s4">96</span><span class="s1">*a+</span><span class="s2">&quot;dpi)&quot;</span><span class="s1">).matches?a:</span><span class="s4">0</span><span class="s1">};goog.dom.getCanvasContext2D=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getContext(</span><span class="s2">&quot;2d&quot;</span><span class="s1">)};</span>
<a name="l439"><span class="ln">439  </span></a><span class="s1">goog.dom.DomHelper=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.document_=a||goog.global.document||document};goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper;goog.dom.DomHelper.prototype.setDocument=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.document_=a};goog.dom.DomHelper.prototype.getDocument=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.document_};goog.dom.DomHelper.prototype.getElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getElementHelper_(</span><span class="s3">this</span><span class="s1">.document_,a)};</span>
<a name="l440"><span class="ln">440  </span></a><span class="s1">goog.dom.DomHelper.prototype.getRequiredElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getRequiredElementHelper_(</span><span class="s3">this</span><span class="s1">.document_,a)};goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement;goog.dom.DomHelper.prototype.getElementsByTagName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">(b||</span><span class="s3">this</span><span class="s1">.document_).getElementsByTagName(String(a))};goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.getElementsByTagNameAndClass_(</span><span class="s3">this</span><span class="s1">.document_,a,b,c)};</span>
<a name="l441"><span class="ln">441  </span></a><span class="s1">goog.dom.DomHelper.prototype.getElementByTagNameAndClass=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.getElementByTagNameAndClass_(</span><span class="s3">this</span><span class="s1">.document_,a,b,c)};goog.dom.DomHelper.prototype.getElementsByClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.dom.getElementsByClass(a,b||</span><span class="s3">this</span><span class="s1">.document_)};goog.dom.DomHelper.prototype.getElementByClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.dom.getElementByClass(a,b||</span><span class="s3">this</span><span class="s1">.document_)};goog.dom.DomHelper.prototype.getRequiredElementByClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.dom.getRequiredElementByClass(a,b||</span><span class="s3">this</span><span class="s1">.document_)};</span>
<a name="l442"><span class="ln">442  </span></a><span class="s1">goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass;goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties;goog.dom.DomHelper.prototype.getViewportSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getViewportSize(a||</span><span class="s3">this</span><span class="s1">.getWindow())};goog.dom.DomHelper.prototype.getDocumentHeight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentHeight_(</span><span class="s3">this</span><span class="s1">.getWindow())};goog.dom.DomHelper.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.createDom_(</span><span class="s3">this</span><span class="s1">.document_,arguments)};</span>
<a name="l443"><span class="ln">443  </span></a><span class="s1">goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom;goog.dom.DomHelper.prototype.createElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.createElement_(</span><span class="s3">this</span><span class="s1">.document_,a)};goog.dom.DomHelper.prototype.createTextNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.document_.createTextNode(String(a))};goog.dom.DomHelper.prototype.createTable=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.createTable_(</span><span class="s3">this</span><span class="s1">.document_,a,b,!!c)};goog.dom.DomHelper.prototype.safeHtmlToNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.safeHtmlToNode_(</span><span class="s3">this</span><span class="s1">.document_,a)};</span>
<a name="l444"><span class="ln">444  </span></a><span class="s1">goog.dom.DomHelper.prototype.isCss1CompatMode=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.isCss1CompatMode_(</span><span class="s3">this</span><span class="s1">.document_)};goog.dom.DomHelper.prototype.getWindow=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getWindow_(</span><span class="s3">this</span><span class="s1">.document_)};goog.dom.DomHelper.prototype.getDocumentScrollElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentScrollElement_(</span><span class="s3">this</span><span class="s1">.document_)};goog.dom.DomHelper.prototype.getDocumentScroll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.dom.getDocumentScroll_(</span><span class="s3">this</span><span class="s1">.document_)};</span>
<a name="l445"><span class="ln">445  </span></a><span class="s1">goog.dom.DomHelper.prototype.getActiveElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.getActiveElement(a||</span><span class="s3">this</span><span class="s1">.document_)};goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild;goog.dom.DomHelper.prototype.append=goog.dom.append;goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren;goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren;goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore;goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter;</span>
<a name="l446"><span class="ln">446  </span></a><span class="s1">goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt;goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode;goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode;goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement;goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren;goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild;goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild;</span>
<a name="l447"><span class="ln">447  </span></a><span class="s1">goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling;goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling;goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode;goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode;goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike;goog.dom.DomHelper.prototype.isElement=goog.dom.isElement;goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow;</span>
<a name="l448"><span class="ln">448  </span></a><span class="s1">goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement;goog.dom.DomHelper.prototype.contains=goog.dom.contains;goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder;goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor;goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument;goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument;goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow;</span>
<a name="l449"><span class="ln">449  </span></a><span class="s1">goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent;goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml;goog.dom.DomHelper.prototype.findNode=goog.dom.findNode;goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes;goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex;goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex;goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable;</span>
<a name="l450"><span class="ln">450  </span></a><span class="s1">goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent;goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength;goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset;goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset;goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList;goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass;goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass;</span>
<a name="l451"><span class="ln">451  </span></a><span class="s1">goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor;goog.dom.DomHelper.prototype.getCanvasContext2D=goog.dom.getCanvasContext2D;goog.dom.vendor={};goog.dom.vendor.getVendorJsPrefix=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.userAgent.WEBKIT?</span><span class="s2">&quot;Webkit&quot;</span><span class="s1">:goog.userAgent.GECKO?</span><span class="s2">&quot;Moz&quot;</span><span class="s1">:goog.userAgent.IE?</span><span class="s2">&quot;ms&quot;</span><span class="s1">:goog.userAgent.OPERA?</span><span class="s2">&quot;O&quot;</span><span class="s1">:</span><span class="s3">null</span><span class="s1">};goog.dom.vendor.getVendorPrefix=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.userAgent.WEBKIT?</span><span class="s2">&quot;-webkit&quot;</span><span class="s1">:goog.userAgent.GECKO?</span><span class="s2">&quot;-moz&quot;</span><span class="s1">:goog.userAgent.IE?</span><span class="s2">&quot;-ms&quot;</span><span class="s1">:goog.userAgent.OPERA?</span><span class="s2">&quot;-o&quot;</span><span class="s1">:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l452"><span class="ln">452  </span></a><span class="s1">goog.dom.vendor.getPrefixedPropertyName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b&amp;&amp;a </span><span class="s3">in </span><span class="s1">b)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">var </span><span class="s1">c=goog.dom.vendor.getVendorJsPrefix();</span><span class="s3">return </span><span class="s1">c?(c=c.toLowerCase(),c+=goog.string.toTitleCase(a),!goog.isDef(b)||c </span><span class="s3">in </span><span class="s1">b?c:</span><span class="s3">null</span><span class="s1">):</span><span class="s3">null</span><span class="s1">};goog.dom.vendor.getPrefixedEventType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">((goog.dom.vendor.getVendorJsPrefix()||</span><span class="s2">&quot;&quot;</span><span class="s1">)+a).toLowerCase()};goog.math.Box=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.top=a;</span><span class="s3">this</span><span class="s1">.right=b;</span><span class="s3">this</span><span class="s1">.bottom=c;</span><span class="s3">this</span><span class="s1">.left=d};goog.math.Box.boundingBox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.math.Box(arguments[</span><span class="s4">0</span><span class="s1">].y,arguments[</span><span class="s4">0</span><span class="s1">].x,arguments[</span><span class="s4">0</span><span class="s1">].y,arguments[</span><span class="s4">0</span><span class="s1">].x),c=</span><span class="s4">1</span><span class="s1">;c&lt;arguments.length;c++)b.expandToIncludeCoordinate(arguments[c]);</span><span class="s3">return </span><span class="s1">b};goog.math.Box.prototype.getWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.right-this.left};goog.math.Box.prototype.getHeight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.bottom-this.top};</span>
<a name="l453"><span class="ln">453  </span></a><span class="s1">goog.math.Box.prototype.clone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Box(</span><span class="s3">this</span><span class="s1">.top,</span><span class="s3">this</span><span class="s1">.right,</span><span class="s3">this</span><span class="s1">.bottom,</span><span class="s3">this</span><span class="s1">.left)};goog.DEBUG&amp;&amp;(goog.math.Box.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.top+</span><span class="s2">&quot;t, &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.right+</span><span class="s2">&quot;r, &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.bottom+</span><span class="s2">&quot;b, &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.left+</span><span class="s2">&quot;l)&quot;</span><span class="s1">});goog.math.Box.prototype.contains=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.Box.contains(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l454"><span class="ln">454  </span></a><span class="s1">goog.math.Box.prototype.expand=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.isObject(a)?(</span><span class="s3">this</span><span class="s1">.top-=a.top,</span><span class="s3">this</span><span class="s1">.right+=a.right,</span><span class="s3">this</span><span class="s1">.bottom+=a.bottom,</span><span class="s3">this</span><span class="s1">.left-=a.left):(</span><span class="s3">this</span><span class="s1">.top-=a,</span><span class="s3">this</span><span class="s1">.right+=Number(b),</span><span class="s3">this</span><span class="s1">.bottom+=Number(c),</span><span class="s3">this</span><span class="s1">.left-=Number(d));</span><span class="s3">return this</span><span class="s1">};goog.math.Box.prototype.expandToInclude=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.left=Math.min(</span><span class="s3">this</span><span class="s1">.left,a.left);</span><span class="s3">this</span><span class="s1">.top=Math.min(</span><span class="s3">this</span><span class="s1">.top,a.top);</span><span class="s3">this</span><span class="s1">.right=Math.max(</span><span class="s3">this</span><span class="s1">.right,a.right);</span><span class="s3">this</span><span class="s1">.bottom=Math.max(</span><span class="s3">this</span><span class="s1">.bottom,a.bottom)};</span>
<a name="l455"><span class="ln">455  </span></a><span class="s1">goog.math.Box.prototype.expandToIncludeCoordinate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.top=Math.min(</span><span class="s3">this</span><span class="s1">.top,a.y);</span><span class="s3">this</span><span class="s1">.right=Math.max(</span><span class="s3">this</span><span class="s1">.right,a.x);</span><span class="s3">this</span><span class="s1">.bottom=Math.max(</span><span class="s3">this</span><span class="s1">.bottom,a.y);</span><span class="s3">this</span><span class="s1">.left=Math.min(</span><span class="s3">this</span><span class="s1">.left,a.x)};goog.math.Box.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a==b?!</span><span class="s4">0</span><span class="s1">:a&amp;&amp;b?a.top==b.top&amp;&amp;a.right==b.right&amp;&amp;a.bottom==b.bottom&amp;&amp;a.left==b.left:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l456"><span class="ln">456  </span></a><span class="s1">goog.math.Box.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a&amp;&amp;b?b </span><span class="s3">instanceof </span><span class="s1">goog.math.Box?b.left&gt;=a.left&amp;&amp;b.right&lt;=a.right&amp;&amp;b.top&gt;=a.top&amp;&amp;b.bottom&lt;=a.bottom:b.x&gt;=a.left&amp;&amp;b.x&lt;=a.right&amp;&amp;b.y&gt;=a.top&amp;&amp;b.y&lt;=a.bottom:!</span><span class="s4">1</span><span class="s1">};goog.math.Box.relativePositionX=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b.x&lt;a.left?b.x-a.left:b.x&gt;a.right?b.x-a.right:</span><span class="s4">0</span><span class="s1">};goog.math.Box.relativePositionY=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b.y&lt;a.top?b.y-a.top:b.y&gt;a.bottom?b.y-a.bottom:</span><span class="s4">0</span><span class="s1">};</span>
<a name="l457"><span class="ln">457  </span></a><span class="s1">goog.math.Box.distance=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.math.Box.relativePositionX(a,b),d=goog.math.Box.relativePositionY(a,b);</span><span class="s3">return </span><span class="s1">Math.sqrt(c*c+d*d)};goog.math.Box.intersects=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.left&lt;=b.right&amp;&amp;b.left&lt;=a.right&amp;&amp;a.top&lt;=b.bottom&amp;&amp;b.top&lt;=a.bottom};goog.math.Box.intersectsWithPadding=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">a.left&lt;=b.right+c&amp;&amp;b.left&lt;=a.right+c&amp;&amp;a.top&lt;=b.bottom+c&amp;&amp;b.top&lt;=a.bottom+c};</span>
<a name="l458"><span class="ln">458  </span></a><span class="s1">goog.math.Box.prototype.ceil=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.top=Math.ceil(</span><span class="s3">this</span><span class="s1">.top);</span><span class="s3">this</span><span class="s1">.right=Math.ceil(</span><span class="s3">this</span><span class="s1">.right);</span><span class="s3">this</span><span class="s1">.bottom=Math.ceil(</span><span class="s3">this</span><span class="s1">.bottom);</span><span class="s3">this</span><span class="s1">.left=Math.ceil(</span><span class="s3">this</span><span class="s1">.left);</span><span class="s3">return this</span><span class="s1">};goog.math.Box.prototype.floor=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.top=Math.floor(</span><span class="s3">this</span><span class="s1">.top);</span><span class="s3">this</span><span class="s1">.right=Math.floor(</span><span class="s3">this</span><span class="s1">.right);</span><span class="s3">this</span><span class="s1">.bottom=Math.floor(</span><span class="s3">this</span><span class="s1">.bottom);</span><span class="s3">this</span><span class="s1">.left=Math.floor(</span><span class="s3">this</span><span class="s1">.left);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l459"><span class="ln">459  </span></a><span class="s1">goog.math.Box.prototype.round=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.top=Math.round(</span><span class="s3">this</span><span class="s1">.top);</span><span class="s3">this</span><span class="s1">.right=Math.round(</span><span class="s3">this</span><span class="s1">.right);</span><span class="s3">this</span><span class="s1">.bottom=Math.round(</span><span class="s3">this</span><span class="s1">.bottom);</span><span class="s3">this</span><span class="s1">.left=Math.round(</span><span class="s3">this</span><span class="s1">.left);</span><span class="s3">return this</span><span class="s1">};goog.math.Box.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){a </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate?(</span><span class="s3">this</span><span class="s1">.left+=a.x,</span><span class="s3">this</span><span class="s1">.right+=a.x,</span><span class="s3">this</span><span class="s1">.top+=a.y,</span><span class="s3">this</span><span class="s1">.bottom+=a.y):(goog.asserts.assertNumber(a),</span><span class="s3">this</span><span class="s1">.left+=a,</span><span class="s3">this</span><span class="s1">.right+=a,goog.isNumber(b)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.top+=b,</span><span class="s3">this</span><span class="s1">.bottom+=b));</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l460"><span class="ln">460  </span></a><span class="s1">goog.math.Box.prototype.scale=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isNumber(b)?b:a;</span><span class="s3">this</span><span class="s1">.left*=a;</span><span class="s3">this</span><span class="s1">.right*=a;</span><span class="s3">this</span><span class="s1">.top*=c;</span><span class="s3">this</span><span class="s1">.bottom*=c;</span><span class="s3">return this</span><span class="s1">};goog.math.IRect=</span><span class="s3">function</span><span class="s1">(){};goog.math.Rect=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.left=a;</span><span class="s3">this</span><span class="s1">.top=b;</span><span class="s3">this</span><span class="s1">.width=c;</span><span class="s3">this</span><span class="s1">.height=d};goog.math.Rect.prototype.clone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Rect(</span><span class="s3">this</span><span class="s1">.left,</span><span class="s3">this</span><span class="s1">.top,</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.height)};goog.math.Rect.prototype.toBox=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Box(</span><span class="s3">this</span><span class="s1">.top,</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height,</span><span class="s3">this</span><span class="s1">.left)};goog.math.Rect.createFromPositionAndSize=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">goog.math.Rect(a.x,a.y,b.width,b.height)};</span>
<a name="l461"><span class="ln">461  </span></a><span class="s1">goog.math.Rect.createFromBox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.math.Rect(a.left,a.top,a.right-a.left,a.bottom-a.top)};goog.DEBUG&amp;&amp;(goog.math.Rect.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.left+</span><span class="s2">&quot;, &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.top+</span><span class="s2">&quot; - &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.width+</span><span class="s2">&quot;w x &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.height+</span><span class="s2">&quot;h)&quot;</span><span class="s1">});goog.math.Rect.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a==b?!</span><span class="s4">0</span><span class="s1">:a&amp;&amp;b?a.left==b.left&amp;&amp;a.width==b.width&amp;&amp;a.top==b.top&amp;&amp;a.height==b.height:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l462"><span class="ln">462  </span></a><span class="s1">goog.math.Rect.prototype.intersection=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Math.max(</span><span class="s3">this</span><span class="s1">.left,a.left),c=Math.min(</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width,a.left+a.width);</span><span class="s3">if</span><span class="s1">(b&lt;=c){</span><span class="s3">var </span><span class="s1">d=Math.max(</span><span class="s3">this</span><span class="s1">.top,a.top);a=Math.min(</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height,a.top+a.height);</span><span class="s3">if</span><span class="s1">(d&lt;=a)</span><span class="s3">return this</span><span class="s1">.left=b,</span><span class="s3">this</span><span class="s1">.top=d,</span><span class="s3">this</span><span class="s1">.width=c-b,</span><span class="s3">this</span><span class="s1">.height=a-d,!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l463"><span class="ln">463  </span></a><span class="s1">goog.math.Rect.intersection=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Math.max(a.left,b.left),d=Math.min(a.left+a.width,b.left+b.width);</span><span class="s3">if</span><span class="s1">(c&lt;=d){</span><span class="s3">var </span><span class="s1">e=Math.max(a.top,b.top),f=Math.min(a.top+a.height,b.top+b.height);</span><span class="s3">if</span><span class="s1">(e&lt;=f)</span><span class="s3">return new </span><span class="s1">goog.math.Rect(c,e,d-c,f-e)}</span><span class="s3">return null</span><span class="s1">};goog.math.Rect.intersects=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.left&lt;=b.left+b.width&amp;&amp;b.left&lt;=a.left+a.width&amp;&amp;a.top&lt;=b.top+b.height&amp;&amp;b.top&lt;=a.top+a.height};goog.math.Rect.prototype.intersects=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.Rect.intersects(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l464"><span class="ln">464  </span></a><span class="s1">goog.math.Rect.difference=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.math.Rect.intersection(a,b);</span><span class="s3">if</span><span class="s1">(!c||!c.height||!c.width)</span><span class="s3">return</span><span class="s1">[a.clone()];c=[];</span><span class="s3">var </span><span class="s1">d=a.top,e=a.height,f=a.left+a.width,g=a.top+a.height,h=b.left+b.width,k=b.top+b.height;b.top&gt;a.top&amp;&amp;(c.push(</span><span class="s3">new </span><span class="s1">goog.math.Rect(a.left,a.top,a.width,b.top-a.top)),d=b.top,e-=b.top-a.top);k&lt;g&amp;&amp;(c.push(</span><span class="s3">new </span><span class="s1">goog.math.Rect(a.left,k,a.width,g-k)),e=k-d);b.left&gt;a.left&amp;&amp;c.push(</span><span class="s3">new </span><span class="s1">goog.math.Rect(a.left,d,b.left-a.left,e));h&lt;f&amp;&amp;c.push(</span><span class="s3">new </span><span class="s1">goog.math.Rect(h,d,f-h,e));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l465"><span class="ln">465  </span></a><span class="s1">goog.math.Rect.prototype.difference=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.math.Rect.difference(</span><span class="s3">this</span><span class="s1">,a)};goog.math.Rect.prototype.boundingRect=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Math.max(</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width,a.left+a.width),c=Math.max(</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height,a.top+a.height);</span><span class="s3">this</span><span class="s1">.left=Math.min(</span><span class="s3">this</span><span class="s1">.left,a.left);</span><span class="s3">this</span><span class="s1">.top=Math.min(</span><span class="s3">this</span><span class="s1">.top,a.top);</span><span class="s3">this</span><span class="s1">.width=b-this.left;</span><span class="s3">this</span><span class="s1">.height=c-this.top};goog.math.Rect.boundingRect=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a||!b)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">goog.math.Rect(a.left,a.top,a.width,a.height);c.boundingRect(b);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l466"><span class="ln">466  </span></a><span class="s1">goog.math.Rect.prototype.contains=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate?a.x&gt;=</span><span class="s3">this</span><span class="s1">.left&amp;&amp;a.x&lt;=</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width&amp;&amp;a.y&gt;=</span><span class="s3">this</span><span class="s1">.top&amp;&amp;a.y&lt;=</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height:</span><span class="s3">this</span><span class="s1">.left&lt;=a.left&amp;&amp;</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width&gt;=a.left+a.width&amp;&amp;</span><span class="s3">this</span><span class="s1">.top&lt;=a.top&amp;&amp;</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height&gt;=a.top+a.height};goog.math.Rect.prototype.squaredDistance=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.x&lt;</span><span class="s3">this</span><span class="s1">.left?</span><span class="s3">this</span><span class="s1">.left-a.x:Math.max(a.x-(</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width),</span><span class="s4">0</span><span class="s1">);a=a.y&lt;</span><span class="s3">this</span><span class="s1">.top?</span><span class="s3">this</span><span class="s1">.top-a.y:Math.max(a.y-(</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height),</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b*b+a*a};</span>
<a name="l467"><span class="ln">467  </span></a><span class="s1">goog.math.Rect.prototype.distance=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Math.sqrt(</span><span class="s3">this</span><span class="s1">.squaredDistance(a))};goog.math.Rect.prototype.getSize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Size(</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.height)};goog.math.Rect.prototype.getTopLeft=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(</span><span class="s3">this</span><span class="s1">.left,</span><span class="s3">this</span><span class="s1">.top)};goog.math.Rect.prototype.getCenter=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width/</span><span class="s4">2</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height/</span><span class="s4">2</span><span class="s1">)};</span>
<a name="l468"><span class="ln">468  </span></a><span class="s1">goog.math.Rect.prototype.getBottomRight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(</span><span class="s3">this</span><span class="s1">.left+</span><span class="s3">this</span><span class="s1">.width,</span><span class="s3">this</span><span class="s1">.top+</span><span class="s3">this</span><span class="s1">.height)};goog.math.Rect.prototype.ceil=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.left=Math.ceil(</span><span class="s3">this</span><span class="s1">.left);</span><span class="s3">this</span><span class="s1">.top=Math.ceil(</span><span class="s3">this</span><span class="s1">.top);</span><span class="s3">this</span><span class="s1">.width=Math.ceil(</span><span class="s3">this</span><span class="s1">.width);</span><span class="s3">this</span><span class="s1">.height=Math.ceil(</span><span class="s3">this</span><span class="s1">.height);</span><span class="s3">return this</span><span class="s1">};goog.math.Rect.prototype.floor=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.left=Math.floor(</span><span class="s3">this</span><span class="s1">.left);</span><span class="s3">this</span><span class="s1">.top=Math.floor(</span><span class="s3">this</span><span class="s1">.top);</span><span class="s3">this</span><span class="s1">.width=Math.floor(</span><span class="s3">this</span><span class="s1">.width);</span><span class="s3">this</span><span class="s1">.height=Math.floor(</span><span class="s3">this</span><span class="s1">.height);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l469"><span class="ln">469  </span></a><span class="s1">goog.math.Rect.prototype.round=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.left=Math.round(</span><span class="s3">this</span><span class="s1">.left);</span><span class="s3">this</span><span class="s1">.top=Math.round(</span><span class="s3">this</span><span class="s1">.top);</span><span class="s3">this</span><span class="s1">.width=Math.round(</span><span class="s3">this</span><span class="s1">.width);</span><span class="s3">this</span><span class="s1">.height=Math.round(</span><span class="s3">this</span><span class="s1">.height);</span><span class="s3">return this</span><span class="s1">};goog.math.Rect.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){a </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate?(</span><span class="s3">this</span><span class="s1">.left+=a.x,</span><span class="s3">this</span><span class="s1">.top+=a.y):(</span><span class="s3">this</span><span class="s1">.left+=goog.asserts.assertNumber(a),goog.isNumber(b)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.top+=b));</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l470"><span class="ln">470  </span></a><span class="s1">goog.math.Rect.prototype.scale=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isNumber(b)?b:a;</span><span class="s3">this</span><span class="s1">.left*=a;</span><span class="s3">this</span><span class="s1">.width*=a;</span><span class="s3">this</span><span class="s1">.top*=c;</span><span class="s3">this</span><span class="s1">.height*=c;</span><span class="s3">return this</span><span class="s1">};goog.style={};goog.style.setStyle=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(goog.isString(b))goog.style.setStyle_(a,c,b);</span><span class="s3">else for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">b)goog.style.setStyle_(a,b[d],d)};goog.style.setStyle_=</span><span class="s3">function</span><span class="s1">(a,b,c){(c=goog.style.getVendorJsStyleName_(a,c))&amp;&amp;(a.style[c]=b)};goog.style.styleNameCache_={};</span>
<a name="l471"><span class="ln">471  </span></a><span class="s1">goog.style.getVendorJsStyleName_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.style.styleNameCache_[b];</span><span class="s3">if</span><span class="s1">(!c){</span><span class="s3">var </span><span class="s1">d=goog.string.toCamelCase(b);c=d;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.style[d]&amp;&amp;(d=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(d),</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.style[d]&amp;&amp;(c=d));goog.style.styleNameCache_[b]=c}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l472"><span class="ln">472  </span></a><span class="s1">goog.style.getVendorStyleName_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.string.toCamelCase(b);</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">===a.style[c]&amp;&amp;(c=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(c),</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.style[c])?goog.dom.vendor.getVendorPrefix()+</span><span class="s2">&quot;-&quot;</span><span class="s1">+b:b};goog.style.getStyle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.style[goog.string.toCamelCase(b)];</span><span class="s3">return</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">c?c:a.style[goog.style.getVendorJsStyleName_(a,b)]||</span><span class="s2">&quot;&quot;</span><span class="s1">};</span>
<a name="l473"><span class="ln">473  </span></a><span class="s1">goog.style.getComputedStyle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.dom.getOwnerDocument(a);</span><span class="s3">return </span><span class="s1">c.defaultView&amp;&amp;c.defaultView.getComputedStyle&amp;&amp;(c=c.defaultView.getComputedStyle(a,</span><span class="s3">null</span><span class="s1">))?c[b]||c.getPropertyValue(b)||</span><span class="s2">&quot;&quot;</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.style.getCascadedStyle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.currentStyle?a.currentStyle[b]:</span><span class="s3">null</span><span class="s1">};goog.style.getStyle_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.style.getComputedStyle(a,b)||goog.style.getCascadedStyle(a,b)||a.style&amp;&amp;a.style[b]};</span>
<a name="l474"><span class="ln">474  </span></a><span class="s1">goog.style.getComputedBoxSizing=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;boxSizing&quot;</span><span class="s1">)||goog.style.getStyle_(a,</span><span class="s2">&quot;MozBoxSizing&quot;</span><span class="s1">)||goog.style.getStyle_(a,</span><span class="s2">&quot;WebkitBoxSizing&quot;</span><span class="s1">)||</span><span class="s3">null</span><span class="s1">};goog.style.getComputedPosition=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;position&quot;</span><span class="s1">)};goog.style.getBackgroundColor=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;backgroundColor&quot;</span><span class="s1">)};goog.style.getComputedOverflowX=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;overflowX&quot;</span><span class="s1">)};</span>
<a name="l475"><span class="ln">475  </span></a><span class="s1">goog.style.getComputedOverflowY=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;overflowY&quot;</span><span class="s1">)};goog.style.getComputedZIndex=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;zIndex&quot;</span><span class="s1">)};goog.style.getComputedTextAlign=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;textAlign&quot;</span><span class="s1">)};goog.style.getComputedCursor=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,</span><span class="s2">&quot;cursor&quot;</span><span class="s1">)};goog.style.getComputedTransform=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.style.getVendorStyleName_(a,</span><span class="s2">&quot;transform&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.style.getStyle_(a,b)||goog.style.getStyle_(a,</span><span class="s2">&quot;transform&quot;</span><span class="s1">)};</span>
<a name="l476"><span class="ln">476  </span></a><span class="s1">goog.style.setPosition=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(b </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate){</span><span class="s3">var </span><span class="s1">d=b.x;b=b.y}</span><span class="s3">else </span><span class="s1">d=b,b=c;a.style.left=goog.style.getPixelStyleValue_(d,!</span><span class="s4">1</span><span class="s1">);a.style.top=goog.style.getPixelStyleValue_(b,!</span><span class="s4">1</span><span class="s1">)};goog.style.getPosition=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(a.offsetLeft,a.offsetTop)};</span>
<a name="l477"><span class="ln">477  </span></a><span class="s1">goog.style.getClientViewportElement=</span><span class="s3">function</span><span class="s1">(a){a=a?goog.dom.getOwnerDocument(a):goog.dom.getDocument();</span><span class="s3">return</span><span class="s1">!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">)||goog.dom.getDomHelper(a).isCss1CompatMode()?a.documentElement:a.body};goog.style.getViewportPageOffset=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.body;a=a.documentElement;</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(b.scrollLeft||a.scrollLeft,b.scrollTop||a.scrollTop)};</span>
<a name="l478"><span class="ln">478  </span></a><span class="s1">goog.style.getBoundingClientRect_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a.getBoundingClientRect()}</span><span class="s3">catch</span><span class="s1">(c){</span><span class="s3">return</span><span class="s1">{left:</span><span class="s4">0</span><span class="s1">,top:</span><span class="s4">0</span><span class="s1">,right:</span><span class="s4">0</span><span class="s1">,bottom:</span><span class="s4">0</span><span class="s1">}}goog.userAgent.IE&amp;&amp;a.ownerDocument.body&amp;&amp;(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l479"><span class="ln">479  </span></a><span class="s1">goog.style.getOffsetParent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;!goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">8</span><span class="s1">))</span><span class="s3">return </span><span class="s1">goog.asserts.assert(a&amp;&amp;</span><span class="s2">&quot;offsetParent&quot;</span><span class="s3">in </span><span class="s1">a),a.offsetParent;</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(a),c=goog.style.getStyle_(a,</span><span class="s2">&quot;position&quot;</span><span class="s1">),d=</span><span class="s2">&quot;fixed&quot;</span><span class="s1">==c||</span><span class="s2">&quot;absolute&quot;</span><span class="s1">==c;</span><span class="s3">for</span><span class="s1">(a=a.parentNode;a&amp;&amp;a!=b;a=a.parentNode)</span><span class="s3">if</span><span class="s1">(a.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&amp;&amp;a.host&amp;&amp;(a=a.host),c=goog.style.getStyle_(a,</span><span class="s2">&quot;position&quot;</span><span class="s1">),d=d&amp;&amp;</span><span class="s2">&quot;static&quot;</span><span class="s1">==c&amp;&amp;a!=b.documentElement&amp;&amp;a!=b.body,!d&amp;&amp;(a.scrollWidth&gt;a.clientWidth||</span>
<a name="l480"><span class="ln">480  </span></a><span class="s1">a.scrollHeight&gt;a.clientHeight||</span><span class="s2">&quot;fixed&quot;</span><span class="s1">==c||</span><span class="s2">&quot;absolute&quot;</span><span class="s1">==c||</span><span class="s2">&quot;relative&quot;</span><span class="s1">==c))</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l481"><span class="ln">481  </span></a><span class="s1">goog.style.getVisibleRectForElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.math.Box(</span><span class="s4">0</span><span class="s1">,Infinity,Infinity,</span><span class="s4">0</span><span class="s1">),c=goog.dom.getDomHelper(a),d=c.getDocument().body,e=c.getDocument().documentElement,f=c.getDocumentScrollElement();a=goog.style.getOffsetParent(a);)</span><span class="s3">if</span><span class="s1">(!(goog.userAgent.IE&amp;&amp;</span><span class="s4">0</span><span class="s1">==a.clientWidth||goog.userAgent.WEBKIT&amp;&amp;</span><span class="s4">0</span><span class="s1">==a.clientHeight&amp;&amp;a==d)&amp;&amp;a!=d&amp;&amp;a!=e&amp;&amp;</span><span class="s2">&quot;visible&quot;</span><span class="s1">!=goog.style.getStyle_(a,</span><span class="s2">&quot;overflow&quot;</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">g=goog.style.getPageOffset(a),h=goog.style.getClientLeftTop(a);g.x+=h.x;g.y+=h.y;b.top=Math.max(b.top,</span>
<a name="l482"><span class="ln">482  </span></a><span class="s1">g.y);b.right=Math.min(b.right,g.x+a.clientWidth);b.bottom=Math.min(b.bottom,g.y+a.clientHeight);b.left=Math.max(b.left,g.x)}d=f.scrollLeft;f=f.scrollTop;b.left=Math.max(b.left,d);b.top=Math.max(b.top,f);c=c.getViewportSize();b.right=Math.min(b.right,d+c.width);b.bottom=Math.min(b.bottom,f+c.height);</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;=b.top&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=b.left&amp;&amp;b.bottom&gt;b.top&amp;&amp;b.right&gt;b.left?b:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l483"><span class="ln">483  </span></a><span class="s1">goog.style.getContainerOffsetToScrollInto=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=b||goog.dom.getDocumentScrollElement(),e=goog.style.getPageOffset(a),f=goog.style.getPageOffset(d),g=goog.style.getBorderBox(d);d==goog.dom.getDocumentScrollElement()?(b=e.x-d.scrollLeft,e=e.y-d.scrollTop,goog.userAgent.IE&amp;&amp;!goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">10</span><span class="s1">)&amp;&amp;(b+=g.left,e+=g.top)):(b=e.x-f.x-g.left,e=e.y-f.y-g.top);g=goog.style.getSizeWithDisplay_(a);a=d.clientWidth-g.width;g=d.clientHeight-g.height;f=d.scrollLeft;d=d.scrollTop;</span>
<a name="l484"><span class="ln">484  </span></a><span class="s1">c?(f+=b-a/</span><span class="s4">2</span><span class="s1">,d+=e-g/</span><span class="s4">2</span><span class="s1">):(f+=Math.min(b,Math.max(b-a,</span><span class="s4">0</span><span class="s1">)),d+=Math.min(e,Math.max(e-g,</span><span class="s4">0</span><span class="s1">)));</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(f,d)};goog.style.scrollIntoContainerView=</span><span class="s3">function</span><span class="s1">(a,b,c){b=b||goog.dom.getDocumentScrollElement();a=goog.style.getContainerOffsetToScrollInto(a,b,c);b.scrollLeft=a.x;b.scrollTop=a.y};goog.style.getClientLeftTop=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(a.clientLeft,a.clientTop)};</span>
<a name="l485"><span class="ln">485  </span></a><span class="s1">goog.style.getPageOffset=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(a);goog.asserts.assertObject(a,</span><span class="s2">&quot;Parameter is required&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">),d=goog.style.getClientViewportElement(b);</span><span class="s3">if</span><span class="s1">(a==d)</span><span class="s3">return </span><span class="s1">c;a=goog.style.getBoundingClientRect_(a);b=goog.dom.getDomHelper(b).getDocumentScroll();c.x=a.left+b.x;c.y=a.top+b.y;</span><span class="s3">return </span><span class="s1">c};goog.style.getPageOffsetLeft=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getPageOffset(a).x};goog.style.getPageOffsetTop=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getPageOffset(a).y};</span>
<a name="l486"><span class="ln">486  </span></a><span class="s1">goog.style.getFramedPageOffset=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">),d=goog.dom.getWindow(goog.dom.getOwnerDocument(a));</span><span class="s3">if</span><span class="s1">(!goog.reflect.canAccessProperty(d,</span><span class="s2">&quot;parent&quot;</span><span class="s1">))</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">var </span><span class="s1">e=a;</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">f=d==b?goog.style.getPageOffset(e):goog.style.getClientPositionForElement_(goog.asserts.assert(e));c.x+=f.x;c.y+=f.y}</span><span class="s3">while</span><span class="s1">(d&amp;&amp;d!=b&amp;&amp;d!=d.parent&amp;&amp;(e=d.frameElement)&amp;&amp;(d=d.parent));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l487"><span class="ln">487  </span></a><span class="s1">goog.style.translateRectForAnotherFrame=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(b.getDocument()!=c.getDocument()){</span><span class="s3">var </span><span class="s1">d=b.getDocument().body;c=goog.style.getFramedPageOffset(d,c.getWindow());c=goog.math.Coordinate.difference(c,goog.style.getPageOffset(d));!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">)||b.isCss1CompatMode()||(c=goog.math.Coordinate.difference(c,b.getDocumentScroll()));a.left+=c.x;a.top+=c.y}};</span>
<a name="l488"><span class="ln">488  </span></a><span class="s1">goog.style.getRelativePosition=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.style.getClientPosition(a),d=goog.style.getClientPosition(b);</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(c.x-d.x,c.y-d.y)};goog.style.getClientPositionForElement_=</span><span class="s3">function</span><span class="s1">(a){a=goog.style.getBoundingClientRect_(a);</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(a.left,a.top)};</span>
<a name="l489"><span class="ln">489  </span></a><span class="s1">goog.style.getClientPosition=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(a);</span><span class="s3">if</span><span class="s1">(a.nodeType==goog.dom.NodeType.ELEMENT)</span><span class="s3">return </span><span class="s1">goog.style.getClientPositionForElement_(a);a=a.changedTouches?a.changedTouches[</span><span class="s4">0</span><span class="s1">]:a;</span><span class="s3">return new </span><span class="s1">goog.math.Coordinate(a.clientX,a.clientY)};goog.style.setPageOffset=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=goog.style.getPageOffset(a);b </span><span class="s3">instanceof </span><span class="s1">goog.math.Coordinate&amp;&amp;(c=b.y,b=b.x);b=goog.asserts.assertNumber(b)-d.x;goog.style.setPosition(a,a.offsetLeft+b,a.offsetTop+(Number(c)-d.y))};</span>
<a name="l490"><span class="ln">490  </span></a><span class="s1">goog.style.setSize=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(b </span><span class="s3">instanceof </span><span class="s1">goog.math.Size)c=b.height,b=b.width;</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;missing height argument&quot;</span><span class="s1">);goog.style.setWidth(a,b);goog.style.setHeight(a,c)};goog.style.getPixelStyleValue_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;(a=(b?Math.round(a):a)+</span><span class="s2">&quot;px&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};goog.style.setHeight=</span><span class="s3">function</span><span class="s1">(a,b){a.style.height=goog.style.getPixelStyleValue_(b,!</span><span class="s4">0</span><span class="s1">)};goog.style.setWidth=</span><span class="s3">function</span><span class="s1">(a,b){a.style.width=goog.style.getPixelStyleValue_(b,!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l491"><span class="ln">491  </span></a><span class="s1">goog.style.getSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,a)};goog.style.evaluateWithTemporaryDisplay_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;none&quot;</span><span class="s1">!=goog.style.getStyle_(b,</span><span class="s2">&quot;display&quot;</span><span class="s1">))</span><span class="s3">return </span><span class="s1">a(b);</span><span class="s3">var </span><span class="s1">c=b.style,d=c.display,e=c.visibility,f=c.position;c.visibility=</span><span class="s2">&quot;hidden&quot;</span><span class="s1">;c.position=</span><span class="s2">&quot;absolute&quot;</span><span class="s1">;c.display=</span><span class="s2">&quot;inline&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">g=a(b);c.display=d;c.position=f;c.visibility=e;</span><span class="s3">return </span><span class="s1">g};</span>
<a name="l492"><span class="ln">492  </span></a><span class="s1">goog.style.getSizeWithDisplay_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.offsetWidth,c=a.offsetHeight,d=goog.userAgent.WEBKIT&amp;&amp;!b&amp;&amp;!c;</span><span class="s3">return </span><span class="s1">goog.isDef(b)&amp;&amp;!d||!a.getBoundingClientRect?</span><span class="s3">new </span><span class="s1">goog.math.Size(b,c):(a=goog.style.getBoundingClientRect_(a),</span><span class="s3">new </span><span class="s1">goog.math.Size(a.right-a.left,a.bottom-a.top))};goog.style.getTransformedSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a.getBoundingClientRect)</span><span class="s3">return null</span><span class="s1">;a=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,a);</span><span class="s3">return new </span><span class="s1">goog.math.Size(a.right-a.left,a.bottom-a.top)};</span>
<a name="l493"><span class="ln">493  </span></a><span class="s1">goog.style.getBounds=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.style.getPageOffset(a);a=goog.style.getSize(a);</span><span class="s3">return new </span><span class="s1">goog.math.Rect(b.x,b.y,a.width,a.height)};goog.style.toCamelCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.string.toCamelCase(String(a))};goog.style.toSelectorCase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.string.toSelectorCase(a)};</span>
<a name="l494"><span class="ln">494  </span></a><span class="s1">goog.style.getOpacity=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(a);</span><span class="s3">var </span><span class="s1">b=a.style;a=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s2">&quot;opacity&quot;</span><span class="s3">in </span><span class="s1">b?a=b.opacity:</span><span class="s2">&quot;MozOpacity&quot;</span><span class="s3">in </span><span class="s1">b?a=b.MozOpacity:</span><span class="s2">&quot;filter&quot;</span><span class="s3">in </span><span class="s1">b&amp;&amp;(b=b.filter.match(/alpha\(opacity=([\d.]+)\)/))&amp;&amp;(a=String(b[</span><span class="s4">1</span><span class="s1">]/</span><span class="s4">100</span><span class="s1">));</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">==a?a:Number(a)};goog.style.setOpacity=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(a);</span><span class="s3">var </span><span class="s1">c=a.style;</span><span class="s2">&quot;opacity&quot;</span><span class="s3">in </span><span class="s1">c?c.opacity=b:</span><span class="s2">&quot;MozOpacity&quot;</span><span class="s3">in </span><span class="s1">c?c.MozOpacity=b:</span><span class="s2">&quot;filter&quot;</span><span class="s3">in </span><span class="s1">c&amp;&amp;(c.filter=</span><span class="s2">&quot;&quot;</span><span class="s1">===b?</span><span class="s2">&quot;&quot;</span><span class="s1">:</span><span class="s2">&quot;alpha(opacity=&quot;</span><span class="s1">+</span><span class="s4">100</span><span class="s1">*Number(b)+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};</span>
<a name="l495"><span class="ln">495  </span></a><span class="s1">goog.style.setTransparentBackgroundImage=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.style;goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">)?c.filter=</span><span class="s2">'progid:DXImageTransform.Microsoft.AlphaImageLoader(src=&quot;'</span><span class="s1">+b+</span><span class="s2">'&quot;, sizingMethod=&quot;crop&quot;)'</span><span class="s1">:(c.backgroundImage=</span><span class="s2">&quot;url(&quot;</span><span class="s1">+b+</span><span class="s2">&quot;)&quot;</span><span class="s1">,c.backgroundPosition=</span><span class="s2">&quot;top left&quot;</span><span class="s1">,c.backgroundRepeat=</span><span class="s2">&quot;no-repeat&quot;</span><span class="s1">)};goog.style.clearTransparentBackgroundImage=</span><span class="s3">function</span><span class="s1">(a){a=a.style;</span><span class="s2">&quot;filter&quot;</span><span class="s3">in </span><span class="s1">a?a.filter=</span><span class="s2">&quot;&quot;</span><span class="s1">:a.backgroundImage=</span><span class="s2">&quot;none&quot;</span><span class="s1">};</span>
<a name="l496"><span class="ln">496  </span></a><span class="s1">goog.style.showElement=</span><span class="s3">function</span><span class="s1">(a,b){goog.style.setElementShown(a,b)};goog.style.setElementShown=</span><span class="s3">function</span><span class="s1">(a,b){a.style.display=b?</span><span class="s2">&quot;&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">};goog.style.isElementShown=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;none&quot;</span><span class="s1">!=a.style.display};</span>
<a name="l497"><span class="ln">497  </span></a><span class="s1">goog.style.installSafeStyleSheet=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.dom.getDomHelper(b),d=c.getDocument();</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;d.createStyleSheet)</span><span class="s3">return </span><span class="s1">c=d.createStyleSheet(),goog.style.setSafeStyleSheet(c,a),c;d=c.getElementsByTagNameAndClass(</span><span class="s2">&quot;HEAD&quot;</span><span class="s1">)[</span><span class="s4">0</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(!d){</span><span class="s3">var </span><span class="s1">e=c.getElementsByTagNameAndClass(</span><span class="s2">&quot;BODY&quot;</span><span class="s1">)[</span><span class="s4">0</span><span class="s1">];d=c.createDom(</span><span class="s2">&quot;HEAD&quot;</span><span class="s1">);e.parentNode.insertBefore(d,e)}e=c.createDom(</span><span class="s2">&quot;STYLE&quot;</span><span class="s1">);goog.style.setSafeStyleSheet(e,a);c.appendChild(d,e);</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l498"><span class="ln">498  </span></a><span class="s1">goog.style.uninstallStyles=</span><span class="s3">function</span><span class="s1">(a){goog.dom.removeNode(a.ownerNode||a.owningElement||a)};goog.style.setSafeStyleSheet=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.html.SafeStyleSheet.unwrap(b);goog.userAgent.IE&amp;&amp;goog.isDef(a.cssText)?a.cssText=c:a.innerHTML=c};goog.style.setPreWrap=</span><span class="s3">function</span><span class="s1">(a){a=a.style;goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">)?(a.whiteSpace=</span><span class="s2">&quot;pre&quot;</span><span class="s1">,a.wordWrap=</span><span class="s2">&quot;break-word&quot;</span><span class="s1">):a.whiteSpace=goog.userAgent.GECKO?</span><span class="s2">&quot;-moz-pre-wrap&quot;</span><span class="s1">:</span><span class="s2">&quot;pre-wrap&quot;</span><span class="s1">};</span>
<a name="l499"><span class="ln">499  </span></a><span class="s1">goog.style.setInlineBlock=</span><span class="s3">function</span><span class="s1">(a){a=a.style;a.position=</span><span class="s2">&quot;relative&quot;</span><span class="s1">;goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">)?(a.zoom=</span><span class="s2">&quot;1&quot;</span><span class="s1">,a.display=</span><span class="s2">&quot;inline&quot;</span><span class="s1">):a.display=</span><span class="s2">&quot;inline-block&quot;</span><span class="s1">};goog.style.isRightToLeft=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;rtl&quot;</span><span class="s1">==goog.style.getStyle_(a,</span><span class="s2">&quot;direction&quot;</span><span class="s1">)};goog.style.unselectableStyle_=goog.userAgent.GECKO?</span><span class="s2">&quot;MozUserSelect&quot;</span><span class="s1">:goog.userAgent.WEBKIT||goog.userAgent.EDGE?</span><span class="s2">&quot;WebkitUserSelect&quot;</span><span class="s1">:</span><span class="s3">null</span><span class="s1">;</span>
<a name="l500"><span class="ln">500  </span></a><span class="s1">goog.style.isUnselectable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.unselectableStyle_?</span><span class="s2">&quot;none&quot;</span><span class="s1">==a.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?</span><span class="s2">&quot;on&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;unselectable&quot;</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l501"><span class="ln">501  </span></a><span class="s1">goog.style.setUnselectable=</span><span class="s3">function</span><span class="s1">(a,b,c){c=c?</span><span class="s3">null</span><span class="s1">:a.getElementsByTagName(</span><span class="s2">&quot;*&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=goog.style.unselectableStyle_;</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">if</span><span class="s1">(b=b?</span><span class="s2">&quot;none&quot;</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">,a.style&amp;&amp;(a.style[d]=b),c){a=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e;e=c[a];a++)e.style&amp;&amp;(e.style[d]=b)}}</span><span class="s3">else if</span><span class="s1">(goog.userAgent.IE||goog.userAgent.OPERA)</span><span class="s3">if</span><span class="s1">(b=b?</span><span class="s2">&quot;on&quot;</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">,a.setAttribute(</span><span class="s2">&quot;unselectable&quot;</span><span class="s1">,b),c)</span><span class="s3">for</span><span class="s1">(a=</span><span class="s4">0</span><span class="s1">;e=c[a];a++)e.setAttribute(</span><span class="s2">&quot;unselectable&quot;</span><span class="s1">,b)};goog.style.getBorderBoxSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.math.Size(a.offsetWidth,a.offsetHeight)};</span>
<a name="l502"><span class="ln">502  </span></a><span class="s1">goog.style.setBorderBoxSize=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();</span><span class="s3">if</span><span class="s1">(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;10&quot;</span><span class="s1">)||d&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">))goog.style.setBoxSizingSize_(a,b,</span><span class="s2">&quot;border-box&quot;</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">(c=a.style,d){d=goog.style.getPaddingBox(a);</span><span class="s3">var </span><span class="s1">e=goog.style.getBorderBox(a);c.pixelWidth=b.width-e.left-d.left-d.right-e.right;c.pixelHeight=b.height-e.top-d.top-d.bottom-e.bottom}</span><span class="s3">else </span><span class="s1">c.pixelWidth=b.width,c.pixelHeight=</span>
<a name="l503"><span class="ln">503  </span></a><span class="s1">b.height};</span>
<a name="l504"><span class="ln">504  </span></a><span class="s1">goog.style.getContentBoxSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(a),c=goog.userAgent.IE&amp;&amp;a.currentStyle;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;goog.dom.getDomHelper(b).isCss1CompatMode()&amp;&amp;</span><span class="s2">&quot;auto&quot;</span><span class="s1">!=c.width&amp;&amp;</span><span class="s2">&quot;auto&quot;</span><span class="s1">!=c.height&amp;&amp;!c.boxSizing)</span><span class="s3">return </span><span class="s1">b=goog.style.getIePixelValue_(a,c.width,</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s2">&quot;pixelWidth&quot;</span><span class="s1">),a=goog.style.getIePixelValue_(a,c.height,</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s2">&quot;pixelHeight&quot;</span><span class="s1">),</span><span class="s3">new </span><span class="s1">goog.math.Size(b,a);c=goog.style.getBorderBoxSize(a);b=goog.style.getPaddingBox(a);a=goog.style.getBorderBox(a);</span><span class="s3">return new </span><span class="s1">goog.math.Size(c.width-a.left-</span>
<a name="l505"><span class="ln">505  </span></a><span class="s1">b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)};</span>
<a name="l506"><span class="ln">506  </span></a><span class="s1">goog.style.setContentBoxSize=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.dom.getOwnerDocument(a),d=goog.dom.getDomHelper(c).isCss1CompatMode();</span><span class="s3">if</span><span class="s1">(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;10&quot;</span><span class="s1">)||d&amp;&amp;goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;8&quot;</span><span class="s1">))goog.style.setBoxSizingSize_(a,b,</span><span class="s2">&quot;content-box&quot;</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">(c=a.style,d)c.pixelWidth=b.width,c.pixelHeight=b.height;</span><span class="s3">else</span><span class="s1">{d=goog.style.getPaddingBox(a);</span><span class="s3">var </span><span class="s1">e=goog.style.getBorderBox(a);c.pixelWidth=b.width+e.left+d.left+d.right+e.right;c.pixelHeight=b.height+e.top+d.top+d.bottom+</span>
<a name="l507"><span class="ln">507  </span></a><span class="s1">e.bottom}};goog.style.setBoxSizingSize_=</span><span class="s3">function</span><span class="s1">(a,b,c){a=a.style;goog.userAgent.GECKO?a.MozBoxSizing=c:goog.userAgent.WEBKIT?a.WebkitBoxSizing=c:a.boxSizing=c;a.width=Math.max(b.width,</span><span class="s4">0</span><span class="s1">)+</span><span class="s2">&quot;px&quot;</span><span class="s1">;a.height=Math.max(b.height,</span><span class="s4">0</span><span class="s1">)+</span><span class="s2">&quot;px&quot;</span><span class="s1">};goog.style.getIePixelValue_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(/^\d+px?$/.test(b))</span><span class="s3">return </span><span class="s1">parseInt(b,</span><span class="s4">10</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;</span><span class="s3">return</span><span class="s1">+b};</span>
<a name="l508"><span class="ln">508  </span></a><span class="s1">goog.style.getIePixelDistance_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.style.getCascadedStyle(a,b);</span><span class="s3">return </span><span class="s1">c?goog.style.getIePixelValue_(a,c,</span><span class="s2">&quot;left&quot;</span><span class="s1">,</span><span class="s2">&quot;pixelLeft&quot;</span><span class="s1">):</span><span class="s4">0</span><span class="s1">};</span>
<a name="l509"><span class="ln">509  </span></a><span class="s1">goog.style.getBox_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE){</span><span class="s3">var </span><span class="s1">c=goog.style.getIePixelDistance_(a,b+</span><span class="s2">&quot;Left&quot;</span><span class="s1">),d=goog.style.getIePixelDistance_(a,b+</span><span class="s2">&quot;Right&quot;</span><span class="s1">),e=goog.style.getIePixelDistance_(a,b+</span><span class="s2">&quot;Top&quot;</span><span class="s1">),f=goog.style.getIePixelDistance_(a,b+</span><span class="s2">&quot;Bottom&quot;</span><span class="s1">);</span><span class="s3">return new </span><span class="s1">goog.math.Box(e,d,f,c)}c=goog.style.getComputedStyle(a,b+</span><span class="s2">&quot;Left&quot;</span><span class="s1">);d=goog.style.getComputedStyle(a,b+</span><span class="s2">&quot;Right&quot;</span><span class="s1">);e=goog.style.getComputedStyle(a,b+</span><span class="s2">&quot;Top&quot;</span><span class="s1">);f=goog.style.getComputedStyle(a,b+</span><span class="s2">&quot;Bottom&quot;</span><span class="s1">);</span><span class="s3">return new </span><span class="s1">goog.math.Box(parseFloat(e),parseFloat(d),parseFloat(f),</span>
<a name="l510"><span class="ln">510  </span></a><span class="s1">parseFloat(c))};goog.style.getPaddingBox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getBox_(a,</span><span class="s2">&quot;padding&quot;</span><span class="s1">)};goog.style.getMarginBox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.style.getBox_(a,</span><span class="s2">&quot;margin&quot;</span><span class="s1">)};goog.style.ieBorderWidthKeywords_={thin:</span><span class="s4">2</span><span class="s1">,medium:</span><span class="s4">4</span><span class="s1">,thick:</span><span class="s4">6</span><span class="s1">};</span>
<a name="l511"><span class="ln">511  </span></a><span class="s1">goog.style.getIePixelBorder_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;none&quot;</span><span class="s1">==goog.style.getCascadedStyle(a,b+</span><span class="s2">&quot;Style&quot;</span><span class="s1">))</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=goog.style.getCascadedStyle(a,b+</span><span class="s2">&quot;Width&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c </span><span class="s3">in </span><span class="s1">goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[c]:goog.style.getIePixelValue_(a,c,</span><span class="s2">&quot;left&quot;</span><span class="s1">,</span><span class="s2">&quot;pixelLeft&quot;</span><span class="s1">)};</span>
<a name="l512"><span class="ln">512  </span></a><span class="s1">goog.style.getBorderBox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;!goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">b=goog.style.getIePixelBorder_(a,</span><span class="s2">&quot;borderLeft&quot;</span><span class="s1">),c=goog.style.getIePixelBorder_(a,</span><span class="s2">&quot;borderRight&quot;</span><span class="s1">),d=goog.style.getIePixelBorder_(a,</span><span class="s2">&quot;borderTop&quot;</span><span class="s1">);a=goog.style.getIePixelBorder_(a,</span><span class="s2">&quot;borderBottom&quot;</span><span class="s1">);</span><span class="s3">return new </span><span class="s1">goog.math.Box(d,c,a,b)}b=goog.style.getComputedStyle(a,</span><span class="s2">&quot;borderLeftWidth&quot;</span><span class="s1">);c=goog.style.getComputedStyle(a,</span><span class="s2">&quot;borderRightWidth&quot;</span><span class="s1">);d=goog.style.getComputedStyle(a,</span><span class="s2">&quot;borderTopWidth&quot;</span><span class="s1">);a=goog.style.getComputedStyle(a,</span>
<a name="l513"><span class="ln">513  </span></a><span class="s2">&quot;borderBottomWidth&quot;</span><span class="s1">);</span><span class="s3">return new </span><span class="s1">goog.math.Box(parseFloat(d),parseFloat(c),parseFloat(a),parseFloat(b))};goog.style.getFontFamily=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(a),c=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(b.body.createTextRange&amp;&amp;goog.dom.contains(b,a)){b=b.body.createTextRange();b.moveToElementText(a);</span><span class="s3">try</span><span class="s1">{c=b.queryCommandValue(</span><span class="s2">&quot;FontName&quot;</span><span class="s1">)}</span><span class="s3">catch</span><span class="s1">(d){c=</span><span class="s2">&quot;&quot;</span><span class="s1">}}c||(c=goog.style.getStyle_(a,</span><span class="s2">&quot;fontFamily&quot;</span><span class="s1">));a=c.split(</span><span class="s2">&quot;,&quot;</span><span class="s1">);</span><span class="s4">1</span><span class="s1">&lt;a.length&amp;&amp;(c=a[</span><span class="s4">0</span><span class="s1">]);</span><span class="s3">return </span><span class="s1">goog.string.stripQuotes(c,</span><span class="s2">&quot;</span><span class="s5">\&quot;</span><span class="s2">'&quot;</span><span class="s1">)};goog.style.lengthUnitRegex_=/[^\d]+$/;</span>
<a name="l514"><span class="ln">514  </span></a><span class="s1">goog.style.getLengthUnits=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=a.match(goog.style.lengthUnitRegex_))&amp;&amp;a[</span><span class="s4">0</span><span class="s1">]||</span><span class="s3">null</span><span class="s1">};goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:</span><span class="s4">1</span><span class="s1">,</span><span class="s2">&quot;in&quot;</span><span class="s1">:</span><span class="s4">1</span><span class="s1">,mm:</span><span class="s4">1</span><span class="s1">,pc:</span><span class="s4">1</span><span class="s1">,pt:</span><span class="s4">1</span><span class="s1">};goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:</span><span class="s4">1</span><span class="s1">,ex:</span><span class="s4">1</span><span class="s1">};</span>
<a name="l515"><span class="ln">515  </span></a><span class="s1">goog.style.getFontSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.style.getStyle_(a,</span><span class="s2">&quot;fontSize&quot;</span><span class="s1">),c=goog.style.getLengthUnits(b);</span><span class="s3">if</span><span class="s1">(b&amp;&amp;</span><span class="s2">&quot;px&quot;</span><span class="s1">==c)</span><span class="s3">return </span><span class="s1">parseInt(b,</span><span class="s4">10</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE){</span><span class="s3">if</span><span class="s1">(String(c)</span><span class="s3">in </span><span class="s1">goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)</span><span class="s3">return </span><span class="s1">goog.style.getIePixelValue_(a,b,</span><span class="s2">&quot;left&quot;</span><span class="s1">,</span><span class="s2">&quot;pixelLeft&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.parentNode&amp;&amp;a.parentNode.nodeType==goog.dom.NodeType.ELEMENT&amp;&amp;String(c)</span><span class="s3">in </span><span class="s1">goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)</span><span class="s3">return </span><span class="s1">a=a.parentNode,c=goog.style.getStyle_(a,</span><span class="s2">&quot;fontSize&quot;</span><span class="s1">),goog.style.getIePixelValue_(a,b==c?</span><span class="s2">&quot;1em&quot;</span><span class="s1">:b,</span>
<a name="l516"><span class="ln">516  </span></a><span class="s2">&quot;left&quot;</span><span class="s1">,</span><span class="s2">&quot;pixelLeft&quot;</span><span class="s1">)}c=goog.dom.createDom(</span><span class="s2">&quot;SPAN&quot;</span><span class="s1">,{style:</span><span class="s2">&quot;visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;&quot;</span><span class="s1">});goog.dom.appendChild(a,c);b=c.offsetHeight;goog.dom.removeNode(c);</span><span class="s3">return </span><span class="s1">b};goog.style.parseStyleAttribute=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b={};goog.array.forEach(a.split(/\s*;\s*/),</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">c=a.match(/\s*([\w-]+)\s*:(.+)/);c&amp;&amp;(a=c[</span><span class="s4">1</span><span class="s1">],c=goog.string.trim(c[</span><span class="s4">2</span><span class="s1">]),b[goog.string.toCamelCase(a.toLowerCase())]=c)});</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l517"><span class="ln">517  </span></a><span class="s1">goog.style.toStyleAttribute=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];goog.object.forEach(a,</span><span class="s3">function</span><span class="s1">(a,d){b.push(goog.string.toSelectorCase(d),</span><span class="s2">&quot;:&quot;</span><span class="s1">,a,</span><span class="s2">&quot;;&quot;</span><span class="s1">)});</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.style.setFloat=</span><span class="s3">function</span><span class="s1">(a,b){a.style[goog.userAgent.IE?</span><span class="s2">&quot;styleFloat&quot;</span><span class="s1">:</span><span class="s2">&quot;cssFloat&quot;</span><span class="s1">]=b};goog.style.getFloat=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.style[goog.userAgent.IE?</span><span class="s2">&quot;styleFloat&quot;</span><span class="s1">:</span><span class="s2">&quot;cssFloat&quot;</span><span class="s1">]||</span><span class="s2">&quot;&quot;</span><span class="s1">};</span>
<a name="l518"><span class="ln">518  </span></a><span class="s1">goog.style.getScrollbarWidth=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.dom.createElement(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">);a&amp;&amp;(b.className=a);b.style.cssText=</span><span class="s2">&quot;overflow:auto;position:absolute;top:0;width:100px;height:100px&quot;</span><span class="s1">;a=goog.dom.createElement(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">);goog.style.setSize(a,</span><span class="s2">&quot;200px&quot;</span><span class="s1">,</span><span class="s2">&quot;200px&quot;</span><span class="s1">);b.appendChild(a);goog.dom.appendChild(goog.dom.getDocument().body,b);a=b.offsetWidth-b.clientWidth;goog.dom.removeNode(b);</span><span class="s3">return </span><span class="s1">a};goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">\.\-]+, [</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">\.\-]+, [</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">\.\-]+, [</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">\.\-]+, ([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">\.\-]+)p?x?, ([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">\.\-]+)p?x?\)/;</span>
<a name="l519"><span class="ln">519  </span></a><span class="s1">goog.style.getCssTranslation=</span><span class="s3">function</span><span class="s1">(a){a=goog.style.getComputedTransform(a);</span><span class="s3">return </span><span class="s1">a?(a=a.match(goog.style.MATRIX_TRANSLATION_REGEX_))?</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(parseFloat(a[</span><span class="s4">1</span><span class="s1">]),parseFloat(a[</span><span class="s4">2</span><span class="s1">])):</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">):</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">)};goog.events.EventHandler=</span><span class="s3">function</span><span class="s1">(a){goog.Disposable.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.handler_=a;</span><span class="s3">this</span><span class="s1">.keys_={}};goog.inherits(goog.events.EventHandler,goog.Disposable);goog.events.EventHandler.typeArray_=[];goog.events.EventHandler.prototype.listen=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return this</span><span class="s1">.listen_(a,b,c,d)};goog.events.EventHandler.prototype.listenWithScope=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">return this</span><span class="s1">.listen_(a,b,c,d,e)};</span>
<a name="l520"><span class="ln">520  </span></a><span class="s1">goog.events.EventHandler.prototype.listen_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){goog.isArray(b)||(b&amp;&amp;(goog.events.EventHandler.typeArray_[</span><span class="s4">0</span><span class="s1">]=b.toString()),b=goog.events.EventHandler.typeArray_);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++){</span><span class="s3">var </span><span class="s1">g=goog.events.listen(a,b[f],c||</span><span class="s3">this</span><span class="s1">.handleEvent,d||!</span><span class="s4">1</span><span class="s1">,e||</span><span class="s3">this</span><span class="s1">.handler_||</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!g)</span><span class="s3">break</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.keys_[g.key]=g}</span><span class="s3">return this</span><span class="s1">};goog.events.EventHandler.prototype.listenOnce=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return this</span><span class="s1">.listenOnce_(a,b,c,d)};</span>
<a name="l521"><span class="ln">521  </span></a><span class="s1">goog.events.EventHandler.prototype.listenOnceWithScope=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">return this</span><span class="s1">.listenOnce_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenOnce_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">if</span><span class="s1">(goog.isArray(b))</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++)</span><span class="s3">this</span><span class="s1">.listenOnce_(a,b[f],c,d,e);</span><span class="s3">else</span><span class="s1">{a=goog.events.listenOnce(a,b,c||</span><span class="s3">this</span><span class="s1">.handleEvent,d,e||</span><span class="s3">this</span><span class="s1">.handler_||</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.keys_[a.key]=a}</span><span class="s3">return this</span><span class="s1">};goog.events.EventHandler.prototype.listenWithWrapper=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return this</span><span class="s1">.listenWithWrapper_(a,b,c,d)};</span>
<a name="l522"><span class="ln">522  </span></a><span class="s1">goog.events.EventHandler.prototype.listenWithWrapperAndScope=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">return this</span><span class="s1">.listenWithWrapper_(a,b,c,d,e)};goog.events.EventHandler.prototype.listenWithWrapper_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){b.listen(a,c,d,e||</span><span class="s3">this</span><span class="s1">.handler_||</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">);</span><span class="s3">return this</span><span class="s1">};goog.events.EventHandler.prototype.getListenerCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;</span><span class="s3">for</span><span class="s1">(b </span><span class="s3">in this</span><span class="s1">.keys_)Object.prototype.hasOwnProperty.call(</span><span class="s3">this</span><span class="s1">.keys_,b)&amp;&amp;a++;</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l523"><span class="ln">523  </span></a><span class="s1">goog.events.EventHandler.prototype.unlisten=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">if</span><span class="s1">(goog.isArray(b))</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;f++)</span><span class="s3">this</span><span class="s1">.unlisten(a,b[f],c,d,e);</span><span class="s3">else if</span><span class="s1">(d=goog.isObject(d)?!!d.capture:!!d,a=goog.events.getListener(a,b,c||</span><span class="s3">this</span><span class="s1">.handleEvent,d,e||</span><span class="s3">this</span><span class="s1">.handler_||</span><span class="s3">this</span><span class="s1">))goog.events.unlistenByKey(a),</span><span class="s3">delete this</span><span class="s1">.keys_[a.key];</span><span class="s3">return this</span><span class="s1">};goog.events.EventHandler.prototype.unlistenWithWrapper=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){b.unlisten(a,c,d,e||</span><span class="s3">this</span><span class="s1">.handler_||</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l524"><span class="ln">524  </span></a><span class="s1">goog.events.EventHandler.prototype.removeAll=</span><span class="s3">function</span><span class="s1">(){goog.object.forEach(</span><span class="s3">this</span><span class="s1">.keys_,</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.keys_.hasOwnProperty(b)&amp;&amp;goog.events.unlistenByKey(a)},</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.keys_={}};goog.events.EventHandler.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.events.EventHandler.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.removeAll()};goog.events.EventHandler.prototype.handleEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;EventHandler.handleEvent not implemented&quot;</span><span class="s1">);};goog.events.EventTarget=</span><span class="s3">function</span><span class="s1">(){goog.Disposable.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.eventTargetListeners_=</span><span class="s3">new </span><span class="s1">goog.events.ListenerMap(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.actualEventTarget_=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.parentEventTarget_=</span><span class="s3">null</span><span class="s1">};goog.inherits(goog.events.EventTarget,goog.Disposable);goog.events.Listenable.addImplementation(goog.events.EventTarget);goog.events.EventTarget.MAX_ANCESTORS_=</span><span class="s4">1</span><span class="s1">E3;goog.events.EventTarget.prototype.getParentEventTarget=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.parentEventTarget_};</span>
<a name="l525"><span class="ln">525  </span></a><span class="s1">goog.events.EventTarget.prototype.setParentEventTarget=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.parentEventTarget_=a};goog.events.EventTarget.prototype.addEventListener=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.events.listen(</span><span class="s3">this</span><span class="s1">,a,b,c,d)};goog.events.EventTarget.prototype.removeEventListener=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.events.unlisten(</span><span class="s3">this</span><span class="s1">,a,b,c,d)};</span>
<a name="l526"><span class="ln">526  </span></a><span class="s1">goog.events.EventTarget.prototype.dispatchEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.assertInitialized_();</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getParentEventTarget();</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">c=[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">1</span><span class="s1">;b;b=b.getParentEventTarget())c.push(b),goog.asserts.assert(++d&lt;goog.events.EventTarget.MAX_ANCESTORS_,</span><span class="s2">&quot;infinite loop&quot;</span><span class="s1">)}</span><span class="s3">return </span><span class="s1">goog.events.EventTarget.dispatchEventInternal_(</span><span class="s3">this</span><span class="s1">.actualEventTarget_,a,c)};</span>
<a name="l527"><span class="ln">527  </span></a><span class="s1">goog.events.EventTarget.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.events.EventTarget.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.removeAllListeners();</span><span class="s3">this</span><span class="s1">.parentEventTarget_=</span><span class="s3">null</span><span class="s1">};goog.events.EventTarget.prototype.listen=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.assertInitialized_();</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.add(String(a),b,!</span><span class="s4">1</span><span class="s1">,c,d)};goog.events.EventTarget.prototype.listenOnce=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.add(String(a),b,!</span><span class="s4">0</span><span class="s1">,c,d)};</span>
<a name="l528"><span class="ln">528  </span></a><span class="s1">goog.events.EventTarget.prototype.unlisten=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.remove(String(a),b,c,d)};goog.events.EventTarget.prototype.unlistenByKey=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.removeByKey(a)};goog.events.EventTarget.prototype.removeAllListeners=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_?</span><span class="s3">this</span><span class="s1">.eventTargetListeners_.removeAll(a):</span><span class="s4">0</span><span class="s1">};</span>
<a name="l529"><span class="ln">529  </span></a><span class="s1">goog.events.EventTarget.prototype.fireListeners=</span><span class="s3">function</span><span class="s1">(a,b,c){a=</span><span class="s3">this</span><span class="s1">.eventTargetListeners_.listeners[String(a)];</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;a=a.concat();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=!</span><span class="s4">0</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;++e){</span><span class="s3">var </span><span class="s1">f=a[e];</span><span class="s3">if</span><span class="s1">(f&amp;&amp;!f.removed&amp;&amp;f.capture==b){</span><span class="s3">var </span><span class="s1">g=f.listener,h=f.handler||f.src;f.callOnce&amp;&amp;</span><span class="s3">this</span><span class="s1">.unlistenByKey(f);d=!</span><span class="s4">1</span><span class="s1">!==g.call(h,c)&amp;&amp;d}}</span><span class="s3">return </span><span class="s1">d&amp;&amp;</span><span class="s4">0</span><span class="s1">!=c.returnValue_};goog.events.EventTarget.prototype.getListeners=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.getListeners(String(a),b)};</span>
<a name="l530"><span class="ln">530  </span></a><span class="s1">goog.events.EventTarget.prototype.getListener=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.getListener(String(a),b,c,d)};goog.events.EventTarget.prototype.hasListener=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.isDef(a)?String(a):</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">return this</span><span class="s1">.eventTargetListeners_.hasListener(c,b)};goog.events.EventTarget.prototype.setTargetForTesting=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.actualEventTarget_=a};goog.events.EventTarget.prototype.assertInitialized_=</span><span class="s3">function</span><span class="s1">(){goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.eventTargetListeners_,</span><span class="s2">&quot;Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?&quot;</span><span class="s1">)};</span>
<a name="l531"><span class="ln">531  </span></a><span class="s1">goog.events.EventTarget.dispatchEventInternal_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=b.type||b;</span><span class="s3">if</span><span class="s1">(goog.isString(b))b=</span><span class="s3">new </span><span class="s1">goog.events.Event(b,a);</span><span class="s3">else if</span><span class="s1">(b </span><span class="s3">instanceof </span><span class="s1">goog.events.Event)b.target=b.target||a;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=b;b=</span><span class="s3">new </span><span class="s1">goog.events.Event(d,a);goog.object.extend(b,e)}e=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=c.length-1;!b.propagationStopped_&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=f;f--){</span><span class="s3">var </span><span class="s1">g=b.currentTarget=c[f];e=g.fireListeners(d,!</span><span class="s4">0</span><span class="s1">,b)&amp;&amp;e}b.propagationStopped_||(g=b.currentTarget=a,e=g.fireListeners(d,!</span><span class="s4">0</span><span class="s1">,b)&amp;&amp;e,b.propagationStopped_||(e=g.fireListeners(d,!</span><span class="s4">1</span><span class="s1">,b)&amp;&amp;e));</span>
<a name="l532"><span class="ln">532  </span></a><span class="s3">if</span><span class="s1">(c)</span><span class="s3">for</span><span class="s1">(f=</span><span class="s4">0</span><span class="s1">;!b.propagationStopped_&amp;&amp;f&lt;c.length;f++)g=b.currentTarget=c[f],e=g.fireListeners(d,!</span><span class="s4">1</span><span class="s1">,b)&amp;&amp;e;</span><span class="s3">return </span><span class="s1">e};goog.ui={};goog.ui.IdGenerator=</span><span class="s3">function</span><span class="s1">(){};goog.addSingletonGetter(goog.ui.IdGenerator);goog.ui.IdGenerator.prototype.nextId_=</span><span class="s4">0</span><span class="s1">;goog.ui.IdGenerator.prototype.idPrefix_=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.ui.IdGenerator.prototype.setIdPrefix=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.idPrefix_=a};goog.ui.IdGenerator.prototype.getNextUniqueId=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.idPrefix_+</span><span class="s2">&quot;:&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.nextId_++).toString(</span><span class="s4">36</span><span class="s1">)};goog.ui.Component=</span><span class="s3">function</span><span class="s1">(a){goog.events.EventTarget.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.dom_=a||goog.dom.getDomHelper();</span><span class="s3">this</span><span class="s1">.rightToLeft_=goog.ui.Component.defaultRightToLeft_;</span><span class="s3">this</span><span class="s1">.id_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.inDocument_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.element_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.childIndex_=</span><span class="s3">this</span><span class="s1">.children_=</span><span class="s3">this</span><span class="s1">.parent_=</span><span class="s3">this</span><span class="s1">.model_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.pointerEventsEnabled_=</span><span class="s3">this</span><span class="s1">.wasDecorated_=!</span><span class="s4">1</span><span class="s1">};goog.inherits(goog.ui.Component,goog.events.EventTarget);goog.ui.Component.ALLOW_DETACHED_DECORATION=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l533"><span class="ln">533  </span></a><span class="s1">goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance();goog.ui.Component.DEFAULT_BIDI_DIR=</span><span class="s4">0</span><span class="s1">;goog.ui.Component.defaultRightToLeft_=</span><span class="s4">1</span><span class="s1">==goog.ui.Component.DEFAULT_BIDI_DIR?!</span><span class="s4">1</span><span class="s1">:-</span><span class="s4">1</span><span class="s1">==goog.ui.Component.DEFAULT_BIDI_DIR?!</span><span class="s4">0</span><span class="s1">:</span><span class="s3">null</span><span class="s1">;</span>
<a name="l534"><span class="ln">534  </span></a><span class="s1">goog.ui.Component.EventType={BEFORE_SHOW:</span><span class="s2">&quot;beforeshow&quot;</span><span class="s1">,SHOW:</span><span class="s2">&quot;show&quot;</span><span class="s1">,HIDE:</span><span class="s2">&quot;hide&quot;</span><span class="s1">,DISABLE:</span><span class="s2">&quot;disable&quot;</span><span class="s1">,ENABLE:</span><span class="s2">&quot;enable&quot;</span><span class="s1">,HIGHLIGHT:</span><span class="s2">&quot;highlight&quot;</span><span class="s1">,UNHIGHLIGHT:</span><span class="s2">&quot;unhighlight&quot;</span><span class="s1">,ACTIVATE:</span><span class="s2">&quot;activate&quot;</span><span class="s1">,DEACTIVATE:</span><span class="s2">&quot;deactivate&quot;</span><span class="s1">,SELECT:</span><span class="s2">&quot;select&quot;</span><span class="s1">,UNSELECT:</span><span class="s2">&quot;unselect&quot;</span><span class="s1">,CHECK:</span><span class="s2">&quot;check&quot;</span><span class="s1">,UNCHECK:</span><span class="s2">&quot;uncheck&quot;</span><span class="s1">,FOCUS:</span><span class="s2">&quot;focus&quot;</span><span class="s1">,BLUR:</span><span class="s2">&quot;blur&quot;</span><span class="s1">,OPEN:</span><span class="s2">&quot;open&quot;</span><span class="s1">,CLOSE:</span><span class="s2">&quot;close&quot;</span><span class="s1">,ENTER:</span><span class="s2">&quot;enter&quot;</span><span class="s1">,LEAVE:</span><span class="s2">&quot;leave&quot;</span><span class="s1">,ACTION:</span><span class="s2">&quot;action&quot;</span><span class="s1">,CHANGE:</span><span class="s2">&quot;change&quot;</span><span class="s1">};</span>
<a name="l535"><span class="ln">535  </span></a><span class="s1">goog.ui.Component.Error={NOT_SUPPORTED:</span><span class="s2">&quot;Method not supported&quot;</span><span class="s1">,DECORATE_INVALID:</span><span class="s2">&quot;Invalid element to decorate&quot;</span><span class="s1">,ALREADY_RENDERED:</span><span class="s2">&quot;Component already rendered&quot;</span><span class="s1">,PARENT_UNABLE_TO_BE_SET:</span><span class="s2">&quot;Unable to set parent component&quot;</span><span class="s1">,CHILD_INDEX_OUT_OF_BOUNDS:</span><span class="s2">&quot;Child component index out of bounds&quot;</span><span class="s1">,NOT_OUR_CHILD:</span><span class="s2">&quot;Child is not in parent component&quot;</span><span class="s1">,NOT_IN_DOCUMENT:</span><span class="s2">&quot;Operation not supported while component is not in document&quot;</span><span class="s1">,STATE_INVALID:</span><span class="s2">&quot;Invalid component state&quot;</span><span class="s1">};</span>
<a name="l536"><span class="ln">536  </span></a><span class="s1">goog.ui.Component.State={ALL:</span><span class="s4">255</span><span class="s1">,DISABLED:</span><span class="s4">1</span><span class="s1">,HOVER:</span><span class="s4">2</span><span class="s1">,ACTIVE:</span><span class="s4">4</span><span class="s1">,SELECTED:</span><span class="s4">8</span><span class="s1">,CHECKED:</span><span class="s4">16</span><span class="s1">,FOCUSED:</span><span class="s4">32</span><span class="s1">,OPENED:</span><span class="s4">64</span><span class="s1">};</span>
<a name="l537"><span class="ln">537  </span></a><span class="s1">goog.ui.Component.getStateTransitionEvent=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.DISABLED:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.HOVER:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.ACTIVE:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.SELECTED:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.SELECT:</span>
<a name="l538"><span class="ln">538  </span></a><span class="s1">goog.ui.Component.EventType.UNSELECT;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.CHECKED:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.FOCUSED:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.OPENED:</span><span class="s3">return </span><span class="s1">b?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.STATE_INVALID);};</span>
<a name="l539"><span class="ln">539  </span></a><span class="s1">goog.ui.Component.setDefaultRightToLeft=</span><span class="s3">function</span><span class="s1">(a){goog.ui.Component.defaultRightToLeft_=a};goog.ui.Component.prototype.getId=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.id_||(</span><span class="s3">this</span><span class="s1">.id_=</span><span class="s3">this</span><span class="s1">.idGenerator_.getNextUniqueId())};goog.ui.Component.prototype.setId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.parent_&amp;&amp;</span><span class="s3">this</span><span class="s1">.parent_.childIndex_&amp;&amp;(goog.object.remove(</span><span class="s3">this</span><span class="s1">.parent_.childIndex_,</span><span class="s3">this</span><span class="s1">.id_),goog.object.add(</span><span class="s3">this</span><span class="s1">.parent_.childIndex_,a,</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.id_=a};goog.ui.Component.prototype.getElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.element_};</span>
<a name="l540"><span class="ln">540  </span></a><span class="s1">goog.ui.Component.prototype.getElementStrict=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.element_;goog.asserts.assert(a,</span><span class="s2">&quot;Can not call getElementStrict before rendering/decorating.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};goog.ui.Component.prototype.setElementInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.element_=a};goog.ui.Component.prototype.getElementsByClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.element_?</span><span class="s3">this</span><span class="s1">.dom_.getElementsByClass(a,</span><span class="s3">this</span><span class="s1">.element_):[]};goog.ui.Component.prototype.getElementByClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.element_?</span><span class="s3">this</span><span class="s1">.dom_.getElementByClass(a,</span><span class="s3">this</span><span class="s1">.element_):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l541"><span class="ln">541  </span></a><span class="s1">goog.ui.Component.prototype.getRequiredElementByClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElementByClass(a);goog.asserts.assert(b,</span><span class="s2">&quot;Expected element in component with class: %s&quot;</span><span class="s1">,a);</span><span class="s3">return </span><span class="s1">b};goog.ui.Component.prototype.getHandler=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_||(</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_=</span><span class="s3">new </span><span class="s1">goog.events.EventHandler(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">return </span><span class="s1">goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_)};</span>
<a name="l542"><span class="ln">542  </span></a><span class="s1">goog.ui.Component.prototype.setParent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">==a)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);</span><span class="s3">if</span><span class="s1">(a&amp;&amp;</span><span class="s3">this</span><span class="s1">.parent_&amp;&amp;</span><span class="s3">this</span><span class="s1">.id_&amp;&amp;</span><span class="s3">this</span><span class="s1">.parent_.getChild(</span><span class="s3">this</span><span class="s1">.id_)&amp;&amp;</span><span class="s3">this</span><span class="s1">.parent_!=a)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);</span><span class="s3">this</span><span class="s1">.parent_=a;goog.ui.Component.superClass_.setParentEventTarget.call(</span><span class="s3">this</span><span class="s1">,a)};goog.ui.Component.prototype.getParent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.parent_};</span>
<a name="l543"><span class="ln">543  </span></a><span class="s1">goog.ui.Component.prototype.setParentEventTarget=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.parent_&amp;&amp;</span><span class="s3">this</span><span class="s1">.parent_!=a)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(</span><span class="s3">this</span><span class="s1">,a)};goog.ui.Component.prototype.getDomHelper=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.dom_};goog.ui.Component.prototype.isInDocument=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.inDocument_};goog.ui.Component.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.element_=</span><span class="s3">this</span><span class="s1">.dom_.createElement(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">)};goog.ui.Component.prototype.render=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.render_(a)};</span>
<a name="l544"><span class="ln">544  </span></a><span class="s1">goog.ui.Component.prototype.renderBefore=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.render_(a.parentNode,a)};goog.ui.Component.prototype.render_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inDocument_)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">this</span><span class="s1">.element_||</span><span class="s3">this</span><span class="s1">.createDom();a?a.insertBefore(</span><span class="s3">this</span><span class="s1">.element_,b||</span><span class="s3">null</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.dom_.getDocument().body.appendChild(</span><span class="s3">this</span><span class="s1">.element_);</span><span class="s3">this</span><span class="s1">.parent_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.parent_.isInDocument()||</span><span class="s3">this</span><span class="s1">.enterDocument()};</span>
<a name="l545"><span class="ln">545  </span></a><span class="s1">goog.ui.Component.prototype.decorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inDocument_)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">if</span><span class="s1">(a&amp;&amp;</span><span class="s3">this</span><span class="s1">.canDecorate(a)){</span><span class="s3">this</span><span class="s1">.wasDecorated_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(a);</span><span class="s3">this</span><span class="s1">.dom_&amp;&amp;</span><span class="s3">this</span><span class="s1">.dom_.getDocument()==b||(</span><span class="s3">this</span><span class="s1">.dom_=goog.dom.getDomHelper(a));</span><span class="s3">this</span><span class="s1">.decorateInternal(a);goog.ui.Component.ALLOW_DETACHED_DECORATION&amp;&amp;!goog.dom.contains(b,a)||</span><span class="s3">this</span><span class="s1">.enterDocument()}</span><span class="s3">else throw </span><span class="s1">Error(goog.ui.Component.Error.DECORATE_INVALID);};goog.ui.Component.prototype.canDecorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l546"><span class="ln">546  </span></a><span class="s1">goog.ui.Component.prototype.wasDecorated=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.wasDecorated_};goog.ui.Component.prototype.decorateInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.element_=a};goog.ui.Component.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.inDocument_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){!a.isInDocument()&amp;&amp;a.getElement()&amp;&amp;a.enterDocument()})};</span>
<a name="l547"><span class="ln">547  </span></a><span class="s1">goog.ui.Component.prototype.exitDocument=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.isInDocument()&amp;&amp;a.exitDocument()});</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_&amp;&amp;</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_.removeAll();</span><span class="s3">this</span><span class="s1">.inDocument_=!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l548"><span class="ln">548  </span></a><span class="s1">goog.ui.Component.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.inDocument_&amp;&amp;</span><span class="s3">this</span><span class="s1">.exitDocument();</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.googUiComponentHandler_.dispose(),</span><span class="s3">delete this</span><span class="s1">.googUiComponentHandler_);</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.dispose()});!</span><span class="s3">this</span><span class="s1">.wasDecorated_&amp;&amp;</span><span class="s3">this</span><span class="s1">.element_&amp;&amp;goog.dom.removeNode(</span><span class="s3">this</span><span class="s1">.element_);</span><span class="s3">this</span><span class="s1">.parent_=</span><span class="s3">this</span><span class="s1">.model_=</span><span class="s3">this</span><span class="s1">.element_=</span><span class="s3">this</span><span class="s1">.childIndex_=</span><span class="s3">this</span><span class="s1">.children_=</span><span class="s3">null</span><span class="s1">;goog.ui.Component.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l549"><span class="ln">549  </span></a><span class="s1">goog.ui.Component.prototype.makeId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.getId()+</span><span class="s2">&quot;.&quot;</span><span class="s1">+a};goog.ui.Component.prototype.makeIds=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b={},c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a)b[c]=</span><span class="s3">this</span><span class="s1">.makeId(a[c]);</span><span class="s3">return </span><span class="s1">b};goog.ui.Component.prototype.getModel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.model_};goog.ui.Component.prototype.setModel=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.model_=a};goog.ui.Component.prototype.getFragmentFromId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.substring(</span><span class="s3">this</span><span class="s1">.getId().length+</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l550"><span class="ln">550  </span></a><span class="s1">goog.ui.Component.prototype.getElementByFragment=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.inDocument_)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);</span><span class="s3">return this</span><span class="s1">.dom_.getElement(</span><span class="s3">this</span><span class="s1">.makeId(a))};goog.ui.Component.prototype.addChild=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.addChildAt(a,</span><span class="s3">this</span><span class="s1">.getChildCount(),b)};</span>
<a name="l551"><span class="ln">551  </span></a><span class="s1">goog.ui.Component.prototype.addChildAt=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(!!a,</span><span class="s2">&quot;Provided element must not be null.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.inDocument_&amp;&amp;(c||!</span><span class="s3">this</span><span class="s1">.inDocument_))</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;b||b&gt;</span><span class="s3">this</span><span class="s1">.getChildCount())</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);</span><span class="s3">this</span><span class="s1">.childIndex_&amp;&amp;</span><span class="s3">this</span><span class="s1">.children_||(</span><span class="s3">this</span><span class="s1">.childIndex_={},</span><span class="s3">this</span><span class="s1">.children_=[]);a.getParent()==</span><span class="s3">this</span><span class="s1">?(goog.object.set(</span><span class="s3">this</span><span class="s1">.childIndex_,a.getId(),a),goog.array.remove(</span><span class="s3">this</span><span class="s1">.children_,a)):goog.object.add(</span><span class="s3">this</span><span class="s1">.childIndex_,</span>
<a name="l552"><span class="ln">552  </span></a><span class="s1">a.getId(),a);a.setParent(</span><span class="s3">this</span><span class="s1">);goog.array.insertAt(</span><span class="s3">this</span><span class="s1">.children_,a,b);a.inDocument_&amp;&amp;</span><span class="s3">this</span><span class="s1">.inDocument_&amp;&amp;a.getParent()==</span><span class="s3">this</span><span class="s1">?(c=</span><span class="s3">this</span><span class="s1">.getContentElement(),b=c.childNodes[b]||</span><span class="s3">null</span><span class="s1">,b!=a.getElement()&amp;&amp;c.insertBefore(a.getElement(),b)):c?(</span><span class="s3">this</span><span class="s1">.element_||</span><span class="s3">this</span><span class="s1">.createDom(),b=</span><span class="s3">this</span><span class="s1">.getChildAt(b+</span><span class="s4">1</span><span class="s1">),a.render_(</span><span class="s3">this</span><span class="s1">.getContentElement(),b?b.element_:</span><span class="s3">null</span><span class="s1">)):</span><span class="s3">this</span><span class="s1">.inDocument_&amp;&amp;!a.inDocument_&amp;&amp;a.element_&amp;&amp;a.element_.parentNode&amp;&amp;a.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&amp;&amp;a.enterDocument()};</span>
<a name="l553"><span class="ln">553  </span></a><span class="s1">goog.ui.Component.prototype.getContentElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.element_};goog.ui.Component.prototype.isRightToLeft=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">null</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.rightToLeft_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.rightToLeft_=goog.style.isRightToLeft(</span><span class="s3">this</span><span class="s1">.inDocument_?</span><span class="s3">this</span><span class="s1">.element_:</span><span class="s3">this</span><span class="s1">.dom_.getDocument().body));</span><span class="s3">return this</span><span class="s1">.rightToLeft_};goog.ui.Component.prototype.setRightToLeft=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inDocument_)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">this</span><span class="s1">.rightToLeft_=a};</span>
<a name="l554"><span class="ln">554  </span></a><span class="s1">goog.ui.Component.prototype.hasChildren=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.children_&amp;&amp;</span><span class="s4">0</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.children_.length};goog.ui.Component.prototype.getChildCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.children_?</span><span class="s3">this</span><span class="s1">.children_.length:</span><span class="s4">0</span><span class="s1">};goog.ui.Component.prototype.getChildIds=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(b){a.push(b.getId())});</span><span class="s3">return </span><span class="s1">a};goog.ui.Component.prototype.getChild=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.childIndex_&amp;&amp;a?goog.object.get(</span><span class="s3">this</span><span class="s1">.childIndex_,a)||</span><span class="s3">null</span><span class="s1">:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l555"><span class="ln">555  </span></a><span class="s1">goog.ui.Component.prototype.getChildAt=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.children_?</span><span class="s3">this</span><span class="s1">.children_[a]||</span><span class="s3">null</span><span class="s1">:</span><span class="s3">null</span><span class="s1">};goog.ui.Component.prototype.forEachChild=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.children_&amp;&amp;goog.array.forEach(</span><span class="s3">this</span><span class="s1">.children_,a,b)};goog.ui.Component.prototype.indexOfChild=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.children_&amp;&amp;a?goog.array.indexOf(</span><span class="s3">this</span><span class="s1">.children_,a):-</span><span class="s4">1</span><span class="s1">};</span>
<a name="l556"><span class="ln">556  </span></a><span class="s1">goog.ui.Component.prototype.removeChild=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">c=goog.isString(a)?a:a.getId();a=</span><span class="s3">this</span><span class="s1">.getChild(c);c&amp;&amp;a&amp;&amp;(goog.object.remove(</span><span class="s3">this</span><span class="s1">.childIndex_,c),goog.array.remove(</span><span class="s3">this</span><span class="s1">.children_,a),b&amp;&amp;(a.exitDocument(),a.element_&amp;&amp;goog.dom.removeNode(a.element_)),a.setParent(</span><span class="s3">null</span><span class="s1">))}</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.NOT_OUR_CHILD);</span><span class="s3">return </span><span class="s1">a};goog.ui.Component.prototype.removeChildAt=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return this</span><span class="s1">.removeChild(</span><span class="s3">this</span><span class="s1">.getChildAt(a),b)};</span>
<a name="l557"><span class="ln">557  </span></a><span class="s1">goog.ui.Component.prototype.removeChildren=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">this</span><span class="s1">.hasChildren();)b.push(</span><span class="s3">this</span><span class="s1">.removeChildAt(</span><span class="s4">0</span><span class="s1">,a));</span><span class="s3">return </span><span class="s1">b};goog.ui.Component.prototype.pointerEventsEnabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.pointerEventsEnabled_};goog.ui.Component.prototype.setPointerEventsEnabled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inDocument_)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">this</span><span class="s1">.pointerEventsEnabled_=a};goog.a11y={};goog.a11y.aria={};</span>
<a name="l558"><span class="ln">558  </span></a><span class="s1">goog.a11y.aria.Role={ALERT:</span><span class="s2">&quot;alert&quot;</span><span class="s1">,ALERTDIALOG:</span><span class="s2">&quot;alertdialog&quot;</span><span class="s1">,APPLICATION:</span><span class="s2">&quot;application&quot;</span><span class="s1">,ARTICLE:</span><span class="s2">&quot;article&quot;</span><span class="s1">,BANNER:</span><span class="s2">&quot;banner&quot;</span><span class="s1">,BUTTON:</span><span class="s2">&quot;button&quot;</span><span class="s1">,CHECKBOX:</span><span class="s2">&quot;checkbox&quot;</span><span class="s1">,COLUMNHEADER:</span><span class="s2">&quot;columnheader&quot;</span><span class="s1">,COMBOBOX:</span><span class="s2">&quot;combobox&quot;</span><span class="s1">,COMPLEMENTARY:</span><span class="s2">&quot;complementary&quot;</span><span class="s1">,CONTENTINFO:</span><span class="s2">&quot;contentinfo&quot;</span><span class="s1">,DEFINITION:</span><span class="s2">&quot;definition&quot;</span><span class="s1">,DIALOG:</span><span class="s2">&quot;dialog&quot;</span><span class="s1">,DIRECTORY:</span><span class="s2">&quot;directory&quot;</span><span class="s1">,DOCUMENT:</span><span class="s2">&quot;document&quot;</span><span class="s1">,FORM:</span><span class="s2">&quot;form&quot;</span><span class="s1">,GRID:</span><span class="s2">&quot;grid&quot;</span><span class="s1">,GRIDCELL:</span><span class="s2">&quot;gridcell&quot;</span><span class="s1">,GROUP:</span><span class="s2">&quot;group&quot;</span><span class="s1">,HEADING:</span><span class="s2">&quot;heading&quot;</span><span class="s1">,IMG:</span><span class="s2">&quot;img&quot;</span><span class="s1">,LINK:</span><span class="s2">&quot;link&quot;</span><span class="s1">,LIST:</span><span class="s2">&quot;list&quot;</span><span class="s1">,LISTBOX:</span><span class="s2">&quot;listbox&quot;</span><span class="s1">,LISTITEM:</span><span class="s2">&quot;listitem&quot;</span><span class="s1">,LOG:</span><span class="s2">&quot;log&quot;</span><span class="s1">,</span>
<a name="l559"><span class="ln">559  </span></a><span class="s1">MAIN:</span><span class="s2">&quot;main&quot;</span><span class="s1">,MARQUEE:</span><span class="s2">&quot;marquee&quot;</span><span class="s1">,MATH:</span><span class="s2">&quot;math&quot;</span><span class="s1">,MENU:</span><span class="s2">&quot;menu&quot;</span><span class="s1">,MENUBAR:</span><span class="s2">&quot;menubar&quot;</span><span class="s1">,MENU_ITEM:</span><span class="s2">&quot;menuitem&quot;</span><span class="s1">,MENU_ITEM_CHECKBOX:</span><span class="s2">&quot;menuitemcheckbox&quot;</span><span class="s1">,MENU_ITEM_RADIO:</span><span class="s2">&quot;menuitemradio&quot;</span><span class="s1">,NAVIGATION:</span><span class="s2">&quot;navigation&quot;</span><span class="s1">,NOTE:</span><span class="s2">&quot;note&quot;</span><span class="s1">,OPTION:</span><span class="s2">&quot;option&quot;</span><span class="s1">,PRESENTATION:</span><span class="s2">&quot;presentation&quot;</span><span class="s1">,PROGRESSBAR:</span><span class="s2">&quot;progressbar&quot;</span><span class="s1">,RADIO:</span><span class="s2">&quot;radio&quot;</span><span class="s1">,RADIOGROUP:</span><span class="s2">&quot;radiogroup&quot;</span><span class="s1">,REGION:</span><span class="s2">&quot;region&quot;</span><span class="s1">,ROW:</span><span class="s2">&quot;row&quot;</span><span class="s1">,ROWGROUP:</span><span class="s2">&quot;rowgroup&quot;</span><span class="s1">,ROWHEADER:</span><span class="s2">&quot;rowheader&quot;</span><span class="s1">,SCROLLBAR:</span><span class="s2">&quot;scrollbar&quot;</span><span class="s1">,SEARCH:</span><span class="s2">&quot;search&quot;</span><span class="s1">,SEPARATOR:</span><span class="s2">&quot;separator&quot;</span><span class="s1">,SLIDER:</span><span class="s2">&quot;slider&quot;</span><span class="s1">,SPINBUTTON:</span><span class="s2">&quot;spinbutton&quot;</span><span class="s1">,STATUS:</span><span class="s2">&quot;status&quot;</span><span class="s1">,TAB:</span><span class="s2">&quot;tab&quot;</span><span class="s1">,</span>
<a name="l560"><span class="ln">560  </span></a><span class="s1">TAB_LIST:</span><span class="s2">&quot;tablist&quot;</span><span class="s1">,TAB_PANEL:</span><span class="s2">&quot;tabpanel&quot;</span><span class="s1">,TEXTBOX:</span><span class="s2">&quot;textbox&quot;</span><span class="s1">,TEXTINFO:</span><span class="s2">&quot;textinfo&quot;</span><span class="s1">,TIMER:</span><span class="s2">&quot;timer&quot;</span><span class="s1">,TOOLBAR:</span><span class="s2">&quot;toolbar&quot;</span><span class="s1">,TOOLTIP:</span><span class="s2">&quot;tooltip&quot;</span><span class="s1">,TREE:</span><span class="s2">&quot;tree&quot;</span><span class="s1">,TREEGRID:</span><span class="s2">&quot;treegrid&quot;</span><span class="s1">,TREEITEM:</span><span class="s2">&quot;treeitem&quot;</span><span class="s1">};goog.a11y.aria.State={ACTIVEDESCENDANT:</span><span class="s2">&quot;activedescendant&quot;</span><span class="s1">,ATOMIC:</span><span class="s2">&quot;atomic&quot;</span><span class="s1">,AUTOCOMPLETE:</span><span class="s2">&quot;autocomplete&quot;</span><span class="s1">,BUSY:</span><span class="s2">&quot;busy&quot;</span><span class="s1">,CHECKED:</span><span class="s2">&quot;checked&quot;</span><span class="s1">,COLINDEX:</span><span class="s2">&quot;colindex&quot;</span><span class="s1">,CONTROLS:</span><span class="s2">&quot;controls&quot;</span><span class="s1">,DESCRIBEDBY:</span><span class="s2">&quot;describedby&quot;</span><span class="s1">,DISABLED:</span><span class="s2">&quot;disabled&quot;</span><span class="s1">,DROPEFFECT:</span><span class="s2">&quot;dropeffect&quot;</span><span class="s1">,EXPANDED:</span><span class="s2">&quot;expanded&quot;</span><span class="s1">,FLOWTO:</span><span class="s2">&quot;flowto&quot;</span><span class="s1">,GRABBED:</span><span class="s2">&quot;grabbed&quot;</span><span class="s1">,HASPOPUP:</span><span class="s2">&quot;haspopup&quot;</span><span class="s1">,HIDDEN:</span><span class="s2">&quot;hidden&quot;</span><span class="s1">,INVALID:</span><span class="s2">&quot;invalid&quot;</span><span class="s1">,LABEL:</span><span class="s2">&quot;label&quot;</span><span class="s1">,LABELLEDBY:</span><span class="s2">&quot;labelledby&quot;</span><span class="s1">,LEVEL:</span><span class="s2">&quot;level&quot;</span><span class="s1">,LIVE:</span><span class="s2">&quot;live&quot;</span><span class="s1">,MULTILINE:</span><span class="s2">&quot;multiline&quot;</span><span class="s1">,MULTISELECTABLE:</span><span class="s2">&quot;multiselectable&quot;</span><span class="s1">,ORIENTATION:</span><span class="s2">&quot;orientation&quot;</span><span class="s1">,OWNS:</span><span class="s2">&quot;owns&quot;</span><span class="s1">,</span>
<a name="l561"><span class="ln">561  </span></a><span class="s1">POSINSET:</span><span class="s2">&quot;posinset&quot;</span><span class="s1">,PRESSED:</span><span class="s2">&quot;pressed&quot;</span><span class="s1">,READONLY:</span><span class="s2">&quot;readonly&quot;</span><span class="s1">,RELEVANT:</span><span class="s2">&quot;relevant&quot;</span><span class="s1">,REQUIRED:</span><span class="s2">&quot;required&quot;</span><span class="s1">,ROWINDEX:</span><span class="s2">&quot;rowindex&quot;</span><span class="s1">,SELECTED:</span><span class="s2">&quot;selected&quot;</span><span class="s1">,SETSIZE:</span><span class="s2">&quot;setsize&quot;</span><span class="s1">,SORT:</span><span class="s2">&quot;sort&quot;</span><span class="s1">,VALUEMAX:</span><span class="s2">&quot;valuemax&quot;</span><span class="s1">,VALUEMIN:</span><span class="s2">&quot;valuemin&quot;</span><span class="s1">,VALUENOW:</span><span class="s2">&quot;valuenow&quot;</span><span class="s1">,VALUETEXT:</span><span class="s2">&quot;valuetext&quot;</span><span class="s1">};goog.a11y.aria.AutoCompleteValues={INLINE:</span><span class="s2">&quot;inline&quot;</span><span class="s1">,LIST:</span><span class="s2">&quot;list&quot;</span><span class="s1">,BOTH:</span><span class="s2">&quot;both&quot;</span><span class="s1">,NONE:</span><span class="s2">&quot;none&quot;</span><span class="s1">};goog.a11y.aria.DropEffectValues={COPY:</span><span class="s2">&quot;copy&quot;</span><span class="s1">,MOVE:</span><span class="s2">&quot;move&quot;</span><span class="s1">,LINK:</span><span class="s2">&quot;link&quot;</span><span class="s1">,EXECUTE:</span><span class="s2">&quot;execute&quot;</span><span class="s1">,POPUP:</span><span class="s2">&quot;popup&quot;</span><span class="s1">,NONE:</span><span class="s2">&quot;none&quot;</span><span class="s1">};</span>
<a name="l562"><span class="ln">562  </span></a><span class="s1">goog.a11y.aria.LivePriority={OFF:</span><span class="s2">&quot;off&quot;</span><span class="s1">,POLITE:</span><span class="s2">&quot;polite&quot;</span><span class="s1">,ASSERTIVE:</span><span class="s2">&quot;assertive&quot;</span><span class="s1">};goog.a11y.aria.OrientationValues={VERTICAL:</span><span class="s2">&quot;vertical&quot;</span><span class="s1">,HORIZONTAL:</span><span class="s2">&quot;horizontal&quot;</span><span class="s1">};goog.a11y.aria.RelevantValues={ADDITIONS:</span><span class="s2">&quot;additions&quot;</span><span class="s1">,REMOVALS:</span><span class="s2">&quot;removals&quot;</span><span class="s1">,TEXT:</span><span class="s2">&quot;text&quot;</span><span class="s1">,ALL:</span><span class="s2">&quot;all&quot;</span><span class="s1">};goog.a11y.aria.SortValues={ASCENDING:</span><span class="s2">&quot;ascending&quot;</span><span class="s1">,DESCENDING:</span><span class="s2">&quot;descending&quot;</span><span class="s1">,NONE:</span><span class="s2">&quot;none&quot;</span><span class="s1">,OTHER:</span><span class="s2">&quot;other&quot;</span><span class="s1">};goog.a11y.aria.CheckedValues={TRUE:</span><span class="s2">&quot;true&quot;</span><span class="s1">,FALSE:</span><span class="s2">&quot;false&quot;</span><span class="s1">,MIXED:</span><span class="s2">&quot;mixed&quot;</span><span class="s1">,UNDEFINED:</span><span class="s2">&quot;undefined&quot;</span><span class="s1">};</span>
<a name="l563"><span class="ln">563  </span></a><span class="s1">goog.a11y.aria.ExpandedValues={TRUE:</span><span class="s2">&quot;true&quot;</span><span class="s1">,FALSE:</span><span class="s2">&quot;false&quot;</span><span class="s1">,UNDEFINED:</span><span class="s2">&quot;undefined&quot;</span><span class="s1">};goog.a11y.aria.GrabbedValues={TRUE:</span><span class="s2">&quot;true&quot;</span><span class="s1">,FALSE:</span><span class="s2">&quot;false&quot;</span><span class="s1">,UNDEFINED:</span><span class="s2">&quot;undefined&quot;</span><span class="s1">};goog.a11y.aria.InvalidValues={FALSE:</span><span class="s2">&quot;false&quot;</span><span class="s1">,TRUE:</span><span class="s2">&quot;true&quot;</span><span class="s1">,GRAMMAR:</span><span class="s2">&quot;grammar&quot;</span><span class="s1">,SPELLING:</span><span class="s2">&quot;spelling&quot;</span><span class="s1">};goog.a11y.aria.PressedValues={TRUE:</span><span class="s2">&quot;true&quot;</span><span class="s1">,FALSE:</span><span class="s2">&quot;false&quot;</span><span class="s1">,MIXED:</span><span class="s2">&quot;mixed&quot;</span><span class="s1">,UNDEFINED:</span><span class="s2">&quot;undefined&quot;</span><span class="s1">};goog.a11y.aria.SelectedValues={TRUE:</span><span class="s2">&quot;true&quot;</span><span class="s1">,FALSE:</span><span class="s2">&quot;false&quot;</span><span class="s1">,UNDEFINED:</span><span class="s2">&quot;undefined&quot;</span><span class="s1">};goog.a11y.aria.datatables={};</span>
<a name="l564"><span class="ln">564  </span></a><span class="s1">goog.a11y.aria.datatables.getDefaultValuesMap=</span><span class="s3">function</span><span class="s1">(){goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.AUTOCOMPLETE,</span><span class="s2">&quot;none&quot;</span><span class="s1">,goog.a11y.aria.State.DROPEFFECT,</span><span class="s2">&quot;none&quot;</span><span class="s1">,goog.a11y.aria.State.HASPOPUP,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.LIVE,</span><span class="s2">&quot;off&quot;</span><span class="s1">,goog.a11y.aria.State.MULTILINE,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.MULTISELECTABLE,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.ORIENTATION,</span><span class="s2">&quot;vertical&quot;</span><span class="s1">,goog.a11y.aria.State.READONLY,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.RELEVANT,</span>
<a name="l565"><span class="ln">565  </span></a><span class="s2">&quot;additions text&quot;</span><span class="s1">,goog.a11y.aria.State.REQUIRED,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.SORT,</span><span class="s2">&quot;none&quot;</span><span class="s1">,goog.a11y.aria.State.BUSY,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.DISABLED,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.HIDDEN,!</span><span class="s4">1</span><span class="s1">,goog.a11y.aria.State.INVALID,</span><span class="s2">&quot;false&quot;</span><span class="s1">));</span><span class="s3">return </span><span class="s1">goog.a11y.aria.DefaultStateValueMap_};goog.a11y.aria.ARIA_PREFIX_=</span><span class="s2">&quot;aria-&quot;</span><span class="s1">;goog.a11y.aria.ROLE_ATTRIBUTE_=</span><span class="s2">&quot;role&quot;</span><span class="s1">;goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=goog.object.createSet(</span><span class="s2">&quot;A AREA BUTTON HEAD INPUT LINK MENU META OPTGROUP OPTION PROGRESS STYLE SELECT SOURCE TEXTAREA TITLE TRACK&quot;</span><span class="s1">.split(</span><span class="s2">&quot; &quot;</span><span class="s1">));</span>
<a name="l566"><span class="ln">566  </span></a><span class="s1">goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID];</span>
<a name="l567"><span class="ln">567  </span></a><span class="s1">goog.a11y.aria.setRole=</span><span class="s3">function</span><span class="s1">(a,b){b?(goog.asserts.ENABLE_ASSERTS&amp;&amp;goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,b),</span><span class="s2">&quot;No such ARIA role &quot;</span><span class="s1">+b),a.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,b)):goog.a11y.aria.removeRole(a)};goog.a11y.aria.getRole=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||</span><span class="s3">null</span><span class="s1">};goog.a11y.aria.removeRole=</span><span class="s3">function</span><span class="s1">(a){a.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)};</span>
<a name="l568"><span class="ln">568  </span></a><span class="s1">goog.a11y.aria.setState=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.isArray(c)&amp;&amp;(c=c.join(</span><span class="s2">&quot; &quot;</span><span class="s1">));</span><span class="s3">var </span><span class="s1">d=goog.a11y.aria.getAriaAttributeName_(b);</span><span class="s2">&quot;&quot;</span><span class="s1">===c||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==c?(c=goog.a11y.aria.datatables.getDefaultValuesMap(),b </span><span class="s3">in </span><span class="s1">c?a.setAttribute(d,c[b]):a.removeAttribute(d)):a.setAttribute(d,c)};goog.a11y.aria.toggleState=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.a11y.aria.getState(a,b);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(c))||</span><span class="s2">&quot;true&quot;</span><span class="s1">==c||</span><span class="s2">&quot;false&quot;</span><span class="s1">==c?goog.a11y.aria.setState(a,b,</span><span class="s2">&quot;true&quot;</span><span class="s1">==c?</span><span class="s2">&quot;false&quot;</span><span class="s1">:</span><span class="s2">&quot;true&quot;</span><span class="s1">):goog.a11y.aria.removeState(a,b)};</span>
<a name="l569"><span class="ln">569  </span></a><span class="s1">goog.a11y.aria.removeState=</span><span class="s3">function</span><span class="s1">(a,b){a.removeAttribute(goog.a11y.aria.getAriaAttributeName_(b))};goog.a11y.aria.getState=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));</span><span class="s3">return null</span><span class="s1">==c||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==c?</span><span class="s2">&quot;&quot;</span><span class="s1">:String(c)};goog.a11y.aria.getActiveDescendant=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.a11y.aria.getState(a,goog.a11y.aria.State.ACTIVEDESCENDANT);</span><span class="s3">return </span><span class="s1">goog.dom.getOwnerDocument(a).getElementById(b)};</span>
<a name="l570"><span class="ln">570  </span></a><span class="s1">goog.a11y.aria.setActiveDescendant=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;&quot;</span><span class="s1">;b&amp;&amp;(c=b.id,goog.asserts.assert(c,</span><span class="s2">&quot;The active element should have an id.&quot;</span><span class="s1">));goog.a11y.aria.setState(a,goog.a11y.aria.State.ACTIVEDESCENDANT,c)};goog.a11y.aria.getLabel=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.a11y.aria.getState(a,goog.a11y.aria.State.LABEL)};goog.a11y.aria.setLabel=</span><span class="s3">function</span><span class="s1">(a,b){goog.a11y.aria.setState(a,goog.a11y.aria.State.LABEL,b)};</span>
<a name="l571"><span class="ln">571  </span></a><span class="s1">goog.a11y.aria.assertRoleIsSetInternalUtil=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_[a.tagName]){</span><span class="s3">var </span><span class="s1">c=goog.a11y.aria.getRole(a);goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=c,</span><span class="s2">&quot;The element ARIA role cannot be null.&quot;</span><span class="s1">);goog.asserts.assert(goog.array.contains(b,c),</span><span class="s2">'Non existing or incorrect role set for element.The role set is &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot;. The role should be any of &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot;. Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.'</span><span class="s1">)}};</span>
<a name="l572"><span class="ln">572  </span></a><span class="s1">goog.a11y.aria.getStateBoolean=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert(goog.isBoolean(c)||</span><span class="s3">null</span><span class="s1">==c||</span><span class="s2">&quot;true&quot;</span><span class="s1">==c||</span><span class="s2">&quot;false&quot;</span><span class="s1">==c);</span><span class="s3">return null</span><span class="s1">==c?c:goog.isBoolean(c)?c:</span><span class="s2">&quot;true&quot;</span><span class="s1">==c};goog.a11y.aria.getStateNumber=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert((</span><span class="s3">null</span><span class="s1">==c||!isNaN(Number(c)))&amp;&amp;!goog.isBoolean(c));</span><span class="s3">return null</span><span class="s1">==c?</span><span class="s3">null</span><span class="s1">:Number(c)};</span>
<a name="l573"><span class="ln">573  </span></a><span class="s1">goog.a11y.aria.getStateString=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));goog.asserts.assert((</span><span class="s3">null</span><span class="s1">==c||goog.isString(c))&amp;&amp;(</span><span class="s2">&quot;&quot;</span><span class="s1">==c||isNaN(Number(c)))&amp;&amp;</span><span class="s2">&quot;true&quot;</span><span class="s1">!=c&amp;&amp;</span><span class="s2">&quot;false&quot;</span><span class="s1">!=c);</span><span class="s3">return null</span><span class="s1">==c||</span><span class="s2">&quot;&quot;</span><span class="s1">==c?</span><span class="s3">null</span><span class="s1">:c};goog.a11y.aria.getStringArrayStateInternalUtil=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(goog.a11y.aria.getAriaAttributeName_(b));</span><span class="s3">return </span><span class="s1">goog.a11y.aria.splitStringOnWhitespace_(c)};goog.a11y.aria.hasState=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.hasAttribute(goog.a11y.aria.getAriaAttributeName_(b))};</span>
<a name="l574"><span class="ln">574  </span></a><span class="s1">goog.a11y.aria.isContainerRole=</span><span class="s3">function</span><span class="s1">(a){a=goog.a11y.aria.getRole(a);</span><span class="s3">return </span><span class="s1">goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,a)};goog.a11y.aria.splitStringOnWhitespace_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a?a.split(/\s+/):[]};goog.a11y.aria.getAriaAttributeName_=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.ENABLE_ASSERTS&amp;&amp;(goog.asserts.assert(a,</span><span class="s2">&quot;ARIA attribute cannot be empty.&quot;</span><span class="s1">),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,a),</span><span class="s2">&quot;No such ARIA attribute &quot;</span><span class="s1">+a));</span><span class="s3">return </span><span class="s1">goog.a11y.aria.ARIA_PREFIX_+a};goog.events.KeyCodes={WIN_KEY_FF_LINUX:</span><span class="s4">0</span><span class="s1">,MAC_ENTER:</span><span class="s4">3</span><span class="s1">,BACKSPACE:</span><span class="s4">8</span><span class="s1">,TAB:</span><span class="s4">9</span><span class="s1">,NUM_CENTER:</span><span class="s4">12</span><span class="s1">,ENTER:</span><span class="s4">13</span><span class="s1">,SHIFT:</span><span class="s4">16</span><span class="s1">,CTRL:</span><span class="s4">17</span><span class="s1">,ALT:</span><span class="s4">18</span><span class="s1">,PAUSE:</span><span class="s4">19</span><span class="s1">,CAPS_LOCK:</span><span class="s4">20</span><span class="s1">,ESC:</span><span class="s4">27</span><span class="s1">,SPACE:</span><span class="s4">32</span><span class="s1">,PAGE_UP:</span><span class="s4">33</span><span class="s1">,PAGE_DOWN:</span><span class="s4">34</span><span class="s1">,END:</span><span class="s4">35</span><span class="s1">,HOME:</span><span class="s4">36</span><span class="s1">,LEFT:</span><span class="s4">37</span><span class="s1">,UP:</span><span class="s4">38</span><span class="s1">,RIGHT:</span><span class="s4">39</span><span class="s1">,DOWN:</span><span class="s4">40</span><span class="s1">,PLUS_SIGN:</span><span class="s4">43</span><span class="s1">,PRINT_SCREEN:</span><span class="s4">44</span><span class="s1">,INSERT:</span><span class="s4">45</span><span class="s1">,DELETE:</span><span class="s4">46</span><span class="s1">,ZERO:</span><span class="s4">48</span><span class="s1">,ONE:</span><span class="s4">49</span><span class="s1">,TWO:</span><span class="s4">50</span><span class="s1">,THREE:</span><span class="s4">51</span><span class="s1">,FOUR:</span><span class="s4">52</span><span class="s1">,FIVE:</span><span class="s4">53</span><span class="s1">,SIX:</span><span class="s4">54</span><span class="s1">,SEVEN:</span><span class="s4">55</span><span class="s1">,EIGHT:</span><span class="s4">56</span><span class="s1">,NINE:</span><span class="s4">57</span><span class="s1">,FF_SEMICOLON:</span><span class="s4">59</span><span class="s1">,FF_EQUALS:</span><span class="s4">61</span><span class="s1">,FF_DASH:</span><span class="s4">173</span><span class="s1">,FF_HASH:</span><span class="s4">163</span><span class="s1">,QUESTION_MARK:</span><span class="s4">63</span><span class="s1">,AT_SIGN:</span><span class="s4">64</span><span class="s1">,A:</span><span class="s4">65</span><span class="s1">,B:</span><span class="s4">66</span><span class="s1">,C:</span><span class="s4">67</span><span class="s1">,D:</span><span class="s4">68</span><span class="s1">,E:</span><span class="s4">69</span><span class="s1">,F:</span><span class="s4">70</span><span class="s1">,G:</span><span class="s4">71</span><span class="s1">,H:</span><span class="s4">72</span><span class="s1">,I:</span><span class="s4">73</span><span class="s1">,J:</span><span class="s4">74</span><span class="s1">,K:</span><span class="s4">75</span><span class="s1">,L:</span><span class="s4">76</span><span class="s1">,M:</span><span class="s4">77</span><span class="s1">,</span>
<a name="l575"><span class="ln">575  </span></a><span class="s1">N:</span><span class="s4">78</span><span class="s1">,O:</span><span class="s4">79</span><span class="s1">,P:</span><span class="s4">80</span><span class="s1">,Q:</span><span class="s4">81</span><span class="s1">,R:</span><span class="s4">82</span><span class="s1">,S:</span><span class="s4">83</span><span class="s1">,T:</span><span class="s4">84</span><span class="s1">,U:</span><span class="s4">85</span><span class="s1">,V:</span><span class="s4">86</span><span class="s1">,W:</span><span class="s4">87</span><span class="s1">,X:</span><span class="s4">88</span><span class="s1">,Y:</span><span class="s4">89</span><span class="s1">,Z:</span><span class="s4">90</span><span class="s1">,META:</span><span class="s4">91</span><span class="s1">,WIN_KEY_RIGHT:</span><span class="s4">92</span><span class="s1">,CONTEXT_MENU:</span><span class="s4">93</span><span class="s1">,NUM_ZERO:</span><span class="s4">96</span><span class="s1">,NUM_ONE:</span><span class="s4">97</span><span class="s1">,NUM_TWO:</span><span class="s4">98</span><span class="s1">,NUM_THREE:</span><span class="s4">99</span><span class="s1">,NUM_FOUR:</span><span class="s4">100</span><span class="s1">,NUM_FIVE:</span><span class="s4">101</span><span class="s1">,NUM_SIX:</span><span class="s4">102</span><span class="s1">,NUM_SEVEN:</span><span class="s4">103</span><span class="s1">,NUM_EIGHT:</span><span class="s4">104</span><span class="s1">,NUM_NINE:</span><span class="s4">105</span><span class="s1">,NUM_MULTIPLY:</span><span class="s4">106</span><span class="s1">,NUM_PLUS:</span><span class="s4">107</span><span class="s1">,NUM_MINUS:</span><span class="s4">109</span><span class="s1">,NUM_PERIOD:</span><span class="s4">110</span><span class="s1">,NUM_DIVISION:</span><span class="s4">111</span><span class="s1">,F1:</span><span class="s4">112</span><span class="s1">,F2:</span><span class="s4">113</span><span class="s1">,F3:</span><span class="s4">114</span><span class="s1">,F4:</span><span class="s4">115</span><span class="s1">,F5:</span><span class="s4">116</span><span class="s1">,F6:</span><span class="s4">117</span><span class="s1">,F7:</span><span class="s4">118</span><span class="s1">,F8:</span><span class="s4">119</span><span class="s1">,F9:</span><span class="s4">120</span><span class="s1">,F10:</span><span class="s4">121</span><span class="s1">,F11:</span><span class="s4">122</span><span class="s1">,F12:</span><span class="s4">123</span><span class="s1">,NUMLOCK:</span><span class="s4">144</span><span class="s1">,SCROLL_LOCK:</span><span class="s4">145</span><span class="s1">,FIRST_MEDIA_KEY:</span><span class="s4">166</span><span class="s1">,LAST_MEDIA_KEY:</span><span class="s4">183</span><span class="s1">,SEMICOLON:</span><span class="s4">186</span><span class="s1">,DASH:</span><span class="s4">189</span><span class="s1">,EQUALS:</span><span class="s4">187</span><span class="s1">,COMMA:</span><span class="s4">188</span><span class="s1">,</span>
<a name="l576"><span class="ln">576  </span></a><span class="s1">PERIOD:</span><span class="s4">190</span><span class="s1">,SLASH:</span><span class="s4">191</span><span class="s1">,APOSTROPHE:</span><span class="s4">192</span><span class="s1">,TILDE:</span><span class="s4">192</span><span class="s1">,SINGLE_QUOTE:</span><span class="s4">222</span><span class="s1">,OPEN_SQUARE_BRACKET:</span><span class="s4">219</span><span class="s1">,BACKSLASH:</span><span class="s4">220</span><span class="s1">,CLOSE_SQUARE_BRACKET:</span><span class="s4">221</span><span class="s1">,WIN_KEY:</span><span class="s4">224</span><span class="s1">,MAC_FF_META:</span><span class="s4">224</span><span class="s1">,MAC_WK_CMD_LEFT:</span><span class="s4">91</span><span class="s1">,MAC_WK_CMD_RIGHT:</span><span class="s4">93</span><span class="s1">,WIN_IME:</span><span class="s4">229</span><span class="s1">,VK_NONAME:</span><span class="s4">252</span><span class="s1">,PHANTOM:</span><span class="s4">255</span><span class="s1">};</span>
<a name="l577"><span class="ln">577  </span></a><span class="s1">goog.events.KeyCodes.isTextModifyingKeyEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.altKey&amp;&amp;!a.ctrlKey||a.metaKey||a.keyCode&gt;=goog.events.KeyCodes.F1&amp;&amp;a.keyCode&lt;=goog.events.KeyCodes.F12)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.events.KeyCodes.isCharacterKey(a.keyCode))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a.keyCode){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.ALT:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.CAPS_LOCK:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.CONTEXT_MENU:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.CTRL:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.DOWN:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.END:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.ESC:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.HOME:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.INSERT:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.LEFT:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.MAC_FF_META:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.META:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.NUMLOCK:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.NUM_CENTER:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PAGE_DOWN:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PAGE_UP:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PAUSE:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PHANTOM:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PRINT_SCREEN:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.RIGHT:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SCROLL_LOCK:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SHIFT:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.UP:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.VK_NONAME:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.WIN_KEY:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.WIN_KEY_RIGHT:</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.WIN_KEY_FF_LINUX:</span><span class="s3">return</span><span class="s1">!goog.userAgent.GECKO;</span>
<a name="l578"><span class="ln">578  </span></a><span class="s3">default</span><span class="s1">:</span><span class="s3">return </span><span class="s1">a.keyCode&lt;goog.events.KeyCodes.FIRST_MEDIA_KEY||a.keyCode&gt;goog.events.KeyCodes.LAST_MEDIA_KEY}};</span>
<a name="l579"><span class="ln">579  </span></a><span class="s1">goog.events.KeyCodes.firesKeyPressEvent=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">if</span><span class="s1">(goog.userAgent.WEBKIT&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;525&quot;</span><span class="s1">))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.userAgent.MAC&amp;&amp;e)</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.isCharacterKey(a);</span><span class="s3">if</span><span class="s1">(e&amp;&amp;!d)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!goog.userAgent.GECKO){goog.isNumber(b)&amp;&amp;(b=goog.events.KeyCodes.normalizeKeyCode(b));</span><span class="s3">var </span><span class="s1">g=b==goog.events.KeyCodes.CTRL||b==goog.events.KeyCodes.ALT||goog.userAgent.MAC&amp;&amp;b==goog.events.KeyCodes.META,h=b==goog.events.KeyCodes.SHIFT&amp;&amp;(d||f);</span><span class="s3">if</span><span class="s1">((!c||goog.userAgent.MAC)&amp;&amp;g||</span>
<a name="l580"><span class="ln">580  </span></a><span class="s1">goog.userAgent.MAC&amp;&amp;h)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">if</span><span class="s1">((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&amp;&amp;d&amp;&amp;c)</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.BACKSLASH:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.OPEN_SQUARE_BRACKET:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.TILDE:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SEMICOLON:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.DASH:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.EQUALS:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.COMMA:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PERIOD:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SLASH:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.APOSTROPHE:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SINGLE_QUOTE:</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;</span>
<a name="l581"><span class="ln">581  </span></a><span class="s1">d&amp;&amp;b==a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.ENTER:</span><span class="s3">return </span><span class="s1">goog.userAgent.GECKO?f||e?!</span><span class="s4">1</span><span class="s1">:!(c&amp;&amp;d):!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.ESC:</span><span class="s3">return</span><span class="s1">!(goog.userAgent.WEBKIT||goog.userAgent.EDGE||goog.userAgent.GECKO)}</span><span class="s3">return </span><span class="s1">goog.userAgent.GECKO&amp;&amp;(d||e||f)?!</span><span class="s4">1</span><span class="s1">:goog.events.KeyCodes.isCharacterKey(a)};</span>
<a name="l582"><span class="ln">582  </span></a><span class="s1">goog.events.KeyCodes.isCharacterKey=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a&gt;=goog.events.KeyCodes.ZERO&amp;&amp;a&lt;=goog.events.KeyCodes.NINE||a&gt;=goog.events.KeyCodes.NUM_ZERO&amp;&amp;a&lt;=goog.events.KeyCodes.NUM_MULTIPLY||a&gt;=goog.events.KeyCodes.A&amp;&amp;a&lt;=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&amp;&amp;</span><span class="s4">0</span><span class="s1">==a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SPACE:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PLUS_SIGN:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.QUESTION_MARK:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.AT_SIGN:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.NUM_PLUS:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.NUM_MINUS:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.NUM_PERIOD:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.NUM_DIVISION:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SEMICOLON:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_SEMICOLON:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.DASH:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.EQUALS:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_EQUALS:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.COMMA:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.PERIOD:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SLASH:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.APOSTROPHE:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.SINGLE_QUOTE:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.OPEN_SQUARE_BRACKET:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.BACKSLASH:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_HASH:</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span>
<a name="l583"><span class="ln">583  </span></a><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_DASH:</span><span class="s3">return </span><span class="s1">goog.userAgent.GECKO;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}};goog.events.KeyCodes.normalizeKeyCode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(a):goog.userAgent.MAC&amp;&amp;goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(a):a};</span>
<a name="l584"><span class="ln">584  </span></a><span class="s1">goog.events.KeyCodes.normalizeGeckoKeyCode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_EQUALS:</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.EQUALS;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_SEMICOLON:</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.SEMICOLON;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.FF_DASH:</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.DASH;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.MAC_FF_META:</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.META;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.WIN_KEY_FF_LINUX:</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.WIN_KEY;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">return </span><span class="s1">a}};</span>
<a name="l585"><span class="ln">585  </span></a><span class="s1">goog.events.KeyCodes.normalizeMacWebKitKeyCode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.MAC_WK_CMD_RIGHT:</span><span class="s3">return </span><span class="s1">goog.events.KeyCodes.META;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">return </span><span class="s1">a}};goog.events.KeyHandler=</span><span class="s3">function</span><span class="s1">(a,b){goog.events.EventTarget.call(</span><span class="s3">this</span><span class="s1">);a&amp;&amp;</span><span class="s3">this</span><span class="s1">.attach(a,b)};goog.inherits(goog.events.KeyHandler,goog.events.EventTarget);goog.events.KeyHandler.prototype.element_=</span><span class="s3">null</span><span class="s1">;goog.events.KeyHandler.prototype.keyPressKey_=</span><span class="s3">null</span><span class="s1">;goog.events.KeyHandler.prototype.keyDownKey_=</span><span class="s3">null</span><span class="s1">;goog.events.KeyHandler.prototype.keyUpKey_=</span><span class="s3">null</span><span class="s1">;goog.events.KeyHandler.prototype.lastKey_=-</span><span class="s4">1</span><span class="s1">;goog.events.KeyHandler.prototype.keyCode_=-</span><span class="s4">1</span><span class="s1">;goog.events.KeyHandler.prototype.altKey_=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l586"><span class="ln">586  </span></a><span class="s1">goog.events.KeyHandler.EventType={KEY:</span><span class="s2">&quot;key&quot;</span><span class="s1">};</span>
<a name="l587"><span class="ln">587  </span></a><span class="s1">goog.events.KeyHandler.safariKey_={</span><span class="s4">3</span><span class="s1">:goog.events.KeyCodes.ENTER,</span><span class="s4">12</span><span class="s1">:goog.events.KeyCodes.NUMLOCK,</span><span class="s4">63232</span><span class="s1">:goog.events.KeyCodes.UP,</span><span class="s4">63233</span><span class="s1">:goog.events.KeyCodes.DOWN,</span><span class="s4">63234</span><span class="s1">:goog.events.KeyCodes.LEFT,</span><span class="s4">63235</span><span class="s1">:goog.events.KeyCodes.RIGHT,</span><span class="s4">63236</span><span class="s1">:goog.events.KeyCodes.F1,</span><span class="s4">63237</span><span class="s1">:goog.events.KeyCodes.F2,</span><span class="s4">63238</span><span class="s1">:goog.events.KeyCodes.F3,</span><span class="s4">63239</span><span class="s1">:goog.events.KeyCodes.F4,</span><span class="s4">63240</span><span class="s1">:goog.events.KeyCodes.F5,</span><span class="s4">63241</span><span class="s1">:goog.events.KeyCodes.F6,</span><span class="s4">63242</span><span class="s1">:goog.events.KeyCodes.F7,</span><span class="s4">63243</span><span class="s1">:goog.events.KeyCodes.F8,</span><span class="s4">63244</span><span class="s1">:goog.events.KeyCodes.F9,</span><span class="s4">63245</span><span class="s1">:goog.events.KeyCodes.F10,</span>
<a name="l588"><span class="ln">588  </span></a><span class="s4">63246</span><span class="s1">:goog.events.KeyCodes.F11,</span><span class="s4">63247</span><span class="s1">:goog.events.KeyCodes.F12,</span><span class="s4">63248</span><span class="s1">:goog.events.KeyCodes.PRINT_SCREEN,</span><span class="s4">63272</span><span class="s1">:goog.events.KeyCodes.DELETE,</span><span class="s4">63273</span><span class="s1">:goog.events.KeyCodes.HOME,</span><span class="s4">63275</span><span class="s1">:goog.events.KeyCodes.END,</span><span class="s4">63276</span><span class="s1">:goog.events.KeyCodes.PAGE_UP,</span><span class="s4">63277</span><span class="s1">:goog.events.KeyCodes.PAGE_DOWN,</span><span class="s4">63289</span><span class="s1">:goog.events.KeyCodes.NUMLOCK,</span><span class="s4">63302</span><span class="s1">:goog.events.KeyCodes.INSERT};</span>
<a name="l589"><span class="ln">589  </span></a><span class="s1">goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,</span>
<a name="l590"><span class="ln">590  </span></a><span class="s2">&quot;U+007F&quot;</span><span class="s1">:goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT};goog.events.KeyHandler.USES_KEYDOWN_=!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;525&quot;</span><span class="s1">);goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&amp;&amp;goog.userAgent.GECKO;</span>
<a name="l591"><span class="ln">591  </span></a><span class="s1">goog.events.KeyHandler.prototype.handleKeyDown_=</span><span class="s3">function</span><span class="s1">(a){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.lastKey_==goog.events.KeyCodes.CTRL&amp;&amp;!a.ctrlKey||</span><span class="s3">this</span><span class="s1">.lastKey_==goog.events.KeyCodes.ALT&amp;&amp;!a.altKey||goog.userAgent.MAC&amp;&amp;</span><span class="s3">this</span><span class="s1">.lastKey_==goog.events.KeyCodes.META&amp;&amp;!a.metaKey)&amp;&amp;</span><span class="s3">this</span><span class="s1">.resetState();-</span><span class="s4">1</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.lastKey_&amp;&amp;(a.ctrlKey&amp;&amp;a.keyCode!=goog.events.KeyCodes.CTRL?</span><span class="s3">this</span><span class="s1">.lastKey_=goog.events.KeyCodes.CTRL:a.altKey&amp;&amp;a.keyCode!=goog.events.KeyCodes.ALT?</span><span class="s3">this</span><span class="s1">.lastKey_=goog.events.KeyCodes.ALT:a.metaKey&amp;&amp;</span>
<a name="l592"><span class="ln">592  </span></a><span class="s1">a.keyCode!=goog.events.KeyCodes.META&amp;&amp;(</span><span class="s3">this</span><span class="s1">.lastKey_=goog.events.KeyCodes.META));goog.events.KeyHandler.USES_KEYDOWN_&amp;&amp;!goog.events.KeyCodes.firesKeyPressEvent(a.keyCode,</span><span class="s3">this</span><span class="s1">.lastKey_,a.shiftKey,a.ctrlKey,a.altKey,a.metaKey)?</span><span class="s3">this</span><span class="s1">.handleEvent(a):(</span><span class="s3">this</span><span class="s1">.keyCode_=goog.events.KeyCodes.normalizeKeyCode(a.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.altKey_=a.altKey))};goog.events.KeyHandler.prototype.resetState=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.keyCode_=</span><span class="s3">this</span><span class="s1">.lastKey_=-</span><span class="s4">1</span><span class="s1">};</span>
<a name="l593"><span class="ln">593  </span></a><span class="s1">goog.events.KeyHandler.prototype.handleKeyup_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.resetState();</span><span class="s3">this</span><span class="s1">.altKey_=a.altKey};</span>
<a name="l594"><span class="ln">594  </span></a><span class="s1">goog.events.KeyHandler.prototype.handleEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getBrowserEvent(),c=b.altKey;</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;a.type==goog.events.EventType.KEYPRESS){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.keyCode_;</span><span class="s3">var </span><span class="s1">e=d!=goog.events.KeyCodes.ENTER&amp;&amp;d!=goog.events.KeyCodes.ESC?b.keyCode:</span><span class="s4">0</span><span class="s1">}</span><span class="s3">else</span><span class="s1">(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&amp;&amp;a.type==goog.events.EventType.KEYPRESS?(d=</span><span class="s3">this</span><span class="s1">.keyCode_,e=</span><span class="s4">0</span><span class="s1">&lt;=b.charCode&amp;&amp;</span><span class="s4">63232</span><span class="s1">&gt;b.charCode&amp;&amp;goog.events.KeyCodes.isCharacterKey(d)?b.charCode:</span><span class="s4">0</span><span class="s1">):goog.userAgent.OPERA&amp;&amp;!goog.userAgent.WEBKIT?(d=</span><span class="s3">this</span><span class="s1">.keyCode_,</span>
<a name="l595"><span class="ln">595  </span></a><span class="s1">e=goog.events.KeyCodes.isCharacterKey(d)?b.keyCode:</span><span class="s4">0</span><span class="s1">):(a.type==goog.events.EventType.KEYPRESS?(goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&amp;&amp;(c=</span><span class="s3">this</span><span class="s1">.altKey_),b.keyCode==b.charCode?</span><span class="s4">32</span><span class="s1">&gt;b.keyCode?(d=b.keyCode,e=</span><span class="s4">0</span><span class="s1">):(d=</span><span class="s3">this</span><span class="s1">.keyCode_,e=b.charCode):(d=b.keyCode||</span><span class="s3">this</span><span class="s1">.keyCode_,e=b.charCode||</span><span class="s4">0</span><span class="s1">)):(d=b.keyCode||</span><span class="s3">this</span><span class="s1">.keyCode_,e=b.charCode||</span><span class="s4">0</span><span class="s1">),goog.userAgent.MAC&amp;&amp;e==goog.events.KeyCodes.QUESTION_MARK&amp;&amp;d==goog.events.KeyCodes.WIN_KEY&amp;&amp;(d=goog.events.KeyCodes.SLASH));</span><span class="s3">var </span><span class="s1">f=d=goog.events.KeyCodes.normalizeKeyCode(d);</span>
<a name="l596"><span class="ln">596  </span></a><span class="s1">d?</span><span class="s4">63232</span><span class="s1">&lt;=d&amp;&amp;d </span><span class="s3">in </span><span class="s1">goog.events.KeyHandler.safariKey_?f=goog.events.KeyHandler.safariKey_[d]:</span><span class="s4">25</span><span class="s1">==d&amp;&amp;a.shiftKey&amp;&amp;(f=</span><span class="s4">9</span><span class="s1">):b.keyIdentifier&amp;&amp;b.keyIdentifier </span><span class="s3">in </span><span class="s1">goog.events.KeyHandler.keyIdentifier_&amp;&amp;(f=goog.events.KeyHandler.keyIdentifier_[b.keyIdentifier]);goog.userAgent.GECKO&amp;&amp;goog.events.KeyHandler.USES_KEYDOWN_&amp;&amp;a.type==goog.events.EventType.KEYPRESS&amp;&amp;!goog.events.KeyCodes.firesKeyPressEvent(f,</span><span class="s3">this</span><span class="s1">.lastKey_,a.shiftKey,a.ctrlKey,c,a.metaKey)||(a=f==</span><span class="s3">this</span><span class="s1">.lastKey_,</span><span class="s3">this</span><span class="s1">.lastKey_=f,b=</span><span class="s3">new </span><span class="s1">goog.events.KeyEvent(f,</span>
<a name="l597"><span class="ln">597  </span></a><span class="s1">e,a,b),b.altKey=c,</span><span class="s3">this</span><span class="s1">.dispatchEvent(b))};goog.events.KeyHandler.prototype.getElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.element_};</span>
<a name="l598"><span class="ln">598  </span></a><span class="s1">goog.events.KeyHandler.prototype.attach=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.keyUpKey_&amp;&amp;</span><span class="s3">this</span><span class="s1">.detach();</span><span class="s3">this</span><span class="s1">.element_=a;</span><span class="s3">this</span><span class="s1">.keyPressKey_=goog.events.listen(</span><span class="s3">this</span><span class="s1">.element_,goog.events.EventType.KEYPRESS,</span><span class="s3">this</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.keyDownKey_=goog.events.listen(</span><span class="s3">this</span><span class="s1">.element_,goog.events.EventType.KEYDOWN,</span><span class="s3">this</span><span class="s1">.handleKeyDown_,b,</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.keyUpKey_=goog.events.listen(</span><span class="s3">this</span><span class="s1">.element_,goog.events.EventType.KEYUP,</span><span class="s3">this</span><span class="s1">.handleKeyup_,b,</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l599"><span class="ln">599  </span></a><span class="s1">goog.events.KeyHandler.prototype.detach=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.keyPressKey_&amp;&amp;(goog.events.unlistenByKey(</span><span class="s3">this</span><span class="s1">.keyPressKey_),goog.events.unlistenByKey(</span><span class="s3">this</span><span class="s1">.keyDownKey_),goog.events.unlistenByKey(</span><span class="s3">this</span><span class="s1">.keyUpKey_),</span><span class="s3">this</span><span class="s1">.keyUpKey_=</span><span class="s3">this</span><span class="s1">.keyDownKey_=</span><span class="s3">this</span><span class="s1">.keyPressKey_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.element_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.keyCode_=</span><span class="s3">this</span><span class="s1">.lastKey_=-</span><span class="s4">1</span><span class="s1">};goog.events.KeyHandler.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.events.KeyHandler.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.detach()};</span>
<a name="l600"><span class="ln">600  </span></a><span class="s1">goog.events.KeyEvent=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.events.BrowserEvent.call(</span><span class="s3">this</span><span class="s1">,d);</span><span class="s3">this</span><span class="s1">.type=goog.events.KeyHandler.EventType.KEY;</span><span class="s3">this</span><span class="s1">.keyCode=a;</span><span class="s3">this</span><span class="s1">.charCode=b;</span><span class="s3">this</span><span class="s1">.repeat=c};goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent);goog.ui.ComponentUtil={};goog.ui.ComponentUtil.getMouseEventType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.pointerEventsEnabled()?goog.events.PointerAsMouseEventType:goog.events.MouseAsMouseEventType};goog.dom.classlist={};goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!</span><span class="s4">1</span><span class="s1">;goog.dom.classlist.get=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)</span><span class="s3">return </span><span class="s1">a.classList;a=a.className;</span><span class="s3">return </span><span class="s1">goog.isString(a)&amp;&amp;a.match(/\S+/g)||[]};goog.dom.classlist.set=</span><span class="s3">function</span><span class="s1">(a,b){a.className=b};goog.dom.classlist.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.contains(b):goog.array.contains(goog.dom.classlist.get(a),b)};</span>
<a name="l601"><span class="ln">601  </span></a><span class="s1">goog.dom.classlist.add=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.add(b):goog.dom.classlist.contains(a,b)||(a.className+=</span><span class="s4">0</span><span class="s1">&lt;a.className.length?</span><span class="s2">&quot; &quot;</span><span class="s1">+b:b)};</span>
<a name="l602"><span class="ln">602  </span></a><span class="s1">goog.dom.classlist.addAll=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList)goog.array.forEach(b,</span><span class="s3">function</span><span class="s1">(b){goog.dom.classlist.add(a,b)});</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c={};goog.array.forEach(goog.dom.classlist.get(a),</span><span class="s3">function</span><span class="s1">(a){c[a]=!</span><span class="s4">0</span><span class="s1">});goog.array.forEach(b,</span><span class="s3">function</span><span class="s1">(a){c[a]=!</span><span class="s4">0</span><span class="s1">});a.className=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">c)a.className+=</span><span class="s4">0</span><span class="s1">&lt;a.className.length?</span><span class="s2">&quot; &quot;</span><span class="s1">+d:d}};</span>
<a name="l603"><span class="ln">603  </span></a><span class="s1">goog.dom.classlist.remove=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?a.classList.remove(b):goog.dom.classlist.contains(a,b)&amp;&amp;(a.className=goog.array.filter(goog.dom.classlist.get(a),</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a!=b}).join(</span><span class="s2">&quot; &quot;</span><span class="s1">))};</span>
<a name="l604"><span class="ln">604  </span></a><span class="s1">goog.dom.classlist.removeAll=</span><span class="s3">function</span><span class="s1">(a,b){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||a.classList?goog.array.forEach(b,</span><span class="s3">function</span><span class="s1">(b){goog.dom.classlist.remove(a,b)}):a.className=goog.array.filter(goog.dom.classlist.get(a),</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!goog.array.contains(b,a)}).join(</span><span class="s2">&quot; &quot;</span><span class="s1">)};goog.dom.classlist.enable=</span><span class="s3">function</span><span class="s1">(a,b,c){c?goog.dom.classlist.add(a,b):goog.dom.classlist.remove(a,b)};goog.dom.classlist.enableAll=</span><span class="s3">function</span><span class="s1">(a,b,c){(c?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(a,b)};</span>
<a name="l605"><span class="ln">605  </span></a><span class="s1">goog.dom.classlist.swap=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">goog.dom.classlist.contains(a,b)?(goog.dom.classlist.remove(a,b),goog.dom.classlist.add(a,c),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};goog.dom.classlist.toggle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=!goog.dom.classlist.contains(a,b);goog.dom.classlist.enable(a,b,c);</span><span class="s3">return </span><span class="s1">c};goog.dom.classlist.addRemove=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.dom.classlist.remove(a,b);goog.dom.classlist.add(a,c)};goog.ui.registry={};goog.ui.registry.getDefaultRenderer=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b;a;){b=goog.getUid(a);</span><span class="s3">if</span><span class="s1">(b=goog.ui.registry.defaultRenderers_[b])</span><span class="s3">break</span><span class="s1">;a=a.superClass_?a.superClass_.constructor:</span><span class="s3">null</span><span class="s1">}</span><span class="s3">return </span><span class="s1">b?goog.isFunction(b.getInstance)?b.getInstance():</span><span class="s3">new </span><span class="s1">b:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l606"><span class="ln">606  </span></a><span class="s1">goog.ui.registry.setDefaultRenderer=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!goog.isFunction(a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid component class &quot;</span><span class="s1">+a);</span><span class="s3">if</span><span class="s1">(!goog.isFunction(b))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid renderer class &quot;</span><span class="s1">+b);</span><span class="s3">var </span><span class="s1">c=goog.getUid(a);goog.ui.registry.defaultRenderers_[c]=b};goog.ui.registry.getDecoratorByClassName=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a </span><span class="s3">in </span><span class="s1">goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[a]():</span><span class="s3">null</span><span class="s1">};</span>
<a name="l607"><span class="ln">607  </span></a><span class="s1">goog.ui.registry.setDecoratorByClassName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid class name &quot;</span><span class="s1">+a);</span><span class="s3">if</span><span class="s1">(!goog.isFunction(b))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid decorator function &quot;</span><span class="s1">+b);goog.ui.registry.decoratorFunctions_[a]=b};goog.ui.registry.getDecorator=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=goog.dom.classlist.get(a),c=</span><span class="s4">0</span><span class="s1">,d=b.length;c&lt;d;c++)</span><span class="s3">if</span><span class="s1">(a=goog.ui.registry.getDecoratorByClassName(b[c]))</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l608"><span class="ln">608  </span></a><span class="s1">goog.ui.registry.reset=</span><span class="s3">function</span><span class="s1">(){goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={}};goog.ui.registry.defaultRenderers_={};goog.ui.registry.decoratorFunctions_={};goog.ui.ContainerRenderer=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.ariaRole_=a};goog.addSingletonGetter(goog.ui.ContainerRenderer);goog.ui.ContainerRenderer.getCustomRenderer=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">a;c.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">b};</span><span class="s3">return </span><span class="s1">c};goog.ui.ContainerRenderer.CSS_CLASS=</span><span class="s2">&quot;goog-container&quot;</span><span class="s1">;goog.ui.ContainerRenderer.prototype.getAriaRole=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.ariaRole_};goog.ui.ContainerRenderer.prototype.enableTabIndex=</span><span class="s3">function</span><span class="s1">(a,b){a&amp;&amp;(a.tabIndex=b?</span><span class="s4">0</span><span class="s1">:-</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l609"><span class="ln">609  </span></a><span class="s1">goog.ui.ContainerRenderer.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getDomHelper().createDom(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getClassNames(a).join(</span><span class="s2">&quot; &quot;</span><span class="s1">))};goog.ui.ContainerRenderer.prototype.getContentElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};goog.ui.ContainerRenderer.prototype.canDecorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;DIV&quot;</span><span class="s1">==a.tagName};</span>
<a name="l610"><span class="ln">610  </span></a><span class="s1">goog.ui.ContainerRenderer.prototype.decorate=</span><span class="s3">function</span><span class="s1">(a,b){b.id&amp;&amp;a.setId(b.id);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getCssClass(),d=!</span><span class="s4">1</span><span class="s1">,e=goog.dom.classlist.get(b);e&amp;&amp;goog.array.forEach(e,</span><span class="s3">function</span><span class="s1">(b){b==c?d=!</span><span class="s4">0</span><span class="s1">:b&amp;&amp;</span><span class="s3">this</span><span class="s1">.setStateFromClassName(a,b,c)},</span><span class="s3">this</span><span class="s1">);d||goog.dom.classlist.add(b,c);</span><span class="s3">this</span><span class="s1">.decorateChildren(a,</span><span class="s3">this</span><span class="s1">.getContentElement(b));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l611"><span class="ln">611  </span></a><span class="s1">goog.ui.ContainerRenderer.prototype.setStateFromClassName=</span><span class="s3">function</span><span class="s1">(a,b,c){b==c+</span><span class="s2">&quot;-disabled&quot;</span><span class="s1">?a.setEnabled(!</span><span class="s4">1</span><span class="s1">):b==c+</span><span class="s2">&quot;-horizontal&quot;</span><span class="s1">?a.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):b==c+</span><span class="s2">&quot;-vertical&quot;</span><span class="s1">&amp;&amp;a.setOrientation(goog.ui.Container.Orientation.VERTICAL)};</span>
<a name="l612"><span class="ln">612  </span></a><span class="s1">goog.ui.ContainerRenderer.prototype.decorateChildren=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(b){c=c||b.firstChild;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d;c&amp;&amp;c.parentNode==b;){d=c.nextSibling;</span><span class="s3">if</span><span class="s1">(c.nodeType==goog.dom.NodeType.ELEMENT){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.getDecoratorForChild(c);e&amp;&amp;(e.setElementInternal(c),a.isEnabled()||e.setEnabled(!</span><span class="s4">1</span><span class="s1">),a.addChild(e),e.decorate(c))}</span><span class="s3">else </span><span class="s1">c.nodeValue&amp;&amp;</span><span class="s2">&quot;&quot;</span><span class="s1">!=goog.string.trim(c.nodeValue)||b.removeChild(c);c=d}}};goog.ui.ContainerRenderer.prototype.getDecoratorForChild=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.ui.registry.getDecorator(a)};</span>
<a name="l613"><span class="ln">613  </span></a><span class="s1">goog.ui.ContainerRenderer.prototype.initializeDom=</span><span class="s3">function</span><span class="s1">(a){a=a.getElement();goog.asserts.assert(a,</span><span class="s2">&quot;The container DOM element cannot be null.&quot;</span><span class="s1">);goog.style.setUnselectable(a,!</span><span class="s4">0</span><span class="s1">,goog.userAgent.GECKO);goog.userAgent.IE&amp;&amp;(a.hideFocus=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getAriaRole();b&amp;&amp;goog.a11y.aria.setRole(a,b)};goog.ui.ContainerRenderer.prototype.getKeyEventTarget=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getElement()};goog.ui.ContainerRenderer.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.ContainerRenderer.CSS_CLASS};</span>
<a name="l614"><span class="ln">614  </span></a><span class="s1">goog.ui.ContainerRenderer.prototype.getClassNames=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getCssClass(),c=a.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL;c=[b,c?b+</span><span class="s2">&quot;-horizontal&quot;</span><span class="s1">:b+</span><span class="s2">&quot;-vertical&quot;</span><span class="s1">];a.isEnabled()||c.push(b+</span><span class="s2">&quot;-disabled&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};goog.ui.ContainerRenderer.prototype.getDefaultOrientation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.Container.Orientation.VERTICAL};goog.ui.ControlRenderer=</span><span class="s3">function</span><span class="s1">(){};goog.addSingletonGetter(goog.ui.ControlRenderer);goog.tagUnsealableClass(goog.ui.ControlRenderer);goog.ui.ControlRenderer.getCustomRenderer=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">a;c.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">b};</span><span class="s3">return </span><span class="s1">c};goog.ui.ControlRenderer.CSS_CLASS=</span><span class="s2">&quot;goog-control&quot;</span><span class="s1">;goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[];</span>
<a name="l615"><span class="ln">615  </span></a><span class="s1">goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,</span>
<a name="l616"><span class="ln">616  </span></a><span class="s1">goog.a11y.aria.State.SELECTED);goog.ui.ControlRenderer.prototype.getAriaRole=</span><span class="s3">function</span><span class="s1">(){};goog.ui.ControlRenderer.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getDomHelper().createDom(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getClassNames(a).join(</span><span class="s2">&quot; &quot;</span><span class="s1">),a.getContent())};goog.ui.ControlRenderer.prototype.getContentElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l617"><span class="ln">617  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.enableClassName=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(a=a.getElement?a.getElement():a){</span><span class="s3">var </span><span class="s1">d=[b];goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;7&quot;</span><span class="s1">)&amp;&amp;(d=</span><span class="s3">this</span><span class="s1">.getAppliedCombinedClassNames_(goog.dom.classlist.get(a),b),d.push(b));goog.dom.classlist.enableAll(a,d,c)}};goog.ui.ControlRenderer.prototype.enableExtraClassName=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.enableClassName(a,b,c)};goog.ui.ControlRenderer.prototype.canDecorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l618"><span class="ln">618  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.decorate=</span><span class="s3">function</span><span class="s1">(a,b){b.id&amp;&amp;a.setId(b.id);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getContentElement(b);c&amp;&amp;c.firstChild?a.setContentInternal(c.firstChild.nextSibling?goog.array.clone(c.childNodes):c.firstChild):a.setContentInternal(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s3">this</span><span class="s1">.getCssClass(),f=</span><span class="s3">this</span><span class="s1">.getStructuralCssClass(),g=!</span><span class="s4">1</span><span class="s1">,h=!</span><span class="s4">1</span><span class="s1">,k=!</span><span class="s4">1</span><span class="s1">,l=goog.array.toArray(goog.dom.classlist.get(b));goog.array.forEach(l,</span><span class="s3">function</span><span class="s1">(a){g||a!=e?h||a!=f?d|=</span><span class="s3">this</span><span class="s1">.getStateFromClass(a):h=!</span><span class="s4">0</span><span class="s1">:(g=!</span><span class="s4">0</span><span class="s1">,f==e&amp;&amp;(h=!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.getStateFromClass(a)==goog.ui.Component.State.DISABLED&amp;&amp;</span>
<a name="l619"><span class="ln">619  </span></a><span class="s1">(goog.asserts.assertElement(c),goog.dom.isFocusableTabIndex(c)&amp;&amp;goog.dom.setFocusableTabIndex(c,!</span><span class="s4">1</span><span class="s1">))},</span><span class="s3">this</span><span class="s1">);a.setStateInternal(d);g||(l.push(e),f==e&amp;&amp;(h=!</span><span class="s4">0</span><span class="s1">));h||l.push(f);</span><span class="s3">var </span><span class="s1">n=a.getExtraClassNames();n&amp;&amp;l.push.apply(l,n);</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;7&quot;</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">m=</span><span class="s3">this</span><span class="s1">.getAppliedCombinedClassNames_(l);</span><span class="s4">0</span><span class="s1">&lt;m.length&amp;&amp;(l.push.apply(l,m),k=!</span><span class="s4">0</span><span class="s1">)}g&amp;&amp;h&amp;&amp;!n&amp;&amp;!k||goog.dom.classlist.set(b,l.join(</span><span class="s2">&quot; &quot;</span><span class="s1">));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l620"><span class="ln">620  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.initializeDom=</span><span class="s3">function</span><span class="s1">(a){a.isRightToLeft()&amp;&amp;</span><span class="s3">this</span><span class="s1">.setRightToLeft(a.getElement(),!</span><span class="s4">0</span><span class="s1">);a.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.setFocusable(a,a.isVisible())};goog.ui.ControlRenderer.prototype.setAriaRole=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b||</span><span class="s3">this</span><span class="s1">.getAriaRole();</span><span class="s3">if</span><span class="s1">(c){goog.asserts.assert(a,</span><span class="s2">&quot;The element passed as a first parameter cannot be null.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=goog.a11y.aria.getRole(a);c!=d&amp;&amp;goog.a11y.aria.setRole(a,c)}};</span>
<a name="l621"><span class="ln">621  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.setAriaStates=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(a);goog.asserts.assert(b);</span><span class="s3">var </span><span class="s1">c=a.getAriaLabel();goog.isDefAndNotNull(c)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setAriaLabel(b,c);a.isVisible()||goog.a11y.aria.setState(b,goog.a11y.aria.State.HIDDEN,!a.isVisible());a.isEnabled()||</span><span class="s3">this</span><span class="s1">.updateAriaState(b,goog.ui.Component.State.DISABLED,!a.isEnabled());a.isSupportedState(goog.ui.Component.State.SELECTED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateAriaState(b,goog.ui.Component.State.SELECTED,a.isSelected());a.isSupportedState(goog.ui.Component.State.CHECKED)&amp;&amp;</span>
<a name="l622"><span class="ln">622  </span></a><span class="s3">this</span><span class="s1">.updateAriaState(b,goog.ui.Component.State.CHECKED,a.isChecked());a.isSupportedState(goog.ui.Component.State.OPENED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateAriaState(b,goog.ui.Component.State.OPENED,a.isOpen())};goog.ui.ControlRenderer.prototype.setAriaLabel=</span><span class="s3">function</span><span class="s1">(a,b){goog.a11y.aria.setLabel(a,b)};goog.ui.ControlRenderer.prototype.setAllowTextSelection=</span><span class="s3">function</span><span class="s1">(a,b){goog.style.setUnselectable(a,!b,!goog.userAgent.IE&amp;&amp;!goog.userAgent.OPERA)};</span>
<a name="l623"><span class="ln">623  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.setRightToLeft=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.enableClassName(a,</span><span class="s3">this</span><span class="s1">.getStructuralCssClass()+</span><span class="s2">&quot;-rtl&quot;</span><span class="s1">,b)};goog.ui.ControlRenderer.prototype.isFocusable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b;</span><span class="s3">return </span><span class="s1">a.isSupportedState(goog.ui.Component.State.FOCUSED)&amp;&amp;(b=a.getKeyEventTarget())?goog.dom.isFocusableTabIndex(b):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l624"><span class="ln">624  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.setFocusable=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c;</span><span class="s3">if</span><span class="s1">(a.isSupportedState(goog.ui.Component.State.FOCUSED)&amp;&amp;(c=a.getKeyEventTarget())){</span><span class="s3">if</span><span class="s1">(!b&amp;&amp;a.isFocused()){</span><span class="s3">try</span><span class="s1">{c.blur()}</span><span class="s3">catch</span><span class="s1">(d){}a.isFocused()&amp;&amp;a.handleBlur(</span><span class="s3">null</span><span class="s1">)}goog.dom.isFocusableTabIndex(c)!=b&amp;&amp;goog.dom.setFocusableTabIndex(c,b)}};goog.ui.ControlRenderer.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a,b){goog.style.setElementShown(a,b);a&amp;&amp;goog.a11y.aria.setState(a,goog.a11y.aria.State.HIDDEN,!b)};</span>
<a name="l625"><span class="ln">625  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.setState=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.getElement();</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.getClassForState(b);e&amp;&amp;</span><span class="s3">this</span><span class="s1">.enableClassName(a,e,c);</span><span class="s3">this</span><span class="s1">.updateAriaState(d,b,c)}};</span>
<a name="l626"><span class="ln">626  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.updateAriaState=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED));goog.asserts.assert(a,</span><span class="s2">&quot;The element passed as a first parameter cannot be null.&quot;</span><span class="s1">);</span>
<a name="l627"><span class="ln">627  </span></a><span class="s1">(b=goog.ui.ControlRenderer.getAriaStateForAriaRole_(a,goog.ui.ControlRenderer.ariaAttributeMap_[b]))&amp;&amp;goog.a11y.aria.setState(a,b,c)};goog.ui.ControlRenderer.getAriaStateForAriaRole_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.a11y.aria.getRole(a);</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">return </span><span class="s1">b;c=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[c]||b;</span><span class="s3">return </span><span class="s1">goog.ui.ControlRenderer.isAriaState_(b)?c:b};goog.ui.ControlRenderer.isAriaState_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a==goog.a11y.aria.State.CHECKED||a==goog.a11y.aria.State.SELECTED};</span>
<a name="l628"><span class="ln">628  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.setContent=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getContentElement(a);</span><span class="s3">if</span><span class="s1">(c&amp;&amp;(goog.dom.removeChildren(c),b))</span><span class="s3">if</span><span class="s1">(goog.isString(b))goog.dom.setTextContent(c,b);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.dom.getOwnerDocument(c);c.appendChild(goog.isString(a)?b.createTextNode(a):a)}};goog.isArray(b)?goog.array.forEach(b,d):!goog.isArrayLike(b)||</span><span class="s2">&quot;nodeType&quot;</span><span class="s3">in </span><span class="s1">b?d(b):goog.array.forEach(goog.array.clone(b),d)}};goog.ui.ControlRenderer.prototype.getKeyEventTarget=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getElement()};</span>
<a name="l629"><span class="ln">629  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.ControlRenderer.CSS_CLASS};goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">[]};goog.ui.ControlRenderer.prototype.getStructuralCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getCssClass()};</span>
<a name="l630"><span class="ln">630  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.getClassNames=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getCssClass(),c=[b],d=</span><span class="s3">this</span><span class="s1">.getStructuralCssClass();d!=b&amp;&amp;c.push(d);b=</span><span class="s3">this</span><span class="s1">.getClassNamesForState(a.getState());c.push.apply(c,b);(a=a.getExtraClassNames())&amp;&amp;c.push.apply(c,a);goog.userAgent.IE&amp;&amp;!goog.userAgent.isVersionOrHigher(</span><span class="s2">&quot;7&quot;</span><span class="s1">)&amp;&amp;c.push.apply(c,</span><span class="s3">this</span><span class="s1">.getAppliedCombinedClassNames_(c));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l631"><span class="ln">631  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[];b&amp;&amp;(a=goog.array.concat(a,[b]));goog.array.forEach(</span><span class="s3">this</span><span class="s1">.getIe6ClassCombinations(),</span><span class="s3">function</span><span class="s1">(d){!goog.array.every(d,goog.partial(goog.array.contains,a))||b&amp;&amp;!goog.array.contains(d,b)||c.push(d.join(</span><span class="s2">&quot;_&quot;</span><span class="s1">))});</span><span class="s3">return </span><span class="s1">c};goog.ui.ControlRenderer.prototype.getClassNamesForState=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[];a;){</span><span class="s3">var </span><span class="s1">c=a&amp;-a;b.push(</span><span class="s3">this</span><span class="s1">.getClassForState(c));a&amp;=~c}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l632"><span class="ln">632  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.getClassForState=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.classByState_||</span><span class="s3">this</span><span class="s1">.createClassByStateMap_();</span><span class="s3">return this</span><span class="s1">.classByState_[a]};goog.ui.ControlRenderer.prototype.getStateFromClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.stateByClass_||</span><span class="s3">this</span><span class="s1">.createStateByClassMap_();a=parseInt(</span><span class="s3">this</span><span class="s1">.stateByClass_[a],</span><span class="s4">10</span><span class="s1">);</span><span class="s3">return </span><span class="s1">isNaN(a)?</span><span class="s4">0</span><span class="s1">:a};</span>
<a name="l633"><span class="ln">633  </span></a><span class="s1">goog.ui.ControlRenderer.prototype.createClassByStateMap_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getStructuralCssClass(),b=!goog.string.contains(goog.string.normalizeWhitespace(a),</span><span class="s2">&quot; &quot;</span><span class="s1">);goog.asserts.assert(b,</span><span class="s2">&quot;ControlRenderer has an invalid css class: '&quot;</span><span class="s1">+a+</span><span class="s2">&quot;'&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,a+</span><span class="s2">&quot;-disabled&quot;</span><span class="s1">,goog.ui.Component.State.HOVER,a+</span><span class="s2">&quot;-hover&quot;</span><span class="s1">,goog.ui.Component.State.ACTIVE,a+</span><span class="s2">&quot;-active&quot;</span><span class="s1">,goog.ui.Component.State.SELECTED,a+</span><span class="s2">&quot;-selected&quot;</span><span class="s1">,goog.ui.Component.State.CHECKED,a+</span><span class="s2">&quot;-checked&quot;</span><span class="s1">,</span>
<a name="l634"><span class="ln">634  </span></a><span class="s1">goog.ui.Component.State.FOCUSED,a+</span><span class="s2">&quot;-focused&quot;</span><span class="s1">,goog.ui.Component.State.OPENED,a+</span><span class="s2">&quot;-open&quot;</span><span class="s1">)};goog.ui.ControlRenderer.prototype.createStateByClassMap_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.classByState_||</span><span class="s3">this</span><span class="s1">.createClassByStateMap_();</span><span class="s3">this</span><span class="s1">.stateByClass_=goog.object.transpose(</span><span class="s3">this</span><span class="s1">.classByState_)};goog.ui.Control=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.Component.call(</span><span class="s3">this</span><span class="s1">,c);</span><span class="s3">this</span><span class="s1">.renderer_=b||goog.ui.registry.getDefaultRenderer(</span><span class="s3">this</span><span class="s1">.constructor);</span><span class="s3">this</span><span class="s1">.setContentInternal(goog.isDef(a)?a:</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.ariaLabel_=</span><span class="s3">null</span><span class="s1">};goog.inherits(goog.ui.Control,goog.ui.Component);goog.tagUnsealableClass(goog.ui.Control);goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName;goog.ui.Control.getDecorator=goog.ui.registry.getDecorator;goog.ui.Control.prototype.content_=</span><span class="s3">null</span><span class="s1">;goog.ui.Control.prototype.state_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l635"><span class="ln">635  </span></a><span class="s1">goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED;goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL;goog.ui.Control.prototype.statesWithTransitionEvents_=</span><span class="s4">0</span><span class="s1">;goog.ui.Control.prototype.visible_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Control.prototype.extraClassNames_=</span><span class="s3">null</span><span class="s1">;goog.ui.Control.prototype.handleMouseEvents_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Control.prototype.allowTextSelection_=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l636"><span class="ln">636  </span></a><span class="s1">goog.ui.Control.prototype.preferredAriaRole_=</span><span class="s3">null</span><span class="s1">;goog.ui.Control.prototype.isHandleMouseEvents=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.handleMouseEvents_};goog.ui.Control.prototype.setHandleMouseEvents=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;a!=</span><span class="s3">this</span><span class="s1">.handleMouseEvents_&amp;&amp;</span><span class="s3">this</span><span class="s1">.enableMouseEventHandling_(a);</span><span class="s3">this</span><span class="s1">.handleMouseEvents_=a};goog.ui.Control.prototype.getKeyEventTarget=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.renderer_.getKeyEventTarget(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l637"><span class="ln">637  </span></a><span class="s1">goog.ui.Control.prototype.getKeyHandler=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.keyHandler_||(</span><span class="s3">this</span><span class="s1">.keyHandler_=</span><span class="s3">new </span><span class="s1">goog.events.KeyHandler)};goog.ui.Control.prototype.getRenderer=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.renderer_};goog.ui.Control.prototype.setRenderer=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isInDocument())</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">this</span><span class="s1">.getElement()&amp;&amp;</span><span class="s3">this</span><span class="s1">.setElementInternal(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.renderer_=a};goog.ui.Control.prototype.getExtraClassNames=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.extraClassNames_};</span>
<a name="l638"><span class="ln">638  </span></a><span class="s1">goog.ui.Control.prototype.addClassName=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.extraClassNames_?goog.array.contains(</span><span class="s3">this</span><span class="s1">.extraClassNames_,a)||</span><span class="s3">this</span><span class="s1">.extraClassNames_.push(a):</span><span class="s3">this</span><span class="s1">.extraClassNames_=[a],</span><span class="s3">this</span><span class="s1">.renderer_.enableExtraClassName(</span><span class="s3">this</span><span class="s1">,a,!</span><span class="s4">0</span><span class="s1">))};goog.ui.Control.prototype.removeClassName=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;</span><span class="s3">this</span><span class="s1">.extraClassNames_&amp;&amp;goog.array.remove(</span><span class="s3">this</span><span class="s1">.extraClassNames_,a)&amp;&amp;(</span><span class="s4">0</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.extraClassNames_.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.extraClassNames_=</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.renderer_.enableExtraClassName(</span><span class="s3">this</span><span class="s1">,a,!</span><span class="s4">1</span><span class="s1">))};</span>
<a name="l639"><span class="ln">639  </span></a><span class="s1">goog.ui.Control.prototype.enableClassName=</span><span class="s3">function</span><span class="s1">(a,b){b?</span><span class="s3">this</span><span class="s1">.addClassName(a):</span><span class="s3">this</span><span class="s1">.removeClassName(a)};goog.ui.Control.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.renderer_.createDom(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setElementInternal(a);</span><span class="s3">this</span><span class="s1">.renderer_.setAriaRole(a,</span><span class="s3">this</span><span class="s1">.getPreferredAriaRole());</span><span class="s3">this</span><span class="s1">.isAllowTextSelection()||</span><span class="s3">this</span><span class="s1">.renderer_.setAllowTextSelection(a,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isVisible()||</span><span class="s3">this</span><span class="s1">.renderer_.setVisible(a,!</span><span class="s4">1</span><span class="s1">)};goog.ui.Control.prototype.getPreferredAriaRole=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.preferredAriaRole_};</span>
<a name="l640"><span class="ln">640  </span></a><span class="s1">goog.ui.Control.prototype.setPreferredAriaRole=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.preferredAriaRole_=a};goog.ui.Control.prototype.getAriaLabel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.ariaLabel_};goog.ui.Control.prototype.setAriaLabel=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.ariaLabel_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setAriaLabel(b,a)};goog.ui.Control.prototype.getContentElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.renderer_.getContentElement(</span><span class="s3">this</span><span class="s1">.getElement())};goog.ui.Control.prototype.canDecorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.renderer_.canDecorate(a)};</span>
<a name="l641"><span class="ln">641  </span></a><span class="s1">goog.ui.Control.prototype.decorateInternal=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">this</span><span class="s1">.renderer_.decorate(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.setElementInternal(a);</span><span class="s3">this</span><span class="s1">.renderer_.setAriaRole(a,</span><span class="s3">this</span><span class="s1">.getPreferredAriaRole());</span><span class="s3">this</span><span class="s1">.isAllowTextSelection()||</span><span class="s3">this</span><span class="s1">.renderer_.setAllowTextSelection(a,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.visible_=</span><span class="s2">&quot;none&quot;</span><span class="s1">!=a.style.display};</span>
<a name="l642"><span class="ln">642  </span></a><span class="s1">goog.ui.Control.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.Control.superClass_.enterDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.renderer_.setAriaStates(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getElementStrict());</span><span class="s3">this</span><span class="s1">.renderer_.initializeDom(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.supportedStates_&amp;~goog.ui.Component.State.DISABLED&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isHandleMouseEvents()&amp;&amp;</span><span class="s3">this</span><span class="s1">.enableMouseEventHandling_(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.isSupportedState(goog.ui.Component.State.FOCUSED))){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getKeyEventTarget();</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getKeyHandler();b.attach(a);</span><span class="s3">this</span><span class="s1">.getHandler().listen(b,goog.events.KeyHandler.EventType.KEY,</span>
<a name="l643"><span class="ln">643  </span></a><span class="s3">this</span><span class="s1">.handleKeyEvent).listen(a,goog.events.EventType.FOCUS,</span><span class="s3">this</span><span class="s1">.handleFocus).listen(a,goog.events.EventType.BLUR,</span><span class="s3">this</span><span class="s1">.handleBlur)}}};</span>
<a name="l644"><span class="ln">644  </span></a><span class="s1">goog.ui.Control.prototype.enableMouseEventHandling_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.ui.ComponentUtil.getMouseEventType(</span><span class="s3">this</span><span class="s1">),c=</span><span class="s3">this</span><span class="s1">.getHandler(),d=</span><span class="s3">this</span><span class="s1">.getElement();a?(c.listen(d,b.MOUSEDOWN,</span><span class="s3">this</span><span class="s1">.handleMouseDown).listen(d,[b.MOUSEUP,b.MOUSECANCEL],</span><span class="s3">this</span><span class="s1">.handleMouseUp).listen(d,goog.events.EventType.MOUSEOVER,</span><span class="s3">this</span><span class="s1">.handleMouseOver).listen(d,goog.events.EventType.MOUSEOUT,</span><span class="s3">this</span><span class="s1">.handleMouseOut),</span><span class="s3">this</span><span class="s1">.pointerEventsEnabled()&amp;&amp;c.listen(d,goog.events.EventType.GOTPOINTERCAPTURE,</span><span class="s3">this</span><span class="s1">.preventPointerCapture_),</span><span class="s3">this</span><span class="s1">.handleContextMenu!=</span>
<a name="l645"><span class="ln">645  </span></a><span class="s1">goog.nullFunction&amp;&amp;c.listen(d,goog.events.EventType.CONTEXTMENU,</span><span class="s3">this</span><span class="s1">.handleContextMenu),goog.userAgent.IE&amp;&amp;(goog.userAgent.isVersionOrHigher(</span><span class="s4">9</span><span class="s1">)||c.listen(d,goog.events.EventType.DBLCLICK,</span><span class="s3">this</span><span class="s1">.handleDblClick),</span><span class="s3">this</span><span class="s1">.ieMouseEventSequenceSimulator_||(</span><span class="s3">this</span><span class="s1">.ieMouseEventSequenceSimulator_=</span><span class="s3">new </span><span class="s1">goog.ui.Control.IeMouseEventSequenceSimulator_(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.registerDisposable(</span><span class="s3">this</span><span class="s1">.ieMouseEventSequenceSimulator_)))):(c.unlisten(d,b.MOUSEDOWN,</span><span class="s3">this</span><span class="s1">.handleMouseDown).unlisten(d,[b.MOUSEUP,b.MOUSECANCEL],</span><span class="s3">this</span><span class="s1">.handleMouseUp).unlisten(d,</span>
<a name="l646"><span class="ln">646  </span></a><span class="s1">goog.events.EventType.MOUSEOVER,</span><span class="s3">this</span><span class="s1">.handleMouseOver).unlisten(d,goog.events.EventType.MOUSEOUT,</span><span class="s3">this</span><span class="s1">.handleMouseOut),</span><span class="s3">this</span><span class="s1">.pointerEventsEnabled()&amp;&amp;c.unlisten(d,goog.events.EventType.GOTPOINTERCAPTURE,</span><span class="s3">this</span><span class="s1">.preventPointerCapture_),</span><span class="s3">this</span><span class="s1">.handleContextMenu!=goog.nullFunction&amp;&amp;c.unlisten(d,goog.events.EventType.CONTEXTMENU,</span><span class="s3">this</span><span class="s1">.handleContextMenu),goog.userAgent.IE&amp;&amp;(goog.userAgent.isVersionOrHigher(</span><span class="s4">9</span><span class="s1">)||c.unlisten(d,goog.events.EventType.DBLCLICK,</span><span class="s3">this</span><span class="s1">.handleDblClick),goog.dispose(</span><span class="s3">this</span><span class="s1">.ieMouseEventSequenceSimulator_),</span>
<a name="l647"><span class="ln">647  </span></a><span class="s3">this</span><span class="s1">.ieMouseEventSequenceSimulator_=</span><span class="s3">null</span><span class="s1">))};goog.ui.Control.prototype.exitDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.Control.superClass_.exitDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.keyHandler_&amp;&amp;</span><span class="s3">this</span><span class="s1">.keyHandler_.detach();</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setFocusable(</span><span class="s3">this</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l648"><span class="ln">648  </span></a><span class="s1">goog.ui.Control.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.ui.Control.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.keyHandler_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.keyHandler_.dispose(),</span><span class="s3">delete this</span><span class="s1">.keyHandler_);</span><span class="s3">delete this</span><span class="s1">.renderer_;</span><span class="s3">this</span><span class="s1">.ieMouseEventSequenceSimulator_=</span><span class="s3">this</span><span class="s1">.extraClassNames_=</span><span class="s3">this</span><span class="s1">.content_=</span><span class="s3">null</span><span class="s1">};goog.ui.Control.prototype.getContent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.content_};goog.ui.Control.prototype.setContent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.renderer_.setContent(</span><span class="s3">this</span><span class="s1">.getElement(),a);</span><span class="s3">this</span><span class="s1">.setContentInternal(a)};</span>
<a name="l649"><span class="ln">649  </span></a><span class="s1">goog.ui.Control.prototype.setContentInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.content_=a};goog.ui.Control.prototype.getCaption=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getContent();</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">;a=goog.isString(a)?a:goog.isArray(a)?goog.array.map(a,goog.dom.getRawTextContent).join(</span><span class="s2">&quot;&quot;</span><span class="s1">):goog.dom.getTextContent(a);</span><span class="s3">return </span><span class="s1">goog.string.collapseBreakingSpaces(a)};goog.ui.Control.prototype.setCaption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setContent(a)};</span>
<a name="l650"><span class="ln">650  </span></a><span class="s1">goog.ui.Control.prototype.setRightToLeft=</span><span class="s3">function</span><span class="s1">(a){goog.ui.Control.superClass_.setRightToLeft.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setRightToLeft(b,a)};goog.ui.Control.prototype.isAllowTextSelection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.allowTextSelection_};goog.ui.Control.prototype.setAllowTextSelection=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.allowTextSelection_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setAllowTextSelection(b,a)};goog.ui.Control.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.visible_};</span>
<a name="l651"><span class="ln">651  </span></a><span class="s1">goog.ui.Control.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b||</span><span class="s3">this</span><span class="s1">.visible_!=a&amp;&amp;</span><span class="s3">this</span><span class="s1">.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getElement();c&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setVisible(c,a);</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setFocusable(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.visible_=a;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.ui.Control.prototype.isEnabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s3">this</span><span class="s1">.hasState(goog.ui.Component.State.DISABLED)};</span>
<a name="l652"><span class="ln">652  </span></a><span class="s1">goog.ui.Control.prototype.isParentDisabled_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParent();</span><span class="s3">return</span><span class="s1">!!a&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.isEnabled&amp;&amp;!a.isEnabled()};goog.ui.Control.prototype.setEnabled=</span><span class="s3">function</span><span class="s1">(a){!</span><span class="s3">this</span><span class="s1">.isParentDisabled_()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.DISABLED,!a)&amp;&amp;(a||(</span><span class="s3">this</span><span class="s1">.setActive(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.setHighlighted(!</span><span class="s4">1</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.setFocusable(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.DISABLED,!a,!</span><span class="s4">0</span><span class="s1">))};goog.ui.Control.prototype.isHighlighted=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasState(goog.ui.Component.State.HOVER)};</span>
<a name="l653"><span class="ln">653  </span></a><span class="s1">goog.ui.Control.prototype.setHighlighted=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.HOVER,a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.HOVER,a)};goog.ui.Control.prototype.isActive=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasState(goog.ui.Component.State.ACTIVE)};goog.ui.Control.prototype.setActive=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.ACTIVE,a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.ACTIVE,a)};goog.ui.Control.prototype.isSelected=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasState(goog.ui.Component.State.SELECTED)};</span>
<a name="l654"><span class="ln">654  </span></a><span class="s1">goog.ui.Control.prototype.setSelected=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.SELECTED,a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.SELECTED,a)};goog.ui.Control.prototype.isChecked=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasState(goog.ui.Component.State.CHECKED)};goog.ui.Control.prototype.setChecked=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.CHECKED,a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.CHECKED,a)};goog.ui.Control.prototype.isFocused=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasState(goog.ui.Component.State.FOCUSED)};</span>
<a name="l655"><span class="ln">655  </span></a><span class="s1">goog.ui.Control.prototype.setFocused=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.FOCUSED,a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.FOCUSED,a)};goog.ui.Control.prototype.isOpen=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasState(goog.ui.Component.State.OPENED)};goog.ui.Control.prototype.setOpen=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTransitionAllowed(goog.ui.Component.State.OPENED,a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(goog.ui.Component.State.OPENED,a)};goog.ui.Control.prototype.getState=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.state_};</span>
<a name="l656"><span class="ln">656  </span></a><span class="s1">goog.ui.Control.prototype.hasState=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!!(</span><span class="s3">this</span><span class="s1">.state_&amp;a)};goog.ui.Control.prototype.setState=</span><span class="s3">function</span><span class="s1">(a,b,c){c||a!=goog.ui.Component.State.DISABLED?</span><span class="s3">this</span><span class="s1">.isSupportedState(a)&amp;&amp;b!=</span><span class="s3">this</span><span class="s1">.hasState(a)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.renderer_.setState(</span><span class="s3">this</span><span class="s1">,a,b),</span><span class="s3">this</span><span class="s1">.state_=b?</span><span class="s3">this</span><span class="s1">.state_|a:</span><span class="s3">this</span><span class="s1">.state_&amp;~a):</span><span class="s3">this</span><span class="s1">.setEnabled(!b)};goog.ui.Control.prototype.setStateInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.state_=a};goog.ui.Control.prototype.isSupportedState=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!!(</span><span class="s3">this</span><span class="s1">.supportedStates_&amp;a)};</span>
<a name="l657"><span class="ln">657  </span></a><span class="s1">goog.ui.Control.prototype.setSupportedState=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasState(a)&amp;&amp;!b)</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);!b&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasState(a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setState(a,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.supportedStates_=b?</span><span class="s3">this</span><span class="s1">.supportedStates_|a:</span><span class="s3">this</span><span class="s1">.supportedStates_&amp;~a};goog.ui.Control.prototype.isAutoState=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!!(</span><span class="s3">this</span><span class="s1">.autoStates_&amp;a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.isSupportedState(a)};goog.ui.Control.prototype.setAutoStates=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.autoStates_=b?</span><span class="s3">this</span><span class="s1">.autoStates_|a:</span><span class="s3">this</span><span class="s1">.autoStates_&amp;~a};</span>
<a name="l658"><span class="ln">658  </span></a><span class="s1">goog.ui.Control.prototype.isDispatchTransitionEvents=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!!(</span><span class="s3">this</span><span class="s1">.statesWithTransitionEvents_&amp;a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.isSupportedState(a)};goog.ui.Control.prototype.setDispatchTransitionEvents=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.statesWithTransitionEvents_=b?</span><span class="s3">this</span><span class="s1">.statesWithTransitionEvents_|a:</span><span class="s3">this</span><span class="s1">.statesWithTransitionEvents_&amp;~a};</span>
<a name="l659"><span class="ln">659  </span></a><span class="s1">goog.ui.Control.prototype.isTransitionAllowed=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return this</span><span class="s1">.isSupportedState(a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasState(a)!=b&amp;&amp;(!(</span><span class="s3">this</span><span class="s1">.statesWithTransitionEvents_&amp;a)||</span><span class="s3">this</span><span class="s1">.dispatchEvent(goog.ui.Component.getStateTransitionEvent(a,b)))&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isDisposed()};goog.ui.Control.prototype.handleMouseOver=</span><span class="s3">function</span><span class="s1">(a){!goog.ui.Control.isMouseEventWithinElement_(a,</span><span class="s3">this</span><span class="s1">.getElement())&amp;&amp;</span><span class="s3">this</span><span class="s1">.dispatchEvent(goog.ui.Component.EventType.ENTER)&amp;&amp;</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.HOVER)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setHighlighted(!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l660"><span class="ln">660  </span></a><span class="s1">goog.ui.Control.prototype.handleMouseOut=</span><span class="s3">function</span><span class="s1">(a){!goog.ui.Control.isMouseEventWithinElement_(a,</span><span class="s3">this</span><span class="s1">.getElement())&amp;&amp;</span><span class="s3">this</span><span class="s1">.dispatchEvent(goog.ui.Component.EventType.LEAVE)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.ACTIVE)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setActive(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.HOVER)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setHighlighted(!</span><span class="s4">1</span><span class="s1">))};goog.ui.Control.prototype.preventPointerCapture_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.target;b.releasePointerCapture&amp;&amp;b.releasePointerCapture(a.pointerId)};</span>
<a name="l661"><span class="ln">661  </span></a><span class="s1">goog.ui.Control.prototype.handleContextMenu=goog.nullFunction;goog.ui.Control.isMouseEventWithinElement_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">!!a.relatedTarget&amp;&amp;goog.dom.contains(b,a.relatedTarget)};</span>
<a name="l662"><span class="ln">662  </span></a><span class="s1">goog.ui.Control.prototype.handleMouseDown=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.HOVER)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setHighlighted(!</span><span class="s4">0</span><span class="s1">),a.isMouseActionButton()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.ACTIVE)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setActive(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.renderer_&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.isFocusable(</span><span class="s3">this</span><span class="s1">)&amp;&amp;</span><span class="s3">this</span><span class="s1">.getKeyEventTarget().focus()));!</span><span class="s3">this</span><span class="s1">.isAllowTextSelection()&amp;&amp;a.isMouseActionButton()&amp;&amp;a.preventDefault()};</span>
<a name="l663"><span class="ln">663  </span></a><span class="s1">goog.ui.Control.prototype.handleMouseUp=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.HOVER)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setHighlighted(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.isActive()&amp;&amp;</span><span class="s3">this</span><span class="s1">.performActionInternal(a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.ACTIVE)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setActive(!</span><span class="s4">1</span><span class="s1">))};goog.ui.Control.prototype.handleDblClick=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.performActionInternal(a)};</span>
<a name="l664"><span class="ln">664  </span></a><span class="s1">goog.ui.Control.prototype.performActionInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.CHECKED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setChecked(!</span><span class="s3">this</span><span class="s1">.isChecked());</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.SELECTED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setSelected(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.OPENED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setOpen(!</span><span class="s3">this</span><span class="s1">.isOpen());</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.events.Event(goog.ui.Component.EventType.ACTION,</span><span class="s3">this</span><span class="s1">);a&amp;&amp;(b.altKey=a.altKey,b.ctrlKey=a.ctrlKey,b.metaKey=a.metaKey,b.shiftKey=a.shiftKey,b.platformModifierKey=a.platformModifierKey);</span><span class="s3">return this</span><span class="s1">.dispatchEvent(b)};</span>
<a name="l665"><span class="ln">665  </span></a><span class="s1">goog.ui.Control.prototype.handleFocus=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.FOCUSED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setFocused(!</span><span class="s4">0</span><span class="s1">)};goog.ui.Control.prototype.handleBlur=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.ACTIVE)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setActive(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isAutoState(goog.ui.Component.State.FOCUSED)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setFocused(!</span><span class="s4">1</span><span class="s1">)};goog.ui.Control.prototype.handleKeyEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.isVisible()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l666"><span class="ln">666  </span></a><span class="s1">goog.ui.Control.prototype.handleKeyEventInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.keyCode==goog.events.KeyCodes.ENTER&amp;&amp;</span><span class="s3">this</span><span class="s1">.performActionInternal(a)};goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer);goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.ui.Control(</span><span class="s3">null</span><span class="s1">)});</span>
<a name="l667"><span class="ln">667  </span></a><span class="s1">goog.ui.Control.IeMouseEventSequenceSimulator_=</span><span class="s3">function</span><span class="s1">(a){goog.Disposable.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.control_=a;</span><span class="s3">this</span><span class="s1">.clickExpected_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.handler_=</span><span class="s3">new </span><span class="s1">goog.events.EventHandler(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.registerDisposable(</span><span class="s3">this</span><span class="s1">.handler_);a=</span><span class="s3">this</span><span class="s1">.control_.getElementStrict();</span><span class="s3">this</span><span class="s1">.handler_.listen(a,goog.events.EventType.MOUSEDOWN,</span><span class="s3">this</span><span class="s1">.handleMouseDown_).listen(a,goog.events.EventType.MOUSEUP,</span><span class="s3">this</span><span class="s1">.handleMouseUp_).listen(a,goog.events.EventType.CLICK,</span><span class="s3">this</span><span class="s1">.handleClick_)};</span>
<a name="l668"><span class="ln">668  </span></a><span class="s1">goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable);goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(</span><span class="s4">9</span><span class="s1">);goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.clickExpected_=!</span><span class="s4">1</span><span class="s1">};goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.clickExpected_=!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l669"><span class="ln">669  </span></a><span class="s1">goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)</span><span class="s3">return </span><span class="s1">a.button=goog.events.BrowserEvent.MouseButton.LEFT,a.type=b,a;</span><span class="s3">var </span><span class="s1">c=document.createEvent(</span><span class="s2">&quot;MouseEvents&quot;</span><span class="s1">);c.initMouseEvent(b,a.bubbles,a.cancelable,a.view||</span><span class="s3">null</span><span class="s1">,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,a.relatedTarget||</span><span class="s3">null</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l670"><span class="ln">670  </span></a><span class="s1">goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.clickExpected_)</span><span class="s3">this</span><span class="s1">.clickExpected_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a.getBrowserEvent(),c=b.button,d=b.type,e=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b,goog.events.EventType.MOUSEDOWN);</span><span class="s3">this</span><span class="s1">.control_.handleMouseDown(</span><span class="s3">new </span><span class="s1">goog.events.BrowserEvent(e,a.currentTarget));e=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(b,goog.events.EventType.MOUSEUP);</span><span class="s3">this</span><span class="s1">.control_.handleMouseUp(</span><span class="s3">new </span><span class="s1">goog.events.BrowserEvent(e,</span>
<a name="l671"><span class="ln">671  </span></a><span class="s1">a.currentTarget));goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(b.button=c,b.type=d)}};goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.control_=</span><span class="s3">null</span><span class="s1">;goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">)};goog.ui.Container=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.Component.call(</span><span class="s3">this</span><span class="s1">,c);</span><span class="s3">this</span><span class="s1">.renderer_=b||goog.ui.ContainerRenderer.getInstance();</span><span class="s3">this</span><span class="s1">.orientation_=a||</span><span class="s3">this</span><span class="s1">.renderer_.getDefaultOrientation()};goog.inherits(goog.ui.Container,goog.ui.Component);goog.tagUnsealableClass(goog.ui.Container);goog.ui.Container.EventType={AFTER_SHOW:</span><span class="s2">&quot;aftershow&quot;</span><span class="s1">,AFTER_HIDE:</span><span class="s2">&quot;afterhide&quot;</span><span class="s1">};goog.ui.Container.Orientation={HORIZONTAL:</span><span class="s2">&quot;horizontal&quot;</span><span class="s1">,VERTICAL:</span><span class="s2">&quot;vertical&quot;</span><span class="s1">};goog.ui.Container.prototype.keyEventTarget_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l672"><span class="ln">672  </span></a><span class="s1">goog.ui.Container.prototype.keyHandler_=</span><span class="s3">null</span><span class="s1">;goog.ui.Container.prototype.renderer_=</span><span class="s3">null</span><span class="s1">;goog.ui.Container.prototype.orientation_=</span><span class="s3">null</span><span class="s1">;goog.ui.Container.prototype.visible_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Container.prototype.enabled_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Container.prototype.focusable_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Container.prototype.highlightedIndex_=-</span><span class="s4">1</span><span class="s1">;goog.ui.Container.prototype.openItem_=</span><span class="s3">null</span><span class="s1">;goog.ui.Container.prototype.mouseButtonPressed_=!</span><span class="s4">1</span><span class="s1">;goog.ui.Container.prototype.allowFocusableChildren_=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l673"><span class="ln">673  </span></a><span class="s1">goog.ui.Container.prototype.openFollowsHighlight_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Container.prototype.childElementIdMap_=</span><span class="s3">null</span><span class="s1">;goog.ui.Container.prototype.getKeyEventTarget=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.keyEventTarget_||</span><span class="s3">this</span><span class="s1">.renderer_.getKeyEventTarget(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l674"><span class="ln">674  </span></a><span class="s1">goog.ui.Container.prototype.setKeyEventTarget=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.focusable_){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getKeyEventTarget(),c=</span><span class="s3">this</span><span class="s1">.isInDocument();</span><span class="s3">this</span><span class="s1">.keyEventTarget_=a;</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getKeyEventTarget();c&amp;&amp;(</span><span class="s3">this</span><span class="s1">.keyEventTarget_=b,</span><span class="s3">this</span><span class="s1">.enableFocusHandling_(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.keyEventTarget_=a,</span><span class="s3">this</span><span class="s1">.getKeyHandler().attach(d),</span><span class="s3">this</span><span class="s1">.enableFocusHandling_(!</span><span class="s4">0</span><span class="s1">))}</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;Can't set key event target for container that doesn't support keyboard focus!&quot;</span><span class="s1">);};</span>
<a name="l675"><span class="ln">675  </span></a><span class="s1">goog.ui.Container.prototype.getKeyHandler=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.keyHandler_||(</span><span class="s3">this</span><span class="s1">.keyHandler_=</span><span class="s3">new </span><span class="s1">goog.events.KeyHandler(</span><span class="s3">this</span><span class="s1">.getKeyEventTarget()))};goog.ui.Container.prototype.getRenderer=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.renderer_};goog.ui.Container.prototype.setRenderer=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.getElement())</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">this</span><span class="s1">.renderer_=a};goog.ui.Container.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setElementInternal(</span><span class="s3">this</span><span class="s1">.renderer_.createDom(</span><span class="s3">this</span><span class="s1">))};</span>
<a name="l676"><span class="ln">676  </span></a><span class="s1">goog.ui.Container.prototype.getContentElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.renderer_.getContentElement(</span><span class="s3">this</span><span class="s1">.getElement())};goog.ui.Container.prototype.canDecorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.renderer_.canDecorate(a)};goog.ui.Container.prototype.decorateInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setElementInternal(</span><span class="s3">this</span><span class="s1">.renderer_.decorate(</span><span class="s3">this</span><span class="s1">,a));</span><span class="s2">&quot;none&quot;</span><span class="s1">==a.style.display&amp;&amp;(</span><span class="s3">this</span><span class="s1">.visible_=!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l677"><span class="ln">677  </span></a><span class="s1">goog.ui.Container.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.Container.superClass_.enterDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.registerChildId_(a)},</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();</span><span class="s3">this</span><span class="s1">.renderer_.initializeDom(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setVisible(</span><span class="s3">this</span><span class="s1">.visible_,!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=goog.ui.ComponentUtil.getMouseEventType(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.getHandler().listen(</span><span class="s3">this</span><span class="s1">,goog.ui.Component.EventType.ENTER,</span><span class="s3">this</span><span class="s1">.handleEnterItem).listen(</span><span class="s3">this</span><span class="s1">,goog.ui.Component.EventType.HIGHLIGHT,</span><span class="s3">this</span><span class="s1">.handleHighlightItem).listen(</span><span class="s3">this</span><span class="s1">,</span>
<a name="l678"><span class="ln">678  </span></a><span class="s1">goog.ui.Component.EventType.UNHIGHLIGHT,</span><span class="s3">this</span><span class="s1">.handleUnHighlightItem).listen(</span><span class="s3">this</span><span class="s1">,goog.ui.Component.EventType.OPEN,</span><span class="s3">this</span><span class="s1">.handleOpenItem).listen(</span><span class="s3">this</span><span class="s1">,goog.ui.Component.EventType.CLOSE,</span><span class="s3">this</span><span class="s1">.handleCloseItem).listen(a,b.MOUSEDOWN,</span><span class="s3">this</span><span class="s1">.handleMouseDown).listen(goog.dom.getOwnerDocument(a),[b.MOUSEUP,b.MOUSECANCEL],</span><span class="s3">this</span><span class="s1">.handleDocumentMouseUp).listen(a,[b.MOUSEDOWN,b.MOUSEUP,b.MOUSECANCEL,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],</span><span class="s3">this</span><span class="s1">.handleChildMouseEvents);</span>
<a name="l679"><span class="ln">679  </span></a><span class="s3">this</span><span class="s1">.pointerEventsEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.getHandler().listen(a,goog.events.EventType.GOTPOINTERCAPTURE,</span><span class="s3">this</span><span class="s1">.preventPointerCapture_);</span><span class="s3">this</span><span class="s1">.isFocusable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.enableFocusHandling_(!</span><span class="s4">0</span><span class="s1">)};goog.ui.Container.prototype.preventPointerCapture_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.target;b.releasePointerCapture&amp;&amp;b.releasePointerCapture(a.pointerId)};</span>
<a name="l680"><span class="ln">680  </span></a><span class="s1">goog.ui.Container.prototype.enableFocusHandling_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getHandler(),c=</span><span class="s3">this</span><span class="s1">.getKeyEventTarget();a?b.listen(c,goog.events.EventType.FOCUS,</span><span class="s3">this</span><span class="s1">.handleFocus).listen(c,goog.events.EventType.BLUR,</span><span class="s3">this</span><span class="s1">.handleBlur).listen(</span><span class="s3">this</span><span class="s1">.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,</span><span class="s3">this</span><span class="s1">.handleKeyEvent):b.unlisten(c,goog.events.EventType.FOCUS,</span><span class="s3">this</span><span class="s1">.handleFocus).unlisten(c,goog.events.EventType.BLUR,</span><span class="s3">this</span><span class="s1">.handleBlur).unlisten(</span><span class="s3">this</span><span class="s1">.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,</span><span class="s3">this</span><span class="s1">.handleKeyEvent)};</span>
<a name="l681"><span class="ln">681  </span></a><span class="s1">goog.ui.Container.prototype.exitDocument=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setHighlightedIndex(-</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;</span><span class="s3">this</span><span class="s1">.openItem_.setOpen(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.mouseButtonPressed_=!</span><span class="s4">1</span><span class="s1">;goog.ui.Container.superClass_.exitDocument.call(</span><span class="s3">this</span><span class="s1">)};goog.ui.Container.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.ui.Container.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.keyHandler_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.keyHandler_.dispose(),</span><span class="s3">this</span><span class="s1">.keyHandler_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.renderer_=</span><span class="s3">this</span><span class="s1">.openItem_=</span><span class="s3">this</span><span class="s1">.childElementIdMap_=</span><span class="s3">this</span><span class="s1">.keyEventTarget_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l682"><span class="ln">682  </span></a><span class="s1">goog.ui.Container.prototype.handleEnterItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l683"><span class="ln">683  </span></a><span class="s1">goog.ui.Container.prototype.handleHighlightItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.indexOfChild(a.target);</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">&lt;b&amp;&amp;b!=</span><span class="s3">this</span><span class="s1">.highlightedIndex_){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getHighlighted();c&amp;&amp;c.setHighlighted(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.highlightedIndex_=b;c=</span><span class="s3">this</span><span class="s1">.getHighlighted();</span><span class="s3">this</span><span class="s1">.isMouseButtonPressed()&amp;&amp;c.setActive(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.openFollowsHighlight_&amp;&amp;</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;c!=</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;(c.isSupportedState(goog.ui.Component.State.OPENED)?c.setOpen(!</span><span class="s4">0</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.openItem_.setOpen(!</span><span class="s4">1</span><span class="s1">))}b=</span><span class="s3">this</span><span class="s1">.getElement();goog.asserts.assert(b,</span><span class="s2">&quot;The DOM element for the container cannot be null.&quot;</span><span class="s1">);</span>
<a name="l684"><span class="ln">684  </span></a><span class="s3">null</span><span class="s1">!=a.target.getElement()&amp;&amp;goog.a11y.aria.setState(b,goog.a11y.aria.State.ACTIVEDESCENDANT,a.target.getElement().id)};goog.ui.Container.prototype.handleUnHighlightItem=</span><span class="s3">function</span><span class="s1">(a){a.target==</span><span class="s3">this</span><span class="s1">.getHighlighted()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.highlightedIndex_=-</span><span class="s4">1</span><span class="s1">);a=</span><span class="s3">this</span><span class="s1">.getElement();goog.asserts.assert(a,</span><span class="s2">&quot;The DOM element for the container cannot be null.&quot;</span><span class="s1">);goog.a11y.aria.removeState(a,goog.a11y.aria.State.ACTIVEDESCENDANT)};</span>
<a name="l685"><span class="ln">685  </span></a><span class="s1">goog.ui.Container.prototype.handleOpenItem=</span><span class="s3">function</span><span class="s1">(a){(a=a.target)&amp;&amp;a!=</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;a.getParent()==</span><span class="s3">this</span><span class="s1">&amp;&amp;(</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;</span><span class="s3">this</span><span class="s1">.openItem_.setOpen(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.openItem_=a)};goog.ui.Container.prototype.handleCloseItem=</span><span class="s3">function</span><span class="s1">(a){a.target==</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.openItem_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement(),c=a.target.getElement();b&amp;&amp;a.target.isHighlighted()&amp;&amp;c&amp;&amp;goog.a11y.aria.setActiveDescendant(b,c)};</span>
<a name="l686"><span class="ln">686  </span></a><span class="s1">goog.ui.Container.prototype.handleMouseDown=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.enabled_&amp;&amp;</span><span class="s3">this</span><span class="s1">.setMouseButtonPressed(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getKeyEventTarget();b&amp;&amp;goog.dom.isFocusableTabIndex(b)?b.focus():a.preventDefault()};goog.ui.Container.prototype.handleDocumentMouseUp=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setMouseButtonPressed(!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l687"><span class="ln">687  </span></a><span class="s1">goog.ui.Container.prototype.handleChildMouseEvents=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.ui.ComponentUtil.getMouseEventType(</span><span class="s3">this</span><span class="s1">),c=</span><span class="s3">this</span><span class="s1">.getOwnerControl(a.target);</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">switch</span><span class="s1">(a.type){</span><span class="s3">case </span><span class="s1">b.MOUSEDOWN:c.handleMouseDown(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">b.MOUSEUP:</span><span class="s3">case </span><span class="s1">b.MOUSECANCEL:c.handleMouseUp(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.EventType.MOUSEOVER:c.handleMouseOver(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.EventType.MOUSEOUT:c.handleMouseOut(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.EventType.CONTEXTMENU:c.handleContextMenu(a)}};</span>
<a name="l688"><span class="ln">688  </span></a><span class="s1">goog.ui.Container.prototype.getOwnerControl=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.childElementIdMap_)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();a&amp;&amp;a!==b;){</span><span class="s3">var </span><span class="s1">c=a.id;</span><span class="s3">if</span><span class="s1">(c </span><span class="s3">in this</span><span class="s1">.childElementIdMap_)</span><span class="s3">return this</span><span class="s1">.childElementIdMap_[c];a=a.parentNode}</span><span class="s3">return null</span><span class="s1">};goog.ui.Container.prototype.handleFocus=</span><span class="s3">function</span><span class="s1">(a){};goog.ui.Container.prototype.handleBlur=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setHighlightedIndex(-</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setMouseButtonPressed(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;</span><span class="s3">this</span><span class="s1">.openItem_.setOpen(!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l689"><span class="ln">689  </span></a><span class="s1">goog.ui.Container.prototype.handleKeyEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;(</span><span class="s4">0</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.getChildCount()||</span><span class="s3">this</span><span class="s1">.keyEventTarget_)&amp;&amp;</span><span class="s3">this</span><span class="s1">.handleKeyEventInternal(a)?(a.preventDefault(),a.stopPropagation(),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l690"><span class="ln">690  </span></a><span class="s1">goog.ui.Container.prototype.handleKeyEventInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getHighlighted();</span><span class="s3">if</span><span class="s1">(b&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">b.handleKeyEvent&amp;&amp;b.handleKeyEvent(a)||</span><span class="s3">this</span><span class="s1">.openItem_&amp;&amp;</span><span class="s3">this</span><span class="s1">.openItem_!=b&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof this</span><span class="s1">.openItem_.handleKeyEvent&amp;&amp;</span><span class="s3">this</span><span class="s1">.openItem_.handleKeyEvent(a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a.keyCode){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.ESC:</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isFocusable())</span><span class="s3">this</span><span class="s1">.getKeyEventTarget().blur();</span><span class="s3">else return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.HOME:</span><span class="s3">this</span><span class="s1">.highlightFirst();</span>
<a name="l691"><span class="ln">691  </span></a><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.END:</span><span class="s3">this</span><span class="s1">.highlightLast();</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.UP:</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.orientation_==goog.ui.Container.Orientation.VERTICAL)</span><span class="s3">this</span><span class="s1">.highlightPrevious();</span><span class="s3">else return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.LEFT:</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.orientation_==goog.ui.Container.Orientation.HORIZONTAL)</span><span class="s3">this</span><span class="s1">.isRightToLeft()?</span><span class="s3">this</span><span class="s1">.highlightNext():</span><span class="s3">this</span><span class="s1">.highlightPrevious();</span><span class="s3">else return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.DOWN:</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.orientation_==goog.ui.Container.Orientation.VERTICAL)</span><span class="s3">this</span><span class="s1">.highlightNext();</span><span class="s3">else return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l692"><span class="ln">692  </span></a><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.RIGHT:</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.orientation_==goog.ui.Container.Orientation.HORIZONTAL)</span><span class="s3">this</span><span class="s1">.isRightToLeft()?</span><span class="s3">this</span><span class="s1">.highlightPrevious():</span><span class="s3">this</span><span class="s1">.highlightNext();</span><span class="s3">else return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.ui.Container.prototype.registerChildId_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getElement();b=b.id||(b.id=a.getId());</span><span class="s3">this</span><span class="s1">.childElementIdMap_||(</span><span class="s3">this</span><span class="s1">.childElementIdMap_={});</span><span class="s3">this</span><span class="s1">.childElementIdMap_[b]=a};</span>
<a name="l693"><span class="ln">693  </span></a><span class="s1">goog.ui.Container.prototype.addChild=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assertInstanceof(a,goog.ui.Control,</span><span class="s2">&quot;The child of a container must be a control&quot;</span><span class="s1">);goog.ui.Container.superClass_.addChild.call(</span><span class="s3">this</span><span class="s1">,a,b)};</span>
<a name="l694"><span class="ln">694  </span></a><span class="s1">goog.ui.Container.prototype.addChildAt=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assertInstanceof(a,goog.ui.Control);a.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!</span><span class="s4">0</span><span class="s1">);a.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!</span><span class="s4">0</span><span class="s1">);!</span><span class="s3">this</span><span class="s1">.isFocusable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isFocusableChildrenAllowed()||a.setSupportedState(goog.ui.Component.State.FOCUSED,!</span><span class="s4">1</span><span class="s1">);a.setHandleMouseEvents(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=a.getParent()==</span><span class="s3">this</span><span class="s1">?</span><span class="s3">this</span><span class="s1">.indexOfChild(a):-</span><span class="s4">1</span><span class="s1">;goog.ui.Container.superClass_.addChildAt.call(</span><span class="s3">this</span><span class="s1">,a,b,c);a.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span>
<a name="l695"><span class="ln">695  </span></a><span class="s3">this</span><span class="s1">.registerChildId_(a);</span><span class="s3">this</span><span class="s1">.updateHighlightedIndex_(d,b)};goog.ui.Container.prototype.updateHighlightedIndex_=</span><span class="s3">function</span><span class="s1">(a,b){-</span><span class="s4">1</span><span class="s1">==a&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.getChildCount());a==</span><span class="s3">this</span><span class="s1">.highlightedIndex_?</span><span class="s3">this</span><span class="s1">.highlightedIndex_=Math.min(</span><span class="s3">this</span><span class="s1">.getChildCount()-</span><span class="s4">1</span><span class="s1">,b):a&gt;</span><span class="s3">this</span><span class="s1">.highlightedIndex_&amp;&amp;b&lt;=</span><span class="s3">this</span><span class="s1">.highlightedIndex_?</span><span class="s3">this</span><span class="s1">.highlightedIndex_++:a&lt;</span><span class="s3">this</span><span class="s1">.highlightedIndex_&amp;&amp;b&gt;</span><span class="s3">this</span><span class="s1">.highlightedIndex_&amp;&amp;</span><span class="s3">this</span><span class="s1">.highlightedIndex_--};</span>
<a name="l696"><span class="ln">696  </span></a><span class="s1">goog.ui.Container.prototype.removeChild=</span><span class="s3">function</span><span class="s1">(a,b){a=goog.isString(a)?</span><span class="s3">this</span><span class="s1">.getChild(a):a;goog.asserts.assertInstanceof(a,goog.ui.Control);</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.indexOfChild(a);-</span><span class="s4">1</span><span class="s1">!=c&amp;&amp;(c==</span><span class="s3">this</span><span class="s1">.highlightedIndex_?(a.setHighlighted(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.highlightedIndex_=-</span><span class="s4">1</span><span class="s1">):c&lt;</span><span class="s3">this</span><span class="s1">.highlightedIndex_&amp;&amp;</span><span class="s3">this</span><span class="s1">.highlightedIndex_--);(c=a.getElement())&amp;&amp;c.id&amp;&amp;</span><span class="s3">this</span><span class="s1">.childElementIdMap_&amp;&amp;goog.object.remove(</span><span class="s3">this</span><span class="s1">.childElementIdMap_,c.id)}a=goog.ui.Container.superClass_.removeChild.call(</span><span class="s3">this</span><span class="s1">,a,b);a.setHandleMouseEvents(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l697"><span class="ln">697  </span></a><span class="s1">goog.ui.Container.prototype.getOrientation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.orientation_};goog.ui.Container.prototype.setOrientation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.getElement())</span><span class="s3">throw </span><span class="s1">Error(goog.ui.Component.Error.ALREADY_RENDERED);</span><span class="s3">this</span><span class="s1">.orientation_=a};goog.ui.Container.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.visible_};</span>
<a name="l698"><span class="ln">698  </span></a><span class="s1">goog.ui.Container.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b||</span><span class="s3">this</span><span class="s1">.visible_!=a&amp;&amp;</span><span class="s3">this</span><span class="s1">.dispatchEvent(a?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){</span><span class="s3">this</span><span class="s1">.visible_=a;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getElement();c&amp;&amp;(goog.style.setElementShown(c,a),</span><span class="s3">this</span><span class="s1">.isFocusable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.enableTabIndex(</span><span class="s3">this</span><span class="s1">.getKeyEventTarget(),</span><span class="s3">this</span><span class="s1">.enabled_&amp;&amp;</span><span class="s3">this</span><span class="s1">.visible_),b||</span><span class="s3">this</span><span class="s1">.dispatchEvent(</span><span class="s3">this</span><span class="s1">.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE));</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l699"><span class="ln">699  </span></a><span class="s1">goog.ui.Container.prototype.isEnabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.enabled_};</span>
<a name="l700"><span class="ln">700  </span></a><span class="s1">goog.ui.Container.prototype.setEnabled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.enabled_!=a&amp;&amp;</span><span class="s3">this</span><span class="s1">.dispatchEvent(a?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&amp;&amp;(a?(</span><span class="s3">this</span><span class="s1">.enabled_=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.wasDisabled?</span><span class="s3">delete </span><span class="s1">a.wasDisabled:a.setEnabled(!</span><span class="s4">0</span><span class="s1">)})):(</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.isEnabled()?a.setEnabled(!</span><span class="s4">1</span><span class="s1">):a.wasDisabled=!</span><span class="s4">0</span><span class="s1">}),</span><span class="s3">this</span><span class="s1">.enabled_=!</span><span class="s4">1</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.setMouseButtonPressed(!</span><span class="s4">1</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.isFocusable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.enableTabIndex(</span><span class="s3">this</span><span class="s1">.getKeyEventTarget(),a&amp;&amp;</span><span class="s3">this</span><span class="s1">.visible_))};</span>
<a name="l701"><span class="ln">701  </span></a><span class="s1">goog.ui.Container.prototype.isFocusable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.focusable_};goog.ui.Container.prototype.setFocusable=</span><span class="s3">function</span><span class="s1">(a){a!=</span><span class="s3">this</span><span class="s1">.focusable_&amp;&amp;</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.enableFocusHandling_(a);</span><span class="s3">this</span><span class="s1">.focusable_=a;</span><span class="s3">this</span><span class="s1">.enabled_&amp;&amp;</span><span class="s3">this</span><span class="s1">.visible_&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderer_.enableTabIndex(</span><span class="s3">this</span><span class="s1">.getKeyEventTarget(),a)};goog.ui.Container.prototype.isFocusableChildrenAllowed=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.allowFocusableChildren_};</span>
<a name="l702"><span class="ln">702  </span></a><span class="s1">goog.ui.Container.prototype.setFocusableChildrenAllowed=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.allowFocusableChildren_=a};goog.ui.Container.prototype.isOpenFollowsHighlight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.openFollowsHighlight_};goog.ui.Container.prototype.setOpenFollowsHighlight=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.openFollowsHighlight_=a};goog.ui.Container.prototype.getHighlightedIndex=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.highlightedIndex_};</span>
<a name="l703"><span class="ln">703  </span></a><span class="s1">goog.ui.Container.prototype.setHighlightedIndex=</span><span class="s3">function</span><span class="s1">(a){(a=</span><span class="s3">this</span><span class="s1">.getChildAt(a))?a.setHighlighted(!</span><span class="s4">0</span><span class="s1">):-</span><span class="s4">1</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.highlightedIndex_&amp;&amp;</span><span class="s3">this</span><span class="s1">.getHighlighted().setHighlighted(!</span><span class="s4">1</span><span class="s1">)};goog.ui.Container.prototype.setHighlighted=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setHighlightedIndex(</span><span class="s3">this</span><span class="s1">.indexOfChild(a))};goog.ui.Container.prototype.getHighlighted=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getChildAt(</span><span class="s3">this</span><span class="s1">.highlightedIndex_)};</span>
<a name="l704"><span class="ln">704  </span></a><span class="s1">goog.ui.Container.prototype.highlightFirst=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.highlightHelper(</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">(a+</span><span class="s4">1</span><span class="s1">)%b},</span><span class="s3">this</span><span class="s1">.getChildCount()-</span><span class="s4">1</span><span class="s1">)};goog.ui.Container.prototype.highlightLast=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.highlightHelper(</span><span class="s3">function</span><span class="s1">(a,b){a--;</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;a?b-1:a},</span><span class="s4">0</span><span class="s1">)};goog.ui.Container.prototype.highlightNext=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.highlightHelper(</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">(a+</span><span class="s4">1</span><span class="s1">)%b},</span><span class="s3">this</span><span class="s1">.highlightedIndex_)};goog.ui.Container.prototype.highlightPrevious=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.highlightHelper(</span><span class="s3">function</span><span class="s1">(a,b){a--;</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&gt;a?b-1:a},</span><span class="s3">this</span><span class="s1">.highlightedIndex_)};</span>
<a name="l705"><span class="ln">705  </span></a><span class="s1">goog.ui.Container.prototype.highlightHelper=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">&gt;b?</span><span class="s3">this</span><span class="s1">.indexOfChild(</span><span class="s3">this</span><span class="s1">.openItem_):b,d=</span><span class="s3">this</span><span class="s1">.getChildCount();c=a.call(</span><span class="s3">this</span><span class="s1">,c,d);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;=d;){</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.getChildAt(c);</span><span class="s3">if</span><span class="s1">(f&amp;&amp;</span><span class="s3">this</span><span class="s1">.canHighlightItem(f))</span><span class="s3">return this</span><span class="s1">.setHighlightedIndexFromKeyEvent(c),!</span><span class="s4">0</span><span class="s1">;e++;c=a.call(</span><span class="s3">this</span><span class="s1">,c,d)}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.ui.Container.prototype.canHighlightItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.isVisible()&amp;&amp;a.isEnabled()&amp;&amp;a.isSupportedState(goog.ui.Component.State.HOVER)};</span>
<a name="l706"><span class="ln">706  </span></a><span class="s1">goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setHighlightedIndex(a)};goog.ui.Container.prototype.getOpenItem=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.openItem_};goog.ui.Container.prototype.isMouseButtonPressed=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.mouseButtonPressed_};goog.ui.Container.prototype.setMouseButtonPressed=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.mouseButtonPressed_=a};goog.ui.MenuHeaderRenderer=</span><span class="s3">function</span><span class="s1">(){goog.ui.ControlRenderer.call(</span><span class="s3">this</span><span class="s1">)};goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuHeaderRenderer);goog.ui.MenuHeaderRenderer.CSS_CLASS=</span><span class="s2">&quot;goog-menuheader&quot;</span><span class="s1">;goog.ui.MenuHeaderRenderer.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.MenuHeaderRenderer.CSS_CLASS};goog.ui.MenuHeader=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.Control.call(</span><span class="s3">this</span><span class="s1">,a,c||goog.ui.MenuHeaderRenderer.getInstance(),b);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.DISABLED,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.HOVER,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.ACTIVE,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.FOCUSED,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.MenuHeader,goog.ui.Control);</span>
<a name="l707"><span class="ln">707  </span></a><span class="s1">goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.ui.MenuHeader(</span><span class="s3">null</span><span class="s1">)});goog.ui.MenuItemRenderer=</span><span class="s3">function</span><span class="s1">(){goog.ui.ControlRenderer.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.classNameCache_=[]};goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuItemRenderer);goog.ui.MenuItemRenderer.CSS_CLASS=</span><span class="s2">&quot;goog-menuitem&quot;</span><span class="s1">;goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:</span><span class="s4">0</span><span class="s1">,CHECKBOX:</span><span class="s4">1</span><span class="s1">,CONTENT:</span><span class="s4">2</span><span class="s1">};</span>
<a name="l708"><span class="ln">708  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.classNameCache_[a];</span><span class="s3">if</span><span class="s1">(!b){</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:b=</span><span class="s3">this</span><span class="s1">.getStructuralCssClass()+</span><span class="s2">&quot;-highlight&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:b=</span><span class="s3">this</span><span class="s1">.getStructuralCssClass()+</span><span class="s2">&quot;-checkbox&quot;</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:b=</span><span class="s3">this</span><span class="s1">.getStructuralCssClass()+</span><span class="s2">&quot;-content&quot;</span><span class="s1">}</span><span class="s3">this</span><span class="s1">.classNameCache_[a]=b}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l709"><span class="ln">709  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.getAriaRole=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.a11y.aria.Role.MENU_ITEM};goog.ui.MenuItemRenderer.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getDomHelper().createDom(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getClassNames(a).join(</span><span class="s2">&quot; &quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.createContent(a.getContent(),a.getDomHelper()));</span><span class="s3">this</span><span class="s1">.setEnableCheckBoxStructure(a,b,a.isSupportedState(goog.ui.Component.State.SELECTED)||a.isSupportedState(goog.ui.Component.State.CHECKED));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l710"><span class="ln">710  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.getContentElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.firstChild};goog.ui.MenuItemRenderer.prototype.decorate=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(b);</span><span class="s3">this</span><span class="s1">.hasContentStructure(b)||b.appendChild(</span><span class="s3">this</span><span class="s1">.createContent(b.childNodes,a.getDomHelper()));goog.dom.classlist.contains(b,</span><span class="s2">&quot;goog-option&quot;</span><span class="s1">)&amp;&amp;(a.setCheckable(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.setCheckable(a,b,!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">return </span><span class="s1">goog.ui.MenuItemRenderer.superClass_.decorate.call(</span><span class="s3">this</span><span class="s1">,a,b)};</span>
<a name="l711"><span class="ln">711  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.setContent=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getContentElement(a),d=</span><span class="s3">this</span><span class="s1">.hasCheckBoxStructure(a)?c.firstChild:</span><span class="s3">null</span><span class="s1">;goog.ui.MenuItemRenderer.superClass_.setContent.call(</span><span class="s3">this</span><span class="s1">,a,b);d&amp;&amp;!</span><span class="s3">this</span><span class="s1">.hasCheckBoxStructure(a)&amp;&amp;c.insertBefore(d,c.firstChild||</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l712"><span class="ln">712  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.hasContentStructure=</span><span class="s3">function</span><span class="s1">(a){a=goog.dom.getFirstElementChild(a);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);</span><span class="s3">return</span><span class="s1">!!a&amp;&amp;goog.dom.classlist.contains(a,b)};goog.ui.MenuItemRenderer.prototype.createContent=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);</span><span class="s3">return </span><span class="s1">b.createDom(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,c,a)};</span>
<a name="l713"><span class="ln">713  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.setSelectable=</span><span class="s3">function</span><span class="s1">(a,b,c){a&amp;&amp;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.setEnableCheckBoxStructure(a,b,c)};goog.ui.MenuItemRenderer.prototype.setCheckable=</span><span class="s3">function</span><span class="s1">(a,b,c){a&amp;&amp;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.setEnableCheckBoxStructure(a,b,c)};goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.getContentElement(a)){a=a.firstChild;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);</span><span class="s3">return</span><span class="s1">!!a&amp;&amp;goog.dom.isElement(a)&amp;&amp;goog.dom.classlist.contains(a,b)}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l714"><span class="ln">714  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.setAriaRole(b,a.getPreferredAriaRole());</span><span class="s3">this</span><span class="s1">.setAriaStates(a,b);c!=</span><span class="s3">this</span><span class="s1">.hasCheckBoxStructure(b)&amp;&amp;(goog.dom.classlist.enable(b,</span><span class="s2">&quot;goog-option&quot;</span><span class="s1">,c),b=</span><span class="s3">this</span><span class="s1">.getContentElement(b),c?(c=</span><span class="s3">this</span><span class="s1">.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),b.insertBefore(a.getDomHelper().createDom(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,c),b.firstChild||</span><span class="s3">null</span><span class="s1">)):b.removeChild(b.firstChild))};</span>
<a name="l715"><span class="ln">715  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.getClassForState=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.HOVER:</span><span class="s3">return this</span><span class="s1">.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.CHECKED:</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.SELECTED:</span><span class="s3">return</span><span class="s2">&quot;goog-option-selected&quot;</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">return </span><span class="s1">goog.ui.MenuItemRenderer.superClass_.getClassForState.call(</span><span class="s3">this</span><span class="s1">,a)}};</span>
<a name="l716"><span class="ln">716  </span></a><span class="s1">goog.ui.MenuItemRenderer.prototype.getStateFromClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s2">&quot;goog-option-selected&quot;</span><span class="s1">:</span><span class="s3">return </span><span class="s1">goog.ui.Component.State.CHECKED;</span><span class="s3">case </span><span class="s1">b:</span><span class="s3">return </span><span class="s1">goog.ui.Component.State.HOVER;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">return </span><span class="s1">goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(</span><span class="s3">this</span><span class="s1">,a)}};goog.ui.MenuItemRenderer.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.MenuItemRenderer.CSS_CLASS};goog.ui.MenuItem=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.ui.Control.call(</span><span class="s3">this</span><span class="s1">,a,d||goog.ui.MenuItemRenderer.getInstance(),c);</span><span class="s3">this</span><span class="s1">.setValue(b)};goog.inherits(goog.ui.MenuItem,goog.ui.Control);goog.tagUnsealableClass(goog.ui.MenuItem);goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_=</span><span class="s2">&quot;goog-menuitem-mnemonic-separator&quot;</span><span class="s1">;goog.ui.MenuItem.ACCELERATOR_CLASS=</span><span class="s2">&quot;goog-menuitem-accel&quot;</span><span class="s1">;goog.ui.MenuItem.prototype.getValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getModel();</span><span class="s3">return null</span><span class="s1">!=a?a:</span><span class="s3">this</span><span class="s1">.getCaption()};goog.ui.MenuItem.prototype.setValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setModel(a)};</span>
<a name="l717"><span class="ln">717  </span></a><span class="s1">goog.ui.MenuItem.prototype.setSupportedState=</span><span class="s3">function</span><span class="s1">(a,b){goog.ui.MenuItem.superClass_.setSupportedState.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">switch</span><span class="s1">(a){</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.SELECTED:</span><span class="s3">this</span><span class="s1">.setSelectableInternal_(b);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.ui.Component.State.CHECKED:</span><span class="s3">this</span><span class="s1">.setCheckableInternal_(b)}};goog.ui.MenuItem.prototype.setSelectable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.SELECTED,a)};</span>
<a name="l718"><span class="ln">718  </span></a><span class="s1">goog.ui.MenuItem.prototype.setSelectableInternal_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isChecked()&amp;&amp;!a&amp;&amp;</span><span class="s3">this</span><span class="s1">.setChecked(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.getRenderer().setSelectable(</span><span class="s3">this</span><span class="s1">,b,a)};goog.ui.MenuItem.prototype.setCheckable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.CHECKED,a)};goog.ui.MenuItem.prototype.setCheckableInternal_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.getRenderer().setCheckable(</span><span class="s3">this</span><span class="s1">,b,a)};</span>
<a name="l719"><span class="ln">719  </span></a><span class="s1">goog.ui.MenuItem.prototype.getCaption=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getContent();</span><span class="s3">if</span><span class="s1">(goog.isArray(a)){</span><span class="s3">var </span><span class="s1">b=goog.ui.MenuItem.ACCELERATOR_CLASS,c=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_;a=goog.array.map(a,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.isElement(a)&amp;&amp;(goog.dom.classlist.contains(a,b)||goog.dom.classlist.contains(a,c))?</span><span class="s2">&quot;&quot;</span><span class="s1">:goog.dom.getRawTextContent(a)}).join(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">goog.string.collapseBreakingSpaces(a)}</span><span class="s3">return </span><span class="s1">goog.ui.MenuItem.superClass_.getCaption.call(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l720"><span class="ln">720  </span></a><span class="s1">goog.ui.MenuItem.prototype.getAccelerator=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getDomHelper(),b=</span><span class="s3">this</span><span class="s1">.getContent();</span><span class="s3">return </span><span class="s1">goog.isArray(b)&amp;&amp;(b=goog.array.find(b,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.dom.classlist.contains(a,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?a.getTextContent(b):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l721"><span class="ln">721  </span></a><span class="s1">goog.ui.MenuItem.prototype.handleMouseUp=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getParent();</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">c=b.openingCoords;b.openingCoords=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;goog.isNumber(a.clientX)&amp;&amp;(b=</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(a.clientX,a.clientY),goog.math.Coordinate.equals(c,b)))</span><span class="s3">return</span><span class="s1">}goog.ui.MenuItem.superClass_.handleMouseUp.call(</span><span class="s3">this</span><span class="s1">,a)};goog.ui.MenuItem.prototype.handleKeyEventInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.keyCode==</span><span class="s3">this</span><span class="s1">.getMnemonic()&amp;&amp;</span><span class="s3">this</span><span class="s1">.performActionInternal(a)?!</span><span class="s4">0</span><span class="s1">:goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l722"><span class="ln">722  </span></a><span class="s1">goog.ui.MenuItem.prototype.setMnemonic=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.mnemonicKey_=a};goog.ui.MenuItem.prototype.getMnemonic=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.mnemonicKey_};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.ui.MenuItem(</span><span class="s3">null</span><span class="s1">)});</span>
<a name="l723"><span class="ln">723  </span></a><span class="s1">goog.ui.MenuItem.prototype.getPreferredAriaRole=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:</span><span class="s3">this</span><span class="s1">.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(</span><span class="s3">this</span><span class="s1">)};goog.ui.MenuItem.prototype.getParent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.Control.prototype.getParent.call(</span><span class="s3">this</span><span class="s1">)};goog.ui.MenuItem.prototype.getParentEventTarget=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.Control.prototype.getParentEventTarget.call(</span><span class="s3">this</span><span class="s1">)};goog.ui.MenuSeparatorRenderer=</span><span class="s3">function</span><span class="s1">(){goog.ui.ControlRenderer.call(</span><span class="s3">this</span><span class="s1">)};goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer);goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer);goog.ui.MenuSeparatorRenderer.CSS_CLASS=</span><span class="s2">&quot;goog-menuseparator&quot;</span><span class="s1">;goog.ui.MenuSeparatorRenderer.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getDomHelper().createDom(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getCssClass())};</span>
<a name="l724"><span class="ln">724  </span></a><span class="s1">goog.ui.MenuSeparatorRenderer.prototype.decorate=</span><span class="s3">function</span><span class="s1">(a,b){b.id&amp;&amp;a.setId(b.id);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;HR&quot;</span><span class="s1">==b.tagName){</span><span class="s3">var </span><span class="s1">c=b;b=</span><span class="s3">this</span><span class="s1">.createDom(a);goog.dom.insertSiblingBefore(b,c);goog.dom.removeNode(c)}</span><span class="s3">else </span><span class="s1">goog.dom.classlist.add(b,</span><span class="s3">this</span><span class="s1">.getCssClass());</span><span class="s3">return </span><span class="s1">b};goog.ui.MenuSeparatorRenderer.prototype.setContent=</span><span class="s3">function</span><span class="s1">(a,b){};goog.ui.MenuSeparatorRenderer.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.MenuSeparatorRenderer.CSS_CLASS};goog.ui.Separator=</span><span class="s3">function</span><span class="s1">(a,b){goog.ui.Control.call(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,a||goog.ui.MenuSeparatorRenderer.getInstance(),b);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.DISABLED,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.HOVER,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.ACTIVE,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSupportedState(goog.ui.Component.State.FOCUSED,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setStateInternal(goog.ui.Component.State.DISABLED)};goog.inherits(goog.ui.Separator,goog.ui.Control);</span>
<a name="l725"><span class="ln">725  </span></a><span class="s1">goog.ui.Separator.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.Separator.superClass_.enterDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();goog.asserts.assert(a,</span><span class="s2">&quot;The DOM element for the separator cannot be null.&quot;</span><span class="s1">);goog.a11y.aria.setRole(a,</span><span class="s2">&quot;separator&quot;</span><span class="s1">)};goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.ui.Separator});goog.ui.MenuRenderer=</span><span class="s3">function</span><span class="s1">(a){goog.ui.ContainerRenderer.call(</span><span class="s3">this</span><span class="s1">,a||goog.a11y.aria.Role.MENU)};goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer);goog.addSingletonGetter(goog.ui.MenuRenderer);goog.ui.MenuRenderer.CSS_CLASS=</span><span class="s2">&quot;goog-menu&quot;</span><span class="s1">;goog.ui.MenuRenderer.prototype.canDecorate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;UL&quot;</span><span class="s1">==a.tagName||goog.ui.MenuRenderer.superClass_.canDecorate.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l726"><span class="ln">726  </span></a><span class="s1">goog.ui.MenuRenderer.prototype.getDecoratorForChild=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;HR&quot;</span><span class="s1">==a.tagName?</span><span class="s3">new </span><span class="s1">goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(</span><span class="s3">this</span><span class="s1">,a)};goog.ui.MenuRenderer.prototype.containsElement=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.dom.contains(a.getElement(),b)};goog.ui.MenuRenderer.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.MenuRenderer.CSS_CLASS};</span>
<a name="l727"><span class="ln">727  </span></a><span class="s1">goog.ui.MenuRenderer.prototype.initializeDom=</span><span class="s3">function</span><span class="s1">(a){goog.ui.MenuRenderer.superClass_.initializeDom.call(</span><span class="s3">this</span><span class="s1">,a);a=a.getElement();goog.asserts.assert(a,</span><span class="s2">&quot;The menu DOM element cannot be null.&quot;</span><span class="s1">);goog.a11y.aria.setState(a,goog.a11y.aria.State.HASPOPUP,</span><span class="s2">&quot;true&quot;</span><span class="s1">)};goog.ui.MenuSeparator=</span><span class="s3">function</span><span class="s1">(a){goog.ui.Separator.call(</span><span class="s3">this</span><span class="s1">,goog.ui.MenuSeparatorRenderer.getInstance(),a)};goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator);goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.ui.Separator});goog.ui.Menu=</span><span class="s3">function</span><span class="s1">(a,b){goog.ui.Container.call(</span><span class="s3">this</span><span class="s1">,goog.ui.Container.Orientation.VERTICAL,b||goog.ui.MenuRenderer.getInstance(),a);</span><span class="s3">this</span><span class="s1">.setFocusable(!</span><span class="s4">1</span><span class="s1">)};goog.inherits(goog.ui.Menu,goog.ui.Container);goog.tagUnsealableClass(goog.ui.Menu);goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE};goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS;</span>
<a name="l728"><span class="ln">728  </span></a><span class="s1">goog.ui.Menu.prototype.allowAutoFocus_=!</span><span class="s4">0</span><span class="s1">;goog.ui.Menu.prototype.allowHighlightDisabled_=!</span><span class="s4">1</span><span class="s1">;goog.ui.Menu.prototype.getCssClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getRenderer().getCssClass()};goog.ui.Menu.prototype.containsElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.getRenderer().containsElement(</span><span class="s3">this</span><span class="s1">,a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.getChildCount();b&lt;c;b++){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getChildAt(b);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">d.containsElement&amp;&amp;d.containsElement(a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.ui.Menu.prototype.addItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.addChild(a,!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l729"><span class="ln">729  </span></a><span class="s1">goog.ui.Menu.prototype.addItemAt=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.addChildAt(a,b,!</span><span class="s4">0</span><span class="s1">)};goog.ui.Menu.prototype.removeItem=</span><span class="s3">function</span><span class="s1">(a){(a=</span><span class="s3">this</span><span class="s1">.removeChild(a,!</span><span class="s4">0</span><span class="s1">))&amp;&amp;a.dispose()};goog.ui.Menu.prototype.removeItemAt=</span><span class="s3">function</span><span class="s1">(a){(a=</span><span class="s3">this</span><span class="s1">.removeChildAt(a,!</span><span class="s4">0</span><span class="s1">))&amp;&amp;a.dispose()};goog.ui.Menu.prototype.getItemAt=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.getChildAt(a)};goog.ui.Menu.prototype.getItemCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getChildCount()};goog.ui.Menu.prototype.getItems=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(b){a.push(b)});</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l730"><span class="ln">730  </span></a><span class="s1">goog.ui.Menu.prototype.setPosition=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.isVisible();c||goog.style.setElementShown(</span><span class="s3">this</span><span class="s1">.getElement(),!</span><span class="s4">0</span><span class="s1">);goog.style.setPageOffset(</span><span class="s3">this</span><span class="s1">.getElement(),a,b);c||goog.style.setElementShown(</span><span class="s3">this</span><span class="s1">.getElement(),!</span><span class="s4">1</span><span class="s1">)};goog.ui.Menu.prototype.getPosition=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isVisible()?goog.style.getPageOffset(</span><span class="s3">this</span><span class="s1">.getElement()):</span><span class="s3">null</span><span class="s1">};goog.ui.Menu.prototype.setAllowAutoFocus=</span><span class="s3">function</span><span class="s1">(a){(</span><span class="s3">this</span><span class="s1">.allowAutoFocus_=a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.setFocusable(!</span><span class="s4">0</span><span class="s1">)};goog.ui.Menu.prototype.getAllowAutoFocus=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.allowAutoFocus_};</span>
<a name="l731"><span class="ln">731  </span></a><span class="s1">goog.ui.Menu.prototype.setAllowHighlightDisabled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.allowHighlightDisabled_=a};goog.ui.Menu.prototype.getAllowHighlightDisabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.allowHighlightDisabled_};goog.ui.Menu.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a,b,c){(b=goog.ui.Menu.superClass_.setVisible.call(</span><span class="s3">this</span><span class="s1">,a,b))&amp;&amp;a&amp;&amp;</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.allowAutoFocus_&amp;&amp;</span><span class="s3">this</span><span class="s1">.getKeyEventTarget().focus();a&amp;&amp;c&amp;&amp;goog.isNumber(c.clientX)?</span><span class="s3">this</span><span class="s1">.openingCoords=</span><span class="s3">new </span><span class="s1">goog.math.Coordinate(c.clientX,c.clientY):</span><span class="s3">this</span><span class="s1">.openingCoords=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l732"><span class="ln">732  </span></a><span class="s1">goog.ui.Menu.prototype.handleEnterItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.allowAutoFocus_&amp;&amp;</span><span class="s3">this</span><span class="s1">.getKeyEventTarget().focus();</span><span class="s3">return </span><span class="s1">goog.ui.Menu.superClass_.handleEnterItem.call(</span><span class="s3">this</span><span class="s1">,a)};goog.ui.Menu.prototype.highlightNextPrefix=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s2">&quot;^&quot;</span><span class="s1">+goog.string.regExpEscape(a),</span><span class="s2">&quot;i&quot;</span><span class="s1">);</span><span class="s3">return this</span><span class="s1">.highlightHelper(</span><span class="s3">function</span><span class="s1">(a,d){</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">&gt;a?</span><span class="s4">0</span><span class="s1">:a,f=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">do</span><span class="s1">{++a;a==d&amp;&amp;(a=</span><span class="s4">0</span><span class="s1">,f=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">g=</span><span class="s3">this</span><span class="s1">.getChildAt(a).getCaption();</span><span class="s3">if</span><span class="s1">(g&amp;&amp;g.match(b))</span><span class="s3">return </span><span class="s1">a}</span><span class="s3">while</span><span class="s1">(!f||a!=c);</span><span class="s3">return this</span><span class="s1">.getHighlightedIndex()},</span><span class="s3">this</span><span class="s1">.getHighlightedIndex())};</span>
<a name="l733"><span class="ln">733  </span></a><span class="s1">goog.ui.Menu.prototype.canHighlightItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.allowHighlightDisabled_||a.isEnabled())&amp;&amp;a.isVisible()&amp;&amp;a.isSupportedState(goog.ui.Component.State.HOVER)};goog.ui.Menu.prototype.decorateInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.decorateContent(a);goog.ui.Menu.superClass_.decorateInternal.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l734"><span class="ln">734  </span></a><span class="s1">goog.ui.Menu.prototype.handleKeyEventInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.ui.Menu.superClass_.handleKeyEventInternal.call(</span><span class="s3">this</span><span class="s1">,a);b||</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(c){!b&amp;&amp;c.getMnemonic&amp;&amp;c.getMnemonic()==a.keyCode&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.setHighlighted(c),b=c.handleKeyEvent(a))},</span><span class="s3">this</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b};goog.ui.Menu.prototype.setHighlightedIndex=</span><span class="s3">function</span><span class="s1">(a){goog.ui.Menu.superClass_.setHighlightedIndex.call(</span><span class="s3">this</span><span class="s1">,a);(a=</span><span class="s3">this</span><span class="s1">.getChildAt(a))&amp;&amp;goog.style.scrollIntoContainerView(a.getElement(),</span><span class="s3">this</span><span class="s1">.getElement())};</span>
<a name="l735"><span class="ln">735  </span></a><span class="s1">goog.ui.Menu.prototype.decorateContent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getRenderer();a=</span><span class="s3">this</span><span class="s1">.getDomHelper().getElementsByTagNameAndClass(</span><span class="s2">&quot;DIV&quot;</span><span class="s1">,b.getCssClass()+</span><span class="s2">&quot;-content&quot;</span><span class="s1">,a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.length,d=</span><span class="s4">0</span><span class="s1">;d&lt;c;d++)b.decorateChildren(</span><span class="s3">this</span><span class="s1">,a[d])};goog.Thenable=</span><span class="s3">function</span><span class="s1">(){};goog.Thenable.prototype.then=</span><span class="s3">function</span><span class="s1">(a,b,c){};goog.Thenable.IMPLEMENTED_BY_PROP=</span><span class="s2">&quot;$goog_Thenable&quot;</span><span class="s1">;goog.Thenable.addImplementation=</span><span class="s3">function</span><span class="s1">(a){COMPILED?a.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!</span><span class="s4">0</span><span class="s1">:a.prototype.$goog_Thenable=!</span><span class="s4">0</span><span class="s1">};goog.Thenable.isImplementedBy=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">return </span><span class="s1">COMPILED?!!a[goog.Thenable.IMPLEMENTED_BY_PROP]:!!a.$goog_Thenable}</span><span class="s3">catch</span><span class="s1">(b){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}};goog.async={};goog.async.FreeList=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.limit_=c;</span><span class="s3">this</span><span class="s1">.create_=a;</span><span class="s3">this</span><span class="s1">.reset_=b;</span><span class="s3">this</span><span class="s1">.occupants_=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.head_=</span><span class="s3">null</span><span class="s1">};goog.async.FreeList.prototype.get=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.occupants_){</span><span class="s3">this</span><span class="s1">.occupants_--;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.head_;</span><span class="s3">this</span><span class="s1">.head_=a.next;a.next=</span><span class="s3">null</span><span class="s1">}</span><span class="s3">else </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.create_();</span><span class="s3">return </span><span class="s1">a};goog.async.FreeList.prototype.put=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.reset_(a);</span><span class="s3">this</span><span class="s1">.occupants_&lt;</span><span class="s3">this</span><span class="s1">.limit_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.occupants_++,a.next=</span><span class="s3">this</span><span class="s1">.head_,</span><span class="s3">this</span><span class="s1">.head_=a)};goog.async.FreeList.prototype.occupants=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.occupants_};goog.async.WorkQueue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workTail_=</span><span class="s3">this</span><span class="s1">.workHead_=</span><span class="s3">null</span><span class="s1">};goog.async.WorkQueue.DEFAULT_MAX_UNUSED=</span><span class="s4">100</span><span class="s1">;goog.async.WorkQueue.freelist_=</span><span class="s3">new </span><span class="s1">goog.async.FreeList(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.async.WorkItem},</span><span class="s3">function</span><span class="s1">(a){a.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED);goog.async.WorkQueue.prototype.add=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getUnusedItem_();c.set(a,b);</span><span class="s3">this</span><span class="s1">.workTail_?</span><span class="s3">this</span><span class="s1">.workTail_.next=c:(goog.asserts.assert(!</span><span class="s3">this</span><span class="s1">.workHead_),</span><span class="s3">this</span><span class="s1">.workHead_=c);</span><span class="s3">this</span><span class="s1">.workTail_=c};</span>
<a name="l736"><span class="ln">736  </span></a><span class="s1">goog.async.WorkQueue.prototype.remove=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workHead_&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.workHead_,</span><span class="s3">this</span><span class="s1">.workHead_=</span><span class="s3">this</span><span class="s1">.workHead_.next,</span><span class="s3">this</span><span class="s1">.workHead_||(</span><span class="s3">this</span><span class="s1">.workTail_=</span><span class="s3">null</span><span class="s1">),a.next=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};goog.async.WorkQueue.prototype.returnUnused=</span><span class="s3">function</span><span class="s1">(a){goog.async.WorkQueue.freelist_.put(a)};goog.async.WorkQueue.prototype.getUnusedItem_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.async.WorkQueue.freelist_.get()};goog.async.WorkItem=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.next=</span><span class="s3">this</span><span class="s1">.scope=</span><span class="s3">this</span><span class="s1">.fn=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l737"><span class="ln">737  </span></a><span class="s1">goog.async.WorkItem.prototype.set=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.fn=a;</span><span class="s3">this</span><span class="s1">.scope=b;</span><span class="s3">this</span><span class="s1">.next=</span><span class="s3">null</span><span class="s1">};goog.async.WorkItem.prototype.reset=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.next=</span><span class="s3">this</span><span class="s1">.scope=</span><span class="s3">this</span><span class="s1">.fn=</span><span class="s3">null</span><span class="s1">};goog.async.throwException=</span><span class="s3">function</span><span class="s1">(a){goog.global.setTimeout(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">throw </span><span class="s1">a;},</span><span class="s4">0</span><span class="s1">)};goog.async.nextTick=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a;b&amp;&amp;(d=goog.bind(a,b));d=goog.async.nextTick.wrapCallback_(d);goog.isFunction(goog.global.setImmediate)&amp;&amp;(c||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(d):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(d))};</span>
<a name="l738"><span class="ln">738  </span></a><span class="s1">goog.async.nextTick.useSetImmediate_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.global.Window&amp;&amp;goog.global.Window.prototype&amp;&amp;!goog.labs.userAgent.browser.isEdge()&amp;&amp;goog.global.Window.prototype.setImmediate==goog.global.setImmediate?!</span><span class="s4">1</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l739"><span class="ln">739  </span></a><span class="s1">goog.async.nextTick.getSetImmediateEmulator_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.global.MessageChannel;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">===</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">window&amp;&amp;window.postMessage&amp;&amp;window.addEventListener&amp;&amp;!goog.labs.userAgent.engine.isPresto()&amp;&amp;(a=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=document.createElement(</span><span class="s2">&quot;IFRAME&quot;</span><span class="s1">);a.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">;goog.dom.safe.setIframeSrc(a,goog.html.TrustedResourceUrl.fromConstant(goog.string.Const.EMPTY));document.documentElement.appendChild(a);</span><span class="s3">var </span><span class="s1">b=a.contentWindow;a=b.document;a.open();goog.dom.safe.documentWrite(a,</span>
<a name="l740"><span class="ln">740  </span></a><span class="s1">goog.html.SafeHtml.EMPTY);a.close();</span><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;callImmediate&quot;</span><span class="s1">+Math.random(),d=</span><span class="s2">&quot;file:&quot;</span><span class="s1">==b.location.protocol?</span><span class="s2">&quot;*&quot;</span><span class="s1">:b.location.protocol+</span><span class="s2">&quot;//&quot;</span><span class="s1">+b.location.host;a=goog.bind(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">((</span><span class="s2">&quot;*&quot;</span><span class="s1">==d||a.origin==d)&amp;&amp;a.data==c)</span><span class="s3">this</span><span class="s1">.port1.onmessage()},</span><span class="s3">this</span><span class="s1">);b.addEventListener(</span><span class="s2">&quot;message&quot;</span><span class="s1">,a,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.port1={};</span><span class="s3">this</span><span class="s1">.port2={postMessage:</span><span class="s3">function</span><span class="s1">(){b.postMessage(c,d)}}});</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;!goog.labs.userAgent.browser.isIE()){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">a,c={},d=c;b.port1.onmessage=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(goog.isDef(c.next)){c=c.next;</span><span class="s3">var </span><span class="s1">a=c.cb;</span>
<a name="l741"><span class="ln">741  </span></a><span class="s1">c.cb=</span><span class="s3">null</span><span class="s1">;a()}};</span><span class="s3">return function</span><span class="s1">(a){d.next={cb:a};d=d.next;b.port2.postMessage(</span><span class="s4">0</span><span class="s1">)}}</span><span class="s3">return</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">document&amp;&amp;</span><span class="s2">&quot;onreadystatechange&quot;</span><span class="s3">in </span><span class="s1">document.createElement(</span><span class="s2">&quot;SCRIPT&quot;</span><span class="s1">)?</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=document.createElement(</span><span class="s2">&quot;SCRIPT&quot;</span><span class="s1">);b.onreadystatechange=</span><span class="s3">function</span><span class="s1">(){b.onreadystatechange=</span><span class="s3">null</span><span class="s1">;b.parentNode.removeChild(b);b=</span><span class="s3">null</span><span class="s1">;a();a=</span><span class="s3">null</span><span class="s1">};document.documentElement.appendChild(b)}:</span><span class="s3">function</span><span class="s1">(a){goog.global.setTimeout(a,</span><span class="s4">0</span><span class="s1">)}};goog.async.nextTick.wrapCallback_=goog.functions.identity;</span>
<a name="l742"><span class="ln">742  </span></a><span class="s1">goog.debug.entryPointRegistry.register(</span><span class="s3">function</span><span class="s1">(a){goog.async.nextTick.wrapCallback_=a});goog.ASSUME_NATIVE_PROMISE=!</span><span class="s4">1</span><span class="s1">;goog.async.run=</span><span class="s3">function</span><span class="s1">(a,b){goog.async.run.schedule_||goog.async.run.initializeRunner_();goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!</span><span class="s4">0</span><span class="s1">);goog.async.run.workQueue_.add(a,b)};</span>
<a name="l743"><span class="ln">743  </span></a><span class="s1">goog.async.run.initializeRunner_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(goog.ASSUME_NATIVE_PROMISE||goog.global.Promise&amp;&amp;goog.global.Promise.resolve){</span><span class="s3">var </span><span class="s1">a=goog.global.Promise.resolve(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);goog.async.run.schedule_=</span><span class="s3">function</span><span class="s1">(){a.then(goog.async.run.processWorkQueue)}}</span><span class="s3">else </span><span class="s1">goog.async.run.schedule_=</span><span class="s3">function</span><span class="s1">(){goog.async.nextTick(goog.async.run.processWorkQueue)}};goog.async.run.forceNextTick=</span><span class="s3">function</span><span class="s1">(a){goog.async.run.schedule_=</span><span class="s3">function</span><span class="s1">(){goog.async.nextTick(goog.async.run.processWorkQueue);a&amp;&amp;a(goog.async.run.processWorkQueue)}};</span>
<a name="l744"><span class="ln">744  </span></a><span class="s1">goog.async.run.workQueueScheduled_=!</span><span class="s4">1</span><span class="s1">;goog.async.run.workQueue_=</span><span class="s3">new </span><span class="s1">goog.async.WorkQueue;goog.DEBUG&amp;&amp;(goog.async.run.resetQueue=</span><span class="s3">function</span><span class="s1">(){goog.async.run.workQueueScheduled_=!</span><span class="s4">1</span><span class="s1">;goog.async.run.workQueue_=</span><span class="s3">new </span><span class="s1">goog.async.WorkQueue});goog.async.run.processWorkQueue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a;a=goog.async.run.workQueue_.remove();){</span><span class="s3">try</span><span class="s1">{a.fn.call(a.scope)}</span><span class="s3">catch</span><span class="s1">(b){goog.async.throwException(b)}goog.async.run.workQueue_.returnUnused(a)}goog.async.run.workQueueScheduled_=!</span><span class="s4">1</span><span class="s1">};goog.promise={};goog.promise.Resolver=</span><span class="s3">function</span><span class="s1">(){};goog.Promise=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.state_=goog.Promise.State_.PENDING;</span><span class="s3">this</span><span class="s1">.result_=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_=</span><span class="s3">this</span><span class="s1">.callbackEntries_=</span><span class="s3">this</span><span class="s1">.parent_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.executing_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s4">0</span><span class="s1">&lt;goog.Promise.UNHANDLED_REJECTION_DELAY?</span><span class="s3">this</span><span class="s1">.unhandledRejectionId_=</span><span class="s4">0</span><span class="s1">:</span><span class="s4">0</span><span class="s1">==goog.Promise.UNHANDLED_REJECTION_DELAY&amp;&amp;(</span><span class="s3">this</span><span class="s1">.hadUnhandledRejection_=!</span><span class="s4">1</span><span class="s1">);goog.Promise.LONG_STACK_TRACES&amp;&amp;(</span><span class="s3">this</span><span class="s1">.stack_=[],</span><span class="s3">this</span><span class="s1">.addStackTrace_(Error(</span><span class="s2">&quot;created&quot;</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.currentStep_=</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a!=goog.nullFunction)</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">;a.call(b,</span><span class="s3">function</span><span class="s1">(a){c.resolve_(goog.Promise.State_.FULFILLED,</span>
<a name="l745"><span class="ln">745  </span></a><span class="s1">a)},</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.DEBUG&amp;&amp;!(a </span><span class="s3">instanceof </span><span class="s1">goog.Promise.CancellationError))</span><span class="s3">try</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">Error)</span><span class="s3">throw </span><span class="s1">a;</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Promise rejected.&quot;</span><span class="s1">);}</span><span class="s3">catch</span><span class="s1">(e){}c.resolve_(goog.Promise.State_.REJECTED,a)})}</span><span class="s3">catch</span><span class="s1">(d){</span><span class="s3">this</span><span class="s1">.resolve_(goog.Promise.State_.REJECTED,d)}};goog.Promise.LONG_STACK_TRACES=!</span><span class="s4">1</span><span class="s1">;goog.Promise.UNHANDLED_REJECTION_DELAY=</span><span class="s4">0</span><span class="s1">;goog.Promise.State_={PENDING:</span><span class="s4">0</span><span class="s1">,BLOCKED:</span><span class="s4">1</span><span class="s1">,FULFILLED:</span><span class="s4">2</span><span class="s1">,REJECTED:</span><span class="s4">3</span><span class="s1">};</span>
<a name="l746"><span class="ln">746  </span></a><span class="s1">goog.Promise.CallbackEntry_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.next=</span><span class="s3">this</span><span class="s1">.context=</span><span class="s3">this</span><span class="s1">.onRejected=</span><span class="s3">this</span><span class="s1">.onFulfilled=</span><span class="s3">this</span><span class="s1">.child=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.always=!</span><span class="s4">1</span><span class="s1">};goog.Promise.CallbackEntry_.prototype.reset=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.context=</span><span class="s3">this</span><span class="s1">.onRejected=</span><span class="s3">this</span><span class="s1">.onFulfilled=</span><span class="s3">this</span><span class="s1">.child=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.always=!</span><span class="s4">1</span><span class="s1">};goog.Promise.DEFAULT_MAX_UNUSED=</span><span class="s4">100</span><span class="s1">;goog.Promise.freelist_=</span><span class="s3">new </span><span class="s1">goog.async.FreeList(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.Promise.CallbackEntry_},</span><span class="s3">function</span><span class="s1">(a){a.reset()},goog.Promise.DEFAULT_MAX_UNUSED);</span>
<a name="l747"><span class="ln">747  </span></a><span class="s1">goog.Promise.getCallbackEntry_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=goog.Promise.freelist_.get();d.onFulfilled=a;d.onRejected=b;d.context=c;</span><span class="s3">return </span><span class="s1">d};goog.Promise.returnEntry_=</span><span class="s3">function</span><span class="s1">(a){goog.Promise.freelist_.put(a)};goog.Promise.resolve=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.Promise)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.Promise(goog.nullFunction);b.resolve_(goog.Promise.State_.FULFILLED,a);</span><span class="s3">return </span><span class="s1">b};goog.Promise.reject=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(b,c){c(a)})};</span>
<a name="l748"><span class="ln">748  </span></a><span class="s1">goog.Promise.resolveThen_=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.Promise.maybeThen_(a,b,c,</span><span class="s3">null</span><span class="s1">)||goog.async.run(goog.partial(b,a))};goog.Promise.race=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(b,c){a.length||b(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;d&lt;a.length;d++)e=a[d],goog.Promise.resolveThen_(e,b,c)})};</span>
<a name="l749"><span class="ln">749  </span></a><span class="s1">goog.Promise.all=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(b,c){</span><span class="s3">var </span><span class="s1">d=a.length,e=[];</span><span class="s3">if</span><span class="s1">(d)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">function</span><span class="s1">(a,c){d--;e[a]=c;</span><span class="s4">0</span><span class="s1">==d&amp;&amp;b(e)},g=</span><span class="s3">function</span><span class="s1">(a){c(a)},h=</span><span class="s4">0</span><span class="s1">,k;h&lt;a.length;h++)k=a[h],goog.Promise.resolveThen_(k,goog.partial(f,h),g);</span><span class="s3">else </span><span class="s1">b(e)})};</span>
<a name="l750"><span class="ln">750  </span></a><span class="s1">goog.Promise.allSettled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(b,c){</span><span class="s3">var </span><span class="s1">d=a.length,e=[];</span><span class="s3">if</span><span class="s1">(d)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">function</span><span class="s1">(a,c,f){d--;e[a]=c?{fulfilled:!</span><span class="s4">0</span><span class="s1">,value:f}:{fulfilled:!</span><span class="s4">1</span><span class="s1">,reason:f};</span><span class="s4">0</span><span class="s1">==d&amp;&amp;b(e)},g=</span><span class="s4">0</span><span class="s1">,h;g&lt;a.length;g++)h=a[g],goog.Promise.resolveThen_(h,goog.partial(f,g,!</span><span class="s4">0</span><span class="s1">),goog.partial(f,g,!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">else </span><span class="s1">b(e)})};</span>
<a name="l751"><span class="ln">751  </span></a><span class="s1">goog.Promise.firstFulfilled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(b,c){</span><span class="s3">var </span><span class="s1">d=a.length,e=[];</span><span class="s3">if</span><span class="s1">(d)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">function</span><span class="s1">(a){b(a)},g=</span><span class="s3">function</span><span class="s1">(a,b){d--;e[a]=b;</span><span class="s4">0</span><span class="s1">==d&amp;&amp;c(e)},h=</span><span class="s4">0</span><span class="s1">,k;h&lt;a.length;h++)k=a[h],goog.Promise.resolveThen_(k,f,goog.partial(g,h));</span><span class="s3">else </span><span class="s1">b(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">)})};goog.Promise.withResolver=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a,b,c=</span><span class="s3">new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(c,e){a=c;b=e});</span><span class="s3">return new </span><span class="s1">goog.Promise.Resolver_(c,a,b)};</span>
<a name="l752"><span class="ln">752  </span></a><span class="s1">goog.Promise.prototype.then=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;goog.asserts.assertFunction(a,</span><span class="s2">&quot;opt_onFulfilled should be a function.&quot;</span><span class="s1">);</span><span class="s3">null</span><span class="s1">!=b&amp;&amp;goog.asserts.assertFunction(b,</span><span class="s2">&quot;opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?&quot;</span><span class="s1">);goog.Promise.LONG_STACK_TRACES&amp;&amp;</span><span class="s3">this</span><span class="s1">.addStackTrace_(Error(</span><span class="s2">&quot;then&quot;</span><span class="s1">));</span><span class="s3">return this</span><span class="s1">.addChildPromise_(goog.isFunction(a)?a:</span><span class="s3">null</span><span class="s1">,goog.isFunction(b)?b:</span><span class="s3">null</span><span class="s1">,c)};goog.Thenable.addImplementation(goog.Promise);</span>
<a name="l753"><span class="ln">753  </span></a><span class="s1">goog.Promise.prototype.thenVoid=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;goog.asserts.assertFunction(a,</span><span class="s2">&quot;opt_onFulfilled should be a function.&quot;</span><span class="s1">);</span><span class="s3">null</span><span class="s1">!=b&amp;&amp;goog.asserts.assertFunction(b,</span><span class="s2">&quot;opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?&quot;</span><span class="s1">);goog.Promise.LONG_STACK_TRACES&amp;&amp;</span><span class="s3">this</span><span class="s1">.addStackTrace_(Error(</span><span class="s2">&quot;then&quot;</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.addCallbackEntry_(goog.Promise.getCallbackEntry_(a||goog.nullFunction,b||</span><span class="s3">null</span><span class="s1">,c))};</span>
<a name="l754"><span class="ln">754  </span></a><span class="s1">goog.Promise.prototype.thenAlways=</span><span class="s3">function</span><span class="s1">(a,b){goog.Promise.LONG_STACK_TRACES&amp;&amp;</span><span class="s3">this</span><span class="s1">.addStackTrace_(Error(</span><span class="s2">&quot;thenAlways&quot;</span><span class="s1">));</span><span class="s3">var </span><span class="s1">c=goog.Promise.getCallbackEntry_(a,a,b);c.always=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.addCallbackEntry_(c);</span><span class="s3">return this</span><span class="s1">};goog.Promise.prototype.thenCatch=</span><span class="s3">function</span><span class="s1">(a,b){goog.Promise.LONG_STACK_TRACES&amp;&amp;</span><span class="s3">this</span><span class="s1">.addStackTrace_(Error(</span><span class="s2">&quot;thenCatch&quot;</span><span class="s1">));</span><span class="s3">return this</span><span class="s1">.addChildPromise_(</span><span class="s3">null</span><span class="s1">,a,b)};</span>
<a name="l755"><span class="ln">755  </span></a><span class="s1">goog.Promise.prototype.cancel=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.state_==goog.Promise.State_.PENDING&amp;&amp;goog.async.run(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.Promise.CancellationError(a);</span><span class="s3">this</span><span class="s1">.cancelInternal_(b)},</span><span class="s3">this</span><span class="s1">)};goog.Promise.prototype.cancelInternal_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.state_==goog.Promise.State_.PENDING&amp;&amp;(</span><span class="s3">this</span><span class="s1">.parent_?(</span><span class="s3">this</span><span class="s1">.parent_.cancelChild_(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.parent_=</span><span class="s3">null</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.resolve_(goog.Promise.State_.REJECTED,a))};</span>
<a name="l756"><span class="ln">756  </span></a><span class="s1">goog.Promise.prototype.cancelChild_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.callbackEntries_){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d=</span><span class="s3">null</span><span class="s1">,e=</span><span class="s3">null</span><span class="s1">,f=</span><span class="s3">this</span><span class="s1">.callbackEntries_;f&amp;&amp;(f.always||(c++,f.child==a&amp;&amp;(d=f),!(d&amp;&amp;</span><span class="s4">1</span><span class="s1">&lt;c)));f=f.next)d||(e=f);d&amp;&amp;(</span><span class="s3">this</span><span class="s1">.state_==goog.Promise.State_.PENDING&amp;&amp;</span><span class="s4">1</span><span class="s1">==c?</span><span class="s3">this</span><span class="s1">.cancelInternal_(b):(e?</span><span class="s3">this</span><span class="s1">.removeEntryAfter_(e):</span><span class="s3">this</span><span class="s1">.popEntry_(),</span><span class="s3">this</span><span class="s1">.executeCallback_(d,goog.Promise.State_.REJECTED,b)))}};</span>
<a name="l757"><span class="ln">757  </span></a><span class="s1">goog.Promise.prototype.addCallbackEntry_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.hasEntry_()||</span><span class="s3">this</span><span class="s1">.state_!=goog.Promise.State_.FULFILLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.state_!=goog.Promise.State_.REJECTED||</span><span class="s3">this</span><span class="s1">.scheduleCallbacks_();</span><span class="s3">this</span><span class="s1">.queueEntry_(a)};</span>
<a name="l758"><span class="ln">758  </span></a><span class="s1">goog.Promise.prototype.addChildPromise_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=goog.Promise.getCallbackEntry_(</span><span class="s3">null</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">null</span><span class="s1">);d.child=</span><span class="s3">new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(e,f){d.onFulfilled=a?</span><span class="s3">function</span><span class="s1">(b){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=a.call(c,b);e(d)}</span><span class="s3">catch</span><span class="s1">(k){f(k)}}:e;d.onRejected=b?</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=b.call(c,a);!goog.isDef(d)&amp;&amp;a </span><span class="s3">instanceof </span><span class="s1">goog.Promise.CancellationError?f(a):e(d)}</span><span class="s3">catch</span><span class="s1">(k){f(k)}}:f});d.child.parent_=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.addCallbackEntry_(d);</span><span class="s3">return </span><span class="s1">d.child};</span>
<a name="l759"><span class="ln">759  </span></a><span class="s1">goog.Promise.prototype.unblockAndFulfill_=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.state_==goog.Promise.State_.BLOCKED);</span><span class="s3">this</span><span class="s1">.state_=goog.Promise.State_.PENDING;</span><span class="s3">this</span><span class="s1">.resolve_(goog.Promise.State_.FULFILLED,a)};goog.Promise.prototype.unblockAndReject_=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.state_==goog.Promise.State_.BLOCKED);</span><span class="s3">this</span><span class="s1">.state_=goog.Promise.State_.PENDING;</span><span class="s3">this</span><span class="s1">.resolve_(goog.Promise.State_.REJECTED,a)};</span>
<a name="l760"><span class="ln">760  </span></a><span class="s1">goog.Promise.prototype.resolve_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.state_==goog.Promise.State_.PENDING&amp;&amp;(</span><span class="s3">this</span><span class="s1">===b&amp;&amp;(a=goog.Promise.State_.REJECTED,b=</span><span class="s3">new </span><span class="s1">TypeError(</span><span class="s2">&quot;Promise cannot resolve to itself&quot;</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(b,</span><span class="s3">this</span><span class="s1">.unblockAndFulfill_,</span><span class="s3">this</span><span class="s1">.unblockAndReject_,</span><span class="s3">this</span><span class="s1">)||(</span><span class="s3">this</span><span class="s1">.result_=b,</span><span class="s3">this</span><span class="s1">.state_=a,</span><span class="s3">this</span><span class="s1">.parent_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.scheduleCallbacks_(),a!=goog.Promise.State_.REJECTED||b </span><span class="s3">instanceof </span><span class="s1">goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(</span><span class="s3">this</span><span class="s1">,b)))};</span>
<a name="l761"><span class="ln">761  </span></a><span class="s1">goog.Promise.maybeThen_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">goog.Promise)</span><span class="s3">return </span><span class="s1">a.thenVoid(b,c,d),!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.Thenable.isImplementedBy(a))</span><span class="s3">return </span><span class="s1">a.then(b,c,d),!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.isObject(a))</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=a.then;</span><span class="s3">if</span><span class="s1">(goog.isFunction(e))</span><span class="s3">return </span><span class="s1">goog.Promise.tryThen_(a,e,b,c,d),!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">catch</span><span class="s1">(f){</span><span class="s3">return </span><span class="s1">c.call(d,f),!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.Promise.tryThen_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">var </span><span class="s1">f=!</span><span class="s4">1</span><span class="s1">,g=</span><span class="s3">function</span><span class="s1">(a){f||(f=!</span><span class="s4">0</span><span class="s1">,c.call(e,a))},h=</span><span class="s3">function</span><span class="s1">(a){f||(f=!</span><span class="s4">0</span><span class="s1">,d.call(e,a))};</span><span class="s3">try</span><span class="s1">{b.call(a,g,h)}</span><span class="s3">catch</span><span class="s1">(k){h(k)}};</span>
<a name="l762"><span class="ln">762  </span></a><span class="s1">goog.Promise.prototype.scheduleCallbacks_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.executing_||(</span><span class="s3">this</span><span class="s1">.executing_=!</span><span class="s4">0</span><span class="s1">,goog.async.run(</span><span class="s3">this</span><span class="s1">.executeCallbacks_,</span><span class="s3">this</span><span class="s1">))};goog.Promise.prototype.hasEntry_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.callbackEntries_};goog.Promise.prototype.queueEntry_=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.onFulfilled);</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_?</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_.next=a:</span><span class="s3">this</span><span class="s1">.callbackEntries_=a;</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_=a};</span>
<a name="l763"><span class="ln">763  </span></a><span class="s1">goog.Promise.prototype.popEntry_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.callbackEntries_&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.callbackEntries_,</span><span class="s3">this</span><span class="s1">.callbackEntries_=a.next,a.next=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.callbackEntries_||(</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a.onFulfilled);</span><span class="s3">return </span><span class="s1">a};goog.Promise.prototype.removeEntryAfter_=</span><span class="s3">function</span><span class="s1">(a){goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.callbackEntries_);goog.asserts.assert(</span><span class="s3">null</span><span class="s1">!=a);a.next==</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.callbackEntriesTail_=a);a.next=a.next.next};</span>
<a name="l764"><span class="ln">764  </span></a><span class="s1">goog.Promise.prototype.executeCallbacks_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a;a=</span><span class="s3">this</span><span class="s1">.popEntry_();)goog.Promise.LONG_STACK_TRACES&amp;&amp;</span><span class="s3">this</span><span class="s1">.currentStep_++,</span><span class="s3">this</span><span class="s1">.executeCallback_(a,</span><span class="s3">this</span><span class="s1">.state_,</span><span class="s3">this</span><span class="s1">.result_);</span><span class="s3">this</span><span class="s1">.executing_=!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l765"><span class="ln">765  </span></a><span class="s1">goog.Promise.prototype.executeCallback_=</span><span class="s3">function</span><span class="s1">(a,b,c){b==goog.Promise.State_.REJECTED&amp;&amp;a.onRejected&amp;&amp;!a.always&amp;&amp;</span><span class="s3">this</span><span class="s1">.removeUnhandledRejection_();</span><span class="s3">if</span><span class="s1">(a.child)a.child.parent_=</span><span class="s3">null</span><span class="s1">,goog.Promise.invokeCallback_(a,b,c);</span><span class="s3">else try</span><span class="s1">{a.always?a.onFulfilled.call(a.context):goog.Promise.invokeCallback_(a,b,c)}</span><span class="s3">catch</span><span class="s1">(d){goog.Promise.handleRejection_.call(</span><span class="s3">null</span><span class="s1">,d)}goog.Promise.returnEntry_(a)};</span>
<a name="l766"><span class="ln">766  </span></a><span class="s1">goog.Promise.invokeCallback_=</span><span class="s3">function</span><span class="s1">(a,b,c){b==goog.Promise.State_.FULFILLED?a.onFulfilled.call(a.context,c):a.onRejected&amp;&amp;a.onRejected.call(a.context,c)};goog.Promise.prototype.addStackTrace_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.Promise.LONG_STACK_TRACES&amp;&amp;goog.isString(a.stack)){</span><span class="s3">var </span><span class="s1">b=a.stack.split(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s4">4</span><span class="s1">)[</span><span class="s4">3</span><span class="s1">];a=a.message;a+=Array(</span><span class="s4">11</span><span class="s1">-a.length).join(</span><span class="s2">&quot; &quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.stack_.push(a+b)}};</span>
<a name="l767"><span class="ln">767  </span></a><span class="s1">goog.Promise.prototype.appendLongStack_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.Promise.LONG_STACK_TRACES&amp;&amp;a&amp;&amp;goog.isString(a.stack)&amp;&amp;</span><span class="s3">this</span><span class="s1">.stack_.length){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[</span><span class="s2">&quot;Promise trace:&quot;</span><span class="s1">],c=</span><span class="s3">this</span><span class="s1">;c;c=c.parent_){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.currentStep_;</span><span class="s4">0</span><span class="s1">&lt;=d;d--)b.push(c.stack_[d]);b.push(</span><span class="s2">&quot;Value: [&quot;</span><span class="s1">+(c.state_==goog.Promise.State_.REJECTED?</span><span class="s2">&quot;REJECTED&quot;</span><span class="s1">:</span><span class="s2">&quot;FULFILLED&quot;</span><span class="s1">)+</span><span class="s2">&quot;] &lt;&quot;</span><span class="s1">+String(c.result_)+</span><span class="s2">&quot;&gt;&quot;</span><span class="s1">)}a.stack+=</span><span class="s2">&quot;</span><span class="s5">\n\n</span><span class="s2">&quot;</span><span class="s1">+b.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)}};</span>
<a name="l768"><span class="ln">768  </span></a><span class="s1">goog.Promise.prototype.removeUnhandledRejection_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;goog.Promise.UNHANDLED_REJECTION_DELAY)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;a&amp;&amp;a.unhandledRejectionId_;a=a.parent_)goog.global.clearTimeout(a.unhandledRejectionId_),a.unhandledRejectionId_=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">==goog.Promise.UNHANDLED_REJECTION_DELAY)</span><span class="s3">for</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">;a&amp;&amp;a.hadUnhandledRejection_;a=a.parent_)a.hadUnhandledRejection_=!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l769"><span class="ln">769  </span></a><span class="s1">goog.Promise.addUnhandledRejection_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s4">0</span><span class="s1">&lt;goog.Promise.UNHANDLED_REJECTION_DELAY?a.unhandledRejectionId_=goog.global.setTimeout(</span><span class="s3">function</span><span class="s1">(){a.appendLongStack_(b);goog.Promise.handleRejection_.call(</span><span class="s3">null</span><span class="s1">,b)},goog.Promise.UNHANDLED_REJECTION_DELAY):</span><span class="s4">0</span><span class="s1">==goog.Promise.UNHANDLED_REJECTION_DELAY&amp;&amp;(a.hadUnhandledRejection_=!</span><span class="s4">0</span><span class="s1">,goog.async.run(</span><span class="s3">function</span><span class="s1">(){a.hadUnhandledRejection_&amp;&amp;(a.appendLongStack_(b),goog.Promise.handleRejection_.call(</span><span class="s3">null</span><span class="s1">,b))}))};goog.Promise.handleRejection_=goog.async.throwException;</span>
<a name="l770"><span class="ln">770  </span></a><span class="s1">goog.Promise.setUnhandledRejectionHandler=</span><span class="s3">function</span><span class="s1">(a){goog.Promise.handleRejection_=a};goog.Promise.CancellationError=</span><span class="s3">function</span><span class="s1">(a){goog.debug.Error.call(</span><span class="s3">this</span><span class="s1">,a)};goog.inherits(goog.Promise.CancellationError,goog.debug.Error);goog.Promise.CancellationError.prototype.name=</span><span class="s2">&quot;cancel&quot;</span><span class="s1">;goog.Promise.Resolver_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.promise=a;</span><span class="s3">this</span><span class="s1">.resolve=b;</span><span class="s3">this</span><span class="s1">.reject=c};goog.Timer=</span><span class="s3">function</span><span class="s1">(a,b){goog.events.EventTarget.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.interval_=a||</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.timerObject_=b||goog.Timer.defaultTimerObject;</span><span class="s3">this</span><span class="s1">.boundTick_=goog.bind(</span><span class="s3">this</span><span class="s1">.tick_,</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.last_=goog.now()};goog.inherits(goog.Timer,goog.events.EventTarget);goog.Timer.MAX_TIMEOUT_=</span><span class="s4">2147483647</span><span class="s1">;goog.Timer.INVALID_TIMEOUT_ID_=-</span><span class="s4">1</span><span class="s1">;goog.Timer.prototype.enabled=!</span><span class="s4">1</span><span class="s1">;goog.Timer.defaultTimerObject=goog.global;goog.Timer.intervalScale=.</span><span class="s4">8</span><span class="s1">;goog.Timer.prototype.timer_=</span><span class="s3">null</span><span class="s1">;goog.Timer.prototype.getInterval=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.interval_};</span>
<a name="l771"><span class="ln">771  </span></a><span class="s1">goog.Timer.prototype.setInterval=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.interval_=a;</span><span class="s3">this</span><span class="s1">.timer_&amp;&amp;</span><span class="s3">this</span><span class="s1">.enabled?(</span><span class="s3">this</span><span class="s1">.stop(),</span><span class="s3">this</span><span class="s1">.start()):</span><span class="s3">this</span><span class="s1">.timer_&amp;&amp;</span><span class="s3">this</span><span class="s1">.stop()};goog.Timer.prototype.tick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.enabled){</span><span class="s3">var </span><span class="s1">a=goog.now()-</span><span class="s3">this</span><span class="s1">.last_;</span><span class="s4">0</span><span class="s1">&lt;a&amp;&amp;a&lt;</span><span class="s3">this</span><span class="s1">.interval_*goog.Timer.intervalScale?</span><span class="s3">this</span><span class="s1">.timer_=</span><span class="s3">this</span><span class="s1">.timerObject_.setTimeout(</span><span class="s3">this</span><span class="s1">.boundTick_,</span><span class="s3">this</span><span class="s1">.interval_-a):(</span><span class="s3">this</span><span class="s1">.timer_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.timerObject_.clearTimeout(</span><span class="s3">this</span><span class="s1">.timer_),</span><span class="s3">this</span><span class="s1">.timer_=</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.dispatchTick(),</span><span class="s3">this</span><span class="s1">.enabled&amp;&amp;(</span><span class="s3">this</span><span class="s1">.stop(),</span><span class="s3">this</span><span class="s1">.start()))}};</span>
<a name="l772"><span class="ln">772  </span></a><span class="s1">goog.Timer.prototype.dispatchTick=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.dispatchEvent(goog.Timer.TICK)};goog.Timer.prototype.start=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.enabled=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.timer_||(</span><span class="s3">this</span><span class="s1">.timer_=</span><span class="s3">this</span><span class="s1">.timerObject_.setTimeout(</span><span class="s3">this</span><span class="s1">.boundTick_,</span><span class="s3">this</span><span class="s1">.interval_),</span><span class="s3">this</span><span class="s1">.last_=goog.now())};goog.Timer.prototype.stop=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.enabled=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.timer_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.timerObject_.clearTimeout(</span><span class="s3">this</span><span class="s1">.timer_),</span><span class="s3">this</span><span class="s1">.timer_=</span><span class="s3">null</span><span class="s1">)};goog.Timer.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.Timer.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.stop();</span><span class="s3">delete this</span><span class="s1">.timerObject_};</span>
<a name="l773"><span class="ln">773  </span></a><span class="s1">goog.Timer.TICK=</span><span class="s2">&quot;tick&quot;</span><span class="s1">;goog.Timer.callOnce=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(goog.isFunction(a))c&amp;&amp;(a=goog.bind(a,c));</span><span class="s3">else if</span><span class="s1">(a&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.handleEvent)a=goog.bind(a.handleEvent,a);</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid listener argument&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">Number(b)&gt;goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(a,b||</span><span class="s4">0</span><span class="s1">)};goog.Timer.clear=</span><span class="s3">function</span><span class="s1">(a){goog.Timer.defaultTimerObject.clearTimeout(a)};</span>
<a name="l774"><span class="ln">774  </span></a><span class="s1">goog.Timer.promise=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">goog.Promise(</span><span class="s3">function</span><span class="s1">(d,e){c=goog.Timer.callOnce(</span><span class="s3">function</span><span class="s1">(){d(b)},a);c==goog.Timer.INVALID_TIMEOUT_ID_&amp;&amp;e(Error(</span><span class="s2">&quot;Failed to schedule timer.&quot;</span><span class="s1">))})).thenCatch(</span><span class="s3">function</span><span class="s1">(a){goog.Timer.clear(c);</span><span class="s3">throw </span><span class="s1">a;})};goog.string.StringBuffer=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">null</span><span class="s1">!=a&amp;&amp;</span><span class="s3">this</span><span class="s1">.append.apply(</span><span class="s3">this</span><span class="s1">,arguments)};goog.string.StringBuffer.prototype.buffer_=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.string.StringBuffer.prototype.set=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.buffer_=</span><span class="s2">&quot;&quot;</span><span class="s1">+a};goog.string.StringBuffer.prototype.append=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.buffer_+=String(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!=b)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">1</span><span class="s1">;d&lt;arguments.length;d++)</span><span class="s3">this</span><span class="s1">.buffer_+=arguments[d];</span><span class="s3">return this</span><span class="s1">};goog.string.StringBuffer.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.buffer_=</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.string.StringBuffer.prototype.getLength=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.buffer_.length};</span>
<a name="l775"><span class="ln">775  </span></a><span class="s1">goog.string.StringBuffer.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.buffer_};goog.ui.tree={};goog.ui.tree.BaseNode=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.Component.call(</span><span class="s3">this</span><span class="s1">,c);</span><span class="s3">this</span><span class="s1">.config_=b||goog.ui.tree.BaseNode.defaultConfig;</span><span class="s3">this</span><span class="s1">.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(a);</span><span class="s3">this</span><span class="s1">.expanded_=</span><span class="s3">this</span><span class="s1">.selected_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.toolTip_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.afterLabelHtml_=goog.html.SafeHtml.EMPTY;</span><span class="s3">this</span><span class="s1">.isUserCollapsible_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.depth_=-</span><span class="s4">1</span><span class="s1">};goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component);</span>
<a name="l776"><span class="ln">776  </span></a><span class="s1">goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:</span><span class="s2">&quot;beforeexpand&quot;</span><span class="s1">,EXPAND:</span><span class="s2">&quot;expand&quot;</span><span class="s1">,BEFORE_COLLAPSE:</span><span class="s2">&quot;beforecollapse&quot;</span><span class="s1">,COLLAPSE:</span><span class="s2">&quot;collapse&quot;</span><span class="s1">};goog.ui.tree.BaseNode.allNodes={};goog.ui.tree.BaseNode.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.tree&amp;&amp;(</span><span class="s3">this</span><span class="s1">.tree.removeNode(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.tree=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setElementInternal(</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l777"><span class="ln">777  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.initAccessibility=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getLabelElement();b&amp;&amp;!b.id&amp;&amp;(b.id=</span><span class="s3">this</span><span class="s1">.getId()+</span><span class="s2">&quot;.label&quot;</span><span class="s1">);goog.a11y.aria.setRole(a,</span><span class="s2">&quot;treeitem&quot;</span><span class="s1">);goog.a11y.aria.setState(a,</span><span class="s2">&quot;selected&quot;</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);goog.a11y.aria.setState(a,</span><span class="s2">&quot;level&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getDepth());b&amp;&amp;goog.a11y.aria.setState(a,</span><span class="s2">&quot;labelledby&quot;</span><span class="s1">,b.id);(b=</span><span class="s3">this</span><span class="s1">.getIconElement())&amp;&amp;goog.a11y.aria.setRole(b,</span><span class="s2">&quot;presentation&quot;</span><span class="s1">);(b=</span><span class="s3">this</span><span class="s1">.getExpandIconElement())&amp;&amp;goog.a11y.aria.setRole(b,</span><span class="s2">&quot;presentation&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.getChildrenElement())</span><span class="s3">if</span><span class="s1">(goog.a11y.aria.setRole(b,</span>
<a name="l778"><span class="ln">778  </span></a><span class="s2">&quot;group&quot;</span><span class="s1">),b.hasChildNodes())</span><span class="s3">for</span><span class="s1">(goog.a11y.aria.setState(a,goog.a11y.aria.State.EXPANDED,!</span><span class="s4">1</span><span class="s1">),a=</span><span class="s3">this</span><span class="s1">.getChildCount(),b=</span><span class="s4">1</span><span class="s1">;b&lt;=a;b++){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getChildAt(b-1).getElement();goog.asserts.assert(c,</span><span class="s2">&quot;The child element cannot be null&quot;</span><span class="s1">);goog.a11y.aria.setState(c,</span><span class="s2">&quot;setsize&quot;</span><span class="s1">,a);goog.a11y.aria.setState(c,</span><span class="s2">&quot;posinset&quot;</span><span class="s1">,b)}}};goog.ui.tree.BaseNode.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getDomHelper().safeHtmlToNode(</span><span class="s3">this</span><span class="s1">.toSafeHtml());</span><span class="s3">this</span><span class="s1">.setElementInternal(a)};</span>
<a name="l779"><span class="ln">779  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(</span><span class="s3">this</span><span class="s1">);goog.ui.tree.BaseNode.allNodes[</span><span class="s3">this</span><span class="s1">.getId()]=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.initAccessibility()};goog.ui.tree.BaseNode.prototype.exitDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">delete </span><span class="s1">goog.ui.tree.BaseNode.allNodes[</span><span class="s3">this</span><span class="s1">.getId()]};</span>
<a name="l780"><span class="ln">780  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.addChildAt=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.asserts.assert(!a.getParent());goog.asserts.assertInstanceof(a,goog.ui.tree.BaseNode);c=</span><span class="s3">this</span><span class="s1">.getChildAt(b-1);</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getChildAt(b);goog.ui.tree.BaseNode.superClass_.addChildAt.call(</span><span class="s3">this</span><span class="s1">,a,b);a.previousSibling_=c;a.nextSibling_=d;c?c.nextSibling_=a:</span><span class="s3">this</span><span class="s1">.firstChild_=a;d?d.previousSibling_=a:</span><span class="s3">this</span><span class="s1">.lastChild_=a;(b=</span><span class="s3">this</span><span class="s1">.getTree())&amp;&amp;a.setTreeInternal(b);a.setDepth_(</span><span class="s3">this</span><span class="s1">.getDepth()+</span><span class="s4">1</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.getElement())</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.updateExpandIcon(),goog.a11y.aria.setState(b,</span>
<a name="l781"><span class="ln">781  </span></a><span class="s1">goog.a11y.aria.State.EXPANDED,</span><span class="s3">this</span><span class="s1">.getExpanded()),</span><span class="s3">this</span><span class="s1">.getExpanded()){b=</span><span class="s3">this</span><span class="s1">.getChildrenElement();a.getElement()||a.createDom();</span><span class="s3">var </span><span class="s1">e=a.getElement(),f=d&amp;&amp;d.getElement();b.insertBefore(e,f);</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;a.enterDocument();d||(c?c.updateExpandIcon():(goog.style.setElementShown(b,!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.setExpanded(</span><span class="s3">this</span><span class="s1">.getExpanded())))}};</span>
<a name="l782"><span class="ln">782  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.add=</span><span class="s3">function</span><span class="s1">(a,b){goog.asserts.assert(!b||b.getParent()==</span><span class="s3">this</span><span class="s1">,</span><span class="s2">&quot;Can only add nodes before siblings&quot;</span><span class="s1">);a.getParent()&amp;&amp;a.getParent().removeChild(a);</span><span class="s3">this</span><span class="s1">.addChildAt(a,b?</span><span class="s3">this</span><span class="s1">.indexOfChild(b):</span><span class="s3">this</span><span class="s1">.getChildCount());</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l783"><span class="ln">783  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.removeChild=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getTree(),d=c?c.getSelectedItem():</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(d==a||a.contains(d))c.hasFocus()?(</span><span class="s3">this</span><span class="s1">.select(),goog.Timer.callOnce(</span><span class="s3">this</span><span class="s1">.onTimeoutSelect_,</span><span class="s4">10</span><span class="s1">,</span><span class="s3">this</span><span class="s1">)):</span><span class="s3">this</span><span class="s1">.select();goog.ui.tree.BaseNode.superClass_.removeChild.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.lastChild_==a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.lastChild_=a.previousSibling_);</span><span class="s3">this</span><span class="s1">.firstChild_==a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.firstChild_=a.nextSibling_);a.previousSibling_&amp;&amp;(a.previousSibling_.nextSibling_=a.nextSibling_);a.nextSibling_&amp;&amp;(a.nextSibling_.previousSibling_=</span>
<a name="l784"><span class="ln">784  </span></a><span class="s1">a.previousSibling_);d=a.isLastSibling();a.tree=</span><span class="s3">null</span><span class="s1">;a.depth_=-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;(c.removeNode(a),</span><span class="s3">this</span><span class="s1">.isInDocument())){c=</span><span class="s3">this</span><span class="s1">.getChildrenElement();</span><span class="s3">if</span><span class="s1">(a.isInDocument()){</span><span class="s3">var </span><span class="s1">e=a.getElement();c.removeChild(e);a.exitDocument()}d&amp;&amp;(d=</span><span class="s3">this</span><span class="s1">.getLastChild())&amp;&amp;d.updateExpandIcon();</span><span class="s3">this</span><span class="s1">.hasChildren()||(c.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.updateExpandIcon(),</span><span class="s3">this</span><span class="s1">.updateIcon_(),(d=</span><span class="s3">this</span><span class="s1">.getElement())&amp;&amp;goog.a11y.aria.removeState(d,goog.a11y.aria.State.EXPANDED))}</span><span class="s3">return </span><span class="s1">a};goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild;</span>
<a name="l785"><span class="ln">785  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.select()};goog.ui.tree.BaseNode.prototype.getTree=goog.abstractMethod;goog.ui.tree.BaseNode.prototype.getDepth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.depth_;</span><span class="s4">0</span><span class="s1">&gt;a&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.computeDepth_(),</span><span class="s3">this</span><span class="s1">.setDepth_(a));</span><span class="s3">return </span><span class="s1">a};goog.ui.tree.BaseNode.prototype.computeDepth_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParent();</span><span class="s3">return </span><span class="s1">a?a.getDepth()+</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">};</span>
<a name="l786"><span class="ln">786  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.setDepth_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a!=</span><span class="s3">this</span><span class="s1">.depth_){</span><span class="s3">this</span><span class="s1">.depth_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getRowElement();</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getPixelIndent_()+</span><span class="s2">&quot;px&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.isRightToLeft()?b.style.paddingRight=c:b.style.paddingLeft=c}</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(b){b.setDepth_(a+</span><span class="s4">1</span><span class="s1">)})}};goog.ui.tree.BaseNode.prototype.contains=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(;a;){</span><span class="s3">if</span><span class="s1">(a==</span><span class="s3">this</span><span class="s1">)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;a=a.getParent()}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[];</span>
<a name="l787"><span class="ln">787  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getChildren=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(b){a.push(b)});</span><span class="s3">return </span><span class="s1">a};goog.ui.tree.BaseNode.prototype.getFirstChild=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getChildAt(</span><span class="s4">0</span><span class="s1">)};goog.ui.tree.BaseNode.prototype.getLastChild=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getChildAt(</span><span class="s3">this</span><span class="s1">.getChildCount()-</span><span class="s4">1</span><span class="s1">)};goog.ui.tree.BaseNode.prototype.getPreviousSibling=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.previousSibling_};goog.ui.tree.BaseNode.prototype.getNextSibling=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.nextSibling_};</span>
<a name="l788"><span class="ln">788  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.isLastSibling=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s3">this</span><span class="s1">.nextSibling_};goog.ui.tree.BaseNode.prototype.isSelected=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.selected_};goog.ui.tree.BaseNode.prototype.select=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getTree();a&amp;&amp;a.setSelectedItem(</span><span class="s3">this</span><span class="s1">)};goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction;</span>
<a name="l789"><span class="ln">789  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.setSelectedInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.selected_!=a){</span><span class="s3">this</span><span class="s1">.selected_=a;</span><span class="s3">this</span><span class="s1">.updateRow();</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getElement();b&amp;&amp;(goog.a11y.aria.setState(b,</span><span class="s2">&quot;selected&quot;</span><span class="s1">,a),a&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.getTree().getElement(),goog.asserts.assert(a,</span><span class="s2">&quot;The DOM element for the tree cannot be null&quot;</span><span class="s1">),goog.a11y.aria.setState(a,</span><span class="s2">&quot;activedescendant&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getId())))}};goog.ui.tree.BaseNode.prototype.getExpanded=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.expanded_};</span>
<a name="l790"><span class="ln">790  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.setExpandedInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.expanded_=a};</span>
<a name="l791"><span class="ln">791  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.setExpanded=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a!=</span><span class="s3">this</span><span class="s1">.expanded_;</span><span class="s3">if</span><span class="s1">(!b||</span><span class="s3">this</span><span class="s1">.dispatchEvent(a?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){</span><span class="s3">this</span><span class="s1">.expanded_=a;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getTree();</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getElement();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasChildren()){</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;c&amp;&amp;</span><span class="s3">this</span><span class="s1">.contains(c.getSelectedItem())&amp;&amp;</span><span class="s3">this</span><span class="s1">.select(),d){</span><span class="s3">if</span><span class="s1">(c=</span><span class="s3">this</span><span class="s1">.getChildrenElement())</span><span class="s3">if</span><span class="s1">(goog.style.setElementShown(c,a),goog.a11y.aria.setState(d,goog.a11y.aria.State.EXPANDED,a),a&amp;&amp;</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span>
<a name="l792"><span class="ln">792  </span></a><span class="s1">!c.hasChildNodes()){</span><span class="s3">var </span><span class="s1">e=[];</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){e.push(a.toSafeHtml())});goog.dom.safe.setInnerHtml(c,goog.html.SafeHtml.concat(e));</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.enterDocument()})}</span><span class="s3">this</span><span class="s1">.updateExpandIcon()}}</span><span class="s3">else</span><span class="s1">(c=</span><span class="s3">this</span><span class="s1">.getChildrenElement())&amp;&amp;goog.style.setElementShown(c,!</span><span class="s4">1</span><span class="s1">);d&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateIcon_();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.dispatchEvent(a?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}};goog.ui.tree.BaseNode.prototype.toggle=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setExpanded(!</span><span class="s3">this</span><span class="s1">.getExpanded())};</span>
<a name="l793"><span class="ln">793  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.expand=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setExpanded(!</span><span class="s4">0</span><span class="s1">)};goog.ui.tree.BaseNode.prototype.collapse=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setExpanded(!</span><span class="s4">1</span><span class="s1">)};goog.ui.tree.BaseNode.prototype.collapseChildren=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.collapseAll()})};goog.ui.tree.BaseNode.prototype.collapseAll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.collapseChildren();</span><span class="s3">this</span><span class="s1">.collapse()};goog.ui.tree.BaseNode.prototype.expandChildren=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){a.expandAll()})};</span>
<a name="l794"><span class="ln">794  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.expandAll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.expandChildren();</span><span class="s3">this</span><span class="s1">.expand()};goog.ui.tree.BaseNode.prototype.reveal=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParent();a&amp;&amp;(a.setExpanded(!</span><span class="s4">0</span><span class="s1">),a.reveal())};goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=</span><span class="s3">function</span><span class="s1">(a){(</span><span class="s3">this</span><span class="s1">.isUserCollapsible_=a)||</span><span class="s3">this</span><span class="s1">.expand();</span><span class="s3">this</span><span class="s1">.getElement()&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateExpandIcon()};goog.ui.tree.BaseNode.prototype.isUserCollapsible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isUserCollapsible_};</span>
<a name="l795"><span class="ln">795  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.toSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getTree(),b=!a.getShowLines()||a==</span><span class="s3">this</span><span class="s1">.getParent()&amp;&amp;!a.getShowRootLines()?</span><span class="s3">this</span><span class="s1">.config_.cssChildrenNoLines:</span><span class="s3">this</span><span class="s1">.config_.cssChildren;a=</span><span class="s3">this</span><span class="s1">.getExpanded()&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasChildren();b={</span><span class="s2">&quot;class&quot;</span><span class="s1">:b,style:</span><span class="s3">this</span><span class="s1">.getLineStyle()};</span><span class="s3">var </span><span class="s1">c=[];a&amp;&amp;</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(a){c.push(a.toSafeHtml())});a=goog.html.SafeHtml.create(</span><span class="s2">&quot;div&quot;</span><span class="s1">,b,c);</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.create(</span><span class="s2">&quot;div&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.config_.cssItem,id:</span><span class="s3">this</span><span class="s1">.getId()},[</span><span class="s3">this</span><span class="s1">.getRowSafeHtml(),a])};</span>
<a name="l796"><span class="ln">796  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getPixelIndent_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Math.max(</span><span class="s4">0</span><span class="s1">,(</span><span class="s3">this</span><span class="s1">.getDepth()-</span><span class="s4">1</span><span class="s1">)*</span><span class="s3">this</span><span class="s1">.config_.indentWidth)};goog.ui.tree.BaseNode.prototype.getRowSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a={};a[</span><span class="s2">&quot;padding-&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.isRightToLeft()?</span><span class="s2">&quot;right&quot;</span><span class="s1">:</span><span class="s2">&quot;left&quot;</span><span class="s1">)]=</span><span class="s3">this</span><span class="s1">.getPixelIndent_()+</span><span class="s2">&quot;px&quot;</span><span class="s1">;a={</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.getRowClassName(),style:a};</span><span class="s3">var </span><span class="s1">b=[</span><span class="s3">this</span><span class="s1">.getExpandIconSafeHtml(),</span><span class="s3">this</span><span class="s1">.getIconSafeHtml(),</span><span class="s3">this</span><span class="s1">.getLabelSafeHtml()];</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.create(</span><span class="s2">&quot;div&quot;</span><span class="s1">,a,b)};</span>
<a name="l797"><span class="ln">797  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getRowClassName=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.isSelected()?</span><span class="s2">&quot; &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.config_.cssSelectedRow:</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">return this</span><span class="s1">.config_.cssTreeRow+a};goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.html.SafeHtml.create(</span><span class="s2">&quot;span&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.config_.cssItemLabel,title:</span><span class="s3">this</span><span class="s1">.getToolTip()||</span><span class="s3">null</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.getSafeHtml());</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.concat(a,goog.html.SafeHtml.create(</span><span class="s2">&quot;span&quot;</span><span class="s1">,{},</span><span class="s3">this</span><span class="s1">.getAfterLabelSafeHtml()))};goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.unwrap(</span><span class="s3">this</span><span class="s1">.getAfterLabelSafeHtml())};</span>
<a name="l798"><span class="ln">798  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.afterLabelHtml_};goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.afterLabelHtml_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getAfterLabelElement();b&amp;&amp;goog.dom.safe.setInnerHtml(b,a)};goog.ui.tree.BaseNode.prototype.getIconSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.create(</span><span class="s2">&quot;span&quot;</span><span class="s1">,{style:{display:</span><span class="s2">&quot;inline-block&quot;</span><span class="s1">},</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.getCalculatedIconClass()})};goog.ui.tree.BaseNode.prototype.getCalculatedIconClass=goog.abstractMethod;</span>
<a name="l799"><span class="ln">799  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.create(</span><span class="s2">&quot;span&quot;</span><span class="s1">,{type:</span><span class="s2">&quot;expand&quot;</span><span class="s1">,style:{display:</span><span class="s2">&quot;inline-block&quot;</span><span class="s1">},</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.getExpandIconClass()})};</span>
<a name="l800"><span class="ln">800  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getExpandIconClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getTree(),b=!a.getShowLines()||a==</span><span class="s3">this</span><span class="s1">.getParent()&amp;&amp;!a.getShowRootLines(),c=</span><span class="s3">this</span><span class="s1">.config_,d=</span><span class="s3">new </span><span class="s1">goog.string.StringBuffer;d.append(c.cssTreeIcon,</span><span class="s2">&quot; &quot;</span><span class="s1">,c.cssExpandTreeIcon,</span><span class="s2">&quot; &quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasChildren()){</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;a.getShowExpandIcons()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isUserCollapsible_&amp;&amp;(e=</span><span class="s3">this</span><span class="s1">.getExpanded()?</span><span class="s4">2</span><span class="s1">:</span><span class="s4">1</span><span class="s1">);b||(e=</span><span class="s3">this</span><span class="s1">.isLastSibling()?e+</span><span class="s4">4</span><span class="s1">:e+</span><span class="s4">8</span><span class="s1">);</span><span class="s3">switch</span><span class="s1">(e){</span><span class="s3">case </span><span class="s4">1</span><span class="s1">:d.append(c.cssExpandTreeIconPlus);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">2</span><span class="s1">:d.append(c.cssExpandTreeIconMinus);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">4</span><span class="s1">:d.append(c.cssExpandTreeIconL);</span>
<a name="l801"><span class="ln">801  </span></a><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">5</span><span class="s1">:d.append(c.cssExpandTreeIconLPlus);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">6</span><span class="s1">:d.append(c.cssExpandTreeIconLMinus);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">8</span><span class="s1">:d.append(c.cssExpandTreeIconT);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">9</span><span class="s1">:d.append(c.cssExpandTreeIconTPlus);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">10</span><span class="s1">:d.append(c.cssExpandTreeIconTMinus);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:d.append(c.cssExpandTreeIconBlank)}}</span><span class="s3">else </span><span class="s1">b?d.append(c.cssExpandTreeIconBlank):</span><span class="s3">this</span><span class="s1">.isLastSibling()?d.append(c.cssExpandTreeIconL):d.append(c.cssExpandTreeIconT);</span><span class="s3">return </span><span class="s1">d.toString()};</span>
<a name="l802"><span class="ln">802  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getLineStyle=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getExpanded()&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasChildren();</span><span class="s3">return </span><span class="s1">goog.html.SafeStyle.create({</span><span class="s2">&quot;background-position&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.getBackgroundPosition(),display:a?</span><span class="s3">null</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">})};goog.ui.tree.BaseNode.prototype.getBackgroundPosition=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isLastSibling()?</span><span class="s2">&quot;-100&quot;</span><span class="s1">:(</span><span class="s3">this</span><span class="s1">.getDepth()-</span><span class="s4">1</span><span class="s1">)*</span><span class="s3">this</span><span class="s1">.config_.indentWidth)+</span><span class="s2">&quot;px 0&quot;</span><span class="s1">};</span>
<a name="l803"><span class="ln">803  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.ui.tree.BaseNode.superClass_.getElement.call(</span><span class="s3">this</span><span class="s1">);a||(a=</span><span class="s3">this</span><span class="s1">.getDomHelper().getElement(</span><span class="s3">this</span><span class="s1">.getId()),</span><span class="s3">this</span><span class="s1">.setElementInternal(a));</span><span class="s3">return </span><span class="s1">a};goog.ui.tree.BaseNode.prototype.getRowElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();</span><span class="s3">return </span><span class="s1">a?a.firstChild:</span><span class="s3">null</span><span class="s1">};goog.ui.tree.BaseNode.prototype.getExpandIconElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRowElement();</span><span class="s3">return </span><span class="s1">a?a.firstChild:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l804"><span class="ln">804  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getIconElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRowElement();</span><span class="s3">return </span><span class="s1">a?a.childNodes[</span><span class="s4">1</span><span class="s1">]:</span><span class="s3">null</span><span class="s1">};goog.ui.tree.BaseNode.prototype.getLabelElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRowElement();</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.lastChild?a.lastChild.previousSibling:</span><span class="s3">null</span><span class="s1">};goog.ui.tree.BaseNode.prototype.getAfterLabelElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRowElement();</span><span class="s3">return </span><span class="s1">a?a.lastChild:</span><span class="s3">null</span><span class="s1">};goog.ui.tree.BaseNode.prototype.getChildrenElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();</span><span class="s3">return </span><span class="s1">a?a.lastChild:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l805"><span class="ln">805  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.setIconClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.iconClass_=a;</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateIcon_()};goog.ui.tree.BaseNode.prototype.getIconClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.iconClass_};goog.ui.tree.BaseNode.prototype.setExpandedIconClass=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.expandedIconClass_=a;</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateIcon_()};goog.ui.tree.BaseNode.prototype.getExpandedIconClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.expandedIconClass_};goog.ui.tree.BaseNode.prototype.setText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setSafeHtml(goog.html.SafeHtml.htmlEscape(a))};</span>
<a name="l806"><span class="ln">806  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(</span><span class="s3">this</span><span class="s1">.html_))};goog.ui.tree.BaseNode.prototype.setSafeHtml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.html_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getLabelElement();b&amp;&amp;goog.dom.safe.setInnerHtml(b,a);(a=</span><span class="s3">this</span><span class="s1">.getTree())&amp;&amp;a.setNode(</span><span class="s3">this</span><span class="s1">)};goog.ui.tree.BaseNode.prototype.getHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.unwrap(</span><span class="s3">this</span><span class="s1">.getSafeHtml())};goog.ui.tree.BaseNode.prototype.getSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.html_};</span>
<a name="l807"><span class="ln">807  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.setToolTip=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.toolTip_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getLabelElement();b&amp;&amp;(b.title=a)};goog.ui.tree.BaseNode.prototype.getToolTip=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.toolTip_};goog.ui.tree.BaseNode.prototype.updateRow=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRowElement();a&amp;&amp;(a.className=</span><span class="s3">this</span><span class="s1">.getRowClassName())};</span>
<a name="l808"><span class="ln">808  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.updateExpandIcon=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getExpandIconElement();a&amp;&amp;(a.className=</span><span class="s3">this</span><span class="s1">.getExpandIconClass());</span><span class="s3">if</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.getChildrenElement())a.style.backgroundPosition=</span><span class="s3">this</span><span class="s1">.getBackgroundPosition()};goog.ui.tree.BaseNode.prototype.updateIcon_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.getIconElement().className=</span><span class="s3">this</span><span class="s1">.getCalculatedIconClass()};</span>
<a name="l809"><span class="ln">809  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.onMouseDown=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s2">&quot;expand&quot;</span><span class="s1">==a.target.getAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">)&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasChildren()?</span><span class="s3">this</span><span class="s1">.isUserCollapsible_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toggle():(</span><span class="s3">this</span><span class="s1">.select(),</span><span class="s3">this</span><span class="s1">.updateRow())};goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault;goog.ui.tree.BaseNode.prototype.onDoubleClick_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s2">&quot;expand&quot;</span><span class="s1">==a.target.getAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">)&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasChildren()||</span><span class="s3">this</span><span class="s1">.isUserCollapsible_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toggle()};</span>
<a name="l810"><span class="ln">810  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.onKeyDown=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a.keyCode){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.RIGHT:</span><span class="s3">if</span><span class="s1">(a.altKey)</span><span class="s3">break</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.hasChildren()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.getExpanded()?</span><span class="s3">this</span><span class="s1">.getFirstChild().select():</span><span class="s3">this</span><span class="s1">.setExpanded(!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.LEFT:</span><span class="s3">if</span><span class="s1">(a.altKey)</span><span class="s3">break</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasChildren()&amp;&amp;</span><span class="s3">this</span><span class="s1">.getExpanded()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isUserCollapsible_)</span><span class="s3">this</span><span class="s1">.setExpanded(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getParent(),d=</span><span class="s3">this</span><span class="s1">.getTree();c&amp;&amp;(d.getShowRootNode()||c!=d)&amp;&amp;c.select()}</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.DOWN:(c=</span><span class="s3">this</span><span class="s1">.getNextShownNode())&amp;&amp;</span>
<a name="l811"><span class="ln">811  </span></a><span class="s1">c.select();</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.UP:(c=</span><span class="s3">this</span><span class="s1">.getPreviousShownNode())&amp;&amp;c.select();</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:b=!</span><span class="s4">1</span><span class="s1">}b&amp;&amp;(a.preventDefault(),(d=</span><span class="s3">this</span><span class="s1">.getTree())&amp;&amp;d.clearTypeAhead());</span><span class="s3">return </span><span class="s1">b};goog.ui.tree.BaseNode.prototype.getLastShownDescendant=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.getExpanded()&amp;&amp;</span><span class="s3">this</span><span class="s1">.hasChildren()?</span><span class="s3">this</span><span class="s1">.getLastChild().getLastShownDescendant():</span><span class="s3">this</span><span class="s1">};</span>
<a name="l812"><span class="ln">812  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getNextShownNode=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasChildren()&amp;&amp;</span><span class="s3">this</span><span class="s1">.getExpanded())</span><span class="s3">return this</span><span class="s1">.getFirstChild();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">,b;a!=</span><span class="s3">this</span><span class="s1">.getTree();){b=a.getNextSibling();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!=b)</span><span class="s3">return </span><span class="s1">b;a=a.getParent()}</span><span class="s3">return null</span><span class="s1">};goog.ui.tree.BaseNode.prototype.getPreviousShownNode=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getPreviousSibling();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!=a)</span><span class="s3">return </span><span class="s1">a.getLastShownDescendant();a=</span><span class="s3">this</span><span class="s1">.getParent();</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getTree();</span><span class="s3">return</span><span class="s1">!b.getShowRootNode()&amp;&amp;a==b||</span><span class="s3">this</span><span class="s1">==b?</span><span class="s3">null</span><span class="s1">:a};</span>
<a name="l813"><span class="ln">813  </span></a><span class="s1">goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel;goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel;goog.ui.tree.BaseNode.prototype.getConfig=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.config_};goog.ui.tree.BaseNode.prototype.setTreeInternal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.tree!=a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.tree=a,a.setNode(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.forEachChild(</span><span class="s3">function</span><span class="s1">(b){b.setTreeInternal(a)}))};</span>
<a name="l814"><span class="ln">814  </span></a><span class="s1">goog.ui.tree.BaseNode.defaultConfig={indentWidth:</span><span class="s4">19</span><span class="s1">,cssRoot:</span><span class="s2">&quot;goog-tree-root goog-tree-item&quot;</span><span class="s1">,cssHideRoot:</span><span class="s2">&quot;goog-tree-hide-root&quot;</span><span class="s1">,cssItem:</span><span class="s2">&quot;goog-tree-item&quot;</span><span class="s1">,cssChildren:</span><span class="s2">&quot;goog-tree-children&quot;</span><span class="s1">,cssChildrenNoLines:</span><span class="s2">&quot;goog-tree-children-nolines&quot;</span><span class="s1">,cssTreeRow:</span><span class="s2">&quot;goog-tree-row&quot;</span><span class="s1">,cssItemLabel:</span><span class="s2">&quot;goog-tree-item-label&quot;</span><span class="s1">,cssTreeIcon:</span><span class="s2">&quot;goog-tree-icon&quot;</span><span class="s1">,cssExpandTreeIcon:</span><span class="s2">&quot;goog-tree-expand-icon&quot;</span><span class="s1">,cssExpandTreeIconPlus:</span><span class="s2">&quot;goog-tree-expand-icon-plus&quot;</span><span class="s1">,cssExpandTreeIconMinus:</span><span class="s2">&quot;goog-tree-expand-icon-minus&quot;</span><span class="s1">,cssExpandTreeIconTPlus:</span><span class="s2">&quot;goog-tree-expand-icon-tplus&quot;</span><span class="s1">,</span>
<a name="l815"><span class="ln">815  </span></a><span class="s1">cssExpandTreeIconTMinus:</span><span class="s2">&quot;goog-tree-expand-icon-tminus&quot;</span><span class="s1">,cssExpandTreeIconLPlus:</span><span class="s2">&quot;goog-tree-expand-icon-lplus&quot;</span><span class="s1">,cssExpandTreeIconLMinus:</span><span class="s2">&quot;goog-tree-expand-icon-lminus&quot;</span><span class="s1">,cssExpandTreeIconT:</span><span class="s2">&quot;goog-tree-expand-icon-t&quot;</span><span class="s1">,cssExpandTreeIconL:</span><span class="s2">&quot;goog-tree-expand-icon-l&quot;</span><span class="s1">,cssExpandTreeIconBlank:</span><span class="s2">&quot;goog-tree-expand-icon-blank&quot;</span><span class="s1">,cssExpandedFolderIcon:</span><span class="s2">&quot;goog-tree-expanded-folder-icon&quot;</span><span class="s1">,cssCollapsedFolderIcon:</span><span class="s2">&quot;goog-tree-collapsed-folder-icon&quot;</span><span class="s1">,cssFileIcon:</span><span class="s2">&quot;goog-tree-file-icon&quot;</span><span class="s1">,cssExpandedRootIcon:</span><span class="s2">&quot;goog-tree-expanded-folder-icon&quot;</span><span class="s1">,</span>
<a name="l816"><span class="ln">816  </span></a><span class="s1">cssCollapsedRootIcon:</span><span class="s2">&quot;goog-tree-collapsed-folder-icon&quot;</span><span class="s1">,cssSelectedRow:</span><span class="s2">&quot;selected&quot;</span><span class="s1">};goog.events.FocusHandler=</span><span class="s3">function</span><span class="s1">(a){goog.events.EventTarget.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.element_=a;a=goog.userAgent.IE?</span><span class="s2">&quot;focusout&quot;</span><span class="s1">:</span><span class="s2">&quot;blur&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.listenKeyIn_=goog.events.listen(</span><span class="s3">this</span><span class="s1">.element_,goog.userAgent.IE?</span><span class="s2">&quot;focusin&quot;</span><span class="s1">:</span><span class="s2">&quot;focus&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,!goog.userAgent.IE);</span><span class="s3">this</span><span class="s1">.listenKeyOut_=goog.events.listen(</span><span class="s3">this</span><span class="s1">.element_,a,</span><span class="s3">this</span><span class="s1">,!goog.userAgent.IE)};goog.inherits(goog.events.FocusHandler,goog.events.EventTarget);goog.events.FocusHandler.EventType={FOCUSIN:</span><span class="s2">&quot;focusin&quot;</span><span class="s1">,FOCUSOUT:</span><span class="s2">&quot;focusout&quot;</span><span class="s1">};</span>
<a name="l817"><span class="ln">817  </span></a><span class="s1">goog.events.FocusHandler.prototype.handleEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getBrowserEvent();b=</span><span class="s3">new </span><span class="s1">goog.events.BrowserEvent(b);b.type=</span><span class="s2">&quot;focusin&quot;</span><span class="s1">==a.type||</span><span class="s2">&quot;focus&quot;</span><span class="s1">==a.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT;</span><span class="s3">this</span><span class="s1">.dispatchEvent(b)};goog.events.FocusHandler.prototype.disposeInternal=</span><span class="s3">function</span><span class="s1">(){goog.events.FocusHandler.superClass_.disposeInternal.call(</span><span class="s3">this</span><span class="s1">);goog.events.unlistenByKey(</span><span class="s3">this</span><span class="s1">.listenKeyIn_);goog.events.unlistenByKey(</span><span class="s3">this</span><span class="s1">.listenKeyOut_);</span><span class="s3">delete this</span><span class="s1">.element_};goog.debug.LogRecord=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">this</span><span class="s1">.reset(a,b,c,d,e)};goog.debug.LogRecord.prototype.sequenceNumber_=</span><span class="s4">0</span><span class="s1">;goog.debug.LogRecord.prototype.exception_=</span><span class="s3">null</span><span class="s1">;goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!</span><span class="s4">0</span><span class="s1">;goog.debug.LogRecord.nextSequenceNumber_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l818"><span class="ln">818  </span></a><span class="s1">goog.debug.LogRecord.prototype.reset=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sequenceNumber_=</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">e?e:goog.debug.LogRecord.nextSequenceNumber_++);</span><span class="s3">this</span><span class="s1">.time_=d||goog.now();</span><span class="s3">this</span><span class="s1">.level_=a;</span><span class="s3">this</span><span class="s1">.msg_=b;</span><span class="s3">this</span><span class="s1">.loggerName_=c;</span><span class="s3">delete this</span><span class="s1">.exception_};goog.debug.LogRecord.prototype.getLoggerName=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.loggerName_};goog.debug.LogRecord.prototype.getException=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.exception_};</span>
<a name="l819"><span class="ln">819  </span></a><span class="s1">goog.debug.LogRecord.prototype.setException=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.exception_=a};goog.debug.LogRecord.prototype.setLoggerName=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.loggerName_=a};goog.debug.LogRecord.prototype.getLevel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.level_};goog.debug.LogRecord.prototype.setLevel=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.level_=a};goog.debug.LogRecord.prototype.getMessage=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.msg_};goog.debug.LogRecord.prototype.setMessage=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.msg_=a};goog.debug.LogRecord.prototype.getMillis=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.time_};</span>
<a name="l820"><span class="ln">820  </span></a><span class="s1">goog.debug.LogRecord.prototype.setMillis=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.time_=a};goog.debug.LogRecord.prototype.getSequenceNumber=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.sequenceNumber_};goog.debug.LogBuffer=</span><span class="s3">function</span><span class="s1">(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),</span><span class="s2">&quot;Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.clear()};goog.debug.LogBuffer.getInstance=</span><span class="s3">function</span><span class="s1">(){goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=</span><span class="s3">new </span><span class="s1">goog.debug.LogBuffer);</span><span class="s3">return </span><span class="s1">goog.debug.LogBuffer.instance_};goog.debug.LogBuffer.CAPACITY=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l821"><span class="ln">821  </span></a><span class="s1">goog.debug.LogBuffer.prototype.addRecord=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=(</span><span class="s3">this</span><span class="s1">.curIndex_+</span><span class="s4">1</span><span class="s1">)%goog.debug.LogBuffer.CAPACITY;</span><span class="s3">this</span><span class="s1">.curIndex_=d;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isFull_)</span><span class="s3">return </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.buffer_[d],d.reset(a,b,c),d;</span><span class="s3">this</span><span class="s1">.isFull_=d==goog.debug.LogBuffer.CAPACITY-1;</span><span class="s3">return this</span><span class="s1">.buffer_[d]=</span><span class="s3">new </span><span class="s1">goog.debug.LogRecord(a,b,c)};goog.debug.LogBuffer.isBufferingEnabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">&lt;goog.debug.LogBuffer.CAPACITY};</span>
<a name="l822"><span class="ln">822  </span></a><span class="s1">goog.debug.LogBuffer.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.buffer_=Array(goog.debug.LogBuffer.CAPACITY);</span><span class="s3">this</span><span class="s1">.curIndex_=-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.isFull_=!</span><span class="s4">1</span><span class="s1">};goog.debug.LogBuffer.prototype.forEachRecord=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.buffer_;</span><span class="s3">if</span><span class="s1">(b[</span><span class="s4">0</span><span class="s1">]){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.curIndex_,d=</span><span class="s3">this</span><span class="s1">.isFull_?c:-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">do </span><span class="s1">d=(d+</span><span class="s4">1</span><span class="s1">)%goog.debug.LogBuffer.CAPACITY,a(b[d]);</span><span class="s3">while</span><span class="s1">(d!=c)}};goog.debug.Logger=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.name_=a;</span><span class="s3">this</span><span class="s1">.handlers_=</span><span class="s3">this</span><span class="s1">.children_=</span><span class="s3">this</span><span class="s1">.level_=</span><span class="s3">this</span><span class="s1">.parent_=</span><span class="s3">null</span><span class="s1">};goog.debug.Logger.ROOT_LOGGER_NAME=</span><span class="s2">&quot;&quot;</span><span class="s1">;goog.debug.Logger.ENABLE_HIERARCHY=!</span><span class="s4">0</span><span class="s1">;goog.debug.Logger.ENABLE_PROFILER_LOGGING=!</span><span class="s4">1</span><span class="s1">;goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]);goog.debug.Logger.Level=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.name=a;</span><span class="s3">this</span><span class="s1">.value=b};goog.debug.Logger.Level.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.name};goog.debug.Logger.Level.OFF=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;OFF&quot;</span><span class="s1">,Infinity);</span>
<a name="l823"><span class="ln">823  </span></a><span class="s1">goog.debug.Logger.Level.SHOUT=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;SHOUT&quot;</span><span class="s1">,</span><span class="s4">1200</span><span class="s1">);goog.debug.Logger.Level.SEVERE=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;SEVERE&quot;</span><span class="s1">,</span><span class="s4">1</span><span class="s1">E3);goog.debug.Logger.Level.WARNING=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;WARNING&quot;</span><span class="s1">,</span><span class="s4">900</span><span class="s1">);goog.debug.Logger.Level.INFO=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;INFO&quot;</span><span class="s1">,</span><span class="s4">800</span><span class="s1">);goog.debug.Logger.Level.CONFIG=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;CONFIG&quot;</span><span class="s1">,</span><span class="s4">700</span><span class="s1">);goog.debug.Logger.Level.FINE=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;FINE&quot;</span><span class="s1">,</span><span class="s4">500</span><span class="s1">);goog.debug.Logger.Level.FINER=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;FINER&quot;</span><span class="s1">,</span><span class="s4">400</span><span class="s1">);</span>
<a name="l824"><span class="ln">824  </span></a><span class="s1">goog.debug.Logger.Level.FINEST=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;FINEST&quot;</span><span class="s1">,</span><span class="s4">300</span><span class="s1">);goog.debug.Logger.Level.ALL=</span><span class="s3">new </span><span class="s1">goog.debug.Logger.Level(</span><span class="s2">&quot;ALL&quot;</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL];</span>
<a name="l825"><span class="ln">825  </span></a><span class="s1">goog.debug.Logger.Level.predefinedLevelsCache_=</span><span class="s3">null</span><span class="s1">;goog.debug.Logger.Level.createPredefinedLevelsCache_=</span><span class="s3">function</span><span class="s1">(){goog.debug.Logger.Level.predefinedLevelsCache_={};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=goog.debug.Logger.Level.PREDEFINED_LEVELS[a];a++)goog.debug.Logger.Level.predefinedLevelsCache_[b.value]=b,goog.debug.Logger.Level.predefinedLevelsCache_[b.name]=b};</span>
<a name="l826"><span class="ln">826  </span></a><span class="s1">goog.debug.Logger.Level.getPredefinedLevel=</span><span class="s3">function</span><span class="s1">(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();</span><span class="s3">return </span><span class="s1">goog.debug.Logger.Level.predefinedLevelsCache_[a]||</span><span class="s3">null</span><span class="s1">};</span>
<a name="l827"><span class="ln">827  </span></a><span class="s1">goog.debug.Logger.Level.getPredefinedLevelByValue=</span><span class="s3">function</span><span class="s1">(a){goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_();</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">in </span><span class="s1">goog.debug.Logger.Level.predefinedLevelsCache_)</span><span class="s3">return </span><span class="s1">goog.debug.Logger.Level.predefinedLevelsCache_[a];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++b){</span><span class="s3">var </span><span class="s1">c=goog.debug.Logger.Level.PREDEFINED_LEVELS[b];</span><span class="s3">if</span><span class="s1">(c.value&lt;=a)</span><span class="s3">return </span><span class="s1">c}</span><span class="s3">return null</span><span class="s1">};goog.debug.Logger.getLogger=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.debug.LogManager.getLogger(a)};</span>
<a name="l828"><span class="ln">828  </span></a><span class="s1">goog.debug.Logger.logToProfilers=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.debug.Logger.ENABLE_PROFILER_LOGGING){</span><span class="s3">var </span><span class="s1">b=goog.global.msWriteProfilerMark;b?b(a):(b=goog.global.console)&amp;&amp;b.timeStamp&amp;&amp;b.timeStamp(a)}};goog.debug.Logger.prototype.getName=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.name_};</span>
<a name="l829"><span class="ln">829  </span></a><span class="s1">goog.debug.Logger.prototype.addHandler=</span><span class="s3">function</span><span class="s1">(a){goog.debug.LOGGING_ENABLED&amp;&amp;(goog.debug.Logger.ENABLE_HIERARCHY?(</span><span class="s3">this</span><span class="s1">.handlers_||(</span><span class="s3">this</span><span class="s1">.handlers_=[]),</span><span class="s3">this</span><span class="s1">.handlers_.push(a)):(goog.asserts.assert(!</span><span class="s3">this</span><span class="s1">.name_,</span><span class="s2">&quot;Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false.&quot;</span><span class="s1">),goog.debug.Logger.rootHandlers_.push(a)))};</span>
<a name="l830"><span class="ln">830  </span></a><span class="s1">goog.debug.Logger.prototype.removeHandler=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(goog.debug.LOGGING_ENABLED){</span><span class="s3">var </span><span class="s1">b=goog.debug.Logger.ENABLE_HIERARCHY?</span><span class="s3">this</span><span class="s1">.handlers_:goog.debug.Logger.rootHandlers_;</span><span class="s3">return</span><span class="s1">!!b&amp;&amp;goog.array.remove(b,a)}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.debug.Logger.prototype.getParent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.parent_};goog.debug.Logger.prototype.getChildren=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.children_||(</span><span class="s3">this</span><span class="s1">.children_={});</span><span class="s3">return this</span><span class="s1">.children_};</span>
<a name="l831"><span class="ln">831  </span></a><span class="s1">goog.debug.Logger.prototype.setLevel=</span><span class="s3">function</span><span class="s1">(a){goog.debug.LOGGING_ENABLED&amp;&amp;(goog.debug.Logger.ENABLE_HIERARCHY?</span><span class="s3">this</span><span class="s1">.level_=a:(goog.asserts.assert(!</span><span class="s3">this</span><span class="s1">.name_,</span><span class="s2">&quot;Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false.&quot;</span><span class="s1">),goog.debug.Logger.rootLevel_=a))};goog.debug.Logger.prototype.getLevel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.debug.LOGGING_ENABLED?</span><span class="s3">this</span><span class="s1">.level_:goog.debug.Logger.Level.OFF};</span>
<a name="l832"><span class="ln">832  </span></a><span class="s1">goog.debug.Logger.prototype.getEffectiveLevel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!goog.debug.LOGGING_ENABLED)</span><span class="s3">return </span><span class="s1">goog.debug.Logger.Level.OFF;</span><span class="s3">if</span><span class="s1">(!goog.debug.Logger.ENABLE_HIERARCHY)</span><span class="s3">return </span><span class="s1">goog.debug.Logger.rootLevel_;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.level_)</span><span class="s3">return this</span><span class="s1">.level_;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.parent_)</span><span class="s3">return this</span><span class="s1">.parent_.getEffectiveLevel();goog.asserts.fail(</span><span class="s2">&quot;Root logger has no level set.&quot;</span><span class="s1">);</span><span class="s3">return null</span><span class="s1">};goog.debug.Logger.prototype.isLoggable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">goog.debug.LOGGING_ENABLED&amp;&amp;a.value&gt;=</span><span class="s3">this</span><span class="s1">.getEffectiveLevel().value};</span>
<a name="l833"><span class="ln">833  </span></a><span class="s1">goog.debug.Logger.prototype.log=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.isLoggable(a)&amp;&amp;(goog.isFunction(b)&amp;&amp;(b=b()),</span><span class="s3">this</span><span class="s1">.doLogRecord_(</span><span class="s3">this</span><span class="s1">.getLogRecord(a,b,c)))};goog.debug.Logger.prototype.getLogRecord=</span><span class="s3">function</span><span class="s1">(a,b,c){a=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(a,b,</span><span class="s3">this</span><span class="s1">.name_):</span><span class="s3">new </span><span class="s1">goog.debug.LogRecord(a,String(b),</span><span class="s3">this</span><span class="s1">.name_);c&amp;&amp;a.setException(c);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l834"><span class="ln">834  </span></a><span class="s1">goog.debug.Logger.prototype.shout=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.SHOUT,a,b)};goog.debug.Logger.prototype.severe=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.SEVERE,a,b)};goog.debug.Logger.prototype.warning=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.WARNING,a,b)};goog.debug.Logger.prototype.info=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.INFO,a,b)};</span>
<a name="l835"><span class="ln">835  </span></a><span class="s1">goog.debug.Logger.prototype.config=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.CONFIG,a,b)};goog.debug.Logger.prototype.fine=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.FINE,a,b)};goog.debug.Logger.prototype.finer=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.FINER,a,b)};goog.debug.Logger.prototype.finest=</span><span class="s3">function</span><span class="s1">(a,b){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.log(goog.debug.Logger.Level.FINEST,a,b)};</span>
<a name="l836"><span class="ln">836  </span></a><span class="s1">goog.debug.Logger.prototype.logRecord=</span><span class="s3">function</span><span class="s1">(a){goog.debug.LOGGING_ENABLED&amp;&amp;</span><span class="s3">this</span><span class="s1">.isLoggable(a.getLevel())&amp;&amp;</span><span class="s3">this</span><span class="s1">.doLogRecord_(a)};goog.debug.Logger.prototype.doLogRecord_=</span><span class="s3">function</span><span class="s1">(a){goog.debug.Logger.ENABLE_PROFILER_LOGGING&amp;&amp;goog.debug.Logger.logToProfilers(</span><span class="s2">&quot;log:&quot;</span><span class="s1">+a.getMessage());</span><span class="s3">if</span><span class="s1">(goog.debug.Logger.ENABLE_HIERARCHY)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">;b;)b.callPublish_(a),b=b.getParent();</span><span class="s3">else</span><span class="s1">{b=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c;c=goog.debug.Logger.rootHandlers_[b++];)c(a)}};</span>
<a name="l837"><span class="ln">837  </span></a><span class="s1">goog.debug.Logger.prototype.callPublish_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.handlers_)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.handlers_[b];b++)c(a)};goog.debug.Logger.prototype.setParent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.parent_=a};goog.debug.Logger.prototype.addChild_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.getChildren()[a]=b};goog.debug.LogManager={};goog.debug.LogManager.loggers_={};goog.debug.LogManager.rootLogger_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l838"><span class="ln">838  </span></a><span class="s1">goog.debug.LogManager.initialize=</span><span class="s3">function</span><span class="s1">(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=</span><span class="s3">new </span><span class="s1">goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))};goog.debug.LogManager.getLoggers=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.debug.LogManager.loggers_};</span>
<a name="l839"><span class="ln">839  </span></a><span class="s1">goog.debug.LogManager.getRoot=</span><span class="s3">function</span><span class="s1">(){goog.debug.LogManager.initialize();</span><span class="s3">return </span><span class="s1">goog.debug.LogManager.rootLogger_};goog.debug.LogManager.getLogger=</span><span class="s3">function</span><span class="s1">(a){goog.debug.LogManager.initialize();</span><span class="s3">return </span><span class="s1">goog.debug.LogManager.loggers_[a]||goog.debug.LogManager.createLogger_(a)};goog.debug.LogManager.createFunctionForCatchErrors=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(b){(a||goog.debug.LogManager.getRoot()).severe(</span><span class="s2">&quot;Error: &quot;</span><span class="s1">+b.message+</span><span class="s2">&quot; (&quot;</span><span class="s1">+b.fileName+</span><span class="s2">&quot; @ Line: &quot;</span><span class="s1">+b.line+</span><span class="s2">&quot;)&quot;</span><span class="s1">)}};</span>
<a name="l840"><span class="ln">840  </span></a><span class="s1">goog.debug.LogManager.createLogger_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">goog.debug.Logger(a);</span><span class="s3">if</span><span class="s1">(goog.debug.Logger.ENABLE_HIERARCHY){</span><span class="s3">var </span><span class="s1">c=a.lastIndexOf(</span><span class="s2">&quot;.&quot;</span><span class="s1">),d=a.substr(</span><span class="s4">0</span><span class="s1">,c);c=a.substr(c+</span><span class="s4">1</span><span class="s1">);d=goog.debug.LogManager.getLogger(d);d.addChild_(c,b);b.setParent_(d)}</span><span class="s3">return </span><span class="s1">goog.debug.LogManager.loggers_[a]=b};goog.log={};goog.log.ENABLED=goog.debug.LOGGING_ENABLED;goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME;goog.log.Logger=goog.debug.Logger;goog.log.Level=goog.debug.Logger.Level;goog.log.LogRecord=goog.debug.LogRecord;goog.log.getLogger=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(goog.log.ENABLED){</span><span class="s3">var </span><span class="s1">c=goog.debug.LogManager.getLogger(a);b&amp;&amp;c&amp;&amp;c.setLevel(b);</span><span class="s3">return </span><span class="s1">c}</span><span class="s3">return null</span><span class="s1">};goog.log.addHandler=</span><span class="s3">function</span><span class="s1">(a,b){goog.log.ENABLED&amp;&amp;a&amp;&amp;a.addHandler(b)};</span>
<a name="l841"><span class="ln">841  </span></a><span class="s1">goog.log.removeHandler=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">goog.log.ENABLED&amp;&amp;a?a.removeHandler(b):!</span><span class="s4">1</span><span class="s1">};goog.log.log=</span><span class="s3">function</span><span class="s1">(a,b,c,d){goog.log.ENABLED&amp;&amp;a&amp;&amp;a.log(b,c,d)};goog.log.error=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.log.ENABLED&amp;&amp;a&amp;&amp;a.severe(b,c)};goog.log.warning=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.log.ENABLED&amp;&amp;a&amp;&amp;a.warning(b,c)};goog.log.info=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.log.ENABLED&amp;&amp;a&amp;&amp;a.info(b,c)};goog.log.fine=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.log.ENABLED&amp;&amp;a&amp;&amp;a.fine(b,c)};goog.ui.tree.TreeNode=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.tree.BaseNode.call(</span><span class="s3">this</span><span class="s1">,a,b,c)};goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode);goog.ui.tree.TreeNode.prototype.getTree=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.tree)</span><span class="s3">return this</span><span class="s1">.tree;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParent();</span><span class="s3">return </span><span class="s1">a&amp;&amp;(a=a.getTree())?(</span><span class="s3">this</span><span class="s1">.setTreeInternal(a),a):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l842"><span class="ln">842  </span></a><span class="s1">goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getExpanded(),b=</span><span class="s3">this</span><span class="s1">.getExpandedIconClass();</span><span class="s3">if</span><span class="s1">(a&amp;&amp;b)</span><span class="s3">return </span><span class="s1">b;b=</span><span class="s3">this</span><span class="s1">.getIconClass();</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;b)</span><span class="s3">return </span><span class="s1">b;b=</span><span class="s3">this</span><span class="s1">.getConfig();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasChildren()){</span><span class="s3">if</span><span class="s1">(a&amp;&amp;b.cssExpandedFolderIcon)</span><span class="s3">return </span><span class="s1">b.cssTreeIcon+</span><span class="s2">&quot; &quot;</span><span class="s1">+b.cssExpandedFolderIcon;</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;b.cssCollapsedFolderIcon)</span><span class="s3">return </span><span class="s1">b.cssTreeIcon+</span><span class="s2">&quot; &quot;</span><span class="s1">+b.cssCollapsedFolderIcon}</span><span class="s3">else if</span><span class="s1">(b.cssFileIcon)</span><span class="s3">return </span><span class="s1">b.cssTreeIcon+</span><span class="s2">&quot; &quot;</span><span class="s1">+b.cssFileIcon;</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.structs={};goog.structs.getCount=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.getCount&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.getCount?a.getCount():goog.isArrayLike(a)||goog.isString(a)?a.length:goog.object.getCount(a)};goog.structs.getValues=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.getValues&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.getValues)</span><span class="s3">return </span><span class="s1">a.getValues();</span><span class="s3">if</span><span class="s1">(goog.isString(a))</span><span class="s3">return </span><span class="s1">a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(a)){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=a.length,d=</span><span class="s4">0</span><span class="s1">;d&lt;c;d++)b.push(a[d]);</span><span class="s3">return </span><span class="s1">b}</span><span class="s3">return </span><span class="s1">goog.object.getValues(a)};</span>
<a name="l843"><span class="ln">843  </span></a><span class="s1">goog.structs.getKeys=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.getKeys&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.getKeys)</span><span class="s3">return </span><span class="s1">a.getKeys();</span><span class="s3">if</span><span class="s1">(!a.getValues||</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.getValues){</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(a)||goog.isString(a)){</span><span class="s3">var </span><span class="s1">b=[];a=a.length;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;a;c++)b.push(c);</span><span class="s3">return </span><span class="s1">b}</span><span class="s3">return </span><span class="s1">goog.object.getKeys(a)}};</span>
<a name="l844"><span class="ln">844  </span></a><span class="s1">goog.structs.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.contains&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.contains?a.contains(b):a.containsValue&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.containsValue?a.containsValue(b):goog.isArrayLike(a)||goog.isString(a)?goog.array.contains(a,b):goog.object.containsValue(a,b)};goog.structs.isEmpty=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.isEmpty&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.isEmpty?a.isEmpty():goog.isArrayLike(a)||goog.isString(a)?goog.array.isEmpty(a):goog.object.isEmpty(a)};</span>
<a name="l845"><span class="ln">845  </span></a><span class="s1">goog.structs.clear=</span><span class="s3">function</span><span class="s1">(a){a.clear&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.clear?a.clear():goog.isArrayLike(a)?goog.array.clear(a):goog.object.clear(a)};goog.structs.forEach=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(a.forEach&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.forEach)a.forEach(b,c);</span><span class="s3">else if</span><span class="s1">(goog.isArrayLike(a)||goog.isString(a))goog.array.forEach(a,b,c);</span><span class="s3">else for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=</span><span class="s4">0</span><span class="s1">;g&lt;f;g++)b.call(c,e[g],d&amp;&amp;d[g],a)};</span>
<a name="l846"><span class="ln">846  </span></a><span class="s1">goog.structs.filter=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.filter)</span><span class="s3">return </span><span class="s1">a.filter(b,c);</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(a)||goog.isString(a))</span><span class="s3">return </span><span class="s1">goog.array.filter(a,b,c);</span><span class="s3">var </span><span class="s1">d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length;</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">var </span><span class="s1">g={};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">h=</span><span class="s4">0</span><span class="s1">;h&lt;f;h++)b.call(c,e[h],d[h],a)&amp;&amp;(g[d[h]]=e[h])}</span><span class="s3">else for</span><span class="s1">(g=[],h=</span><span class="s4">0</span><span class="s1">;h&lt;f;h++)b.call(c,e[h],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,a)&amp;&amp;g.push(e[h]);</span><span class="s3">return </span><span class="s1">g};</span>
<a name="l847"><span class="ln">847  </span></a><span class="s1">goog.structs.map=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.map)</span><span class="s3">return </span><span class="s1">a.map(b,c);</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(a)||goog.isString(a))</span><span class="s3">return </span><span class="s1">goog.array.map(a,b,c);</span><span class="s3">var </span><span class="s1">d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length;</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">var </span><span class="s1">g={};</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">h=</span><span class="s4">0</span><span class="s1">;h&lt;f;h++)g[d[h]]=b.call(c,e[h],d[h],a)}</span><span class="s3">else for</span><span class="s1">(g=[],h=</span><span class="s4">0</span><span class="s1">;h&lt;f;h++)g[h]=b.call(c,e[h],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,a);</span><span class="s3">return </span><span class="s1">g};</span>
<a name="l848"><span class="ln">848  </span></a><span class="s1">goog.structs.some=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.some)</span><span class="s3">return </span><span class="s1">a.some(b,c);</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(a)||goog.isString(a))</span><span class="s3">return </span><span class="s1">goog.array.some(a,b,c);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=</span><span class="s4">0</span><span class="s1">;g&lt;f;g++)</span><span class="s3">if</span><span class="s1">(b.call(c,e[g],d&amp;&amp;d[g],a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l849"><span class="ln">849  </span></a><span class="s1">goog.structs.every=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.every)</span><span class="s3">return </span><span class="s1">a.every(b,c);</span><span class="s3">if</span><span class="s1">(goog.isArrayLike(a)||goog.isString(a))</span><span class="s3">return </span><span class="s1">goog.array.every(a,b,c);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=goog.structs.getKeys(a),e=goog.structs.getValues(a),f=e.length,g=</span><span class="s4">0</span><span class="s1">;g&lt;f;g++)</span><span class="s3">if</span><span class="s1">(!b.call(c,e[g],d&amp;&amp;d[g],a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};goog.structs.Trie=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.value_=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.childNodes_={};a&amp;&amp;</span><span class="s3">this</span><span class="s1">.setAll(a)};goog.structs.Trie.prototype.set=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.setOrAdd_(a,b,!</span><span class="s4">1</span><span class="s1">)};goog.structs.Trie.prototype.add=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.setOrAdd_(a,b,!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l850"><span class="ln">850  </span></a><span class="s1">goog.structs.Trie.prototype.setOrAdd_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;e++){</span><span class="s3">var </span><span class="s1">f=a.charAt(e);d.childNodes_[f]||(d.childNodes_[f]=</span><span class="s3">new </span><span class="s1">goog.structs.Trie);d=d.childNodes_[f]}</span><span class="s3">if</span><span class="s1">(c&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==d.value_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'The collection already contains the key &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;'</span><span class="s1">);d.value_=b};goog.structs.Trie.prototype.setAll=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=goog.structs.getKeys(a);a=goog.structs.getValues(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++)</span><span class="s3">this</span><span class="s1">.set(b[c],a[c])};</span>
<a name="l851"><span class="ln">851  </span></a><span class="s1">goog.structs.Trie.prototype.getChildNode_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=a.charAt(c);b=b.childNodes_[d];</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return</span><span class="s1">}</span><span class="s3">return </span><span class="s1">b};goog.structs.Trie.prototype.get=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.getChildNode_(a))?a.value_:</span><span class="s3">void </span><span class="s4">0</span><span class="s1">};goog.structs.Trie.prototype.getKeyAndPrefixes=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">,d={},e=b||</span><span class="s4">0</span><span class="s1">;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==c.value_&amp;&amp;(d[e]=c.value_);</span><span class="s3">for</span><span class="s1">(;e&lt;a.length;e++){</span><span class="s3">var </span><span class="s1">f=a.charAt(e);</span><span class="s3">if</span><span class="s1">(!(f </span><span class="s3">in </span><span class="s1">c.childNodes_))</span><span class="s3">break</span><span class="s1">;c=c.childNodes_[f];</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==c.value_&amp;&amp;(d[e]=c.value_)}</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l852"><span class="ln">852  </span></a><span class="s1">goog.structs.Trie.prototype.getValues=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">this</span><span class="s1">.getValuesInternal_(a);</span><span class="s3">return </span><span class="s1">a};goog.structs.Trie.prototype.getValuesInternal_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==</span><span class="s3">this</span><span class="s1">.value_&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.value_);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in this</span><span class="s1">.childNodes_)</span><span class="s3">this</span><span class="s1">.childNodes_[b].getValuesInternal_(a)};goog.structs.Trie.prototype.getKeys=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=a.charAt(d);</span><span class="s3">if</span><span class="s1">(!c.childNodes_[e])</span><span class="s3">return</span><span class="s1">[];c=c.childNodes_[e]}c.getKeysInternal_(a,b)}</span><span class="s3">else this</span><span class="s1">.getKeysInternal_(</span><span class="s2">&quot;&quot;</span><span class="s1">,b);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l853"><span class="ln">853  </span></a><span class="s1">goog.structs.Trie.prototype.getKeysInternal_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==</span><span class="s3">this</span><span class="s1">.value_&amp;&amp;b.push(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c </span><span class="s3">in this</span><span class="s1">.childNodes_)</span><span class="s3">this</span><span class="s1">.childNodes_[c].getKeysInternal_(a+c,b)};goog.structs.Trie.prototype.containsKey=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">!==</span><span class="s3">this</span><span class="s1">.get(a)};goog.structs.Trie.prototype.containsPrefix=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a.length?!</span><span class="s3">this</span><span class="s1">.isEmpty():!!</span><span class="s3">this</span><span class="s1">.getChildNode_(a)};</span>
<a name="l854"><span class="ln">854  </span></a><span class="s1">goog.structs.Trie.prototype.containsValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.value_===a)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in this</span><span class="s1">.childNodes_)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.childNodes_[b].containsValue(a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};goog.structs.Trie.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.childNodes_={};</span><span class="s3">this</span><span class="s1">.value_=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">};</span>
<a name="l855"><span class="ln">855  </span></a><span class="s1">goog.structs.Trie.prototype.remove=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">,c=[],d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=a.charAt(d);</span><span class="s3">if</span><span class="s1">(!b.childNodes_[e])</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'The collection does not have the key &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;'</span><span class="s1">);c.push([b,e]);b=b.childNodes_[e]}a=b.value_;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">delete </span><span class="s1">b.value_;</span><span class="s4">0</span><span class="s1">&lt;c.length;)</span><span class="s3">if</span><span class="s1">(e=c.pop(),b=e[</span><span class="s4">0</span><span class="s1">],e=e[</span><span class="s4">1</span><span class="s1">],b.childNodes_[e].isEmpty())</span><span class="s3">delete </span><span class="s1">b.childNodes_[e];</span><span class="s3">else break</span><span class="s1">;</span><span class="s3">return </span><span class="s1">a};goog.structs.Trie.prototype.clone=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">goog.structs.Trie(</span><span class="s3">this</span><span class="s1">)};goog.structs.Trie.prototype.getCount=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.structs.getCount(</span><span class="s3">this</span><span class="s1">.getValues())};</span>
<a name="l856"><span class="ln">856  </span></a><span class="s1">goog.structs.Trie.prototype.isEmpty=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">===</span><span class="s3">this</span><span class="s1">.value_&amp;&amp;goog.object.isEmpty(</span><span class="s3">this</span><span class="s1">.childNodes_)};goog.ui.tree.TypeAhead=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.nodeMap_=</span><span class="s3">new </span><span class="s1">goog.structs.Trie;</span><span class="s3">this</span><span class="s1">.buffer_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.matchingNodes_=</span><span class="s3">this</span><span class="s1">.matchingLabels_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_=</span><span class="s3">this</span><span class="s1">.matchingLabelIndex_=</span><span class="s4">0</span><span class="s1">};goog.ui.tree.TypeAhead.Offset={DOWN:</span><span class="s4">1</span><span class="s1">,UP:-</span><span class="s4">1</span><span class="s1">};</span>
<a name="l857"><span class="ln">857  </span></a><span class="s1">goog.ui.tree.TypeAhead.prototype.handleNavigation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a.keyCode){</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.DOWN:</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.UP:a.ctrlKey&amp;&amp;(</span><span class="s3">this</span><span class="s1">.jumpTo_(a.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),b=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.BACKSPACE:a=</span><span class="s3">this</span><span class="s1">.buffer_.length-1;b=!</span><span class="s4">0</span><span class="s1">;</span><span class="s4">0</span><span class="s1">&lt;a?(</span><span class="s3">this</span><span class="s1">.buffer_=</span><span class="s3">this</span><span class="s1">.buffer_.substring(</span><span class="s4">0</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.jumpToLabel_(</span><span class="s3">this</span><span class="s1">.buffer_)):</span><span class="s4">0</span><span class="s1">==a?</span><span class="s3">this</span><span class="s1">.buffer_=</span><span class="s2">&quot;&quot;</span><span class="s1">:b=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.KeyCodes.ESC:</span><span class="s3">this</span><span class="s1">.buffer_=</span>
<a name="l858"><span class="ln">858  </span></a><span class="s2">&quot;&quot;</span><span class="s1">,b=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return </span><span class="s1">b};goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">;a.ctrlKey||a.altKey||(a=String.fromCharCode(a.charCode||a.keyCode).toLowerCase(),goog.string.isUnicodeChar(a)&amp;&amp;(</span><span class="s2">&quot; &quot;</span><span class="s1">!=a||</span><span class="s3">this</span><span class="s1">.buffer_)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.buffer_+=a,b=</span><span class="s3">this</span><span class="s1">.jumpToLabel_(</span><span class="s3">this</span><span class="s1">.buffer_)));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l859"><span class="ln">859  </span></a><span class="s1">goog.ui.tree.TypeAhead.prototype.setNodeInMap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getText();</span><span class="s3">if</span><span class="s1">(b&amp;&amp;!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){b=b.toLowerCase();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.nodeMap_.get(b);c?c.push(a):</span><span class="s3">this</span><span class="s1">.nodeMap_.set(b,[a])}};</span>
<a name="l860"><span class="ln">860  </span></a><span class="s1">goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getText();</span><span class="s3">if</span><span class="s1">(b&amp;&amp;!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(b))){b=b.toLowerCase();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.nodeMap_.get(b);</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=a.getChildCount(),e=</span><span class="s4">0</span><span class="s1">;e&lt;d;e++)</span><span class="s3">this</span><span class="s1">.removeNodeFromMap(a.getChildAt(e));goog.array.remove(c,a);c.length||</span><span class="s3">this</span><span class="s1">.nodeMap_.remove(b)}}};</span>
<a name="l861"><span class="ln">861  </span></a><span class="s1">goog.ui.tree.TypeAhead.prototype.jumpToLabel_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">;(a=</span><span class="s3">this</span><span class="s1">.nodeMap_.getKeys(a))&amp;&amp;a.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.matchingLabelIndex_=</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_=</span><span class="s4">0</span><span class="s1">,b=</span><span class="s3">this</span><span class="s1">.nodeMap_.get(a[</span><span class="s4">0</span><span class="s1">]),b=</span><span class="s3">this</span><span class="s1">.selectMatchingNode_(b))&amp;&amp;(</span><span class="s3">this</span><span class="s1">.matchingLabels_=a);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l862"><span class="ln">862  </span></a><span class="s1">goog.ui.tree.TypeAhead.prototype.jumpTo_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.matchingLabels_;</span><span class="s3">if</span><span class="s1">(c){b=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">d=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.matchingNodes_){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_+a;</span><span class="s4">0</span><span class="s1">&lt;=e&amp;&amp;e&lt;</span><span class="s3">this</span><span class="s1">.matchingNodes_.length?(</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_=e,b=</span><span class="s3">this</span><span class="s1">.matchingNodes_):d=!</span><span class="s4">0</span><span class="s1">}b||(e=</span><span class="s3">this</span><span class="s1">.matchingLabelIndex_+a,</span><span class="s4">0</span><span class="s1">&lt;=e&amp;&amp;e&lt;c.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.matchingLabelIndex_=e),c.length&gt;</span><span class="s3">this</span><span class="s1">.matchingLabelIndex_&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.nodeMap_.get(c[</span><span class="s3">this</span><span class="s1">.matchingLabelIndex_])),b&amp;&amp;b.length&amp;&amp;d&amp;&amp;(</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_=a==goog.ui.tree.TypeAhead.Offset.UP?b.length-</span>
<a name="l863"><span class="ln">863  </span></a><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.selectMatchingNode_(b))</span><span class="s3">this</span><span class="s1">.matchingLabels_=c}</span><span class="s3">return </span><span class="s1">b};goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_&lt;a.length){</span><span class="s3">var </span><span class="s1">b=a[</span><span class="s3">this</span><span class="s1">.matchingNodeIndex_];</span><span class="s3">this</span><span class="s1">.matchingNodes_=a}b&amp;&amp;(b.reveal(),b.select())}</span><span class="s3">return</span><span class="s1">!!b};goog.ui.tree.TypeAhead.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.buffer_=</span><span class="s2">&quot;&quot;</span><span class="s1">};goog.ui.tree.TreeControl=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.tree.BaseNode.call(</span><span class="s3">this</span><span class="s1">,a,b,c);</span><span class="s3">this</span><span class="s1">.setExpandedInternal(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setSelectedInternal(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.selectedItem_=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.typeAhead_=</span><span class="s3">new </span><span class="s1">goog.ui.tree.TypeAhead;</span><span class="s3">this</span><span class="s1">.focusHandler_=</span><span class="s3">this</span><span class="s1">.keyHandler_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.logger_=goog.log.getLogger(</span><span class="s2">&quot;this&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.focused_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.focusedNode_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.showRootLines_=</span><span class="s3">this</span><span class="s1">.showRootNode_=</span><span class="s3">this</span><span class="s1">.showExpandIcons_=</span><span class="s3">this</span><span class="s1">.showLines_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(goog.userAgent.IE)</span><span class="s3">try</span><span class="s1">{document.execCommand(</span><span class="s2">&quot;BackgroundImageCache&quot;</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">catch</span><span class="s1">(d){goog.log.warning(</span><span class="s3">this</span><span class="s1">.logger_,</span>
<a name="l864"><span class="ln">864  </span></a><span class="s2">&quot;Failed to enable background image cache&quot;</span><span class="s1">)}};goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode);goog.ui.tree.TreeControl.prototype.getTree=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">};goog.ui.tree.TreeControl.prototype.getDepth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">};goog.ui.tree.TreeControl.prototype.reveal=</span><span class="s3">function</span><span class="s1">(){};goog.ui.tree.TreeControl.prototype.handleFocus_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.focused_=!</span><span class="s4">0</span><span class="s1">;goog.dom.classlist.add(goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.getElement()),</span><span class="s2">&quot;focused&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.selectedItem_&amp;&amp;</span><span class="s3">this</span><span class="s1">.selectedItem_.select()};</span>
<a name="l865"><span class="ln">865  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.handleBlur_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.focused_=!</span><span class="s4">1</span><span class="s1">;goog.dom.classlist.remove(goog.asserts.assert(</span><span class="s3">this</span><span class="s1">.getElement()),</span><span class="s2">&quot;focused&quot;</span><span class="s1">)};goog.ui.tree.TreeControl.prototype.hasFocus=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.focused_};goog.ui.tree.TreeControl.prototype.getExpanded=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s3">this</span><span class="s1">.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l866"><span class="ln">866  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.setExpanded=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(</span><span class="s3">this</span><span class="s1">,a):</span><span class="s3">this</span><span class="s1">.setExpandedInternal(a)};goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.EMPTY};goog.ui.tree.TreeControl.prototype.getIconElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRowElement();</span><span class="s3">return </span><span class="s1">a?a.firstChild:</span><span class="s3">null</span><span class="s1">};goog.ui.tree.TreeControl.prototype.getExpandIconElement=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l867"><span class="ln">867  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.updateExpandIcon=</span><span class="s3">function</span><span class="s1">(){};goog.ui.tree.TreeControl.prototype.getRowClassName=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.ui.tree.TreeControl.superClass_.getRowClassName.call(</span><span class="s3">this</span><span class="s1">)+(</span><span class="s3">this</span><span class="s1">.showRootNode_?</span><span class="s2">&quot;&quot;</span><span class="s1">:</span><span class="s2">&quot; &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.getConfig().cssHideRoot)};</span>
<a name="l868"><span class="ln">868  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getExpanded(),b=</span><span class="s3">this</span><span class="s1">.getExpandedIconClass();</span><span class="s3">if</span><span class="s1">(a&amp;&amp;b)</span><span class="s3">return </span><span class="s1">b;b=</span><span class="s3">this</span><span class="s1">.getIconClass();</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;b)</span><span class="s3">return </span><span class="s1">b;b=</span><span class="s3">this</span><span class="s1">.getConfig();</span><span class="s3">return </span><span class="s1">a&amp;&amp;b.cssExpandedRootIcon?b.cssTreeIcon+</span><span class="s2">&quot; &quot;</span><span class="s1">+b.cssExpandedRootIcon:!a&amp;&amp;b.cssCollapsedRootIcon?b.cssTreeIcon+</span><span class="s2">&quot; &quot;</span><span class="s1">+b.cssCollapsedRootIcon:</span><span class="s2">&quot;&quot;</span><span class="s1">};</span>
<a name="l869"><span class="ln">869  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.setSelectedItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.selectedItem_!=a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.selectedItem_&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.selectedItem_==</span><span class="s3">this</span><span class="s1">.focusedNode_,</span><span class="s3">this</span><span class="s1">.selectedItem_.setSelectedInternal(!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.selectedItem_=a)a.setSelectedInternal(!</span><span class="s4">0</span><span class="s1">),b&amp;&amp;a.select();</span><span class="s3">this</span><span class="s1">.dispatchEvent(goog.events.EventType.CHANGE)}};goog.ui.tree.TreeControl.prototype.getSelectedItem=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.selectedItem_};</span>
<a name="l870"><span class="ln">870  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.setShowLines=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.showLines_!=a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.showLines_=a,</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowLines=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.showLines_};</span>
<a name="l871"><span class="ln">871  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">function </span><span class="s1">a(e){</span><span class="s3">var </span><span class="s1">f=e.getChildrenElement();</span><span class="s3">if</span><span class="s1">(f){</span><span class="s3">var </span><span class="s1">g=!c||b==e.getParent()&amp;&amp;!d?e.getConfig().cssChildrenNoLines:e.getConfig().cssChildren;f.className=g;</span><span class="s3">if</span><span class="s1">(f=e.getExpandIconElement())f.className=e.getExpandIconClass()}e.forEachChild(a)}</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">,c=b.getShowLines(),d=b.getShowRootLines();a(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l872"><span class="ln">872  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.setShowRootLines=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.showRootLines_!=a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.showRootLines_=a,</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowRootLines=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.showRootLines_};goog.ui.tree.TreeControl.prototype.setShowExpandIcons=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.showExpandIcons_!=a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.showExpandIcons_=a,</span><span class="s3">this</span><span class="s1">.isInDocument()&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateLinesAndExpandIcons_())};goog.ui.tree.TreeControl.prototype.getShowExpandIcons=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.showExpandIcons_};</span>
<a name="l873"><span class="ln">873  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.setShowRootNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.showRootNode_!=a){</span><span class="s3">this</span><span class="s1">.showRootNode_=a;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isInDocument()){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getRowElement();b&amp;&amp;(b.className=</span><span class="s3">this</span><span class="s1">.getRowClassName())}!a&amp;&amp;</span><span class="s3">this</span><span class="s1">.getSelectedItem()==</span><span class="s3">this</span><span class="s1">&amp;&amp;</span><span class="s3">this</span><span class="s1">.getFirstChild()&amp;&amp;</span><span class="s3">this</span><span class="s1">.setSelectedItem(</span><span class="s3">this</span><span class="s1">.getFirstChild())}};goog.ui.tree.TreeControl.prototype.getShowRootNode=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.showRootNode_};</span>
<a name="l874"><span class="ln">874  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.initAccessibility=</span><span class="s3">function</span><span class="s1">(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();goog.asserts.assert(a,</span><span class="s2">&quot;The DOM element for the tree cannot be null.&quot;</span><span class="s1">);goog.a11y.aria.setRole(a,</span><span class="s2">&quot;tree&quot;</span><span class="s1">);goog.a11y.aria.setState(a,</span><span class="s2">&quot;labelledby&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getLabelElement().id)};</span>
<a name="l875"><span class="ln">875  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();a.className=</span><span class="s3">this</span><span class="s1">.getConfig().cssRoot;a.setAttribute(</span><span class="s2">&quot;hideFocus&quot;</span><span class="s1">,</span><span class="s2">&quot;true&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.attachEvents_();</span><span class="s3">this</span><span class="s1">.initAccessibility()};goog.ui.tree.TreeControl.prototype.exitDocument=</span><span class="s3">function</span><span class="s1">(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.detachEvents_()};</span>
<a name="l876"><span class="ln">876  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.attachEvents_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();a.tabIndex=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.keyHandler_=</span><span class="s3">new </span><span class="s1">goog.events.KeyHandler(a),c=</span><span class="s3">this</span><span class="s1">.focusHandler_=</span><span class="s3">new </span><span class="s1">goog.events.FocusHandler(a);</span><span class="s3">this</span><span class="s1">.getHandler().listen(c,goog.events.FocusHandler.EventType.FOCUSOUT,</span><span class="s3">this</span><span class="s1">.handleBlur_).listen(c,goog.events.FocusHandler.EventType.FOCUSIN,</span><span class="s3">this</span><span class="s1">.handleFocus_).listen(b,goog.events.KeyHandler.EventType.KEY,</span><span class="s3">this</span><span class="s1">.handleKeyEvent).listen(a,goog.events.EventType.MOUSEDOWN,</span><span class="s3">this</span><span class="s1">.handleMouseEvent_).listen(a,</span>
<a name="l877"><span class="ln">877  </span></a><span class="s1">goog.events.EventType.CLICK,</span><span class="s3">this</span><span class="s1">.handleMouseEvent_).listen(a,goog.events.EventType.DBLCLICK,</span><span class="s3">this</span><span class="s1">.handleMouseEvent_)};goog.ui.tree.TreeControl.prototype.detachEvents_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.keyHandler_.dispose();</span><span class="s3">this</span><span class="s1">.keyHandler_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.focusHandler_.dispose();</span><span class="s3">this</span><span class="s1">.focusHandler_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l878"><span class="ln">878  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.handleMouseEvent_=</span><span class="s3">function</span><span class="s1">(a){goog.log.fine(</span><span class="s3">this</span><span class="s1">.logger_,</span><span class="s2">&quot;Received event &quot;</span><span class="s1">+a.type);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getNodeFromEvent_(a);</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">switch</span><span class="s1">(a.type){</span><span class="s3">case </span><span class="s1">goog.events.EventType.MOUSEDOWN:b.onMouseDown(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.EventType.CLICK:b.onClick_(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">goog.events.EventType.DBLCLICK:b.onDoubleClick_(a)}};</span>
<a name="l879"><span class="ln">879  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.handleKeyEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b;(b=</span><span class="s3">this</span><span class="s1">.typeAhead_.handleNavigation(a)||</span><span class="s3">this</span><span class="s1">.selectedItem_&amp;&amp;</span><span class="s3">this</span><span class="s1">.selectedItem_.onKeyDown(a)||</span><span class="s3">this</span><span class="s1">.typeAhead_.handleTypeAheadChar(a))&amp;&amp;a.preventDefault();</span><span class="s3">return </span><span class="s1">b};goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=a.target;</span><span class="s3">null</span><span class="s1">!=b;){</span><span class="s3">if</span><span class="s1">(a=goog.ui.tree.BaseNode.allNodes[b.id])</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">if</span><span class="s1">(b==</span><span class="s3">this</span><span class="s1">.getElement())</span><span class="s3">break</span><span class="s1">;b=b.parentNode}</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l880"><span class="ln">880  </span></a><span class="s1">goog.ui.tree.TreeControl.prototype.createNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">goog.ui.tree.TreeNode(a||goog.html.SafeHtml.EMPTY,</span><span class="s3">this</span><span class="s1">.getConfig(),</span><span class="s3">this</span><span class="s1">.getDomHelper())};goog.ui.tree.TreeControl.prototype.setNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.typeAhead_.setNodeInMap(a)};goog.ui.tree.TreeControl.prototype.removeNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.typeAhead_.removeNodeFromMap(a)};goog.ui.tree.TreeControl.prototype.clearTypeAhead=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.typeAhead_.clear()};goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig;</span>
<a name="l881"><span class="ln">881  </span></a><span class="s3">var </span><span class="s1">Blockly={};Blockly.Blocks=Object.create(</span><span class="s3">null</span><span class="s1">);Blockly.Msg={};goog.getMsgOrig=goog.getMsg;goog.getMsg=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=goog.getMsg.blocklyMsgMap[a];c&amp;&amp;(a=Blockly.Msg[c]);</span><span class="s3">return </span><span class="s1">goog.getMsgOrig(a,b)};goog.getMsg.blocklyMsgMap={Today:</span><span class="s2">&quot;TODAY&quot;</span><span class="s1">};</span>
<a name="l882"><span class="ln">882  </span></a><span class="s1">Blockly.utils={};Blockly.utils.base={};Blockly.utils.global=</span><span class="s3">this</span><span class="s1">||self;Blockly.utils.Coordinate=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.x=a;</span><span class="s3">this</span><span class="s1">.y=b};Blockly.utils.Coordinate.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a==b?!</span><span class="s4">0</span><span class="s1">:a&amp;&amp;b?a.x==b.x&amp;&amp;a.y==b.y:!</span><span class="s4">1</span><span class="s1">};Blockly.utils.Coordinate.distance=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.x-b.x,d=a.y-b.y;</span><span class="s3">return </span><span class="s1">Math.sqrt(c*c+d*d)};Blockly.utils.Coordinate.magnitude=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Math.sqrt(a.x*a.x+a.y*a.y)};Blockly.utils.Coordinate.difference=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(a.x-b.x,a.y-b.y)};</span>
<a name="l883"><span class="ln">883  </span></a><span class="s1">Blockly.utils.Coordinate.sum=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(a.x+b.x,a.y+b.y)};Blockly.utils.Coordinate.prototype.scale=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.x*=a;</span><span class="s3">this</span><span class="s1">.y*=a;</span><span class="s3">return this</span><span class="s1">};Blockly.utils.Coordinate.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.x+=a;</span><span class="s3">this</span><span class="s1">.y+=b;</span><span class="s3">return this</span><span class="s1">};Blockly.utils.string={};Blockly.utils.string.startsWith=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==a.lastIndexOf(b,</span><span class="s4">0</span><span class="s1">)};Blockly.utils.string.shortestStringLength=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.length?a.reduce(</span><span class="s3">function</span><span class="s1">(a,c){</span><span class="s3">return </span><span class="s1">a.length&lt;c.length?a:c}).length:</span><span class="s4">0</span><span class="s1">};</span>
<a name="l884"><span class="ln">884  </span></a><span class="s1">Blockly.utils.string.commonWordPrefix=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a.length)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">==a.length)</span><span class="s3">return </span><span class="s1">a[</span><span class="s4">0</span><span class="s1">].length;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d=b||Blockly.utils.string.shortestStringLength(a),e=</span><span class="s4">0</span><span class="s1">;e&lt;d;e++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=a[</span><span class="s4">0</span><span class="s1">][e],g=</span><span class="s4">1</span><span class="s1">;g&lt;a.length;g++)</span><span class="s3">if</span><span class="s1">(f!=a[g][e])</span><span class="s3">return </span><span class="s1">c;</span><span class="s2">&quot; &quot;</span><span class="s1">==f&amp;&amp;(c=e+</span><span class="s4">1</span><span class="s1">)}</span><span class="s3">for</span><span class="s1">(g=</span><span class="s4">1</span><span class="s1">;g&lt;a.length;g++)</span><span class="s3">if</span><span class="s1">((f=a[g][e])&amp;&amp;</span><span class="s2">&quot; &quot;</span><span class="s1">!=f)</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l885"><span class="ln">885  </span></a><span class="s1">Blockly.utils.string.commonWordSuffix=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a.length)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">==a.length)</span><span class="s3">return </span><span class="s1">a[</span><span class="s4">0</span><span class="s1">].length;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d=b||Blockly.utils.string.shortestStringLength(a),e=</span><span class="s4">0</span><span class="s1">;e&lt;d;e++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=a[</span><span class="s4">0</span><span class="s1">].substr(-e-1,</span><span class="s4">1</span><span class="s1">),g=</span><span class="s4">1</span><span class="s1">;g&lt;a.length;g++)</span><span class="s3">if</span><span class="s1">(f!=a[g].substr(-e-1,</span><span class="s4">1</span><span class="s1">))</span><span class="s3">return </span><span class="s1">c;</span><span class="s2">&quot; &quot;</span><span class="s1">==f&amp;&amp;(c=e+</span><span class="s4">1</span><span class="s1">)}</span><span class="s3">for</span><span class="s1">(g=</span><span class="s4">1</span><span class="s1">;g&lt;a.length;g++)</span><span class="s3">if</span><span class="s1">((f=a[g].charAt(a[g].length-e-1))&amp;&amp;</span><span class="s2">&quot; &quot;</span><span class="s1">!=f)</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">return </span><span class="s1">d};Blockly.utils.string.wrap=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.split(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)c[d]=Blockly.utils.string.wrapLine_(c[d],b);</span><span class="s3">return </span><span class="s1">c.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};</span>
<a name="l886"><span class="ln">886  </span></a><span class="s1">Blockly.utils.string.wrapLine_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a.length&lt;=b)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.trim().split(/\s+/),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)c[d].length&gt;b&amp;&amp;(b=c[d].length);d=-Infinity;</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">1</span><span class="s1">;</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">f=d;</span><span class="s3">var </span><span class="s1">g=a;</span><span class="s3">var </span><span class="s1">h=[],k=c.length/e,l=</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length-1;d++)l&lt;(d+</span><span class="s4">1.5</span><span class="s1">)/k?(l++,h[d]=!</span><span class="s4">0</span><span class="s1">):h[d]=!</span><span class="s4">1</span><span class="s1">;h=Blockly.utils.string.wrapMutate_(c,h,b);d=Blockly.utils.string.wrapScore_(c,h,b);a=Blockly.utils.string.wrapToText_(c,h);e++}</span><span class="s3">while</span><span class="s1">(d&gt;f);</span><span class="s3">return </span><span class="s1">g};</span>
<a name="l887"><span class="ln">887  </span></a><span class="s1">Blockly.utils.string.wrapScore_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=[</span><span class="s4">0</span><span class="s1">],e=[],f=</span><span class="s4">0</span><span class="s1">;f&lt;a.length;f++)d[d.length-1]+=a[f].length,!</span><span class="s4">0</span><span class="s1">===b[f]?(d.push(</span><span class="s4">0</span><span class="s1">),e.push(a[f].charAt(a[f].length-1))):!</span><span class="s4">1</span><span class="s1">===b[f]&amp;&amp;d[d.length-1]++;a=Math.max.apply(Math,d);</span><span class="s3">for</span><span class="s1">(f=b=</span><span class="s4">0</span><span class="s1">;f&lt;d.length;f++)b-=</span><span class="s4">2</span><span class="s1">*Math.pow(Math.abs(c-d[f]),</span><span class="s4">1.5</span><span class="s1">),b-=Math.pow(a-d[f],</span><span class="s4">1.5</span><span class="s1">),-</span><span class="s4">1</span><span class="s1">!=</span><span class="s2">&quot;.?!&quot;</span><span class="s1">.indexOf(e[f])?b+=c/</span><span class="s4">3</span><span class="s1">:-</span><span class="s4">1</span><span class="s1">!=</span><span class="s2">&quot;,;)]}&quot;</span><span class="s1">.indexOf(e[f])&amp;&amp;(b+=c/</span><span class="s4">4</span><span class="s1">);</span><span class="s4">1</span><span class="s1">&lt;d.length&amp;&amp;d[d.length-1]&lt;=d[d.length-2]&amp;&amp;(b+=.</span><span class="s4">5</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l888"><span class="ln">888  </span></a><span class="s1">Blockly.utils.string.wrapMutate_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=Blockly.utils.string.wrapScore_(a,b,c),e,f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length-1;f++)</span><span class="s3">if</span><span class="s1">(b[f]!=b[f+</span><span class="s4">1</span><span class="s1">]){</span><span class="s3">var </span><span class="s1">g=[].concat(b);g[f]=!g[f];g[f+</span><span class="s4">1</span><span class="s1">]=!g[f+</span><span class="s4">1</span><span class="s1">];</span><span class="s3">var </span><span class="s1">h=Blockly.utils.string.wrapScore_(a,g,c);h&gt;d&amp;&amp;(d=h,e=g)}</span><span class="s3">return </span><span class="s1">e?Blockly.utils.string.wrapMutate_(a,e,c):b};Blockly.utils.string.wrapToText_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=[],d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)c.push(a[d]),</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b[d]&amp;&amp;c.push(b[d]?</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot; &quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};Blockly.utils.userAgent={};</span>
<a name="l889"><span class="ln">889  </span></a><span class="s1">(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">function </span><span class="s1">b(a){</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">!=c.indexOf(a.toUpperCase())}Blockly.utils.userAgent.raw=a;</span><span class="s3">var </span><span class="s1">c=Blockly.utils.userAgent.raw.toUpperCase();Blockly.utils.userAgent.IE=b(</span><span class="s2">&quot;Trident&quot;</span><span class="s1">)||b(</span><span class="s2">&quot;MSIE&quot;</span><span class="s1">);Blockly.utils.userAgent.EDGE=b(</span><span class="s2">&quot;Edge&quot;</span><span class="s1">);Blockly.utils.userAgent.JAVA_FX=b(</span><span class="s2">&quot;JavaFX&quot;</span><span class="s1">);Blockly.utils.userAgent.WEBKIT=b(</span><span class="s2">&quot;WebKit&quot;</span><span class="s1">)&amp;&amp;!Blockly.utils.userAgent.EDGE;Blockly.utils.userAgent.GECKO=b(</span><span class="s2">&quot;Gecko&quot;</span><span class="s1">)&amp;&amp;!Blockly.utils.userAgent.WEBKIT&amp;&amp;!Blockly.utils.userAgent.IE&amp;&amp;!Blockly.utils.userAgent.EDGE;Blockly.utils.userAgent.ANDROID=</span>
<a name="l890"><span class="ln">890  </span></a><span class="s1">b(</span><span class="s2">&quot;Android&quot;</span><span class="s1">);Blockly.utils.userAgent.IPAD=b(</span><span class="s2">&quot;iPad&quot;</span><span class="s1">);Blockly.utils.userAgent.IPOD=b(</span><span class="s2">&quot;iPod&quot;</span><span class="s1">);Blockly.utils.userAgent.IPHONE=b(</span><span class="s2">&quot;iPhone&quot;</span><span class="s1">)&amp;&amp;!Blockly.utils.userAgent.IPAD&amp;&amp;!Blockly.utils.userAgent.IPOD;Blockly.utils.userAgent.MAC=b(</span><span class="s2">&quot;Macintosh&quot;</span><span class="s1">);Blockly.utils.userAgent.TABLET=Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.ANDROID&amp;&amp;!b(</span><span class="s2">&quot;Mobile&quot;</span><span class="s1">)||b(</span><span class="s2">&quot;Silk&quot;</span><span class="s1">);Blockly.utils.userAgent.MOBILE=!Blockly.utils.userAgent.TABLET&amp;&amp;(Blockly.utils.userAgent.IPOD||Blockly.utils.userAgent.IPHONE||Blockly.utils.userAgent.ANDROID||</span>
<a name="l891"><span class="ln">891  </span></a><span class="s1">b(</span><span class="s2">&quot;IEMobile&quot;</span><span class="s1">))})(Blockly.utils.global.navigator&amp;&amp;Blockly.utils.global.navigator.userAgent||</span><span class="s2">&quot;&quot;</span><span class="s1">);</span>
<a name="l892"><span class="ln">892  </span></a><span class="s1">Blockly.utils.noEvent=</span><span class="s3">function</span><span class="s1">(a){a.preventDefault();a.stopPropagation()};Blockly.utils.isTargetInput=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;textarea&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;text&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;number&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;email&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;password&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;search&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;tel&quot;</span><span class="s1">==a.target.type||</span><span class="s2">&quot;url&quot;</span><span class="s1">==a.target.type||a.target.isContentEditable};</span>
<a name="l893"><span class="ln">893  </span></a><span class="s1">Blockly.utils.getRelativeXY=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">),c=a.getAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">);c&amp;&amp;(b.x=parseInt(c,</span><span class="s4">10</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(c=a.getAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">))b.y=parseInt(c,</span><span class="s4">10</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c=(c=a.getAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">))&amp;&amp;c.match(Blockly.utils.getRelativeXY.XY_REGEX_))b.x+=parseFloat(c[</span><span class="s4">1</span><span class="s1">]),c[</span><span class="s4">3</span><span class="s1">]&amp;&amp;(b.y+=parseFloat(c[</span><span class="s4">3</span><span class="s1">]));(a=a.getAttribute(</span><span class="s2">&quot;style&quot;</span><span class="s1">))&amp;&amp;-</span><span class="s4">1</span><span class="s1">&lt;a.indexOf(</span><span class="s2">&quot;translate&quot;</span><span class="s1">)&amp;&amp;(a=a.match(Blockly.utils.getRelativeXY.XY_STYLE_REGEX_))&amp;&amp;(b.x+=parseFloat(a[</span><span class="s4">1</span><span class="s1">]),a[</span><span class="s4">3</span><span class="s1">]&amp;&amp;(b.y+=parseFloat(a[</span><span class="s4">3</span><span class="s1">])));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l894"><span class="ln">894  </span></a><span class="s1">Blockly.utils.getInjectionDivXY_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;a;){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.getRelativeXY(a);b+=d.x;c+=d.y;</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">!=(</span><span class="s2">&quot; &quot;</span><span class="s1">+(a.getAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">)||</span><span class="s2">&quot;&quot;</span><span class="s1">)+</span><span class="s2">&quot; &quot;</span><span class="s1">).indexOf(</span><span class="s2">&quot; injectionDiv &quot;</span><span class="s1">))</span><span class="s3">break</span><span class="s1">;a=a.parentNode}</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(b,c)};Blockly.utils.getRelativeXY.XY_REGEX_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;Blockly.utils.getRelativeXY.XY_STYLE_REGEX_=/transform:\s*translate(?:</span><span class="s4">3</span><span class="s1">d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;</span>
<a name="l895"><span class="ln">895  </span></a><span class="s1">Blockly.utils.isRightButton=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.ctrlKey&amp;&amp;Blockly.utils.userAgent.MAC?!</span><span class="s4">0</span><span class="s1">:</span><span class="s4">2</span><span class="s1">==a.button};Blockly.utils.mouseToSvg=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=b.createSVGPoint();d.x=a.clientX;d.y=a.clientY;c||(c=b.getScreenCTM().inverse());</span><span class="s3">return </span><span class="s1">d.matrixTransform(c)};</span>
<a name="l896"><span class="ln">896  </span></a><span class="s1">Blockly.utils.getScrollDeltaPixels=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">switch</span><span class="s1">(a.deltaMode){</span><span class="s3">case </span><span class="s4">0</span><span class="s1">:</span><span class="s3">return</span><span class="s1">{x:a.deltaX,y:a.deltaY};</span><span class="s3">case </span><span class="s4">1</span><span class="s1">:</span><span class="s3">return</span><span class="s1">{x:a.deltaX*Blockly.LINE_MODE_MULTIPLIER,y:a.deltaY*Blockly.LINE_MODE_MULTIPLIER};</span><span class="s3">case </span><span class="s4">2</span><span class="s1">:</span><span class="s3">return</span><span class="s1">{x:a.deltaX*Blockly.PAGE_MODE_MULTIPLIER,y:a.deltaY*Blockly.PAGE_MODE_MULTIPLIER}}};Blockly.utils.tokenizeInterpolation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.utils.tokenizeInterpolation_(a,!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l897"><span class="ln">897  </span></a><span class="s1">Blockly.utils.replaceMessageReferences=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a)</span><span class="s3">return </span><span class="s1">a;a=Blockly.utils.tokenizeInterpolation_(a,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.length?a[</span><span class="s4">0</span><span class="s1">]:</span><span class="s2">&quot;&quot;</span><span class="s1">};Blockly.utils.checkMessageReferences=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">0</span><span class="s1">,c=Blockly.Msg,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++){</span><span class="s3">var </span><span class="s1">f=d[e].toUpperCase();</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==c[f.slice(</span><span class="s4">6</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">)]&amp;&amp;(console.log(</span><span class="s2">&quot;WARNING: No message string for &quot;</span><span class="s1">+d[e]+</span><span class="s2">&quot; in &quot;</span><span class="s1">+a),b=!</span><span class="s4">1</span><span class="s1">)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l898"><span class="ln">898  </span></a><span class="s1">Blockly.utils.tokenizeInterpolation_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[],d=a.split(</span><span class="s2">&quot;&quot;</span><span class="s1">);d.push(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f=[],g=</span><span class="s3">null</span><span class="s1">,h=</span><span class="s4">0</span><span class="s1">;h&lt;d.length;h++){</span><span class="s3">var </span><span class="s1">k=d[h];</span><span class="s4">0</span><span class="s1">==e?</span><span class="s2">&quot;%&quot;</span><span class="s1">==k?((k=f.join(</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;c.push(k),f.length=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s4">1</span><span class="s1">):f.push(k):</span><span class="s4">1</span><span class="s1">==e?</span><span class="s2">&quot;%&quot;</span><span class="s1">==k?(f.push(k),e=</span><span class="s4">0</span><span class="s1">):b&amp;&amp;</span><span class="s2">&quot;0&quot;</span><span class="s1">&lt;=k&amp;&amp;</span><span class="s2">&quot;9&quot;</span><span class="s1">&gt;=k?(e=</span><span class="s4">2</span><span class="s1">,g=k,(k=f.join(</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;c.push(k),f.length=</span><span class="s4">0</span><span class="s1">):</span><span class="s2">&quot;{&quot;</span><span class="s1">==k?e=</span><span class="s4">3</span><span class="s1">:(f.push(</span><span class="s2">&quot;%&quot;</span><span class="s1">,k),e=</span><span class="s4">0</span><span class="s1">):</span><span class="s4">2</span><span class="s1">==e?</span><span class="s2">&quot;0&quot;</span><span class="s1">&lt;=k&amp;&amp;</span><span class="s2">&quot;9&quot;</span><span class="s1">&gt;=k?g+=k:(c.push(parseInt(g,</span><span class="s4">10</span><span class="s1">)),h--,e=</span><span class="s4">0</span><span class="s1">):</span><span class="s4">3</span><span class="s1">==e&amp;&amp;(</span><span class="s2">&quot;&quot;</span><span class="s1">==k?(f.splice(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s2">&quot;%{&quot;</span><span class="s1">),h--,e=</span><span class="s4">0</span><span class="s1">):</span><span class="s2">&quot;}&quot;</span><span class="s1">!=k?f.push(k):(e=f.join(</span><span class="s2">&quot;&quot;</span><span class="s1">),/[A-Z]\w*/i.test(e)?(k=e.toUpperCase(),(k=</span>
<a name="l899"><span class="ln">899  </span></a><span class="s1">Blockly.utils.string.startsWith(k,</span><span class="s2">&quot;BKY_&quot;</span><span class="s1">)?k.substring(</span><span class="s4">4</span><span class="s1">):</span><span class="s3">null</span><span class="s1">)&amp;&amp;k </span><span class="s3">in </span><span class="s1">Blockly.Msg?(e=Blockly.Msg[k],</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">e?Array.prototype.push.apply(c,Blockly.utils.tokenizeInterpolation_(e,b)):b?c.push(String(e)):c.push(e)):c.push(</span><span class="s2">&quot;%{&quot;</span><span class="s1">+e+</span><span class="s2">&quot;}&quot;</span><span class="s1">)):c.push(</span><span class="s2">&quot;%{&quot;</span><span class="s1">+e+</span><span class="s2">&quot;}&quot;</span><span class="s1">),e=f.length=</span><span class="s4">0</span><span class="s1">))}(k=f.join(</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;c.push(k);d=[];</span><span class="s3">for</span><span class="s1">(h=f.length=</span><span class="s4">0</span><span class="s1">;h&lt;c.length;++h)</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">c[h]?f.push(c[h]):((k=f.join(</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;d.push(k),f.length=</span><span class="s4">0</span><span class="s1">,d.push(c[h]));(k=f.join(</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;d.push(k);f.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l900"><span class="ln">900  </span></a><span class="s1">Blockly.utils.genUid=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=Blockly.utils.genUid.soup_.length,b=[],c=</span><span class="s4">0</span><span class="s1">;</span><span class="s4">20</span><span class="s1">&gt;c;c++)b[c]=Blockly.utils.genUid.soup_.charAt(Math.random()*a);</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;&quot;</span><span class="s1">)};Blockly.utils.genUid.soup_=</span><span class="s2">&quot;!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&quot;</span><span class="s1">;</span>
<a name="l901"><span class="ln">901  </span></a><span class="s1">Blockly.utils.is3dSupported=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==Blockly.utils.is3dSupported.cached_)</span><span class="s3">return </span><span class="s1">Blockly.utils.is3dSupported.cached_;</span><span class="s3">if</span><span class="s1">(!Blockly.utils.global.getComputedStyle)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=document.createElement(</span><span class="s2">&quot;p&quot;</span><span class="s1">),b=</span><span class="s2">&quot;none&quot;</span><span class="s1">,c={webkitTransform:</span><span class="s2">&quot;-webkit-transform&quot;</span><span class="s1">,OTransform:</span><span class="s2">&quot;-o-transform&quot;</span><span class="s1">,msTransform:</span><span class="s2">&quot;-ms-transform&quot;</span><span class="s1">,MozTransform:</span><span class="s2">&quot;-moz-transform&quot;</span><span class="s1">,transform:</span><span class="s2">&quot;transform&quot;</span><span class="s1">};document.body.insertBefore(a,</span><span class="s3">null</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">c)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.style[d]){a.style[d]=</span><span class="s2">&quot;translate3d(1px,1px,1px)&quot;</span><span class="s1">;b=Blockly.utils.global.getComputedStyle(a);</span>
<a name="l902"><span class="ln">902  </span></a><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return </span><span class="s1">document.body.removeChild(a),!</span><span class="s4">1</span><span class="s1">;b=b.getPropertyValue(c[d])}document.body.removeChild(a);Blockly.utils.is3dSupported.cached_=</span><span class="s2">&quot;none&quot;</span><span class="s1">!==b;</span><span class="s3">return </span><span class="s1">Blockly.utils.is3dSupported.cached_};Blockly.utils.runAfterPageLoad=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;object&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">document)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Blockly.utils.runAfterPageLoad() requires browser document.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;complete&quot;</span><span class="s1">==document.readyState)a();</span><span class="s3">else var </span><span class="s1">b=setInterval(</span><span class="s3">function</span><span class="s1">(){</span><span class="s2">&quot;complete&quot;</span><span class="s1">==document.readyState&amp;&amp;(clearInterval(b),a())},</span><span class="s4">10</span><span class="s1">)};</span>
<a name="l903"><span class="ln">903  </span></a><span class="s1">Blockly.utils.getViewportBBox=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=goog.style.getViewportPageOffset(document);</span><span class="s3">return</span><span class="s1">{right:document.documentElement.clientWidth+a.x,bottom:document.documentElement.clientHeight+a.y,top:a.y,left:a.x}};Blockly.utils.arrayRemove=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.indexOf(b);</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">==c)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;a.splice(c,</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l904"><span class="ln">904  </span></a><span class="s1">Blockly.utils.getDocumentScroll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=document.documentElement,b=window;</span><span class="s3">return </span><span class="s1">Blockly.utils.userAgent.IE&amp;&amp;b.pageYOffset!=a.scrollTop?</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.scrollLeft,a.scrollTop):</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)};</span>
<a name="l905"><span class="ln">905  </span></a><span class="s1">Blockly.utils.getBlockTypeCounts=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Object.create(</span><span class="s3">null</span><span class="s1">),d=a.getDescendants(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">e=a.getNextBlock();e&amp;&amp;(e=d.indexOf(e),d.splice(e,d.length-e))}e=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f;f=d[e];e++)c[f.type]?c[f.type]++:c[f.type]=</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l906"><span class="ln">906  </span></a><span class="s1">Blockly.Touch={};Blockly.Touch.TOUCH_ENABLED=</span><span class="s2">&quot;ontouchstart&quot;</span><span class="s3">in </span><span class="s1">Blockly.utils.global||!!(Blockly.utils.global.document&amp;&amp;document.documentElement&amp;&amp;</span><span class="s2">&quot;ontouchstart&quot;</span><span class="s3">in </span><span class="s1">document.documentElement)||!(!Blockly.utils.global.navigator||!Blockly.utils.global.navigator.maxTouchPoints&amp;&amp;!Blockly.utils.global.navigator.msMaxTouchPoints);Blockly.Touch.touchIdentifier_=</span><span class="s3">null</span><span class="s1">;Blockly.Touch.TOUCH_MAP={};</span>
<a name="l907"><span class="ln">907  </span></a><span class="s1">Blockly.utils.global.PointerEvent?Blockly.Touch.TOUCH_MAP={mousedown:[</span><span class="s2">&quot;pointerdown&quot;</span><span class="s1">],mouseenter:[</span><span class="s2">&quot;pointerenter&quot;</span><span class="s1">],mouseleave:[</span><span class="s2">&quot;pointerleave&quot;</span><span class="s1">],mousemove:[</span><span class="s2">&quot;pointermove&quot;</span><span class="s1">],mouseout:[</span><span class="s2">&quot;pointerout&quot;</span><span class="s1">],mouseover:[</span><span class="s2">&quot;pointerover&quot;</span><span class="s1">],mouseup:[</span><span class="s2">&quot;pointerup&quot;</span><span class="s1">,</span><span class="s2">&quot;pointercancel&quot;</span><span class="s1">],touchend:[</span><span class="s2">&quot;pointerup&quot;</span><span class="s1">],touchcancel:[</span><span class="s2">&quot;pointercancel&quot;</span><span class="s1">]}:Blockly.Touch.TOUCH_ENABLED&amp;&amp;(Blockly.Touch.TOUCH_MAP={mousedown:[</span><span class="s2">&quot;touchstart&quot;</span><span class="s1">],mousemove:[</span><span class="s2">&quot;touchmove&quot;</span><span class="s1">],mouseup:[</span><span class="s2">&quot;touchend&quot;</span><span class="s1">,</span><span class="s2">&quot;touchcancel&quot;</span><span class="s1">]});Blockly.longPid_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l908"><span class="ln">908  </span></a><span class="s1">Blockly.longStart_=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.longStop_();a.changedTouches&amp;&amp;</span><span class="s4">1</span><span class="s1">!=a.changedTouches.length||(Blockly.longPid_=setTimeout(</span><span class="s3">function</span><span class="s1">(){a.changedTouches&amp;&amp;(a.button=</span><span class="s4">2</span><span class="s1">,a.clientX=a.changedTouches[</span><span class="s4">0</span><span class="s1">].clientX,a.clientY=a.changedTouches[</span><span class="s4">0</span><span class="s1">].clientY);b&amp;&amp;b.handleRightClick(a)},Blockly.LONGPRESS))};Blockly.longStop_=</span><span class="s3">function</span><span class="s1">(){Blockly.longPid_&amp;&amp;(clearTimeout(Blockly.longPid_),Blockly.longPid_=</span><span class="s4">0</span><span class="s1">)};Blockly.Touch.clearTouchIdentifier=</span><span class="s3">function</span><span class="s1">(){Blockly.Touch.touchIdentifier_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l909"><span class="ln">909  </span></a><span class="s1">Blockly.Touch.shouldHandleEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!Blockly.Touch.isMouseOrTouchEvent(a)||Blockly.Touch.checkTouchIdentifier(a)};Blockly.Touch.getTouchIdentifierFromEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">!=a.pointerId?a.pointerId:a.changedTouches&amp;&amp;a.changedTouches[</span><span class="s4">0</span><span class="s1">]&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.changedTouches[</span><span class="s4">0</span><span class="s1">].identifier&amp;&amp;</span><span class="s3">null</span><span class="s1">!==a.changedTouches[</span><span class="s4">0</span><span class="s1">].identifier?a.changedTouches[</span><span class="s4">0</span><span class="s1">].identifier:</span><span class="s2">&quot;mouse&quot;</span><span class="s1">};</span>
<a name="l910"><span class="ln">910  </span></a><span class="s1">Blockly.Touch.checkTouchIdentifier=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.Touch.getTouchIdentifierFromEvent(a);</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">!==Blockly.Touch.touchIdentifier_&amp;&amp;</span><span class="s3">null</span><span class="s1">!==Blockly.Touch.touchIdentifier_?Blockly.Touch.touchIdentifier_==b:</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">==a.type||</span><span class="s2">&quot;touchstart&quot;</span><span class="s1">==a.type||</span><span class="s2">&quot;pointerdown&quot;</span><span class="s1">==a.type?(Blockly.Touch.touchIdentifier_=b,!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};Blockly.Touch.setClientFromTouch=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(Blockly.utils.string.startsWith(a.type,</span><span class="s2">&quot;touch&quot;</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">b=a.changedTouches[</span><span class="s4">0</span><span class="s1">];a.clientX=b.clientX;a.clientY=b.clientY}};</span>
<a name="l911"><span class="ln">911  </span></a><span class="s1">Blockly.Touch.isMouseOrTouchEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.utils.string.startsWith(a.type,</span><span class="s2">&quot;touch&quot;</span><span class="s1">)||Blockly.utils.string.startsWith(a.type,</span><span class="s2">&quot;mouse&quot;</span><span class="s1">)||Blockly.utils.string.startsWith(a.type,</span><span class="s2">&quot;pointer&quot;</span><span class="s1">)};Blockly.Touch.isTouchEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.utils.string.startsWith(a.type,</span><span class="s2">&quot;touch&quot;</span><span class="s1">)||Blockly.utils.string.startsWith(a.type,</span><span class="s2">&quot;pointer&quot;</span><span class="s1">)};</span>
<a name="l912"><span class="ln">912  </span></a><span class="s1">Blockly.Touch.splitEventByTouches=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">if</span><span class="s1">(a.changedTouches)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;a.changedTouches.length;c++)b[c]={type:a.type,changedTouches:[a.changedTouches[c]],target:a.target,stopPropagation:</span><span class="s3">function</span><span class="s1">(){a.stopPropagation()},preventDefault:</span><span class="s3">function</span><span class="s1">(){a.preventDefault()}};</span><span class="s3">else </span><span class="s1">b.push(a);</span><span class="s3">return </span><span class="s1">b};Blockly.utils.dom={};Blockly.utils.dom.SVG_NS=</span><span class="s2">&quot;http://www.w3.org/2000/svg&quot;</span><span class="s1">;Blockly.utils.dom.HTML_NS=</span><span class="s2">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="s1">;Blockly.utils.dom.XLINK_NS=</span><span class="s2">&quot;http://www.w3.org/1999/xlink&quot;</span><span class="s1">;Blockly.utils.dom.Node={ELEMENT_NODE:</span><span class="s4">1</span><span class="s1">,TEXT_NODE:</span><span class="s4">3</span><span class="s1">,COMMENT_NODE:</span><span class="s4">8</span><span class="s1">,DOCUMENT_POSITION_CONTAINED_BY:</span><span class="s4">16</span><span class="s1">};</span>
<a name="l913"><span class="ln">913  </span></a><span class="s1">Blockly.utils.dom.createSvgElement=</span><span class="s3">function</span><span class="s1">(a,b,c){a=document.createElementNS(Blockly.utils.dom.SVG_NS,a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in </span><span class="s1">b)a.setAttribute(d,b[d]);document.body.runtimeStyle&amp;&amp;(a.runtimeStyle=a.currentStyle=a.style);c&amp;&amp;c.appendChild(a);</span><span class="s3">return </span><span class="s1">a};Blockly.utils.dom.addClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">)||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">!=(</span><span class="s2">&quot; &quot;</span><span class="s1">+c+</span><span class="s2">&quot; &quot;</span><span class="s1">).indexOf(</span><span class="s2">&quot; &quot;</span><span class="s1">+b+</span><span class="s2">&quot; &quot;</span><span class="s1">))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;c&amp;&amp;(c+=</span><span class="s2">&quot; &quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">,c+b);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l914"><span class="ln">914  </span></a><span class="s1">Blockly.utils.dom.removeClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">==(</span><span class="s2">&quot; &quot;</span><span class="s1">+c+</span><span class="s2">&quot; &quot;</span><span class="s1">).indexOf(</span><span class="s2">&quot; &quot;</span><span class="s1">+b+</span><span class="s2">&quot; &quot;</span><span class="s1">))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;c=c.split(/\s+/);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)c[d]&amp;&amp;c[d]!=b||(c.splice(d,</span><span class="s4">1</span><span class="s1">),d--);c.length?a.setAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">,c.join(</span><span class="s2">&quot; &quot;</span><span class="s1">)):a.removeAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};Blockly.utils.dom.hasClass=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">!=(</span><span class="s2">&quot; &quot;</span><span class="s1">+a.getAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">)+</span><span class="s2">&quot; &quot;</span><span class="s1">).indexOf(</span><span class="s2">&quot; &quot;</span><span class="s1">+b+</span><span class="s2">&quot; &quot;</span><span class="s1">)};Blockly.utils.dom.removeNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.parentNode?a.parentNode.removeChild(a):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l915"><span class="ln">915  </span></a><span class="s1">Blockly.utils.dom.insertAfter=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.nextSibling,d=b.parentNode;</span><span class="s3">if</span><span class="s1">(!d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Reference node has no parent.&quot;</span><span class="s1">);c?d.insertBefore(a,c):d.appendChild(a)};Blockly.utils.dom.containsNode=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return</span><span class="s1">!!(a.compareDocumentPosition(b)&amp;Blockly.utils.dom.Node.DOCUMENT_POSITION_CONTAINED_BY)};Blockly.utils.dom.setCssTransform=</span><span class="s3">function</span><span class="s1">(a,b){a.style.transform=b;a.style[</span><span class="s2">&quot;-webkit-transform&quot;</span><span class="s1">]=b};Blockly.utils.math={};Blockly.utils.math.toRadians=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a*Math.PI/</span><span class="s4">180</span><span class="s1">};Blockly.utils.math.toDegrees=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s4">180</span><span class="s1">*a/Math.PI};Blockly.utils.math.clamp=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(c&lt;a){</span><span class="s3">var </span><span class="s1">d=c;c=a;a=d}</span><span class="s3">return </span><span class="s1">Math.max(a,Math.min(b,c))};Blockly.Events={};Blockly.Events.group_=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.Events.recordUndo=!</span><span class="s4">0</span><span class="s1">;Blockly.Events.disabled_=</span><span class="s4">0</span><span class="s1">;Blockly.Events.CREATE=</span><span class="s2">&quot;create&quot;</span><span class="s1">;Blockly.Events.BLOCK_CREATE=Blockly.Events.CREATE;Blockly.Events.DELETE=</span><span class="s2">&quot;delete&quot;</span><span class="s1">;Blockly.Events.BLOCK_DELETE=Blockly.Events.DELETE;Blockly.Events.CHANGE=</span><span class="s2">&quot;change&quot;</span><span class="s1">;Blockly.Events.BLOCK_CHANGE=Blockly.Events.CHANGE;Blockly.Events.MOVE=</span><span class="s2">&quot;move&quot;</span><span class="s1">;Blockly.Events.BLOCK_MOVE=Blockly.Events.MOVE;Blockly.Events.VAR_CREATE=</span><span class="s2">&quot;var_create&quot;</span><span class="s1">;Blockly.Events.VAR_DELETE=</span><span class="s2">&quot;var_delete&quot;</span><span class="s1">;</span>
<a name="l916"><span class="ln">916  </span></a><span class="s1">Blockly.Events.VAR_RENAME=</span><span class="s2">&quot;var_rename&quot;</span><span class="s1">;Blockly.Events.UI=</span><span class="s2">&quot;ui&quot;</span><span class="s1">;Blockly.Events.COMMENT_CREATE=</span><span class="s2">&quot;comment_create&quot;</span><span class="s1">;Blockly.Events.COMMENT_DELETE=</span><span class="s2">&quot;comment_delete&quot;</span><span class="s1">;Blockly.Events.COMMENT_CHANGE=</span><span class="s2">&quot;comment_change&quot;</span><span class="s1">;Blockly.Events.COMMENT_MOVE=</span><span class="s2">&quot;comment_move&quot;</span><span class="s1">;Blockly.Events.FINISHED_LOADING=</span><span class="s2">&quot;finished_loading&quot;</span><span class="s1">;Blockly.Events.BUMP_EVENTS=[Blockly.Events.BLOCK_CREATE,Blockly.Events.BLOCK_MOVE,Blockly.Events.COMMENT_CREATE,Blockly.Events.COMMENT_MOVE];Blockly.Events.FIRE_QUEUE_=[];</span>
<a name="l917"><span class="ln">917  </span></a><span class="s1">Blockly.Events.fire=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.isEnabled()&amp;&amp;(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,</span><span class="s4">0</span><span class="s1">),Blockly.Events.FIRE_QUEUE_.push(a))};Blockly.Events.fireNow_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!</span><span class="s4">0</span><span class="s1">),b=Blockly.Events.FIRE_QUEUE_.length=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++){</span><span class="s3">var </span><span class="s1">d=Blockly.Workspace.getById(c.workspaceId);d&amp;&amp;d.fireChangeListener(c)}};</span>
<a name="l918"><span class="ln">918  </span></a><span class="s1">Blockly.Events.filter=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.slice();b||c.reverse();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=[],e=Object.create(</span><span class="s3">null</span><span class="s1">),f=</span><span class="s4">0</span><span class="s1">,g;g=c[f];f++)</span><span class="s3">if</span><span class="s1">(!g.isNull()){</span><span class="s3">var </span><span class="s1">h=[g.type,g.blockId,g.workspaceId].join(</span><span class="s2">&quot; &quot;</span><span class="s1">),k=e[h],l=k?k.event:</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!k)e[h]={event:g,index:f},d.push(g);</span><span class="s3">else if</span><span class="s1">(g.type==Blockly.Events.MOVE&amp;&amp;k.index==f-1)l.newParentId=g.newParentId,l.newInputName=g.newInputName,l.newCoordinate=g.newCoordinate,k.index=f;</span><span class="s3">else if</span><span class="s1">(g.type==Blockly.Events.CHANGE&amp;&amp;g.element==l.element&amp;&amp;g.name==l.name)l.newValue=g.newValue;</span><span class="s3">else if</span><span class="s1">(g.type!=</span>
<a name="l919"><span class="ln">919  </span></a><span class="s1">Blockly.Events.UI||</span><span class="s2">&quot;click&quot;</span><span class="s1">!=g.element||</span><span class="s2">&quot;commentOpen&quot;</span><span class="s1">!=l.element&amp;&amp;</span><span class="s2">&quot;mutatorOpen&quot;</span><span class="s1">!=l.element&amp;&amp;</span><span class="s2">&quot;warningOpen&quot;</span><span class="s1">!=l.element)e[h]={event:g,index:</span><span class="s4">1</span><span class="s1">},d.push(g)}c=d.filter(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!a.isNull()});b||c.reverse();</span><span class="s3">for</span><span class="s1">(f=</span><span class="s4">1</span><span class="s1">;g=c[f];f++)g.type==Blockly.Events.CHANGE&amp;&amp;</span><span class="s2">&quot;mutation&quot;</span><span class="s1">==g.element&amp;&amp;c.unshift(c.splice(f,</span><span class="s4">1</span><span class="s1">)[</span><span class="s4">0</span><span class="s1">]);</span><span class="s3">return </span><span class="s1">c};Blockly.Events.clearPendingUndo=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=Blockly.Events.FIRE_QUEUE_[a];a++)b.recordUndo=!</span><span class="s4">1</span><span class="s1">};Blockly.Events.disable=</span><span class="s3">function</span><span class="s1">(){Blockly.Events.disabled_++};</span>
<a name="l920"><span class="ln">920  </span></a><span class="s1">Blockly.Events.enable=</span><span class="s3">function</span><span class="s1">(){Blockly.Events.disabled_--};Blockly.Events.isEnabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">==Blockly.Events.disabled_};Blockly.Events.getGroup=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.Events.group_};Blockly.Events.setGroup=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.group_=</span><span class="s2">&quot;boolean&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a?a?Blockly.utils.genUid():</span><span class="s2">&quot;&quot;</span><span class="s1">:a};Blockly.Events.getDescendantIds_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];a=a.getDescendants(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=a[c];c++)b[c]=d.id;</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l921"><span class="ln">921  </span></a><span class="s1">Blockly.Events.fromJson=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">switch</span><span class="s1">(a.type){</span><span class="s3">case </span><span class="s1">Blockly.Events.CREATE:</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.Events.Create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.DELETE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.Delete(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.CHANGE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.Change(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.MOVE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.Move(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.VAR_CREATE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.VarCreate(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.VAR_DELETE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.VarDelete(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.VAR_RENAME:c=</span>
<a name="l922"><span class="ln">922  </span></a><span class="s3">new </span><span class="s1">Blockly.Events.VarRename(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.UI:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.COMMENT_CREATE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentCreate(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.COMMENT_CHANGE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentChange(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.COMMENT_MOVE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentMove(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.COMMENT_DELETE:c=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentDelete(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unknown event type.&quot;</span><span class="s1">);}c.fromJson(a);c.workspaceId=b.id;</span>
<a name="l923"><span class="ln">923  </span></a><span class="s3">return </span><span class="s1">c};Blockly.Events.disableOrphans=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.type==Blockly.Events.MOVE||a.type==Blockly.Events.CREATE){</span><span class="s3">var </span><span class="s1">b=Blockly.Workspace.getById(a.workspaceId);</span><span class="s3">if</span><span class="s1">(a=b.getBlockById(a.blockId)){</span><span class="s3">var </span><span class="s1">c=a.getParent();</span><span class="s3">if</span><span class="s1">(c&amp;&amp;c.isEnabled())</span><span class="s3">for</span><span class="s1">(b=a.getDescendants(!</span><span class="s4">1</span><span class="s1">),a=</span><span class="s4">0</span><span class="s1">;c=b[a];a++)c.setEnabled(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">else if</span><span class="s1">((a.outputConnection||a.previousConnection)&amp;&amp;!b.isDragging()){</span><span class="s3">do </span><span class="s1">a.setEnabled(!</span><span class="s4">1</span><span class="s1">),a=a.getNextBlock();</span><span class="s3">while</span><span class="s1">(a)}}}};</span>
<a name="l924"><span class="ln">924  </span></a><span class="s1">Blockly.Events.Abstract=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspaceId=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.group=Blockly.Events.group_;</span><span class="s3">this</span><span class="s1">.recordUndo=Blockly.Events.recordUndo};Blockly.Events.Abstract.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a={type:</span><span class="s3">this</span><span class="s1">.type};</span><span class="s3">this</span><span class="s1">.group&amp;&amp;(a.group=</span><span class="s3">this</span><span class="s1">.group);</span><span class="s3">return </span><span class="s1">a};Blockly.Events.Abstract.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.group=a.group};Blockly.Events.Abstract.prototype.isNull=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};Blockly.Events.Abstract.prototype.run=</span><span class="s3">function</span><span class="s1">(a){};</span>
<a name="l925"><span class="ln">925  </span></a><span class="s1">Blockly.Events.Abstract.prototype.getEventWorkspace_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Workspace.getById(</span><span class="s3">this</span><span class="s1">.workspaceId);</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Workspace is null. Event must have been generated from real Blockly events.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.Events.VarBase=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.VarBase.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.varId=a.getId();</span><span class="s3">this</span><span class="s1">.workspaceId=a.workspace.id};goog.inherits(Blockly.Events.VarBase,Blockly.Events.Abstract);Blockly.Events.VarBase.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.VarBase.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.varId=</span><span class="s3">this</span><span class="s1">.varId;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.VarBase.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.VarBase.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.varId=a.varId};</span>
<a name="l926"><span class="ln">926  </span></a><span class="s1">Blockly.Events.VarCreate=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.VarCreate.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.varType=a.type,</span><span class="s3">this</span><span class="s1">.varName=a.name)};goog.inherits(Blockly.Events.VarCreate,Blockly.Events.VarBase);Blockly.Events.VarCreate.prototype.type=Blockly.Events.VAR_CREATE;Blockly.Events.VarCreate.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.VarCreate.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.varType=</span><span class="s3">this</span><span class="s1">.varType;a.varName=</span><span class="s3">this</span><span class="s1">.varName;</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l927"><span class="ln">927  </span></a><span class="s1">Blockly.Events.VarCreate.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.VarCreate.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.varType=a.varType;</span><span class="s3">this</span><span class="s1">.varName=a.varName};Blockly.Events.VarCreate.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_();a?b.createVariable(</span><span class="s3">this</span><span class="s1">.varName,</span><span class="s3">this</span><span class="s1">.varType,</span><span class="s3">this</span><span class="s1">.varId):b.deleteVariableById(</span><span class="s3">this</span><span class="s1">.varId)};Blockly.Events.VarDelete=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.VarDelete.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.varType=a.type,</span><span class="s3">this</span><span class="s1">.varName=a.name)};</span>
<a name="l928"><span class="ln">928  </span></a><span class="s1">goog.inherits(Blockly.Events.VarDelete,Blockly.Events.VarBase);Blockly.Events.VarDelete.prototype.type=Blockly.Events.VAR_DELETE;Blockly.Events.VarDelete.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.VarDelete.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.varType=</span><span class="s3">this</span><span class="s1">.varType;a.varName=</span><span class="s3">this</span><span class="s1">.varName;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.VarDelete.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.VarDelete.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.varType=a.varType;</span><span class="s3">this</span><span class="s1">.varName=a.varName};</span>
<a name="l929"><span class="ln">929  </span></a><span class="s1">Blockly.Events.VarDelete.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_();a?b.deleteVariableById(</span><span class="s3">this</span><span class="s1">.varId):b.createVariable(</span><span class="s3">this</span><span class="s1">.varName,</span><span class="s3">this</span><span class="s1">.varType,</span><span class="s3">this</span><span class="s1">.varId)};Blockly.Events.VarRename=</span><span class="s3">function</span><span class="s1">(a,b){a&amp;&amp;(Blockly.Events.VarRename.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.oldName=a.name,</span><span class="s3">this</span><span class="s1">.newName=b)};goog.inherits(Blockly.Events.VarRename,Blockly.Events.VarBase);Blockly.Events.VarRename.prototype.type=Blockly.Events.VAR_RENAME;</span>
<a name="l930"><span class="ln">930  </span></a><span class="s1">Blockly.Events.VarRename.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.VarRename.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.oldName=</span><span class="s3">this</span><span class="s1">.oldName;a.newName=</span><span class="s3">this</span><span class="s1">.newName;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.VarRename.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.VarRename.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.oldName=a.oldName;</span><span class="s3">this</span><span class="s1">.newName=a.newName};Blockly.Events.VarRename.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_();a?b.renameVariableById(</span><span class="s3">this</span><span class="s1">.varId,</span><span class="s3">this</span><span class="s1">.newName):b.renameVariableById(</span><span class="s3">this</span><span class="s1">.varId,</span><span class="s3">this</span><span class="s1">.oldName)};</span>
<a name="l931"><span class="ln">931  </span></a><span class="s1">Blockly.VariableMap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.variableMap_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace=a};Blockly.VariableMap.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.variableMap_=Object.create(</span><span class="s3">null</span><span class="s1">)};Blockly.VariableMap.prototype.renameVariable=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getVariable(b,a.type),d=</span><span class="s3">this</span><span class="s1">.workspace.getAllBlocks(!</span><span class="s4">1</span><span class="s1">);Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{c&amp;&amp;c.getId()!=a.getId()?</span><span class="s3">this</span><span class="s1">.renameVariableWithConflict_(a,b,c,d):</span><span class="s3">this</span><span class="s1">.renameVariableAndUses_(a,b,d)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}};</span>
<a name="l932"><span class="ln">932  </span></a><span class="s1">Blockly.VariableMap.prototype.renameVariableById=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getVariableById(a);</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to rename a variable that didn't exist. ID: &quot;</span><span class="s1">+a);</span><span class="s3">this</span><span class="s1">.renameVariable(c,b)};Blockly.VariableMap.prototype.renameVariableAndUses_=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.VarRename(a,b));a.name=b;</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;c.length;b++)c[b].updateVarName(a)};</span>
<a name="l933"><span class="ln">933  </span></a><span class="s1">Blockly.VariableMap.prototype.renameVariableWithConflict_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=a.type;b!=c.name&amp;&amp;</span><span class="s3">this</span><span class="s1">.renameVariableAndUses_(c,b,d);</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;d.length;b++)d[b].renameVarById(a.getId(),c.getId());Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.VarDelete(a));a=</span><span class="s3">this</span><span class="s1">.getVariablesOfType(e).indexOf(a);</span><span class="s3">this</span><span class="s1">.variableMap_[e].splice(a,</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l934"><span class="ln">934  </span></a><span class="s1">Blockly.VariableMap.prototype.createVariable=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getVariable(a,b);</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">if</span><span class="s1">(c&amp;&amp;d.getId()!=c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Variable &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; is already in use and its id is &quot;'</span><span class="s1">+d.getId()+</span><span class="s2">'&quot; which conflicts with the passed in id, &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot;.'</span><span class="s1">);</span><span class="s3">return </span><span class="s1">d}</span><span class="s3">if</span><span class="s1">(c&amp;&amp;</span><span class="s3">this</span><span class="s1">.getVariableById(c))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Variable id, &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot;, is already in use.'</span><span class="s1">);d=c||Blockly.utils.genUid();b=b||</span><span class="s2">&quot;&quot;</span><span class="s1">;d=</span><span class="s3">new </span><span class="s1">Blockly.VariableModel(</span><span class="s3">this</span><span class="s1">.workspace,a,b,d);a=</span><span class="s3">this</span><span class="s1">.variableMap_[b]||[];a.push(d);</span><span class="s3">delete this</span><span class="s1">.variableMap_[b];</span><span class="s3">this</span><span class="s1">.variableMap_[b]=</span>
<a name="l935"><span class="ln">935  </span></a><span class="s1">a;</span><span class="s3">return </span><span class="s1">d};Blockly.VariableMap.prototype.deleteVariable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.variableMap_[a.type],c=</span><span class="s4">0</span><span class="s1">,d;d=b[c];c++)</span><span class="s3">if</span><span class="s1">(d.getId()==a.getId()){b.splice(c,</span><span class="s4">1</span><span class="s1">);Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.VarDelete(a));</span><span class="s3">break</span><span class="s1">}};</span>
<a name="l936"><span class="ln">936  </span></a><span class="s1">Blockly.VariableMap.prototype.deleteVariableById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getVariableById(a);</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">c=b.name,d=</span><span class="s3">this</span><span class="s1">.getVariableUsesById(a);a=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e;e=d[a];a++)</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;procedures_defnoreturn&quot;</span><span class="s1">==e.type||</span><span class="s2">&quot;procedures_defreturn&quot;</span><span class="s1">==e.type){a=e.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);c=Blockly.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,c).replace(</span><span class="s2">&quot;%2&quot;</span><span class="s1">,a);Blockly.alert(c);</span><span class="s3">return</span><span class="s1">}</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">;</span><span class="s4">1</span><span class="s1">&lt;d.length?(c=Blockly.Msg.DELETE_VARIABLE_CONFIRMATION.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,String(d.length)).replace(</span><span class="s2">&quot;%2&quot;</span><span class="s1">,c),Blockly.confirm(c,</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;</span>
<a name="l937"><span class="ln">937  </span></a><span class="s1">f.deleteVariableInternal_(b,d)})):f.deleteVariableInternal_(b,d)}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Can't delete non-existent variable: &quot;</span><span class="s1">+a)};Blockly.VariableMap.prototype.deleteVariableInternal_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.Events.getGroup();c||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;b.length;d++)b[d].dispose(!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.deleteVariable(a)}</span><span class="s3">finally</span><span class="s1">{c||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}};</span>
<a name="l938"><span class="ln">938  </span></a><span class="s1">Blockly.VariableMap.prototype.getVariable=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.variableMap_[b||</span><span class="s2">&quot;&quot;</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c[d];d++)</span><span class="s3">if</span><span class="s1">(Blockly.Names.equals(e.name,a))</span><span class="s3">return </span><span class="s1">e;</span><span class="s3">return null</span><span class="s1">};Blockly.VariableMap.prototype.getVariableById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=Object.keys(</span><span class="s3">this</span><span class="s1">.variableMap_),c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=b[c],e=</span><span class="s4">0</span><span class="s1">,f;f=</span><span class="s3">this</span><span class="s1">.variableMap_[d][e];e++)</span><span class="s3">if</span><span class="s1">(f.getId()==a)</span><span class="s3">return </span><span class="s1">f;</span><span class="s3">return null</span><span class="s1">};Blockly.VariableMap.prototype.getVariablesOfType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.variableMap_[a||</span><span class="s2">&quot;&quot;</span><span class="s1">])?a.slice():[]};</span>
<a name="l939"><span class="ln">939  </span></a><span class="s1">Blockly.VariableMap.prototype.getVariableTypes=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];a&amp;&amp;a.getPotentialVariableMap()&amp;&amp;(b=Object.keys(a.getPotentialVariableMap().variableMap_));a=Object.keys(</span><span class="s3">this</span><span class="s1">.variableMap_).concat(b);b=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)</span><span class="s2">&quot;&quot;</span><span class="s1">==a[c]&amp;&amp;(b=!</span><span class="s4">0</span><span class="s1">);b||a.push(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.VariableMap.prototype.getAllVariables=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[],b;</span><span class="s3">for</span><span class="s1">(b </span><span class="s3">in this</span><span class="s1">.variableMap_)a=a.concat(</span><span class="s3">this</span><span class="s1">.variableMap_[b]);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l940"><span class="ln">940  </span></a><span class="s1">Blockly.VariableMap.prototype.getVariableUsesById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s3">this</span><span class="s1">.workspace.getAllBlocks(!</span><span class="s4">1</span><span class="s1">),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++){</span><span class="s3">var </span><span class="s1">e=c[d].getVarModels();</span><span class="s3">if</span><span class="s1">(e)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">;f&lt;e.length;f++)e[f].getId()==a&amp;&amp;b.push(c[d])}</span><span class="s3">return </span><span class="s1">b};Blockly.utils.xml={};Blockly.utils.xml.NAME_SPACE=</span><span class="s2">&quot;https://developers.google.com/blockly/xml&quot;</span><span class="s1">;Blockly.utils.xml.createElement=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">document.createElementNS(Blockly.utils.xml.NAME_SPACE,a)};Blockly.utils.xml.createTextNode=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">document.createTextNode(a)};Blockly.utils.xml.textToDomDocument=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">DOMParser).parseFromString(a,</span><span class="s2">&quot;text/xml&quot;</span><span class="s1">)};Blockly.utils.xml.domToText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">new </span><span class="s1">XMLSerializer).serializeToString(a)};Blockly.Events.BlockBase=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.BlockBase.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.blockId=a.id;</span><span class="s3">this</span><span class="s1">.workspaceId=a.workspace.id};goog.inherits(Blockly.Events.BlockBase,Blockly.Events.Abstract);Blockly.Events.BlockBase.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.BlockBase.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.blockId=</span><span class="s3">this</span><span class="s1">.blockId;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.BlockBase.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.BlockBase.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.blockId=a.blockId};</span>
<a name="l941"><span class="ln">941  </span></a><span class="s1">Blockly.Events.Change=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){a&amp;&amp;(Blockly.Events.Change.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.element=b,</span><span class="s3">this</span><span class="s1">.name=c,</span><span class="s3">this</span><span class="s1">.oldValue=d,</span><span class="s3">this</span><span class="s1">.newValue=e)};goog.inherits(Blockly.Events.Change,Blockly.Events.BlockBase);Blockly.Events.BlockChange=Blockly.Events.Change;Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE;</span>
<a name="l942"><span class="ln">942  </span></a><span class="s1">Blockly.Events.Change.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.Change.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.element=</span><span class="s3">this</span><span class="s1">.element;</span><span class="s3">this</span><span class="s1">.name&amp;&amp;(a.name=</span><span class="s3">this</span><span class="s1">.name);a.newValue=</span><span class="s3">this</span><span class="s1">.newValue;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.Change.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.Change.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.element=a.element;</span><span class="s3">this</span><span class="s1">.name=a.name;</span><span class="s3">this</span><span class="s1">.newValue=a.newValue};Blockly.Events.Change.prototype.isNull=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.oldValue==</span><span class="s3">this</span><span class="s1">.newValue};</span>
<a name="l943"><span class="ln">943  </span></a><span class="s1">Blockly.Events.Change.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_().getBlockById(</span><span class="s3">this</span><span class="s1">.blockId);</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">switch</span><span class="s1">(b.mutator&amp;&amp;b.mutator.setVisible(!</span><span class="s4">1</span><span class="s1">),a=a?</span><span class="s3">this</span><span class="s1">.newValue:</span><span class="s3">this</span><span class="s1">.oldValue,</span><span class="s3">this</span><span class="s1">.element){</span><span class="s3">case </span><span class="s2">&quot;field&quot;</span><span class="s1">:(b=b.getField(</span><span class="s3">this</span><span class="s1">.name))?(b.callValidator(a),b.setValue(a)):console.warn(</span><span class="s2">&quot;Can't set non-existent field: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.name);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;comment&quot;</span><span class="s1">:b.setCommentText(a||</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;collapsed&quot;</span><span class="s1">:b.setCollapsed(a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;disabled&quot;</span><span class="s1">:b.setEnabled(!a);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;inline&quot;</span><span class="s1">:b.setInputsInline(a);</span><span class="s3">break</span><span class="s1">;</span>
<a name="l944"><span class="ln">944  </span></a><span class="s3">case </span><span class="s2">&quot;mutation&quot;</span><span class="s1">:</span><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;&quot;</span><span class="s1">;b.mutationToDom&amp;&amp;(c=(c=b.mutationToDom())&amp;&amp;Blockly.Xml.domToText(c));</span><span class="s3">if</span><span class="s1">(b.domToMutation){</span><span class="s3">var </span><span class="s1">d=Blockly.Xml.textToDom(a||</span><span class="s2">&quot;&lt;mutation/&gt;&quot;</span><span class="s1">);b.domToMutation(d)}Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.Change(b,</span><span class="s2">&quot;mutation&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,c,a));</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:console.warn(</span><span class="s2">&quot;Unknown change type: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.element)}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Can't change non-existent block: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.blockId)};</span>
<a name="l945"><span class="ln">945  </span></a><span class="s1">Blockly.Events.Create=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.Create.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.xml=a.workspace.rendered?Blockly.Xml.blockToDomWithXY(a):Blockly.Xml.blockToDom(a),</span><span class="s3">this</span><span class="s1">.ids=Blockly.Events.getDescendantIds_(a))};goog.inherits(Blockly.Events.Create,Blockly.Events.BlockBase);Blockly.Events.BlockCreate=Blockly.Events.Create;Blockly.Events.Create.prototype.type=Blockly.Events.CREATE;</span>
<a name="l946"><span class="ln">946  </span></a><span class="s1">Blockly.Events.Create.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.Create.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.xml=Blockly.Xml.domToText(</span><span class="s3">this</span><span class="s1">.xml);a.ids=</span><span class="s3">this</span><span class="s1">.ids;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.Create.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.Create.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.xml=Blockly.Xml.textToDom(a.xml);</span><span class="s3">this</span><span class="s1">.ids=a.ids};</span>
<a name="l947"><span class="ln">947  </span></a><span class="s1">Blockly.Events.Create.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_();</span><span class="s3">if</span><span class="s1">(a)a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;xml&quot;</span><span class="s1">),a.appendChild(</span><span class="s3">this</span><span class="s1">.xml),Blockly.Xml.domToWorkspace(a,b);</span><span class="s3">else</span><span class="s1">{a=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c;c=</span><span class="s3">this</span><span class="s1">.ids[a];a++){</span><span class="s3">var </span><span class="s1">d=b.getBlockById(c);d?d.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">):c==</span><span class="s3">this</span><span class="s1">.blockId&amp;&amp;console.warn(</span><span class="s2">&quot;Can't uncreate non-existent block: &quot;</span><span class="s1">+c)}}};</span>
<a name="l948"><span class="ln">948  </span></a><span class="s1">Blockly.Events.Delete=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.getParent())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Connected blocks cannot be deleted.&quot;</span><span class="s1">);Blockly.Events.Delete.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.oldXml=a.workspace.rendered?Blockly.Xml.blockToDomWithXY(a):Blockly.Xml.blockToDom(a);</span><span class="s3">this</span><span class="s1">.ids=Blockly.Events.getDescendantIds_(a)}};goog.inherits(Blockly.Events.Delete,Blockly.Events.BlockBase);Blockly.Events.BlockDelete=Blockly.Events.Delete;Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE;</span>
<a name="l949"><span class="ln">949  </span></a><span class="s1">Blockly.Events.Delete.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.Delete.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.ids=</span><span class="s3">this</span><span class="s1">.ids;</span><span class="s3">return </span><span class="s1">a};Blockly.Events.Delete.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.Delete.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.ids=a.ids};</span>
<a name="l950"><span class="ln">950  </span></a><span class="s1">Blockly.Events.Delete.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_();</span><span class="s3">if</span><span class="s1">(a){a=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c;c=</span><span class="s3">this</span><span class="s1">.ids[a];a++){</span><span class="s3">var </span><span class="s1">d=b.getBlockById(c);d?d.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">):c==</span><span class="s3">this</span><span class="s1">.blockId&amp;&amp;console.warn(</span><span class="s2">&quot;Can't delete non-existent block: &quot;</span><span class="s1">+c)}}</span><span class="s3">else </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;xml&quot;</span><span class="s1">),a.appendChild(</span><span class="s3">this</span><span class="s1">.oldXml),Blockly.Xml.domToWorkspace(a,b)};</span>
<a name="l951"><span class="ln">951  </span></a><span class="s1">Blockly.Events.Move=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.Move.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),a=</span><span class="s3">this</span><span class="s1">.currentLocation_(),</span><span class="s3">this</span><span class="s1">.oldParentId=a.parentId,</span><span class="s3">this</span><span class="s1">.oldInputName=a.inputName,</span><span class="s3">this</span><span class="s1">.oldCoordinate=a.coordinate)};goog.inherits(Blockly.Events.Move,Blockly.Events.BlockBase);Blockly.Events.BlockMove=Blockly.Events.Move;Blockly.Events.Move.prototype.type=Blockly.Events.MOVE;</span>
<a name="l952"><span class="ln">952  </span></a><span class="s1">Blockly.Events.Move.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.Move.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.newParentId&amp;&amp;(a.newParentId=</span><span class="s3">this</span><span class="s1">.newParentId);</span><span class="s3">this</span><span class="s1">.newInputName&amp;&amp;(a.newInputName=</span><span class="s3">this</span><span class="s1">.newInputName);</span><span class="s3">this</span><span class="s1">.newCoordinate&amp;&amp;(a.newCoordinate=Math.round(</span><span class="s3">this</span><span class="s1">.newCoordinate.x)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Math.round(</span><span class="s3">this</span><span class="s1">.newCoordinate.y));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l953"><span class="ln">953  </span></a><span class="s1">Blockly.Events.Move.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.Move.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.newParentId=a.newParentId;</span><span class="s3">this</span><span class="s1">.newInputName=a.newInputName;a.newCoordinate&amp;&amp;(a=a.newCoordinate.split(</span><span class="s2">&quot;,&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.newCoordinate=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(parseFloat(a[</span><span class="s4">0</span><span class="s1">]),parseFloat(a[</span><span class="s4">1</span><span class="s1">])))};Blockly.Events.Move.prototype.recordNew=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.currentLocation_();</span><span class="s3">this</span><span class="s1">.newParentId=a.parentId;</span><span class="s3">this</span><span class="s1">.newInputName=a.inputName;</span><span class="s3">this</span><span class="s1">.newCoordinate=a.coordinate};</span>
<a name="l954"><span class="ln">954  </span></a><span class="s1">Blockly.Events.Move.prototype.currentLocation_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Workspace.getById(</span><span class="s3">this</span><span class="s1">.workspaceId).getBlockById(</span><span class="s3">this</span><span class="s1">.blockId),b={},c=a.getParent();</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">if</span><span class="s1">(b.parentId=c.id,a=c.getInputWithBlock(a))b.inputName=a.name}</span><span class="s3">else </span><span class="s1">b.coordinate=a.getRelativeToSurfaceXY();</span><span class="s3">return </span><span class="s1">b};Blockly.Events.Move.prototype.isNull=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.oldParentId==</span><span class="s3">this</span><span class="s1">.newParentId&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldInputName==</span><span class="s3">this</span><span class="s1">.newInputName&amp;&amp;Blockly.utils.Coordinate.equals(</span><span class="s3">this</span><span class="s1">.oldCoordinate,</span><span class="s3">this</span><span class="s1">.newCoordinate)};</span>
<a name="l955"><span class="ln">955  </span></a><span class="s1">Blockly.Events.Move.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_(),c=b.getBlockById(</span><span class="s3">this</span><span class="s1">.blockId);</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">var </span><span class="s1">d=a?</span><span class="s3">this</span><span class="s1">.newParentId:</span><span class="s3">this</span><span class="s1">.oldParentId,e=a?</span><span class="s3">this</span><span class="s1">.newInputName:</span><span class="s3">this</span><span class="s1">.oldInputName;a=a?</span><span class="s3">this</span><span class="s1">.newCoordinate:</span><span class="s3">this</span><span class="s1">.oldCoordinate;</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(d&amp;&amp;(f=b.getBlockById(d),!f)){console.warn(</span><span class="s2">&quot;Can't connect to non-existent block: &quot;</span><span class="s1">+d);</span><span class="s3">return</span><span class="s1">}c.getParent()&amp;&amp;c.unplug();</span><span class="s3">if</span><span class="s1">(a)e=c.getRelativeToSurfaceXY(),c.moveBy(a.x-e.x,a.y-e.y);</span><span class="s3">else</span><span class="s1">{c=c.outputConnection||c.previousConnection;</span><span class="s3">if</span><span class="s1">(e){</span><span class="s3">if</span><span class="s1">(b=f.getInput(e))</span><span class="s3">var </span><span class="s1">g=</span>
<a name="l956"><span class="ln">956  </span></a><span class="s1">b.connection}</span><span class="s3">else </span><span class="s1">c.type==Blockly.PREVIOUS_STATEMENT&amp;&amp;(g=f.nextConnection);g?c.connect(g):console.warn(</span><span class="s2">&quot;Can't connect to non-existent input: &quot;</span><span class="s1">+e)}}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Can't move non-existent block: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.blockId)};Blockly.Events.FinishedLoading=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspaceId=a.id;</span><span class="s3">this</span><span class="s1">.group=Blockly.Events.group_;</span><span class="s3">this</span><span class="s1">.recordUndo=!</span><span class="s4">1</span><span class="s1">};goog.inherits(Blockly.Events.FinishedLoading,Blockly.Events.Abstract);Blockly.Events.FinishedLoading.prototype.type=Blockly.Events.FINISHED_LOADING;Blockly.Events.FinishedLoading.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a={type:</span><span class="s3">this</span><span class="s1">.type};</span><span class="s3">this</span><span class="s1">.group&amp;&amp;(a.group=</span><span class="s3">this</span><span class="s1">.group);</span><span class="s3">this</span><span class="s1">.workspaceId&amp;&amp;(a.workspaceId=</span><span class="s3">this</span><span class="s1">.workspaceId);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l957"><span class="ln">957  </span></a><span class="s1">Blockly.Events.FinishedLoading.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspaceId=a.workspaceId;</span><span class="s3">this</span><span class="s1">.group=a.group};Blockly.Xml={};Blockly.Xml.workspaceToDom=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;xml&quot;</span><span class="s1">),d=Blockly.Xml.variablesToDom(Blockly.Variables.allUsedVarModels(a));d.hasChildNodes()&amp;&amp;c.appendChild(d);</span><span class="s3">var </span><span class="s1">e=a.getTopComments(!</span><span class="s4">0</span><span class="s1">);d=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f;f=e[d];d++)c.appendChild(f.toXmlWithXY(b));e=a.getTopBlocks(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;f=e[d];d++)c.appendChild(Blockly.Xml.blockToDomWithXY(f,b));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l958"><span class="ln">958  </span></a><span class="s1">Blockly.Xml.variablesToDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;variables&quot;</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">,d;d=a[c];c++){</span><span class="s3">var </span><span class="s1">e=Blockly.utils.xml.createElement(</span><span class="s2">&quot;variable&quot;</span><span class="s1">);e.appendChild(Blockly.utils.xml.createTextNode(d.name));d.type&amp;&amp;e.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,d.type);e.id=d.getId();b.appendChild(e)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l959"><span class="ln">959  </span></a><span class="s1">Blockly.Xml.blockToDomWithXY=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c;a.workspace.RTL&amp;&amp;(c=a.workspace.getWidth());</span><span class="s3">var </span><span class="s1">d=Blockly.Xml.blockToDom(a,b),e=a.getRelativeToSurfaceXY();d.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,Math.round(a.workspace.RTL?c-e.x:e.x));d.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,Math.round(e.y));</span><span class="s3">return </span><span class="s1">d};Blockly.Xml.fieldToDom_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.isSerializable()){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);b.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,a.name);</span><span class="s3">return </span><span class="s1">a.toXml(b)}</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l960"><span class="ln">960  </span></a><span class="s1">Blockly.Xml.allFieldsToDom_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=a.inputList[c];c++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f;f=d.fieldRow[e];e++)(f=Blockly.Xml.fieldToDom_(f))&amp;&amp;b.appendChild(f)};</span>
<a name="l961"><span class="ln">961  </span></a><span class="s1">Blockly.Xml.blockToDom=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.utils.xml.createElement(a.isShadow()?</span><span class="s2">&quot;shadow&quot;</span><span class="s1">:</span><span class="s2">&quot;block&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,a.type);b||(c.id=a.id);</span><span class="s3">if</span><span class="s1">(a.mutationToDom){</span><span class="s3">var </span><span class="s1">d=a.mutationToDom();d&amp;&amp;(d.hasChildNodes()||d.hasAttributes())&amp;&amp;c.appendChild(d)}Blockly.Xml.allFieldsToDom_(a,c);</span><span class="s3">var </span><span class="s1">e=a.getCommentText();e&amp;&amp;(d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;comment&quot;</span><span class="s1">),d.appendChild(Blockly.utils.xml.createTextNode(e)),</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.comment&amp;&amp;(d.setAttribute(</span><span class="s2">&quot;pinned&quot;</span><span class="s1">,a.comment.isVisible()),e=a.comment.getBubbleSize(),</span>
<a name="l962"><span class="ln">962  </span></a><span class="s1">d.setAttribute(</span><span class="s2">&quot;h&quot;</span><span class="s1">,e.height),d.setAttribute(</span><span class="s2">&quot;w&quot;</span><span class="s1">,e.width)),c.appendChild(d));a.data&amp;&amp;(d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;data&quot;</span><span class="s1">),d.appendChild(Blockly.utils.xml.createTextNode(a.data)),c.appendChild(d));e=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f;f=a.inputList[e];e++){</span><span class="s3">var </span><span class="s1">g,h=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(f.type!=Blockly.DUMMY_INPUT){</span><span class="s3">var </span><span class="s1">k=f.connection.targetBlock();f.type==Blockly.INPUT_VALUE?g=Blockly.utils.xml.createElement(</span><span class="s2">&quot;value&quot;</span><span class="s1">):f.type==Blockly.NEXT_STATEMENT&amp;&amp;(g=Blockly.utils.xml.createElement(</span><span class="s2">&quot;statement&quot;</span><span class="s1">));d=f.connection.getShadowDom();!d||k&amp;&amp;</span>
<a name="l963"><span class="ln">963  </span></a><span class="s1">k.isShadow()||g.appendChild(Blockly.Xml.cloneShadow_(d,b));k&amp;&amp;(g.appendChild(Blockly.Xml.blockToDom(k,b)),h=!</span><span class="s4">1</span><span class="s1">);g.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,f.name);h||c.appendChild(g)}}</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!=a.inputsInline&amp;&amp;a.inputsInline!=a.inputsInlineDefault&amp;&amp;c.setAttribute(</span><span class="s2">&quot;inline&quot;</span><span class="s1">,a.inputsInline);a.isCollapsed()&amp;&amp;c.setAttribute(</span><span class="s2">&quot;collapsed&quot;</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);a.isEnabled()||c.setAttribute(</span><span class="s2">&quot;disabled&quot;</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);a.isDeletable()||a.isShadow()||c.setAttribute(</span><span class="s2">&quot;deletable&quot;</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);a.isMovable()||a.isShadow()||c.setAttribute(</span><span class="s2">&quot;movable&quot;</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);a.isEditable()||c.setAttribute(</span><span class="s2">&quot;editable&quot;</span><span class="s1">,</span>
<a name="l964"><span class="ln">964  </span></a><span class="s1">!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(e=a.getNextBlock())g=Blockly.utils.xml.createElement(</span><span class="s2">&quot;next&quot;</span><span class="s1">),g.appendChild(Blockly.Xml.blockToDom(e,b)),c.appendChild(g);d=a.nextConnection&amp;&amp;a.nextConnection.getShadowDom();!d||e&amp;&amp;e.isShadow()||g.appendChild(Blockly.Xml.cloneShadow_(d,b));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l965"><span class="ln">965  </span></a><span class="s1">Blockly.Xml.cloneShadow_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a=a.cloneNode(!</span><span class="s4">0</span><span class="s1">),d;c;)</span><span class="s3">if</span><span class="s1">(b&amp;&amp;</span><span class="s2">&quot;shadow&quot;</span><span class="s1">==c.nodeName&amp;&amp;c.removeAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">),c.firstChild)c=c.firstChild;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">for</span><span class="s1">(;c&amp;&amp;!c.nextSibling;)d=c,c=c.parentNode,d.nodeType==Blockly.utils.dom.Node.TEXT_NODE&amp;&amp;</span><span class="s2">&quot;&quot;</span><span class="s1">==d.data.trim()&amp;&amp;c.firstChild!=d&amp;&amp;Blockly.utils.dom.removeNode(d);c&amp;&amp;(d=c,c=c.nextSibling,d.nodeType==Blockly.utils.dom.Node.TEXT_NODE&amp;&amp;</span><span class="s2">&quot;&quot;</span><span class="s1">==d.data.trim()&amp;&amp;Blockly.utils.dom.removeNode(d))}</span><span class="s3">return </span><span class="s1">a};Blockly.Xml.domToText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.utils.xml.domToText(a)};</span>
<a name="l966"><span class="ln">966  </span></a><span class="s1">Blockly.Xml.domToPrettyText=</span><span class="s3">function</span><span class="s1">(a){a=Blockly.Xml.domToText(a).split(</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;&quot;</span><span class="s1">,c=</span><span class="s4">1</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=a[c];</span><span class="s2">&quot;/&quot;</span><span class="s1">==d[</span><span class="s4">0</span><span class="s1">]&amp;&amp;(b=b.substring(</span><span class="s4">2</span><span class="s1">));a[c]=b+</span><span class="s2">&quot;&lt;&quot;</span><span class="s1">+d;</span><span class="s2">&quot;/&quot;</span><span class="s1">!=d[</span><span class="s4">0</span><span class="s1">]&amp;&amp;</span><span class="s2">&quot;/&gt;&quot;</span><span class="s1">!=d.slice(-</span><span class="s4">2</span><span class="s1">)&amp;&amp;(b+=</span><span class="s2">&quot;  &quot;</span><span class="s1">)}a=a.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);a=a.replace(/(&lt;(\w+)\b[^&gt;]*&gt;[^\n]*)\n *&lt;\/\</span><span class="s4">2</span><span class="s1">&gt;/g,</span><span class="s2">&quot;$1&lt;/$2&gt;&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.replace(/^\n/,</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l967"><span class="ln">967  </span></a><span class="s1">Blockly.Xml.textToDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.xml.textToDomDocument(a);</span><span class="s3">if</span><span class="s1">(!b||!b.documentElement||b.getElementsByTagName(</span><span class="s2">&quot;parsererror&quot;</span><span class="s1">).length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;textToDom was unable to parse: &quot;</span><span class="s1">+a);</span><span class="s3">return </span><span class="s1">b.documentElement};Blockly.Xml.clearWorkspaceAndLoadFromXml=</span><span class="s3">function</span><span class="s1">(a,b){b.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);b.clear();</span><span class="s3">var </span><span class="s1">c=Blockly.Xml.domToWorkspace(a,b);b.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l968"><span class="ln">968  </span></a><span class="s1">Blockly.Xml.domToWorkspace=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">Blockly.Workspace){</span><span class="s3">var </span><span class="s1">c=a;a=b;b=c;console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.&quot;</span><span class="s1">)}</span><span class="s3">var </span><span class="s1">d;b.RTL&amp;&amp;(d=b.getWidth());c=[];Blockly.Field.startCache();</span><span class="s3">var </span><span class="s1">e=a.childNodes.length,f=Blockly.Events.getGroup();f||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);b.setResizesEnabled&amp;&amp;b.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">var </span><span class="s1">g=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">h=</span><span class="s4">0</span><span class="s1">;h&lt;e;h++){</span><span class="s3">var </span><span class="s1">k=a.childNodes[h],l=k.nodeName.toLowerCase();</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;block&quot;</span><span class="s1">==l||</span><span class="s2">&quot;shadow&quot;</span><span class="s1">==l&amp;&amp;!Blockly.Events.recordUndo){</span><span class="s3">var </span><span class="s1">n=</span>
<a name="l969"><span class="ln">969  </span></a><span class="s1">Blockly.Xml.domToBlock(k,b);c.push(n.id);</span><span class="s3">var </span><span class="s1">m=k.hasAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">)?parseInt(k.getAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">):</span><span class="s4">10</span><span class="s1">,p=k.hasAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">)?parseInt(k.getAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">):</span><span class="s4">10</span><span class="s1">;isNaN(m)||isNaN(p)||n.moveBy(b.RTL?d-m:m,p);g=!</span><span class="s4">1</span><span class="s1">}</span><span class="s3">else</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;shadow&quot;</span><span class="s1">==l)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Shadow block cannot be a top-level block.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;comment&quot;</span><span class="s1">==l)b.rendered?Blockly.WorkspaceCommentSvg.fromXml(k,b,d):Blockly.WorkspaceComment.fromXml(k,b);</span><span class="s3">else if</span><span class="s1">(</span><span class="s2">&quot;variables&quot;</span><span class="s1">==l){</span><span class="s3">if</span><span class="s1">(g)Blockly.Xml.domToVariables(k,b);</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.&quot;</span><span class="s1">);</span>
<a name="l970"><span class="ln">970  </span></a><span class="s1">g=!</span><span class="s4">1</span><span class="s1">}}}}</span><span class="s3">finally</span><span class="s1">{f||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">),Blockly.Field.stopCache()}b.setResizesEnabled&amp;&amp;b.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">);Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.FinishedLoading(b));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l971"><span class="ln">971  </span></a><span class="s1">Blockly.Xml.appendDomToWorkspace=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b.hasOwnProperty(</span><span class="s2">&quot;scale&quot;</span><span class="s1">)){</span><span class="s3">var </span><span class="s1">c=Blockly.BlockSvg.TAB_WIDTH;</span><span class="s3">try</span><span class="s1">{Blockly.BlockSvg.TAB_WIDTH=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">d=b.getBlocksBoundingBox()}</span><span class="s3">finally</span><span class="s1">{Blockly.BlockSvg.TAB_WIDTH=c}}c=Blockly.Xml.domToWorkspace(a,b);</span><span class="s3">if</span><span class="s1">(d&amp;&amp;d.top!=d.bottom){</span><span class="s3">var </span><span class="s1">e=d.bottom;</span><span class="s3">var </span><span class="s1">f=d.left;</span><span class="s3">var </span><span class="s1">g=Infinity,h=Infinity;</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++){</span><span class="s3">var </span><span class="s1">k=b.getBlockById(c[d]).getRelativeToSurfaceXY();k.y&lt;h&amp;&amp;(h=k.y);k.x&lt;g&amp;&amp;(g=k.x)}e=e-h+Blockly.BlockSvg.SEP_SPACE_Y;f-=g;</span><span class="s3">var </span><span class="s1">l;b.RTL&amp;&amp;(l=b.getWidth());</span><span class="s3">for</span><span class="s1">(d=</span>
<a name="l972"><span class="ln">972  </span></a><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)b.getBlockById(c[d]).moveBy(b.RTL?l-f:f,e)}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l973"><span class="ln">973  </span></a><span class="s1">Blockly.Xml.domToBlock=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a </span><span class="s3">instanceof </span><span class="s1">Blockly.Workspace){</span><span class="s3">var </span><span class="s1">c=a;a=b;b=c;console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Xml.domToBlock, swap the arguments.&quot;</span><span class="s1">)}Blockly.Events.disable();c=b.getAllVariables();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=Blockly.Xml.domToBlockHeadless_(a,b),e=d.getDescendants(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b.rendered){d.setConnectionsHidden(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=e.length-1;</span><span class="s4">0</span><span class="s1">&lt;=f;f--)e[f].initSvg();</span><span class="s3">for</span><span class="s1">(f=e.length-1;</span><span class="s4">0</span><span class="s1">&lt;=f;f--)e[f].render(!</span><span class="s4">1</span><span class="s1">);setTimeout(</span><span class="s3">function</span><span class="s1">(){d.workspace&amp;&amp;d.setConnectionsHidden(!</span><span class="s4">1</span><span class="s1">)},</span><span class="s4">1</span><span class="s1">);d.updateDisabled();b.resizeContents()}</span><span class="s3">else for</span><span class="s1">(f=</span>
<a name="l974"><span class="ln">974  </span></a><span class="s1">e.length-1;</span><span class="s4">0</span><span class="s1">&lt;=f;f--)e[f].initModel()}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}</span><span class="s3">if</span><span class="s1">(Blockly.Events.isEnabled()){e=Blockly.Variables.getAddedVariables(b,c);</span><span class="s3">for</span><span class="s1">(f=</span><span class="s4">0</span><span class="s1">;f&lt;e.length;f++)Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.VarCreate(e[f]));Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockCreate(d))}</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l975"><span class="ln">975  </span></a><span class="s1">Blockly.Xml.domToVariables=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=a.childNodes[c];c++)</span><span class="s3">if</span><span class="s1">(d.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE){</span><span class="s3">var </span><span class="s1">e=d.getAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">),f=d.getAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">);b.createVariable(d.textContent,e,f)}};</span>
<a name="l976"><span class="ln">976  </span></a><span class="s1">Blockly.Xml.domToBlockHeadless_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">null</span><span class="s1">,d=a.getAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!d)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Block type unspecified: &quot;</span><span class="s1">+a.outerHTML);</span><span class="s3">var </span><span class="s1">e=a.getAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">);c=b.newBlock(d,e);</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">null</span><span class="s1">;e=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g;g=a.childNodes[e];e++)</span><span class="s3">if</span><span class="s1">(g.nodeType!=Blockly.utils.dom.Node.TEXT_NODE){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">h=f=</span><span class="s3">null</span><span class="s1">,k=</span><span class="s4">0</span><span class="s1">,l;l=g.childNodes[k];k++)l.nodeType==Blockly.utils.dom.Node.ELEMENT_NODE&amp;&amp;(</span><span class="s2">&quot;block&quot;</span><span class="s1">==l.nodeName.toLowerCase()?f=l:</span><span class="s2">&quot;shadow&quot;</span><span class="s1">==l.nodeName.toLowerCase()&amp;&amp;(h=l));!f&amp;&amp;h&amp;&amp;(f=h);k=g.getAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">);</span><span class="s3">switch</span><span class="s1">(g.nodeName.toLowerCase()){</span><span class="s3">case </span><span class="s2">&quot;mutation&quot;</span><span class="s1">:c.domToMutation&amp;&amp;</span>
<a name="l977"><span class="ln">977  </span></a><span class="s1">(c.domToMutation(g),c.initSvg&amp;&amp;c.initSvg());</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;comment&quot;</span><span class="s1">:c.setCommentText(g.textContent);</span><span class="s3">var </span><span class="s1">n=g.getAttribute(</span><span class="s2">&quot;pinned&quot;</span><span class="s1">);n&amp;&amp;!c.isInFlyout&amp;&amp;setTimeout(</span><span class="s3">function</span><span class="s1">(){c.comment&amp;&amp;c.comment.setVisible&amp;&amp;c.comment.setVisible(</span><span class="s2">&quot;true&quot;</span><span class="s1">==n)},</span><span class="s4">1</span><span class="s1">);f=parseInt(g.getAttribute(</span><span class="s2">&quot;w&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);g=parseInt(g.getAttribute(</span><span class="s2">&quot;h&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);!isNaN(f)&amp;&amp;!isNaN(g)&amp;&amp;c.comment&amp;&amp;c.comment.setVisible&amp;&amp;c.comment.setBubbleSize(f,g);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;data&quot;</span><span class="s1">:c.data=g.textContent;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;title&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;field&quot;</span><span class="s1">:Blockly.Xml.domToField_(c,k,g);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;value&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;statement&quot;</span><span class="s1">:g=</span>
<a name="l978"><span class="ln">978  </span></a><span class="s1">c.getInput(k);</span><span class="s3">if</span><span class="s1">(!g){console.warn(</span><span class="s2">&quot;Ignoring non-existent input &quot;</span><span class="s1">+k+</span><span class="s2">&quot; in block &quot;</span><span class="s1">+d);</span><span class="s3">break</span><span class="s1">}h&amp;&amp;g.connection.setShadowDom(h);</span><span class="s3">if</span><span class="s1">(f)</span><span class="s3">if</span><span class="s1">(f=Blockly.Xml.domToBlockHeadless_(f,b),f.outputConnection)g.connection.connect(f.outputConnection);</span><span class="s3">else if</span><span class="s1">(f.previousConnection)g.connection.connect(f.previousConnection);</span><span class="s3">else throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Child block does not have output or previous statement.&quot;</span><span class="s1">);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;next&quot;</span><span class="s1">:h&amp;&amp;c.nextConnection&amp;&amp;c.nextConnection.setShadowDom(h);</span><span class="s3">if</span><span class="s1">(f){</span><span class="s3">if</span><span class="s1">(!c.nextConnection)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Next statement does not exist.&quot;</span><span class="s1">);</span>
<a name="l979"><span class="ln">979  </span></a><span class="s3">if</span><span class="s1">(c.nextConnection.isConnected())</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Next statement is already connected.&quot;</span><span class="s1">);f=Blockly.Xml.domToBlockHeadless_(f,b);</span><span class="s3">if</span><span class="s1">(!f.previousConnection)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Next block does not have previous statement.&quot;</span><span class="s1">);c.nextConnection.connect(f.previousConnection)}</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:console.warn(</span><span class="s2">&quot;Ignoring unknown tag: &quot;</span><span class="s1">+g.nodeName)}}(e=a.getAttribute(</span><span class="s2">&quot;inline&quot;</span><span class="s1">))&amp;&amp;c.setInputsInline(</span><span class="s2">&quot;true&quot;</span><span class="s1">==e);(e=a.getAttribute(</span><span class="s2">&quot;disabled&quot;</span><span class="s1">))&amp;&amp;c.setEnabled(</span><span class="s2">&quot;true&quot;</span><span class="s1">!=e&amp;&amp;</span><span class="s2">&quot;disabled&quot;</span><span class="s1">!=e);(e=a.getAttribute(</span><span class="s2">&quot;deletable&quot;</span><span class="s1">))&amp;&amp;c.setDeletable(</span><span class="s2">&quot;true&quot;</span><span class="s1">==</span>
<a name="l980"><span class="ln">980  </span></a><span class="s1">e);(e=a.getAttribute(</span><span class="s2">&quot;movable&quot;</span><span class="s1">))&amp;&amp;c.setMovable(</span><span class="s2">&quot;true&quot;</span><span class="s1">==e);(e=a.getAttribute(</span><span class="s2">&quot;editable&quot;</span><span class="s1">))&amp;&amp;c.setEditable(</span><span class="s2">&quot;true&quot;</span><span class="s1">==e);(e=a.getAttribute(</span><span class="s2">&quot;collapsed&quot;</span><span class="s1">))&amp;&amp;c.setCollapsed(</span><span class="s2">&quot;true&quot;</span><span class="s1">==e);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;shadow&quot;</span><span class="s1">==a.nodeName.toLowerCase()){d=c.getChildren(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;g=d[e];e++)</span><span class="s3">if</span><span class="s1">(!g.isShadow())</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Shadow block not allowed non-shadow child.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c.getVarModels().length)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Shadow blocks cannot have variable references.&quot;</span><span class="s1">);c.setShadow(!</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l981"><span class="ln">981  </span></a><span class="s1">Blockly.Xml.domToField_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.getField(b);d?d.fromXml(c):console.warn(</span><span class="s2">&quot;Ignoring non-existent field &quot;</span><span class="s1">+b+</span><span class="s2">&quot; in block &quot;</span><span class="s1">+a.type)};Blockly.Xml.deleteNext=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a.childNodes[b];b++)</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;next&quot;</span><span class="s1">==c.nodeName.toLowerCase()){a.removeChild(c);</span><span class="s3">break</span><span class="s1">}};Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={});Blockly.utils.global.Blockly.Xml||(Blockly.utils.global.Blockly.Xml={});Blockly.utils.global.Blockly.Xml.domToText=Blockly.Xml.domToText;</span>
<a name="l982"><span class="ln">982  </span></a><span class="s1">Blockly.utils.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace;Blockly.utils.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom;Blockly.utils.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom;Blockly.Events.CommentBase=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.commentId=a.id;</span><span class="s3">this</span><span class="s1">.workspaceId=a.workspace.id;</span><span class="s3">this</span><span class="s1">.group=Blockly.Events.group_;</span><span class="s3">this</span><span class="s1">.recordUndo=Blockly.Events.recordUndo};goog.inherits(Blockly.Events.CommentBase,Blockly.Events.Abstract);Blockly.Events.CommentBase.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a={type:</span><span class="s3">this</span><span class="s1">.type};</span><span class="s3">this</span><span class="s1">.group&amp;&amp;(a.group=</span><span class="s3">this</span><span class="s1">.group);</span><span class="s3">this</span><span class="s1">.commentId&amp;&amp;(a.commentId=</span><span class="s3">this</span><span class="s1">.commentId);</span><span class="s3">return </span><span class="s1">a};Blockly.Events.CommentBase.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.commentId=a.commentId;</span><span class="s3">this</span><span class="s1">.group=a.group};</span>
<a name="l983"><span class="ln">983  </span></a><span class="s1">Blockly.Events.CommentChange=</span><span class="s3">function</span><span class="s1">(a,b,c){a&amp;&amp;(Blockly.Events.CommentChange.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.oldContents_=b,</span><span class="s3">this</span><span class="s1">.newContents_=c)};goog.inherits(Blockly.Events.CommentChange,Blockly.Events.CommentBase);Blockly.Events.CommentChange.prototype.type=Blockly.Events.COMMENT_CHANGE;Blockly.Events.CommentChange.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.CommentChange.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.newContents=</span><span class="s3">this</span><span class="s1">.newContents_;</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l984"><span class="ln">984  </span></a><span class="s1">Blockly.Events.CommentChange.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.CommentChange.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.newContents_=a.newValue};Blockly.Events.CommentChange.prototype.isNull=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.oldContents_==</span><span class="s3">this</span><span class="s1">.newContents_};Blockly.Events.CommentChange.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_().getCommentById(</span><span class="s3">this</span><span class="s1">.commentId);b?b.setContent(a?</span><span class="s3">this</span><span class="s1">.newContents_:</span><span class="s3">this</span><span class="s1">.oldContents_):console.warn(</span><span class="s2">&quot;Can't change non-existent comment: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.commentId)};</span>
<a name="l985"><span class="ln">985  </span></a><span class="s1">Blockly.Events.CommentCreate=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.CommentCreate.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.xml=a.toXmlWithXY())};goog.inherits(Blockly.Events.CommentCreate,Blockly.Events.CommentBase);Blockly.Events.CommentCreate.prototype.type=Blockly.Events.COMMENT_CREATE;Blockly.Events.CommentCreate.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.CommentCreate.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.xml=Blockly.Xml.domToText(</span><span class="s3">this</span><span class="s1">.xml);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l986"><span class="ln">986  </span></a><span class="s1">Blockly.Events.CommentCreate.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.CommentCreate.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.xml=Blockly.Xml.textToDom(a.xml)};Blockly.Events.CommentCreate.prototype.run=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.CommentCreateDeleteHelper(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l987"><span class="ln">987  </span></a><span class="s1">Blockly.Events.CommentCreateDeleteHelper=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getEventWorkspace_();</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;xml&quot;</span><span class="s1">);d.appendChild(a.xml);Blockly.Xml.domToWorkspace(d,c)}</span><span class="s3">else</span><span class="s1">(c=c.getCommentById(a.commentId))?c.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">):console.warn(</span><span class="s2">&quot;Can't uncreate non-existent comment: &quot;</span><span class="s1">+a.commentId)};Blockly.Events.CommentDelete=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.CommentDelete.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.xml=a.toXmlWithXY())};goog.inherits(Blockly.Events.CommentDelete,Blockly.Events.CommentBase);</span>
<a name="l988"><span class="ln">988  </span></a><span class="s1">Blockly.Events.CommentDelete.prototype.type=Blockly.Events.COMMENT_DELETE;Blockly.Events.CommentDelete.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.Events.CommentDelete.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">)};Blockly.Events.CommentDelete.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.CommentDelete.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a)};Blockly.Events.CommentDelete.prototype.run=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.CommentCreateDeleteHelper(</span><span class="s3">this</span><span class="s1">,!a)};</span>
<a name="l989"><span class="ln">989  </span></a><span class="s1">Blockly.Events.CommentMove=</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(Blockly.Events.CommentMove.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.comment_=a,</span><span class="s3">this</span><span class="s1">.oldCoordinate_=a.getXY(),</span><span class="s3">this</span><span class="s1">.newCoordinate_=</span><span class="s3">null</span><span class="s1">)};goog.inherits(Blockly.Events.CommentMove,Blockly.Events.CommentBase);Blockly.Events.CommentMove.prototype.recordNew=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.comment_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to record the new position of a comment on the same event twice.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.newCoordinate_=</span><span class="s3">this</span><span class="s1">.comment_.getXY();</span><span class="s3">this</span><span class="s1">.comment_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l990"><span class="ln">990  </span></a><span class="s1">Blockly.Events.CommentMove.prototype.type=Blockly.Events.COMMENT_MOVE;Blockly.Events.CommentMove.prototype.setOldCoordinate=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.oldCoordinate_=a};Blockly.Events.CommentMove.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.CommentMove.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.newCoordinate_&amp;&amp;(a.newCoordinate=Math.round(</span><span class="s3">this</span><span class="s1">.newCoordinate_.x)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Math.round(</span><span class="s3">this</span><span class="s1">.newCoordinate_.y));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l991"><span class="ln">991  </span></a><span class="s1">Blockly.Events.CommentMove.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.CommentMove.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);a.newCoordinate&amp;&amp;(a=a.newCoordinate.split(</span><span class="s2">&quot;,&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.newCoordinate_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(parseFloat(a[</span><span class="s4">0</span><span class="s1">]),parseFloat(a[</span><span class="s4">1</span><span class="s1">])))};Blockly.Events.CommentMove.prototype.isNull=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.utils.Coordinate.equals(</span><span class="s3">this</span><span class="s1">.oldCoordinate_,</span><span class="s3">this</span><span class="s1">.newCoordinate_)};</span>
<a name="l992"><span class="ln">992  </span></a><span class="s1">Blockly.Events.CommentMove.prototype.run=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getEventWorkspace_().getCommentById(</span><span class="s3">this</span><span class="s1">.commentId);</span><span class="s3">if</span><span class="s1">(b){a=a?</span><span class="s3">this</span><span class="s1">.newCoordinate_:</span><span class="s3">this</span><span class="s1">.oldCoordinate_;</span><span class="s3">var </span><span class="s1">c=b.getXY();b.moveBy(a.x-c.x,a.y-c.y)}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Can't move non-existent comment: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.commentId)};Blockly.WorkspaceComment=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">this</span><span class="s1">.id=e&amp;&amp;!a.getCommentById(e)?e:Blockly.utils.genUid();a.addTopComment(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.xy_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.height_=c;</span><span class="s3">this</span><span class="s1">.width_=d;</span><span class="s3">this</span><span class="s1">.workspace=a;</span><span class="s3">this</span><span class="s1">.RTL=a.RTL;</span><span class="s3">this</span><span class="s1">.movable_=</span><span class="s3">this</span><span class="s1">.deletable_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.content_=b;</span><span class="s3">this</span><span class="s1">.isComment=!</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceComment.fireCreateEvent(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l993"><span class="ln">993  </span></a><span class="s1">Blockly.WorkspaceComment.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;(Blockly.Events.isEnabled()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentDelete(</span><span class="s3">this</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.workspace.removeTopComment(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.workspace=</span><span class="s3">null</span><span class="s1">)};Blockly.WorkspaceComment.prototype.getHeight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.height_};Blockly.WorkspaceComment.prototype.setHeight=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.height_=a};Blockly.WorkspaceComment.prototype.getWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.width_};</span>
<a name="l994"><span class="ln">994  </span></a><span class="s1">Blockly.WorkspaceComment.prototype.setWidth=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.width_=a};Blockly.WorkspaceComment.prototype.getXY=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s3">this</span><span class="s1">.xy_.x,</span><span class="s3">this</span><span class="s1">.xy_.y)};Blockly.WorkspaceComment.prototype.moveBy=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentMove(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.xy_.translate(a,b);c.recordNew();Blockly.Events.fire(c)};Blockly.WorkspaceComment.prototype.isDeletable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.deletable_&amp;&amp;!(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly)};</span>
<a name="l995"><span class="ln">995  </span></a><span class="s1">Blockly.WorkspaceComment.prototype.setDeletable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.deletable_=a};Blockly.WorkspaceComment.prototype.isMovable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.movable_&amp;&amp;!(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly)};Blockly.WorkspaceComment.prototype.setMovable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.movable_=a};Blockly.WorkspaceComment.prototype.getContent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.content_};</span>
<a name="l996"><span class="ln">996  </span></a><span class="s1">Blockly.WorkspaceComment.prototype.setContent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.content_!=a&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentChange(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.content_,a)),</span><span class="s3">this</span><span class="s1">.content_=a)};Blockly.WorkspaceComment.prototype.toXmlWithXY=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">this</span><span class="s1">.toXml(a);a.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,Math.round(</span><span class="s3">this</span><span class="s1">.xy_.x));a.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,Math.round(</span><span class="s3">this</span><span class="s1">.xy_.y));a.setAttribute(</span><span class="s2">&quot;h&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.height_);a.setAttribute(</span><span class="s2">&quot;w&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.width_);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l997"><span class="ln">997  </span></a><span class="s1">Blockly.WorkspaceComment.prototype.toXml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;comment&quot;</span><span class="s1">);a||(b.id=</span><span class="s3">this</span><span class="s1">.id);b.textContent=</span><span class="s3">this</span><span class="s1">.getContent();</span><span class="s3">return </span><span class="s1">b};Blockly.WorkspaceComment.fireCreateEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(Blockly.Events.isEnabled()){</span><span class="s3">var </span><span class="s1">b=Blockly.Events.getGroup();b||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentCreate(a))}</span><span class="s3">finally</span><span class="s1">{b||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}}};</span>
<a name="l998"><span class="ln">998  </span></a><span class="s1">Blockly.WorkspaceComment.fromXml=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.WorkspaceComment.parseAttributes(a);c=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceComment(b,c.content,c.h,c.w,c.id);</span><span class="s3">var </span><span class="s1">d=parseInt(a.getAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),e=parseInt(a.getAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);isNaN(d)||isNaN(e)||c.moveBy(d,e);Blockly.WorkspaceComment.fireCreateEvent(c);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l999"><span class="ln">999  </span></a><span class="s1">Blockly.WorkspaceComment.parseAttributes=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getAttribute(</span><span class="s2">&quot;h&quot;</span><span class="s1">),c=a.getAttribute(</span><span class="s2">&quot;w&quot;</span><span class="s1">);</span><span class="s3">return</span><span class="s1">{id:a.getAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">),h:b?parseInt(b,</span><span class="s4">10</span><span class="s1">):</span><span class="s4">100</span><span class="s1">,w:c?parseInt(c,</span><span class="s4">10</span><span class="s1">):</span><span class="s4">100</span><span class="s1">,x:parseInt(a.getAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),y:parseInt(a.getAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),content:a.textContent}};Blockly.Theme=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.blockStyles_=a;</span><span class="s3">this</span><span class="s1">.categoryStyles_=b};Blockly.Theme.prototype.setAllBlockStyles=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">this</span><span class="s1">.setBlockStyle(b,a[b])};Blockly.Theme.prototype.getAllBlockStyles=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.blockStyles_};Blockly.Theme.prototype.getBlockStyle=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.blockStyles_[a]};Blockly.Theme.prototype.setBlockStyle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.blockStyles_[a]=b};Blockly.Theme.prototype.getCategoryStyle=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.categoryStyles_[a]};</span>
<a name="l1000"><span class="ln">1000 </span></a><span class="s1">Blockly.Theme.prototype.setCategoryStyle=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.categoryStyles_[a]=b};Blockly.Themes={};Blockly.Themes.Classic={};Blockly.Themes.Classic.defaultBlockStyles={colour_blocks:{colourPrimary:</span><span class="s2">&quot;20&quot;</span><span class="s1">},list_blocks:{colourPrimary:</span><span class="s2">&quot;260&quot;</span><span class="s1">},logic_blocks:{colourPrimary:</span><span class="s2">&quot;210&quot;</span><span class="s1">},loop_blocks:{colourPrimary:</span><span class="s2">&quot;120&quot;</span><span class="s1">},math_blocks:{colourPrimary:</span><span class="s2">&quot;230&quot;</span><span class="s1">},procedure_blocks:{colourPrimary:</span><span class="s2">&quot;290&quot;</span><span class="s1">},text_blocks:{colourPrimary:</span><span class="s2">&quot;160&quot;</span><span class="s1">},variable_blocks:{colourPrimary:</span><span class="s2">&quot;330&quot;</span><span class="s1">},variable_dynamic_blocks:{colourPrimary:</span><span class="s2">&quot;310&quot;</span><span class="s1">},hat_blocks:{colourPrimary:</span><span class="s2">&quot;330&quot;</span><span class="s1">,hat:</span><span class="s2">&quot;cap&quot;</span><span class="s1">}};</span>
<a name="l1001"><span class="ln">1001 </span></a><span class="s1">Blockly.Themes.Classic.categoryStyles={colour_category:{colour:</span><span class="s2">&quot;20&quot;</span><span class="s1">},list_category:{colour:</span><span class="s2">&quot;260&quot;</span><span class="s1">},logic_category:{colour:</span><span class="s2">&quot;210&quot;</span><span class="s1">},loop_category:{colour:</span><span class="s2">&quot;120&quot;</span><span class="s1">},math_category:{colour:</span><span class="s2">&quot;230&quot;</span><span class="s1">},procedure_category:{colour:</span><span class="s2">&quot;290&quot;</span><span class="s1">},text_category:{colour:</span><span class="s2">&quot;160&quot;</span><span class="s1">},variable_category:{colour:</span><span class="s2">&quot;330&quot;</span><span class="s1">},variable_dynamic_category:{colour:</span><span class="s2">&quot;310&quot;</span><span class="s1">}};Blockly.Themes.Classic=</span><span class="s3">new </span><span class="s1">Blockly.Theme(Blockly.Themes.Classic.defaultBlockStyles,Blockly.Themes.Classic.categoryStyles);Blockly.Workspace=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.id=Blockly.utils.genUid();Blockly.Workspace.WorkspaceDB_[</span><span class="s3">this</span><span class="s1">.id]=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.options=a||{};</span><span class="s3">this</span><span class="s1">.RTL=!!</span><span class="s3">this</span><span class="s1">.options.RTL;</span><span class="s3">this</span><span class="s1">.horizontalLayout=!!</span><span class="s3">this</span><span class="s1">.options.horizontalLayout;</span><span class="s3">this</span><span class="s1">.toolboxPosition=</span><span class="s3">this</span><span class="s1">.options.toolboxPosition;</span><span class="s3">this</span><span class="s1">.topBlocks_=[];</span><span class="s3">this</span><span class="s1">.topComments_=[];</span><span class="s3">this</span><span class="s1">.commentDB_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.listeners_=[];</span><span class="s3">this</span><span class="s1">.undoStack_=[];</span><span class="s3">this</span><span class="s1">.redoStack_=[];</span><span class="s3">this</span><span class="s1">.blockDB_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.typedBlocksDB_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.variableMap_=</span><span class="s3">new </span><span class="s1">Blockly.VariableMap(</span><span class="s3">this</span><span class="s1">);</span>
<a name="l1002"><span class="ln">1002 </span></a><span class="s3">this</span><span class="s1">.potentialVariableMap_=</span><span class="s3">null</span><span class="s1">;Blockly.getTheme()||Blockly.setTheme(Blockly.Themes.Classic)};Blockly.Workspace.prototype.rendered=!</span><span class="s4">1</span><span class="s1">;Blockly.Workspace.prototype.isClearing=!</span><span class="s4">1</span><span class="s1">;Blockly.Workspace.prototype.MAX_UNDO=</span><span class="s4">1024</span><span class="s1">;Blockly.Workspace.prototype.connectionDBList=</span><span class="s3">null</span><span class="s1">;Blockly.Workspace.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.listeners_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.clear();</span><span class="s3">delete </span><span class="s1">Blockly.Workspace.WorkspaceDB_[</span><span class="s3">this</span><span class="s1">.id]};Blockly.Workspace.SCAN_ANGLE=</span><span class="s4">3</span><span class="s1">;</span>
<a name="l1003"><span class="ln">1003 </span></a><span class="s1">Blockly.Workspace.prototype.sortObjects_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getRelativeToSurfaceXY(),d=b.getRelativeToSurfaceXY();</span><span class="s3">return </span><span class="s1">c.y+Blockly.Workspace.prototype.sortObjects_.offset*c.x-(d.y+Blockly.Workspace.prototype.sortObjects_.offset*d.x)};Blockly.Workspace.prototype.addTopBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.topBlocks_.push(a)};Blockly.Workspace.prototype.removeTopBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!Blockly.utils.arrayRemove(</span><span class="s3">this</span><span class="s1">.topBlocks_,a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Block not present in workspace's list of top-most blocks.&quot;</span><span class="s1">);};</span>
<a name="l1004"><span class="ln">1004 </span></a><span class="s1">Blockly.Workspace.prototype.getTopBlocks=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[].concat(</span><span class="s3">this</span><span class="s1">.topBlocks_);a&amp;&amp;</span><span class="s4">1</span><span class="s1">&lt;b.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sortObjects_.offset*=-</span><span class="s4">1</span><span class="s1">),b.sort(</span><span class="s3">this</span><span class="s1">.sortObjects_));</span><span class="s3">return </span><span class="s1">b};Blockly.Workspace.prototype.addTypedBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a.type]||(</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a.type]=[]);</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a.type].push(a)};</span>
<a name="l1005"><span class="ln">1005 </span></a><span class="s1">Blockly.Workspace.prototype.removeTypedBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a.type].splice(</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a.type].indexOf(a),</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a.type].length||</span><span class="s3">delete this</span><span class="s1">.typedBlocksDB_[a.type]};</span>
<a name="l1006"><span class="ln">1006 </span></a><span class="s1">Blockly.Workspace.prototype.getBlocksByType=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a])</span><span class="s3">return</span><span class="s1">[];</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.typedBlocksDB_[a].slice(</span><span class="s4">0</span><span class="s1">);b&amp;&amp;</span><span class="s4">1</span><span class="s1">&lt;c.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sortObjects_.offset=Math.sign(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sortObjects_.offset*=-</span><span class="s4">1</span><span class="s1">),c.sort(</span><span class="s3">this</span><span class="s1">.sortObjects_));</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1007"><span class="ln">1007 </span></a><span class="s1">Blockly.Workspace.prototype.addTopComment=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.topComments_.push(a);</span><span class="s3">this</span><span class="s1">.commentDB_[a.id]&amp;&amp;console.warn(</span><span class="s2">'Overriding an existing comment on this workspace, with id &quot;'</span><span class="s1">+a.id+</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.commentDB_[a.id]=a};Blockly.Workspace.prototype.removeTopComment=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!Blockly.utils.arrayRemove(</span><span class="s3">this</span><span class="s1">.topComments_,a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Comment not present in workspace's list of top-most comments.&quot;</span><span class="s1">);</span><span class="s3">delete this</span><span class="s1">.commentDB_[a.id]};</span>
<a name="l1008"><span class="ln">1008 </span></a><span class="s1">Blockly.Workspace.prototype.getTopComments=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[].concat(</span><span class="s3">this</span><span class="s1">.topComments_);a&amp;&amp;</span><span class="s4">1</span><span class="s1">&lt;b.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sortObjects_.offset=Math.sin(Blockly.utils.math.toRadians(Blockly.Workspace.SCAN_ANGLE)),</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sortObjects_.offset*=-</span><span class="s4">1</span><span class="s1">),b.sort(</span><span class="s3">this</span><span class="s1">.sortObjects_));</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1009"><span class="ln">1009 </span></a><span class="s1">Blockly.Workspace.prototype.getAllBlocks=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a){a=</span><span class="s3">this</span><span class="s1">.getTopBlocks(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)b.push.apply(b,a[c].getDescendants(!</span><span class="s4">0</span><span class="s1">))}</span><span class="s3">else for</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++)b.push.apply(b,b[c].getChildren(!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">return </span><span class="s1">b.filter(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!a.isInsertionMarker()})};</span>
<a name="l1010"><span class="ln">1010 </span></a><span class="s1">Blockly.Workspace.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isClearing=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">a=Blockly.Events.getGroup();</span><span class="s3">for</span><span class="s1">(a||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.topBlocks_.length;)</span><span class="s3">this</span><span class="s1">.topBlocks_[</span><span class="s4">0</span><span class="s1">].dispose();</span><span class="s3">for</span><span class="s1">(;</span><span class="s3">this</span><span class="s1">.topComments_.length;)</span><span class="s3">this</span><span class="s1">.topComments_[</span><span class="s3">this</span><span class="s1">.topComments_.length-1].dispose();a||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.variableMap_.clear();</span><span class="s3">this</span><span class="s1">.potentialVariableMap_&amp;&amp;</span><span class="s3">this</span><span class="s1">.potentialVariableMap_.clear()}</span><span class="s3">finally</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.isClearing=!</span><span class="s4">1</span><span class="s1">}};</span>
<a name="l1011"><span class="ln">1011 </span></a><span class="s1">Blockly.Workspace.prototype.renameVariableById=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.variableMap_.renameVariableById(a,b)};Blockly.Workspace.prototype.createVariable=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return this</span><span class="s1">.variableMap_.createVariable(a,b,c)};Blockly.Workspace.prototype.getVariableUsesById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.variableMap_.getVariableUsesById(a)};Blockly.Workspace.prototype.deleteVariableById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.variableMap_.deleteVariableById(a)};</span>
<a name="l1012"><span class="ln">1012 </span></a><span class="s1">Blockly.Workspace.prototype.deleteVariableInternal_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.variableMap_.deleteVariableInternal_(a,b)};Blockly.Workspace.prototype.variableIndexOf=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Workspace.prototype.variableIndexOf&quot;</span><span class="s1">);</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};Blockly.Workspace.prototype.getVariable=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return this</span><span class="s1">.variableMap_.getVariable(a,b)};Blockly.Workspace.prototype.getVariableById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.variableMap_.getVariableById(a)};</span>
<a name="l1013"><span class="ln">1013 </span></a><span class="s1">Blockly.Workspace.prototype.getVariablesOfType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.variableMap_.getVariablesOfType(a)};Blockly.Workspace.prototype.getVariableTypes=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variableMap_.getVariableTypes(</span><span class="s3">this</span><span class="s1">)};Blockly.Workspace.prototype.getAllVariables=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variableMap_.getAllVariables()};Blockly.Workspace.prototype.getWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s4">0</span><span class="s1">};Blockly.Workspace.prototype.newBlock=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">Blockly.Block(</span><span class="s3">this</span><span class="s1">,a,b)};</span>
<a name="l1014"><span class="ln">1014 </span></a><span class="s1">Blockly.Workspace.prototype.remainingCapacity=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">isNaN(</span><span class="s3">this</span><span class="s1">.options.maxBlocks)?Infinity:</span><span class="s3">this</span><span class="s1">.options.maxBlocks-this.getAllBlocks().length};Blockly.Workspace.prototype.remainingCapacityOfType=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.options.maxInstances?(</span><span class="s3">this</span><span class="s1">.options.maxInstances[a]||Infinity)-</span><span class="s3">this</span><span class="s1">.getBlocksByType(a).length:Infinity};</span>
<a name="l1015"><span class="ln">1015 </span></a><span class="s1">Blockly.Workspace.prototype.isCapacityAvailable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.hasBlockLimits())</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;</span><span class="s3">for</span><span class="s1">(c </span><span class="s3">in </span><span class="s1">a){</span><span class="s3">if</span><span class="s1">(a[c]&gt;</span><span class="s3">this</span><span class="s1">.remainingCapacityOfType(c))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;b+=a[c]}</span><span class="s3">return </span><span class="s1">b&gt;</span><span class="s3">this</span><span class="s1">.remainingCapacity()?!</span><span class="s4">1</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">};Blockly.Workspace.prototype.hasBlockLimits=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Infinity!=</span><span class="s3">this</span><span class="s1">.options.maxBlocks||!!</span><span class="s3">this</span><span class="s1">.options.maxInstances};</span>
<a name="l1016"><span class="ln">1016 </span></a><span class="s1">Blockly.Workspace.prototype.undo=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a?</span><span class="s3">this</span><span class="s1">.redoStack_:</span><span class="s3">this</span><span class="s1">.undoStack_,c=a?</span><span class="s3">this</span><span class="s1">.undoStack_:</span><span class="s3">this</span><span class="s1">.redoStack_,d=b.pop();</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=[d];b.length&amp;&amp;d.group&amp;&amp;d.group==b[b.length-1].group;)e.push(b.pop());</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;d=e[b];b++)c.push(d);e=Blockly.Events.filter(e,a);Blockly.Events.recordUndo=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;d=e[b];b++)d.run(a)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.recordUndo=!</span><span class="s4">0</span><span class="s1">}}};Blockly.Workspace.prototype.clearUndo=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.undoStack_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.redoStack_.length=</span><span class="s4">0</span><span class="s1">;Blockly.Events.clearPendingUndo()};</span>
<a name="l1017"><span class="ln">1017 </span></a><span class="s1">Blockly.Workspace.prototype.addChangeListener=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.listeners_.push(a);</span><span class="s3">return </span><span class="s1">a};Blockly.Workspace.prototype.removeChangeListener=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.arrayRemove(</span><span class="s3">this</span><span class="s1">.listeners_,a)};Blockly.Workspace.prototype.fireChangeListener=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.recordUndo)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.undoStack_.push(a),</span><span class="s3">this</span><span class="s1">.redoStack_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.undoStack_.length&gt;</span><span class="s3">this</span><span class="s1">.MAX_UNDO&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=</span><span class="s3">this</span><span class="s1">.MAX_UNDO;)</span><span class="s3">this</span><span class="s1">.undoStack_.shift();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.listeners_[b];b++)c(a)};</span>
<a name="l1018"><span class="ln">1018 </span></a><span class="s1">Blockly.Workspace.prototype.getBlockById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.blockDB_[a]||</span><span class="s3">null</span><span class="s1">};Blockly.Workspace.prototype.getCommentById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.commentDB_[a]||</span><span class="s3">null</span><span class="s1">};Blockly.Workspace.prototype.allInputsFilled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">,d;d=b[c];c++)</span><span class="s3">if</span><span class="s1">(!d.allInputsFilled(a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};Blockly.Workspace.prototype.getPotentialVariableMap=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.potentialVariableMap_};</span>
<a name="l1019"><span class="ln">1019 </span></a><span class="s1">Blockly.Workspace.prototype.createPotentialVariableMap=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.potentialVariableMap_=</span><span class="s3">new </span><span class="s1">Blockly.VariableMap(</span><span class="s3">this</span><span class="s1">)};Blockly.Workspace.prototype.getVariableMap=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variableMap_};Blockly.Workspace.WorkspaceDB_=Object.create(</span><span class="s3">null</span><span class="s1">);Blockly.Workspace.getById=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.Workspace.WorkspaceDB_[a]||</span><span class="s3">null</span><span class="s1">};Blockly.Workspace.getAll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[],b;</span><span class="s3">for</span><span class="s1">(b </span><span class="s3">in </span><span class="s1">Blockly.Workspace.WorkspaceDB_)a.push(Blockly.Workspace.WorkspaceDB_[b]);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1020"><span class="ln">1020 </span></a><span class="s1">Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear;Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo;Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener;Blockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener;Blockly.Bubble=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.content_=b;</span><span class="s3">this</span><span class="s1">.shape_=c;c=Blockly.Bubble.ARROW_ANGLE;</span><span class="s3">this</span><span class="s1">.workspace_.RTL&amp;&amp;(c=-c);</span><span class="s3">this</span><span class="s1">.arrow_radians_=Blockly.utils.math.toRadians(c);a.getBubbleCanvas().appendChild(</span><span class="s3">this</span><span class="s1">.createDom_(b,!(!e||!f)));</span><span class="s3">this</span><span class="s1">.setAnchorLocation(d);e&amp;&amp;f||(b=</span><span class="s3">this</span><span class="s1">.content_.getBBox(),e=b.width+</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH,f=b.height+</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH);</span><span class="s3">this</span><span class="s1">.setBubbleSize(e,f);</span><span class="s3">this</span><span class="s1">.positionBubble_();</span><span class="s3">this</span><span class="s1">.renderArrow_();</span><span class="s3">this</span><span class="s1">.rendered_=!</span><span class="s4">0</span><span class="s1">;a.options.readOnly||</span>
<a name="l1021"><span class="ln">1021 </span></a><span class="s1">(Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.bubbleBack_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.bubbleMouseDown_),</span><span class="s3">this</span><span class="s1">.resizeGroup_&amp;&amp;Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.resizeGroup_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.resizeMouseDown_))};Blockly.Bubble.BORDER_WIDTH=</span><span class="s4">6</span><span class="s1">;Blockly.Bubble.ARROW_THICKNESS=</span><span class="s4">5</span><span class="s1">;Blockly.Bubble.ARROW_ANGLE=</span><span class="s4">20</span><span class="s1">;Blockly.Bubble.ARROW_BEND=</span><span class="s4">4</span><span class="s1">;Blockly.Bubble.ANCHOR_RADIUS=</span><span class="s4">8</span><span class="s1">;Blockly.Bubble.onMouseUpWrapper_=</span><span class="s3">null</span><span class="s1">;Blockly.Bubble.onMouseMoveWrapper_=</span><span class="s3">null</span><span class="s1">;Blockly.Bubble.prototype.resizeCallback_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1022"><span class="ln">1022 </span></a><span class="s1">Blockly.Bubble.unbindDragEvents_=</span><span class="s3">function</span><span class="s1">(){Blockly.Bubble.onMouseUpWrapper_&amp;&amp;(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=</span><span class="s3">null</span><span class="s1">);Blockly.Bubble.onMouseMoveWrapper_&amp;&amp;(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=</span><span class="s3">null</span><span class="s1">)};Blockly.Bubble.bubbleMouseUp_=</span><span class="s3">function</span><span class="s1">(){Blockly.Touch.clearTouchIdentifier();Blockly.Bubble.unbindDragEvents_()};Blockly.Bubble.prototype.rendered_=!</span><span class="s4">1</span><span class="s1">;Blockly.Bubble.prototype.anchorXY_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1023"><span class="ln">1023 </span></a><span class="s1">Blockly.Bubble.prototype.relativeLeft_=</span><span class="s4">0</span><span class="s1">;Blockly.Bubble.prototype.relativeTop_=</span><span class="s4">0</span><span class="s1">;Blockly.Bubble.prototype.width_=</span><span class="s4">0</span><span class="s1">;Blockly.Bubble.prototype.height_=</span><span class="s4">0</span><span class="s1">;Blockly.Bubble.prototype.autoLayout_=!</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1024"><span class="ln">1024 </span></a><span class="s1">Blockly.Bubble.prototype.createDom_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.bubbleGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c={filter:</span><span class="s2">&quot;url(#&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.workspace_.options.embossFilterId+</span><span class="s2">&quot;)&quot;</span><span class="s1">};Blockly.utils.userAgent.JAVA_FX&amp;&amp;(c={});c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,c,</span><span class="s3">this</span><span class="s1">.bubbleGroup_);</span><span class="s3">this</span><span class="s1">.bubbleArrow_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{},c);</span><span class="s3">this</span><span class="s1">.bubbleBack_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyDraggable&quot;</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},</span>
<a name="l1025"><span class="ln">1025 </span></a><span class="s1">c);b?(</span><span class="s3">this</span><span class="s1">.resizeGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.workspace_.RTL?</span><span class="s2">&quot;blocklyResizeSW&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyResizeSE&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.bubbleGroup_),c=</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH,Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;polygon&quot;</span><span class="s1">,{points:</span><span class="s2">&quot;0,x x,x x,0&quot;</span><span class="s1">.replace(/x/g,c.toString())},</span><span class="s3">this</span><span class="s1">.resizeGroup_),Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyResizeLine&quot;</span><span class="s1">,x1:c/</span><span class="s4">3</span><span class="s1">,y1:c-1,x2:c-1,y2:c/</span><span class="s4">3</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.resizeGroup_),Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyResizeLine&quot;</span><span class="s1">,x1:</span><span class="s4">2</span><span class="s1">*c/</span><span class="s4">3</span><span class="s1">,y1:c-1,x2:c-</span>
<a name="l1026"><span class="ln">1026 </span></a><span class="s4">1</span><span class="s1">,y2:</span><span class="s4">2</span><span class="s1">*c/</span><span class="s4">3</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.resizeGroup_)):</span><span class="s3">this</span><span class="s1">.resizeGroup_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.bubbleGroup_.appendChild(a);</span><span class="s3">return this</span><span class="s1">.bubbleGroup_};Blockly.Bubble.prototype.getSvgRoot=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.bubbleGroup_};Blockly.Bubble.prototype.setSvgId=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.bubbleGroup_.dataset&amp;&amp;(</span><span class="s3">this</span><span class="s1">.bubbleGroup_.dataset.blockId=a)};Blockly.Bubble.prototype.bubbleMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace_.getGesture(a);b&amp;&amp;b.handleBubbleStart(a,</span><span class="s3">this</span><span class="s1">)};Blockly.Bubble.prototype.showContextMenu_=</span><span class="s3">function</span><span class="s1">(a){};</span>
<a name="l1027"><span class="ln">1027 </span></a><span class="s1">Blockly.Bubble.prototype.isDeletable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1028"><span class="ln">1028 </span></a><span class="s1">Blockly.Bubble.prototype.resizeMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.promote_();Blockly.Bubble.unbindDragEvents_();Blockly.utils.isRightButton(a)||(</span><span class="s3">this</span><span class="s1">.workspace_.startDrag(a,</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s3">this</span><span class="s1">.workspace_.RTL?-</span><span class="s3">this</span><span class="s1">.width_:</span><span class="s3">this</span><span class="s1">.width_,</span><span class="s3">this</span><span class="s1">.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,Blockly.Bubble.bubbleMouseUp_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.resizeMouseMove_),Blockly.hideChaff());</span>
<a name="l1029"><span class="ln">1029 </span></a><span class="s1">a.stopPropagation()};Blockly.Bubble.prototype.resizeMouseMove_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.autoLayout_=!</span><span class="s4">1</span><span class="s1">;a=</span><span class="s3">this</span><span class="s1">.workspace_.moveDrag(a);</span><span class="s3">this</span><span class="s1">.setBubbleSize(</span><span class="s3">this</span><span class="s1">.workspace_.RTL?-a.x:a.x,a.y);</span><span class="s3">this</span><span class="s1">.workspace_.RTL&amp;&amp;</span><span class="s3">this</span><span class="s1">.positionBubble_()};Blockly.Bubble.prototype.registerResizeEvent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.resizeCallback_=a};Blockly.Bubble.prototype.promote_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.bubbleGroup_.parentNode;</span><span class="s3">return </span><span class="s1">a.lastChild!==</span><span class="s3">this</span><span class="s1">.bubbleGroup_?(a.appendChild(</span><span class="s3">this</span><span class="s1">.bubbleGroup_),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1030"><span class="ln">1030 </span></a><span class="s1">Blockly.Bubble.prototype.setAnchorLocation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.anchorXY_=a;</span><span class="s3">this</span><span class="s1">.rendered_&amp;&amp;</span><span class="s3">this</span><span class="s1">.positionBubble_()};</span>
<a name="l1031"><span class="ln">1031 </span></a><span class="s1">Blockly.Bubble.prototype.layoutBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getMetrics();a.viewLeft/=</span><span class="s3">this</span><span class="s1">.workspace_.scale;a.viewWidth/=</span><span class="s3">this</span><span class="s1">.workspace_.scale;a.viewTop/=</span><span class="s3">this</span><span class="s1">.workspace_.scale;a.viewHeight/=</span><span class="s3">this</span><span class="s1">.workspace_.scale;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getOptimalRelativeLeft_(a),c=</span><span class="s3">this</span><span class="s1">.getOptimalRelativeTop_(a),d=</span><span class="s3">this</span><span class="s1">.shape_.getBBox(),e={x:b,y:-</span><span class="s3">this</span><span class="s1">.height_-Blockly.BlockSvg.MIN_BLOCK_Y},f={x:-</span><span class="s3">this</span><span class="s1">.width_-30,y:c};c={x:d.width,y:c};</span><span class="s3">var </span><span class="s1">g={x:b,y:d.height};b=d.width&lt;d.height?c:g;d=d.width&lt;d.height?g:c;c=</span><span class="s3">this</span><span class="s1">.getOverlap_(e,</span>
<a name="l1032"><span class="ln">1032 </span></a><span class="s1">a);g=</span><span class="s3">this</span><span class="s1">.getOverlap_(f,a);</span><span class="s3">var </span><span class="s1">h=</span><span class="s3">this</span><span class="s1">.getOverlap_(b,a);a=</span><span class="s3">this</span><span class="s1">.getOverlap_(d,a);a=Math.max(c,g,h,a);c==a?(</span><span class="s3">this</span><span class="s1">.relativeLeft_=e.x,</span><span class="s3">this</span><span class="s1">.relativeTop_=e.y):g==a?(</span><span class="s3">this</span><span class="s1">.relativeLeft_=f.x,</span><span class="s3">this</span><span class="s1">.relativeTop_=f.y):h==a?(</span><span class="s3">this</span><span class="s1">.relativeLeft_=b.x,</span><span class="s3">this</span><span class="s1">.relativeTop_=b.y):(</span><span class="s3">this</span><span class="s1">.relativeLeft_=d.x,</span><span class="s3">this</span><span class="s1">.relativeTop_=d.y)};</span>
<a name="l1033"><span class="ln">1033 </span></a><span class="s1">Blockly.Bubble.prototype.getOverlap_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.workspace_.RTL?</span><span class="s3">this</span><span class="s1">.anchorXY_.x-a.x-this.width_:a.x+</span><span class="s3">this</span><span class="s1">.anchorXY_.x,d=a.y+</span><span class="s3">this</span><span class="s1">.anchorXY_.y;</span><span class="s3">return </span><span class="s1">Math.max(</span><span class="s4">0</span><span class="s1">,Math.min(</span><span class="s4">1</span><span class="s1">,(Math.min(c+</span><span class="s3">this</span><span class="s1">.width_,b.viewLeft+b.viewWidth)-Math.max(c,b.viewLeft))*(Math.min(d+</span><span class="s3">this</span><span class="s1">.height_,b.viewTop+b.viewHeight)-Math.max(d,b.viewTop))/(</span><span class="s3">this</span><span class="s1">.width_*</span><span class="s3">this</span><span class="s1">.height_)))};</span>
<a name="l1034"><span class="ln">1034 </span></a><span class="s1">Blockly.Bubble.prototype.getOptimalRelativeLeft_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=-</span><span class="s3">this</span><span class="s1">.width_/</span><span class="s4">4</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.width_&gt;a.viewWidth)</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace_.RTL)</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.anchorXY_.x-b,d=c-this.width_,e=a.viewLeft+a.viewWidth,f=a.viewLeft+Blockly.Scrollbar.scrollbarThickness/</span><span class="s3">this</span><span class="s1">.workspace_.scale;</span><span class="s3">else </span><span class="s1">d=b+</span><span class="s3">this</span><span class="s1">.anchorXY_.x,c=d+</span><span class="s3">this</span><span class="s1">.width_,f=a.viewLeft,e=a.viewLeft+a.viewWidth-Blockly.Scrollbar.scrollbarThickness/</span><span class="s3">this</span><span class="s1">.workspace_.scale;</span><span class="s3">this</span><span class="s1">.workspace_.RTL?d&lt;f?b=-(f-this.anchorXY_.x+</span><span class="s3">this</span><span class="s1">.width_):c&gt;e&amp;&amp;(b=-(e-this.anchorXY_.x)):</span>
<a name="l1035"><span class="ln">1035 </span></a><span class="s1">d&lt;f?b=f-this.anchorXY_.x:c&gt;e&amp;&amp;(b=e-this.anchorXY_.x-this.width_);</span><span class="s3">return </span><span class="s1">b};Blockly.Bubble.prototype.getOptimalRelativeTop_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=-</span><span class="s3">this</span><span class="s1">.height_/</span><span class="s4">4</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.height_&gt;a.viewHeight)</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.anchorXY_.y+b,d=c+</span><span class="s3">this</span><span class="s1">.height_,e=a.viewTop;a=a.viewTop+a.viewHeight-Blockly.Scrollbar.scrollbarThickness/</span><span class="s3">this</span><span class="s1">.workspace_.scale;</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.anchorXY_.y;c&lt;e?b=e-f:d&gt;a&amp;&amp;(b=a-f-this.height_);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1036"><span class="ln">1036 </span></a><span class="s1">Blockly.Bubble.prototype.positionBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.anchorXY_.x;a=</span><span class="s3">this</span><span class="s1">.workspace_.RTL?a-(</span><span class="s3">this</span><span class="s1">.relativeLeft_+</span><span class="s3">this</span><span class="s1">.width_):a+</span><span class="s3">this</span><span class="s1">.relativeLeft_;</span><span class="s3">this</span><span class="s1">.moveTo(a,</span><span class="s3">this</span><span class="s1">.relativeTop_+</span><span class="s3">this</span><span class="s1">.anchorXY_.y)};Blockly.Bubble.prototype.moveTo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.bubbleGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;,&quot;</span><span class="s1">+b+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};Blockly.Bubble.prototype.getBubbleSize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">{width:</span><span class="s3">this</span><span class="s1">.width_,height:</span><span class="s3">this</span><span class="s1">.height_}};</span>
<a name="l1037"><span class="ln">1037 </span></a><span class="s1">Blockly.Bubble.prototype.setBubbleSize=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH;a=Math.max(a,c+</span><span class="s4">45</span><span class="s1">);b=Math.max(b,c+</span><span class="s4">20</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.width_=a;</span><span class="s3">this</span><span class="s1">.height_=b;</span><span class="s3">this</span><span class="s1">.bubbleBack_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.bubbleBack_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.resizeGroup_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace_.RTL?</span><span class="s3">this</span><span class="s1">.resizeGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(b-c)+</span><span class="s2">&quot;) scale(-1 1)&quot;</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.resizeGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(a-c)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(b-c)+</span><span class="s2">&quot;)&quot;</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.rendered_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.autoLayout_&amp;&amp;</span>
<a name="l1038"><span class="ln">1038 </span></a><span class="s3">this</span><span class="s1">.layoutBubble_(),</span><span class="s3">this</span><span class="s1">.positionBubble_(),</span><span class="s3">this</span><span class="s1">.renderArrow_());</span><span class="s3">this</span><span class="s1">.resizeCallback_&amp;&amp;</span><span class="s3">this</span><span class="s1">.resizeCallback_()};</span>
<a name="l1039"><span class="ln">1039 </span></a><span class="s1">Blockly.Bubble.prototype.renderArrow_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[],b=</span><span class="s3">this</span><span class="s1">.width_/</span><span class="s4">2</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.height_/</span><span class="s4">2</span><span class="s1">,d=-</span><span class="s3">this</span><span class="s1">.relativeLeft_,e=-</span><span class="s3">this</span><span class="s1">.relativeTop_;</span><span class="s3">if</span><span class="s1">(b==d&amp;&amp;c==e)a.push(</span><span class="s2">&quot;M &quot;</span><span class="s1">+b+</span><span class="s2">&quot;,&quot;</span><span class="s1">+c);</span><span class="s3">else</span><span class="s1">{e-=c;d-=b;</span><span class="s3">this</span><span class="s1">.workspace_.RTL&amp;&amp;(d*=-</span><span class="s4">1</span><span class="s1">);</span><span class="s3">var </span><span class="s1">f=Math.sqrt(e*e+d*d),g=Math.acos(d/f);</span><span class="s4">0</span><span class="s1">&gt;e&amp;&amp;(g=</span><span class="s4">2</span><span class="s1">*Math.PI-g);</span><span class="s3">var </span><span class="s1">h=g+Math.PI/</span><span class="s4">2</span><span class="s1">;h&gt;</span><span class="s4">2</span><span class="s1">*Math.PI&amp;&amp;(h-=</span><span class="s4">2</span><span class="s1">*Math.PI);</span><span class="s3">var </span><span class="s1">k=Math.sin(h),l=Math.cos(h),n=</span><span class="s3">this</span><span class="s1">.getBubbleSize();h=(n.width+n.height)/Blockly.Bubble.ARROW_THICKNESS;h=Math.min(h,n.width,n.height)/</span><span class="s4">4</span><span class="s1">;n=</span><span class="s4">1</span><span class="s1">-Blockly.Bubble.ANCHOR_RADIUS/f;d=b+</span>
<a name="l1040"><span class="ln">1040 </span></a><span class="s1">n*d;e=c+n*e;n=b+h*l;</span><span class="s3">var </span><span class="s1">m=c+h*k;b-=h*l;c-=h*k;k=g+</span><span class="s3">this</span><span class="s1">.arrow_radians_;k&gt;</span><span class="s4">2</span><span class="s1">*Math.PI&amp;&amp;(k-=</span><span class="s4">2</span><span class="s1">*Math.PI);g=Math.sin(k)*f/Blockly.Bubble.ARROW_BEND;f=Math.cos(k)*f/Blockly.Bubble.ARROW_BEND;a.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">+n+</span><span class="s2">&quot;,&quot;</span><span class="s1">+m);a.push(</span><span class="s2">&quot;C&quot;</span><span class="s1">+(n+f)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(m+g)+</span><span class="s2">&quot; &quot;</span><span class="s1">+d+</span><span class="s2">&quot;,&quot;</span><span class="s1">+e+</span><span class="s2">&quot; &quot;</span><span class="s1">+d+</span><span class="s2">&quot;,&quot;</span><span class="s1">+e);a.push(</span><span class="s2">&quot;C&quot;</span><span class="s1">+d+</span><span class="s2">&quot;,&quot;</span><span class="s1">+e+</span><span class="s2">&quot; &quot;</span><span class="s1">+(b+f)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c+g)+</span><span class="s2">&quot; &quot;</span><span class="s1">+b+</span><span class="s2">&quot;,&quot;</span><span class="s1">+c)}a.push(</span><span class="s2">&quot;z&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.bubbleArrow_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,a.join(</span><span class="s2">&quot; &quot;</span><span class="s1">))};Blockly.Bubble.prototype.setColour=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.bubbleBack_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.bubbleArrow_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,a)};</span>
<a name="l1041"><span class="ln">1041 </span></a><span class="s1">Blockly.Bubble.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.Bubble.unbindDragEvents_();Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.bubbleGroup_);</span><span class="s3">this</span><span class="s1">.shape_=</span><span class="s3">this</span><span class="s1">.content_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.resizeGroup_=</span><span class="s3">this</span><span class="s1">.bubbleBack_=</span><span class="s3">this</span><span class="s1">.bubbleArrow_=</span><span class="s3">this</span><span class="s1">.bubbleGroup_=</span><span class="s3">null</span><span class="s1">};Blockly.Bubble.prototype.moveDuringDrag=</span><span class="s3">function</span><span class="s1">(a,b){a?a.translateSurface(b.x,b.y):</span><span class="s3">this</span><span class="s1">.moveTo(b.x,b.y);</span><span class="s3">this</span><span class="s1">.relativeLeft_=</span><span class="s3">this</span><span class="s1">.workspace_.RTL?</span><span class="s3">this</span><span class="s1">.anchorXY_.x-b.x-this.width_:b.x-this.anchorXY_.x;</span><span class="s3">this</span><span class="s1">.relativeTop_=b.y-this.anchorXY_.y;</span><span class="s3">this</span><span class="s1">.renderArrow_()};</span>
<a name="l1042"><span class="ln">1042 </span></a><span class="s1">Blockly.Bubble.prototype.getRelativeToSurfaceXY=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s3">this</span><span class="s1">.anchorXY_.x+</span><span class="s3">this</span><span class="s1">.relativeLeft_,</span><span class="s3">this</span><span class="s1">.anchorXY_.y+</span><span class="s3">this</span><span class="s1">.relativeTop_)};Blockly.Bubble.prototype.setAutoLayout=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.autoLayout_=a};Blockly.Events.Ui=</span><span class="s3">function</span><span class="s1">(a,b,c,d){Blockly.Events.Ui.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.blockId=a?a.id:</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workspaceId=a?a.workspace.id:</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.element=b;</span><span class="s3">this</span><span class="s1">.oldValue=c;</span><span class="s3">this</span><span class="s1">.newValue=d;</span><span class="s3">this</span><span class="s1">.recordUndo=!</span><span class="s4">1</span><span class="s1">};goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract);Blockly.Events.Ui.prototype.type=Blockly.Events.UI;</span>
<a name="l1043"><span class="ln">1043 </span></a><span class="s1">Blockly.Events.Ui.prototype.toJson=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Events.Ui.superClass_.toJson.call(</span><span class="s3">this</span><span class="s1">);a.element=</span><span class="s3">this</span><span class="s1">.element;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==</span><span class="s3">this</span><span class="s1">.newValue&amp;&amp;(a.newValue=</span><span class="s3">this</span><span class="s1">.newValue);</span><span class="s3">this</span><span class="s1">.blockId&amp;&amp;(a.blockId=</span><span class="s3">this</span><span class="s1">.blockId);</span><span class="s3">return </span><span class="s1">a};Blockly.Events.Ui.prototype.fromJson=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.Ui.superClass_.fromJson.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.element=a.element;</span><span class="s3">this</span><span class="s1">.newValue=a.newValue;</span><span class="s3">this</span><span class="s1">.blockId=a.blockId};Blockly.Icon=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.block_=a};Blockly.Icon.prototype.collapseHidden=!</span><span class="s4">0</span><span class="s1">;Blockly.Icon.prototype.SIZE=</span><span class="s4">17</span><span class="s1">;Blockly.Icon.prototype.bubble_=</span><span class="s3">null</span><span class="s1">;Blockly.Icon.prototype.iconXY_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1044"><span class="ln">1044 </span></a><span class="s1">Blockly.Icon.prototype.createIcon=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.iconGroup_||(</span><span class="s3">this</span><span class="s1">.iconGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconGroup&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.block_.isInFlyout&amp;&amp;Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.iconGroup_,</span><span class="s2">&quot;blocklyIconGroupReadonly&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.drawIcon_(</span><span class="s3">this</span><span class="s1">.iconGroup_),</span><span class="s3">this</span><span class="s1">.block_.getSvgRoot().appendChild(</span><span class="s3">this</span><span class="s1">.iconGroup_),Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.iconGroup_,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.iconClick_),</span><span class="s3">this</span><span class="s1">.updateEditable())};</span>
<a name="l1045"><span class="ln">1045 </span></a><span class="s1">Blockly.Icon.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.iconGroup_);</span><span class="s3">this</span><span class="s1">.iconGroup_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.block_=</span><span class="s3">null</span><span class="s1">};Blockly.Icon.prototype.updateEditable=</span><span class="s3">function</span><span class="s1">(){};Blockly.Icon.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.bubble_};Blockly.Icon.prototype.iconClick_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.block_.workspace.isDragging()||</span><span class="s3">this</span><span class="s1">.block_.isInFlyout||Blockly.utils.isRightButton(a)||</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s3">this</span><span class="s1">.isVisible())};</span>
<a name="l1046"><span class="ln">1046 </span></a><span class="s1">Blockly.Icon.prototype.updateColour=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;</span><span class="s3">this</span><span class="s1">.bubble_.setColour(</span><span class="s3">this</span><span class="s1">.block_.getColour())};</span>
<a name="l1047"><span class="ln">1047 </span></a><span class="s1">Blockly.Icon.prototype.renderIcon=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.collapseHidden&amp;&amp;</span><span class="s3">this</span><span class="s1">.block_.isCollapsed()||</span><span class="s3">this</span><span class="s1">.block_.isInsertionMarker())</span><span class="s3">return this</span><span class="s1">.iconGroup_.setAttribute(</span><span class="s2">&quot;display&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">),a;</span><span class="s3">this</span><span class="s1">.iconGroup_.setAttribute(</span><span class="s2">&quot;display&quot;</span><span class="s1">,</span><span class="s2">&quot;block&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.SIZE;</span><span class="s3">this</span><span class="s1">.block_.RTL&amp;&amp;(a-=b);</span><span class="s3">this</span><span class="s1">.iconGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;,5)&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.computeIconLocation();</span><span class="s3">return </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.block_.RTL?a-Blockly.BlockSvg.SEP_SPACE_X:a+(b+Blockly.BlockSvg.SEP_SPACE_X)};</span>
<a name="l1048"><span class="ln">1048 </span></a><span class="s1">Blockly.Icon.prototype.setIconLocation=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.iconXY_=a;</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;</span><span class="s3">this</span><span class="s1">.bubble_.setAnchorLocation(a)};Blockly.Icon.prototype.computeIconLocation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.block_.getRelativeToSurfaceXY(),b=Blockly.utils.getRelativeXY(</span><span class="s3">this</span><span class="s1">.iconGroup_);a=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.x+b.x+</span><span class="s3">this</span><span class="s1">.SIZE/</span><span class="s4">2</span><span class="s1">,a.y+b.y+</span><span class="s3">this</span><span class="s1">.SIZE/</span><span class="s4">2</span><span class="s1">);Blockly.utils.Coordinate.equals(</span><span class="s3">this</span><span class="s1">.getIconLocation(),a)||</span><span class="s3">this</span><span class="s1">.setIconLocation(a)};Blockly.Icon.prototype.getIconLocation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.iconXY_};</span>
<a name="l1049"><span class="ln">1049 </span></a><span class="s1">Blockly.Comment=</span><span class="s3">function</span><span class="s1">(a){Blockly.Comment.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.createIcon()};goog.inherits(Blockly.Comment,Blockly.Icon);Blockly.Comment.prototype.text_=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.Comment.prototype.width_=</span><span class="s4">160</span><span class="s1">;Blockly.Comment.prototype.height_=</span><span class="s4">80</span><span class="s1">;</span>
<a name="l1050"><span class="ln">1050 </span></a><span class="s1">Blockly.Comment.prototype.drawIcon_=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;circle&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconShape&quot;</span><span class="s1">,r:</span><span class="s2">&quot;8&quot;</span><span class="s1">,cx:</span><span class="s2">&quot;8&quot;</span><span class="s1">,cy:</span><span class="s2">&quot;8&quot;</span><span class="s1">},a);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconSymbol&quot;</span><span class="s1">,d:</span><span class="s2">&quot;m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z&quot;</span><span class="s1">},a);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconSymbol&quot;</span><span class="s1">,x:</span><span class="s2">&quot;6.8&quot;</span><span class="s1">,y:</span><span class="s2">&quot;10.78&quot;</span><span class="s1">,height:</span><span class="s2">&quot;2&quot;</span><span class="s1">,width:</span><span class="s2">&quot;2&quot;</span><span class="s1">},a)};</span>
<a name="l1051"><span class="ln">1051 </span></a><span class="s1">Blockly.Comment.prototype.createEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.foreignObject_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;foreignObject&quot;</span><span class="s1">,{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=document.createElementNS(Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;body&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;xmlns&quot;</span><span class="s1">,Blockly.utils.dom.HTML_NS);a.className=</span><span class="s2">&quot;blocklyMinimalBody&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=document.createElementNS(Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;textarea&quot;</span><span class="s1">);b.className=</span><span class="s2">&quot;blocklyCommentTextarea&quot;</span><span class="s1">;b.setAttribute(</span><span class="s2">&quot;dir&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.block_.RTL?</span><span class="s2">&quot;RTL&quot;</span><span class="s1">:</span><span class="s2">&quot;LTR&quot;</span><span class="s1">);a.appendChild(b);</span>
<a name="l1052"><span class="ln">1052 </span></a><span class="s3">this</span><span class="s1">.textarea_=b;</span><span class="s3">this</span><span class="s1">.foreignObject_.appendChild(a);Blockly.bindEventWithChecks_(b,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.textareaFocus_,!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);Blockly.bindEventWithChecks_(b,</span><span class="s2">&quot;wheel&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){a.stopPropagation()});Blockly.bindEventWithChecks_(b,</span><span class="s2">&quot;change&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.text_!=b.value&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">.block_,</span><span class="s2">&quot;comment&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.text_,b.value)),</span><span class="s3">this</span><span class="s1">.text_=b.value)});setTimeout(</span><span class="s3">function</span><span class="s1">(){b.focus()},</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return this</span><span class="s1">.foreignObject_};</span>
<a name="l1053"><span class="ln">1053 </span></a><span class="s1">Blockly.Comment.prototype.updateEditable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">0</span><span class="s1">));Blockly.Icon.prototype.updateEditable.call(</span><span class="s3">this</span><span class="s1">)};Blockly.Comment.prototype.resizeBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isVisible()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.bubble_.getBubbleSize(),b=</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH;</span><span class="s3">this</span><span class="s1">.foreignObject_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a.width-b);</span><span class="s3">this</span><span class="s1">.foreignObject_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,a.height-b);</span><span class="s3">this</span><span class="s1">.textarea_.style.width=a.width-b-4+</span><span class="s2">&quot;px&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.textarea_.style.height=a.height-b-4+</span><span class="s2">&quot;px&quot;</span><span class="s1">}};</span>
<a name="l1054"><span class="ln">1054 </span></a><span class="s1">Blockly.Comment.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a!=</span><span class="s3">this</span><span class="s1">.isVisible())</span><span class="s3">if</span><span class="s1">(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">this</span><span class="s1">.block_,</span><span class="s2">&quot;commentOpen&quot;</span><span class="s1">,!a,a)),!</span><span class="s3">this</span><span class="s1">.block_.isEditable()&amp;&amp;!</span><span class="s3">this</span><span class="s1">.textarea_||Blockly.utils.userAgent.IE)Blockly.Warning.prototype.setVisible.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getText(),c=</span><span class="s3">this</span><span class="s1">.getBubbleSize();a?(</span><span class="s3">this</span><span class="s1">.bubble_=</span><span class="s3">new </span><span class="s1">Blockly.Bubble(</span><span class="s3">this</span><span class="s1">.block_.workspace,</span><span class="s3">this</span><span class="s1">.createEditor_(),</span><span class="s3">this</span><span class="s1">.block_.svgPath_,</span><span class="s3">this</span><span class="s1">.iconXY_,</span><span class="s3">this</span><span class="s1">.width_,</span><span class="s3">this</span><span class="s1">.height_),</span><span class="s3">this</span><span class="s1">.bubble_.setSvgId(</span><span class="s3">this</span><span class="s1">.block_.id),</span><span class="s3">this</span><span class="s1">.bubble_.registerResizeEvent(</span><span class="s3">this</span><span class="s1">.resizeBubble_.bind(</span><span class="s3">this</span><span class="s1">)),</span>
<a name="l1055"><span class="ln">1055 </span></a><span class="s3">this</span><span class="s1">.updateColour()):(</span><span class="s3">this</span><span class="s1">.bubble_.dispose(),</span><span class="s3">this</span><span class="s1">.foreignObject_=</span><span class="s3">this</span><span class="s1">.textarea_=</span><span class="s3">this</span><span class="s1">.bubble_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setText(b);</span><span class="s3">this</span><span class="s1">.setBubbleSize(c.width,c.height)}};Blockly.Comment.prototype.textareaFocus_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.bubble_.promote_()&amp;&amp;</span><span class="s3">this</span><span class="s1">.textarea_.focus()};Blockly.Comment.prototype.getBubbleSize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isVisible()?</span><span class="s3">this</span><span class="s1">.bubble_.getBubbleSize():{width:</span><span class="s3">this</span><span class="s1">.width_,height:</span><span class="s3">this</span><span class="s1">.height_}};</span>
<a name="l1056"><span class="ln">1056 </span></a><span class="s1">Blockly.Comment.prototype.setBubbleSize=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.textarea_?</span><span class="s3">this</span><span class="s1">.bubble_.setBubbleSize(a,b):(</span><span class="s3">this</span><span class="s1">.width_=a,</span><span class="s3">this</span><span class="s1">.height_=b)};Blockly.Comment.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.textarea_?</span><span class="s3">this</span><span class="s1">.textarea_.value:</span><span class="s3">this</span><span class="s1">.text_};Blockly.Comment.prototype.setText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.text_!=a&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">.block_,</span><span class="s2">&quot;comment&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.text_,a)),</span><span class="s3">this</span><span class="s1">.text_=a);</span><span class="s3">this</span><span class="s1">.textarea_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.textarea_.value=a)};</span>
<a name="l1057"><span class="ln">1057 </span></a><span class="s1">Blockly.Comment.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.Events.isEnabled()&amp;&amp;</span><span class="s3">this</span><span class="s1">.setText(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.block_.comment=</span><span class="s3">null</span><span class="s1">;Blockly.Icon.prototype.dispose.call(</span><span class="s3">this</span><span class="s1">)};Blockly.Connection=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.sourceBlock_=a;</span><span class="s3">this</span><span class="s1">.type=b;a.workspace.connectionDBList&amp;&amp;(</span><span class="s3">this</span><span class="s1">.db_=a.workspace.connectionDBList[b],</span><span class="s3">this</span><span class="s1">.dbOpposite_=a.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[b]],</span><span class="s3">this</span><span class="s1">.hidden_=!</span><span class="s3">this</span><span class="s1">.db_)};Blockly.Connection.CAN_CONNECT=</span><span class="s4">0</span><span class="s1">;Blockly.Connection.REASON_SELF_CONNECTION=</span><span class="s4">1</span><span class="s1">;Blockly.Connection.REASON_WRONG_TYPE=</span><span class="s4">2</span><span class="s1">;Blockly.Connection.REASON_TARGET_NULL=</span><span class="s4">3</span><span class="s1">;Blockly.Connection.REASON_CHECKS_FAILED=</span><span class="s4">4</span><span class="s1">;Blockly.Connection.REASON_DIFFERENT_WORKSPACES=</span><span class="s4">5</span><span class="s1">;</span>
<a name="l1058"><span class="ln">1058 </span></a><span class="s1">Blockly.Connection.REASON_SHADOW_PARENT=</span><span class="s4">6</span><span class="s1">;Blockly.Connection.prototype.targetConnection=</span><span class="s3">null</span><span class="s1">;Blockly.Connection.prototype.check_=</span><span class="s3">null</span><span class="s1">;Blockly.Connection.prototype.shadowDom_=</span><span class="s3">null</span><span class="s1">;Blockly.Connection.prototype.x_=</span><span class="s4">0</span><span class="s1">;Blockly.Connection.prototype.y_=</span><span class="s4">0</span><span class="s1">;Blockly.Connection.prototype.inDB_=!</span><span class="s4">1</span><span class="s1">;Blockly.Connection.prototype.db_=</span><span class="s3">null</span><span class="s1">;Blockly.Connection.prototype.dbOpposite_=</span><span class="s3">null</span><span class="s1">;Blockly.Connection.prototype.hidden_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1059"><span class="ln">1059 </span></a><span class="s1">Blockly.Connection.prototype.connect_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">,c=b.getSourceBlock(),d=a.getSourceBlock();a.isConnected()&amp;&amp;a.disconnect();</span><span class="s3">if</span><span class="s1">(b.isConnected()){</span><span class="s3">var </span><span class="s1">e=b.targetBlock(),f=b.getShadowDom();b.setShadowDom(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(e.isShadow())f=Blockly.Xml.blockToDom(e),e.dispose(),e=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(b.type==Blockly.INPUT_VALUE){</span><span class="s3">if</span><span class="s1">(!e.outputConnection)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Orphan block does not have an output connection.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">g=Blockly.Connection.lastConnectionInRow_(d,e);g&amp;&amp;(e.outputConnection.connect(g),e=</span><span class="s3">null</span><span class="s1">)}</span><span class="s3">else if</span><span class="s1">(b.type==</span>
<a name="l1060"><span class="ln">1060 </span></a><span class="s1">Blockly.NEXT_STATEMENT){</span><span class="s3">if</span><span class="s1">(!e.previousConnection)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Orphan block does not have a previous connection.&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(g=d;g.nextConnection;){</span><span class="s3">var </span><span class="s1">h=g.getNextBlock();</span><span class="s3">if</span><span class="s1">(h&amp;&amp;!h.isShadow())g=h;</span><span class="s3">else</span><span class="s1">{e.previousConnection.checkType_(g.nextConnection)&amp;&amp;(g.nextConnection.connect(e.previousConnection),e=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">break</span><span class="s1">}}}</span><span class="s3">if</span><span class="s1">(e&amp;&amp;(b.disconnect(),Blockly.Events.recordUndo)){</span><span class="s3">var </span><span class="s1">k=Blockly.Events.getGroup();setTimeout(</span><span class="s3">function</span><span class="s1">(){e.workspace&amp;&amp;!e.getParent()&amp;&amp;(Blockly.Events.setGroup(k),e.outputConnection?e.outputConnection.bumpAwayFrom_(b):</span>
<a name="l1061"><span class="ln">1061 </span></a><span class="s1">e.previousConnection&amp;&amp;e.previousConnection.bumpAwayFrom_(b),Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">))},Blockly.BUMP_DELAY)}b.setShadowDom(f)}</span><span class="s3">var </span><span class="s1">l;Blockly.Events.isEnabled()&amp;&amp;(l=</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockMove(d));Blockly.Connection.connectReciprocally_(b,a);d.setParent(c);l&amp;&amp;(l.recordNew(),Blockly.Events.fire(l))};Blockly.Connection.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isConnected())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Disconnect connection before disposing of it.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.inDB_&amp;&amp;</span><span class="s3">this</span><span class="s1">.db_.removeConnection_(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l1062"><span class="ln">1062 </span></a><span class="s1">Blockly.Connection.prototype.getSourceBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.sourceBlock_};Blockly.Connection.prototype.isSuperior=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.type==Blockly.INPUT_VALUE||</span><span class="s3">this</span><span class="s1">.type==Blockly.NEXT_STATEMENT};Blockly.Connection.prototype.isConnected=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.targetConnection};</span>
<a name="l1063"><span class="ln">1063 </span></a><span class="s1">Blockly.Connection.prototype.canConnectWithReason_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return </span><span class="s1">Blockly.Connection.REASON_TARGET_NULL;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isSuperior())</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.sourceBlock_,c=a.getSourceBlock();</span><span class="s3">else </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.sourceBlock_,b=a.getSourceBlock();</span><span class="s3">return </span><span class="s1">b&amp;&amp;b==c?Blockly.Connection.REASON_SELF_CONNECTION:a.type!=Blockly.OPPOSITE_TYPE[</span><span class="s3">this</span><span class="s1">.type]?Blockly.Connection.REASON_WRONG_TYPE:b&amp;&amp;c&amp;&amp;b.workspace!==c.workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:</span><span class="s3">this</span><span class="s1">.checkType_(a)?b.isShadow()&amp;&amp;!c.isShadow()?Blockly.Connection.REASON_SHADOW_PARENT:</span>
<a name="l1064"><span class="ln">1064 </span></a><span class="s1">Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED};</span>
<a name="l1065"><span class="ln">1065 </span></a><span class="s1">Blockly.Connection.prototype.checkConnection_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">switch</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.canConnectWithReason_(a)){</span><span class="s3">case </span><span class="s1">Blockly.Connection.CAN_CONNECT:</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Connection.REASON_SELF_CONNECTION:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Attempted to connect a block to itself.&quot;</span><span class="s1">);</span><span class="s3">case </span><span class="s1">Blockly.Connection.REASON_DIFFERENT_WORKSPACES:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Blocks not on same workspace.&quot;</span><span class="s1">);</span><span class="s3">case </span><span class="s1">Blockly.Connection.REASON_WRONG_TYPE:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Attempt to connect incompatible types.&quot;</span><span class="s1">);</span><span class="s3">case </span><span class="s1">Blockly.Connection.REASON_TARGET_NULL:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Target connection is null.&quot;</span><span class="s1">);</span>
<a name="l1066"><span class="ln">1066 </span></a><span class="s3">case </span><span class="s1">Blockly.Connection.REASON_CHECKS_FAILED:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Connection checks failed. &quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">+</span><span class="s2">&quot; expected &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.check_+</span><span class="s2">&quot;, found &quot;</span><span class="s1">+a.check_));</span><span class="s3">case </span><span class="s1">Blockly.Connection.REASON_SHADOW_PARENT:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Connecting non-shadow to shadow block.&quot;</span><span class="s1">);</span><span class="s3">default</span><span class="s1">:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unknown connection failure: this should never happen!&quot;</span><span class="s1">);}};</span>
<a name="l1067"><span class="ln">1067 </span></a><span class="s1">Blockly.Connection.prototype.canConnectToPrevious_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.targetConnection||-</span><span class="s4">1</span><span class="s1">!=Blockly.draggingConnections_.indexOf(a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!a.targetConnection)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;a=a.targetBlock();</span><span class="s3">return </span><span class="s1">a.isInsertionMarker()?!a.getPreviousBlock():!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1068"><span class="ln">1068 </span></a><span class="s1">Blockly.Connection.prototype.isConnectionAllowed=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.sourceBlock_.isInsertionMarker()||</span><span class="s3">this</span><span class="s1">.canConnectWithReason_(a)!=Blockly.Connection.CAN_CONNECT)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">switch</span><span class="s1">(a.type){</span><span class="s3">case </span><span class="s1">Blockly.PREVIOUS_STATEMENT:</span><span class="s3">return this</span><span class="s1">.canConnectToPrevious_(a);</span><span class="s3">case </span><span class="s1">Blockly.OUTPUT_VALUE:</span><span class="s3">if</span><span class="s1">(a.isConnected()&amp;&amp;!a.targetBlock().isInsertionMarker()||</span><span class="s3">this</span><span class="s1">.isConnected())</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.INPUT_VALUE:</span><span class="s3">if</span><span class="s1">(a.isConnected()&amp;&amp;!a.targetBlock().isMovable()&amp;&amp;!a.targetBlock().isShadow())</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.NEXT_STATEMENT:</span><span class="s3">if</span><span class="s1">(a.isConnected()&amp;&amp;</span>
<a name="l1069"><span class="ln">1069 </span></a><span class="s1">!</span><span class="s3">this</span><span class="s1">.sourceBlock_.nextConnection&amp;&amp;!a.targetBlock().isShadow()&amp;&amp;a.targetBlock().nextConnection)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unknown connection type in isConnectionAllowed&quot;</span><span class="s1">);}</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">!=Blockly.draggingConnections_.indexOf(a)?!</span><span class="s4">1</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">};Blockly.Connection.prototype.connect=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.targetConnection!=a){</span><span class="s3">this</span><span class="s1">.checkConnection_(a);</span><span class="s3">var </span><span class="s1">b=Blockly.Events.getGroup();b||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isSuperior()?</span><span class="s3">this</span><span class="s1">.connect_(a):a.connect_(</span><span class="s3">this</span><span class="s1">);b||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}};</span>
<a name="l1070"><span class="ln">1070 </span></a><span class="s1">Blockly.Connection.connectReciprocally_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a||!b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Cannot connect null connections.&quot;</span><span class="s1">);a.targetConnection=b;b.targetConnection=a};Blockly.Connection.singleConnection_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">;d&lt;a.inputList.length;d++){</span><span class="s3">var </span><span class="s1">e=a.inputList[d].connection;</span><span class="s3">if</span><span class="s1">(e&amp;&amp;e.type==Blockly.INPUT_VALUE&amp;&amp;b.outputConnection.checkType_(e)){</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">return null</span><span class="s1">;c=e}}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1071"><span class="ln">1071 </span></a><span class="s1">Blockly.Connection.lastConnectionInRow_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a,d;d=Blockly.Connection.singleConnection_(c,b);)</span><span class="s3">if</span><span class="s1">(c=d.targetBlock(),!c||c.isShadow())</span><span class="s3">return </span><span class="s1">d;</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l1072"><span class="ln">1072 </span></a><span class="s1">Blockly.Connection.prototype.disconnect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.targetConnection;</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Source connection not connected.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.targetConnection!=</span><span class="s3">this</span><span class="s1">)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Target connection not connected to source connection.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isSuperior()){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.sourceBlock_;</span><span class="s3">var </span><span class="s1">c=a.getSourceBlock();a=</span><span class="s3">this</span><span class="s1">}</span><span class="s3">else </span><span class="s1">b=a.getSourceBlock(),c=</span><span class="s3">this</span><span class="s1">.sourceBlock_;</span><span class="s3">var </span><span class="s1">d=Blockly.Events.getGroup();d||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.disconnectInternal_(b,c);a.respawnShadow_();d||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l1073"><span class="ln">1073 </span></a><span class="s1">Blockly.Connection.prototype.disconnectInternal_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c;Blockly.Events.isEnabled()&amp;&amp;(c=</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockMove(b));</span><span class="s3">this</span><span class="s1">.targetConnection=</span><span class="s3">this</span><span class="s1">.targetConnection.targetConnection=</span><span class="s3">null</span><span class="s1">;b.setParent(</span><span class="s3">null</span><span class="s1">);c&amp;&amp;(c.recordNew(),Blockly.Events.fire(c))};</span>
<a name="l1074"><span class="ln">1074 </span></a><span class="s1">Blockly.Connection.prototype.respawnShadow_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getSourceBlock(),b=</span><span class="s3">this</span><span class="s1">.getShadowDom();</span><span class="s3">if</span><span class="s1">(a.workspace&amp;&amp;b&amp;&amp;Blockly.Events.recordUndo)</span><span class="s3">if</span><span class="s1">(a=Blockly.Xml.domToBlock(b,a.workspace),a.outputConnection)</span><span class="s3">this</span><span class="s1">.connect(a.outputConnection);</span><span class="s3">else if</span><span class="s1">(a.previousConnection)</span><span class="s3">this</span><span class="s1">.connect(a.previousConnection);</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;Child block does not have output or previous statement.&quot;</span><span class="s1">);};</span>
<a name="l1075"><span class="ln">1075 </span></a><span class="s1">Blockly.Connection.prototype.targetBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isConnected()?</span><span class="s3">this</span><span class="s1">.targetConnection.getSourceBlock():</span><span class="s3">null</span><span class="s1">};Blockly.Connection.prototype.checkType_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.check_||!a.check_)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.check_.length;b++)</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">!=a.check_.indexOf(</span><span class="s3">this</span><span class="s1">.check_[b]))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};Blockly.Connection.prototype.onCheckChanged_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isConnected()&amp;&amp;!</span><span class="s3">this</span><span class="s1">.checkType_(</span><span class="s3">this</span><span class="s1">.targetConnection)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isSuperior()?</span><span class="s3">this</span><span class="s1">.targetBlock():</span><span class="s3">this</span><span class="s1">.sourceBlock_).unplug()};</span>
<a name="l1076"><span class="ln">1076 </span></a><span class="s1">Blockly.Connection.prototype.setCheck=</span><span class="s3">function</span><span class="s1">(a){a?(Array.isArray(a)||(a=[a]),</span><span class="s3">this</span><span class="s1">.check_=a,</span><span class="s3">this</span><span class="s1">.onCheckChanged_()):</span><span class="s3">this</span><span class="s1">.check_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">return this</span><span class="s1">};Blockly.Connection.prototype.getCheck=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.check_};Blockly.Connection.prototype.setShadowDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.shadowDom_=a};Blockly.Connection.prototype.getShadowDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.shadowDom_};Blockly.Connection.prototype.neighbours_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">[]};</span>
<a name="l1077"><span class="ln">1077 </span></a><span class="s1">Blockly.Connection.prototype.toString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.sourceBlock_;</span><span class="s3">if</span><span class="s1">(a)</span><span class="s3">if</span><span class="s1">(a.outputConnection==</span><span class="s3">this</span><span class="s1">)</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;Output Connection of &quot;</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(a.previousConnection==</span><span class="s3">this</span><span class="s1">)b=</span><span class="s2">&quot;Previous Connection of &quot;</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(a.nextConnection==</span><span class="s3">this</span><span class="s1">)b=</span><span class="s2">&quot;Next Connection of &quot;</span><span class="s1">;</span><span class="s3">else</span><span class="s1">{b=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=a.inputList[c];c++)</span><span class="s3">if</span><span class="s1">(d.connection==</span><span class="s3">this</span><span class="s1">){b=d;</span><span class="s3">break</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(b)b=</span><span class="s2">'Input &quot;'</span><span class="s1">+b.name+</span><span class="s2">'&quot; connection on '</span><span class="s1">;</span><span class="s3">else return </span><span class="s1">console.warn(</span><span class="s2">&quot;Connection not actually connected to sourceBlock_&quot;</span><span class="s1">),</span><span class="s2">&quot;Orphan Connection&quot;</span><span class="s1">}</span><span class="s3">else return</span><span class="s2">&quot;Orphan Connection&quot;</span><span class="s1">;</span>
<a name="l1078"><span class="ln">1078 </span></a><span class="s3">return </span><span class="s1">b+a.toDevString()};Blockly.ConnectionDB=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.connections_=[]};Blockly.ConnectionDB.prototype.addConnection=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.inDB_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Connection already in database.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!a.getSourceBlock().isInFlyout){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.findPositionForConnection_(a);</span><span class="s3">this</span><span class="s1">.connections_.splice(b,</span><span class="s4">0</span><span class="s1">,a);a.inDB_=!</span><span class="s4">0</span><span class="s1">}};</span>
<a name="l1079"><span class="ln">1079 </span></a><span class="s1">Blockly.ConnectionDB.prototype.findConnection=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.connections_.length)</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.findPositionForConnection_(a);</span><span class="s3">if</span><span class="s1">(b&gt;=</span><span class="s3">this</span><span class="s1">.connections_.length)</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.y_,d=b;</span><span class="s4">0</span><span class="s1">&lt;=d&amp;&amp;</span><span class="s3">this</span><span class="s1">.connections_[d].y_==c;){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.connections_[d]==a)</span><span class="s3">return </span><span class="s1">d;d--}</span><span class="s3">for</span><span class="s1">(;b&lt;</span><span class="s3">this</span><span class="s1">.connections_.length&amp;&amp;</span><span class="s3">this</span><span class="s1">.connections_[b].y_==c;){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.connections_[b]==a)</span><span class="s3">return </span><span class="s1">b;b++}</span><span class="s3">return</span><span class="s1">-</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1080"><span class="ln">1080 </span></a><span class="s1">Blockly.ConnectionDB.prototype.findPositionForConnection_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.connections_.length)</span><span class="s3">return </span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.connections_.length;b&lt;c;){</span><span class="s3">var </span><span class="s1">d=Math.floor((b+c)/</span><span class="s4">2</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.connections_[d].y_&lt;a.y_)b=d+</span><span class="s4">1</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.connections_[d].y_&gt;a.y_)c=d;</span><span class="s3">else</span><span class="s1">{b=d;</span><span class="s3">break</span><span class="s1">}}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1081"><span class="ln">1081 </span></a><span class="s1">Blockly.ConnectionDB.prototype.removeConnection_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a.inDB_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Connection not in database.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.findConnection(a);</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">==b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unable to find connection in connectionDB.&quot;</span><span class="s1">);a.inDB_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.connections_.splice(b,</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l1082"><span class="ln">1082 </span></a><span class="s1">Blockly.ConnectionDB.prototype.getNeighbours=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">function </span><span class="s1">c(a){</span><span class="s3">var </span><span class="s1">c=e-d[a].x_,g=f-d[a].y_;Math.sqrt(c*c+g*g)&lt;=b&amp;&amp;l.push(d[a]);</span><span class="s3">return </span><span class="s1">g&lt;b}</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.connections_,e=a.x_,f=a.y_,g=</span><span class="s4">0</span><span class="s1">,h=d.length-2,k=h;g&lt;k;)d[k].y_&lt;f?g=k:h=k,k=Math.floor((g+h)/</span><span class="s4">2</span><span class="s1">);</span><span class="s3">var </span><span class="s1">l=[];h=g=k;</span><span class="s3">if</span><span class="s1">(d.length){</span><span class="s3">for</span><span class="s1">(;</span><span class="s4">0</span><span class="s1">&lt;=g&amp;&amp;c(g);)g--;</span><span class="s3">do </span><span class="s1">h++;</span><span class="s3">while</span><span class="s1">(h&lt;d.length&amp;&amp;c(h))}</span><span class="s3">return </span><span class="s1">l};Blockly.ConnectionDB.prototype.isInYRange_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">Math.abs(</span><span class="s3">this</span><span class="s1">.connections_[a].y_-b)&lt;=c};</span>
<a name="l1083"><span class="ln">1083 </span></a><span class="s1">Blockly.ConnectionDB.prototype.searchForClosest=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.connections_.length)</span><span class="s3">return</span><span class="s1">{connection:</span><span class="s3">null</span><span class="s1">,radius:b};</span><span class="s3">var </span><span class="s1">d=a.y_,e=a.x_;a.x_=e+c.x;a.y_=d+c.y;</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.findPositionForConnection_(a);c=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=b,h,k=f-1;</span><span class="s4">0</span><span class="s1">&lt;=k&amp;&amp;</span><span class="s3">this</span><span class="s1">.isInYRange_(k,a.y_,b);)h=</span><span class="s3">this</span><span class="s1">.connections_[k],a.isConnectionAllowed(h,g)&amp;&amp;(c=h,g=h.distanceFrom(a)),k--;</span><span class="s3">for</span><span class="s1">(;f&lt;</span><span class="s3">this</span><span class="s1">.connections_.length&amp;&amp;</span><span class="s3">this</span><span class="s1">.isInYRange_(f,a.y_,b);)h=</span><span class="s3">this</span><span class="s1">.connections_[f],a.isConnectionAllowed(h,g)&amp;&amp;(c=h,g=h.distanceFrom(a)),f++;a.x_=e;a.y_=</span>
<a name="l1084"><span class="ln">1084 </span></a><span class="s1">d;</span><span class="s3">return</span><span class="s1">{connection:c,radius:g}};Blockly.ConnectionDB.init=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];a[Blockly.INPUT_VALUE]=</span><span class="s3">new </span><span class="s1">Blockly.ConnectionDB;a[Blockly.OUTPUT_VALUE]=</span><span class="s3">new </span><span class="s1">Blockly.ConnectionDB;a[Blockly.NEXT_STATEMENT]=</span><span class="s3">new </span><span class="s1">Blockly.ConnectionDB;a[Blockly.PREVIOUS_STATEMENT]=</span><span class="s3">new </span><span class="s1">Blockly.ConnectionDB;</span><span class="s3">return </span><span class="s1">a};Blockly.constants={};Blockly.LINE_MODE_MULTIPLIER=</span><span class="s4">40</span><span class="s1">;Blockly.PAGE_MODE_MULTIPLIER=</span><span class="s4">125</span><span class="s1">;Blockly.DRAG_RADIUS=</span><span class="s4">5</span><span class="s1">;Blockly.FLYOUT_DRAG_RADIUS=</span><span class="s4">10</span><span class="s1">;Blockly.SNAP_RADIUS=</span><span class="s4">28</span><span class="s1">;Blockly.CONNECTING_SNAP_RADIUS=Blockly.SNAP_RADIUS;Blockly.CURRENT_CONNECTION_PREFERENCE=</span><span class="s4">8</span><span class="s1">;Blockly.INSERTION_MARKER_COLOUR=</span><span class="s2">&quot;#000000&quot;</span><span class="s1">;Blockly.BUMP_DELAY=</span><span class="s4">250</span><span class="s1">;Blockly.BUMP_RANDOMNESS=</span><span class="s4">10</span><span class="s1">;Blockly.COLLAPSE_CHARS=</span><span class="s4">30</span><span class="s1">;Blockly.LONGPRESS=</span><span class="s4">750</span><span class="s1">;Blockly.SOUND_LIMIT=</span><span class="s4">100</span><span class="s1">;Blockly.DRAG_STACK=!</span><span class="s4">0</span><span class="s1">;Blockly.HSV_SATURATION=.</span><span class="s4">45</span><span class="s1">;Blockly.HSV_VALUE=.</span><span class="s4">65</span><span class="s1">;</span>
<a name="l1085"><span class="ln">1085 </span></a><span class="s1">Blockly.SPRITE={width:</span><span class="s4">96</span><span class="s1">,height:</span><span class="s4">124</span><span class="s1">,url:</span><span class="s2">&quot;sprites.png&quot;</span><span class="s1">};Blockly.INPUT_VALUE=</span><span class="s4">1</span><span class="s1">;Blockly.OUTPUT_VALUE=</span><span class="s4">2</span><span class="s1">;Blockly.NEXT_STATEMENT=</span><span class="s4">3</span><span class="s1">;Blockly.PREVIOUS_STATEMENT=</span><span class="s4">4</span><span class="s1">;Blockly.DUMMY_INPUT=</span><span class="s4">5</span><span class="s1">;Blockly.ALIGN_LEFT=-</span><span class="s4">1</span><span class="s1">;Blockly.ALIGN_CENTRE=</span><span class="s4">0</span><span class="s1">;Blockly.ALIGN_RIGHT=</span><span class="s4">1</span><span class="s1">;Blockly.DRAG_NONE=</span><span class="s4">0</span><span class="s1">;Blockly.DRAG_STICKY=</span><span class="s4">1</span><span class="s1">;Blockly.DRAG_BEGIN=</span><span class="s4">1</span><span class="s1">;Blockly.DRAG_FREE=</span><span class="s4">2</span><span class="s1">;Blockly.OPPOSITE_TYPE=[];Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE;Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE;</span>
<a name="l1086"><span class="ln">1086 </span></a><span class="s1">Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT;Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT;Blockly.TOOLBOX_AT_TOP=</span><span class="s4">0</span><span class="s1">;Blockly.TOOLBOX_AT_BOTTOM=</span><span class="s4">1</span><span class="s1">;Blockly.TOOLBOX_AT_LEFT=</span><span class="s4">2</span><span class="s1">;Blockly.TOOLBOX_AT_RIGHT=</span><span class="s4">3</span><span class="s1">;Blockly.DELETE_AREA_NONE=</span><span class="s3">null</span><span class="s1">;Blockly.DELETE_AREA_TRASH=</span><span class="s4">1</span><span class="s1">;Blockly.DELETE_AREA_TOOLBOX=</span><span class="s4">2</span><span class="s1">;Blockly.VARIABLE_CATEGORY_NAME=</span><span class="s2">&quot;VARIABLE&quot;</span><span class="s1">;Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME=</span><span class="s2">&quot;VARIABLE_DYNAMIC&quot;</span><span class="s1">;Blockly.PROCEDURE_CATEGORY_NAME=</span><span class="s2">&quot;PROCEDURE&quot;</span><span class="s1">;</span>
<a name="l1087"><span class="ln">1087 </span></a><span class="s1">Blockly.RENAME_VARIABLE_ID=</span><span class="s2">&quot;RENAME_VARIABLE_ID&quot;</span><span class="s1">;Blockly.DELETE_VARIABLE_ID=</span><span class="s2">&quot;DELETE_VARIABLE_ID&quot;</span><span class="s1">;Blockly.blockAnimations={};Blockly.blockAnimations.disconnectPid_=</span><span class="s4">0</span><span class="s1">;Blockly.blockAnimations.disconnectGroup_=</span><span class="s3">null</span><span class="s1">;Blockly.blockAnimations.disposeUiEffect=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.workspace,c=a.getSvgRoot();b.getAudioManager().play(</span><span class="s2">&quot;delete&quot;</span><span class="s1">);a=b.getSvgXY(c);c=c.cloneNode(!</span><span class="s4">0</span><span class="s1">);c.translateX_=a.x;c.translateY_=a.y;c.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a.x+</span><span class="s2">&quot;,&quot;</span><span class="s1">+a.y+</span><span class="s2">&quot;)&quot;</span><span class="s1">);b.getParentSvg().appendChild(c);c.bBox_=c.getBBox();Blockly.blockAnimations.disposeUiStep_(c,b.RTL,</span><span class="s3">new </span><span class="s1">Date,b.scale)};</span>
<a name="l1088"><span class="ln">1088 </span></a><span class="s1">Blockly.blockAnimations.disposeUiStep_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=(</span><span class="s3">new </span><span class="s1">Date-c)/</span><span class="s4">150</span><span class="s1">;</span><span class="s4">1</span><span class="s1">&lt;e?Blockly.utils.dom.removeNode(a):(a.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(a.translateX_+(b?-</span><span class="s4">1</span><span class="s1">:</span><span class="s4">1</span><span class="s1">)*a.bBox_.width*d/</span><span class="s4">2</span><span class="s1">*e)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(a.translateY_+a.bBox_.height*d*e)+</span><span class="s2">&quot;) scale(&quot;</span><span class="s1">+(</span><span class="s4">1</span><span class="s1">-e)*d+</span><span class="s2">&quot;)&quot;</span><span class="s1">),setTimeout(Blockly.blockAnimations.disposeUiStep_,</span><span class="s4">10</span><span class="s1">,a,b,c,d))};</span>
<a name="l1089"><span class="ln">1089 </span></a><span class="s1">Blockly.blockAnimations.connectionUiEffect=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.workspace,c=b.scale;b.getAudioManager().play(</span><span class="s2">&quot;click&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!(</span><span class="s4">1</span><span class="s1">&gt;c)){</span><span class="s3">var </span><span class="s1">d=b.getSvgXY(a.getSvgRoot());a.outputConnection?(d.x+=(a.RTL?</span><span class="s4">3</span><span class="s1">:-</span><span class="s4">3</span><span class="s1">)*c,d.y+=</span><span class="s4">13</span><span class="s1">*c):a.previousConnection&amp;&amp;(d.x+=(a.RTL?-</span><span class="s4">23</span><span class="s1">:</span><span class="s4">23</span><span class="s1">)*c,d.y+=</span><span class="s4">3</span><span class="s1">*c);a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;circle&quot;</span><span class="s1">,{cx:d.x,cy:d.y,r:</span><span class="s4">0</span><span class="s1">,fill:</span><span class="s2">&quot;none&quot;</span><span class="s1">,stroke:</span><span class="s2">&quot;#888&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="s1">:</span><span class="s4">10</span><span class="s1">},b.getParentSvg());Blockly.blockAnimations.connectionUiStep_(a,</span><span class="s3">new </span><span class="s1">Date,c)}};</span>
<a name="l1090"><span class="ln">1090 </span></a><span class="s1">Blockly.blockAnimations.connectionUiStep_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=(</span><span class="s3">new </span><span class="s1">Date-b)/</span><span class="s4">150</span><span class="s1">;</span><span class="s4">1</span><span class="s1">&lt;d?Blockly.utils.dom.removeNode(a):(a.setAttribute(</span><span class="s2">&quot;r&quot;</span><span class="s1">,</span><span class="s4">25</span><span class="s1">*d*c),a.style.opacity=</span><span class="s4">1</span><span class="s1">-d,Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.connectionUiStep_,</span><span class="s4">10</span><span class="s1">,a,b,c))};</span>
<a name="l1091"><span class="ln">1091 </span></a><span class="s1">Blockly.blockAnimations.disconnectUiEffect=</span><span class="s3">function</span><span class="s1">(a){a.workspace.getAudioManager().play(</span><span class="s2">&quot;disconnect&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!(</span><span class="s4">1</span><span class="s1">&gt;a.workspace.scale)){</span><span class="s3">var </span><span class="s1">b=a.getHeightWidth().height;b=Math.atan(</span><span class="s4">10</span><span class="s1">/b)/Math.PI*</span><span class="s4">180</span><span class="s1">;a.RTL||(b*=-</span><span class="s4">1</span><span class="s1">);Blockly.blockAnimations.disconnectUiStep_(a.getSvgRoot(),b,</span><span class="s3">new </span><span class="s1">Date)}};</span>
<a name="l1092"><span class="ln">1092 </span></a><span class="s1">Blockly.blockAnimations.disconnectUiStep_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=(</span><span class="s3">new </span><span class="s1">Date-c)/</span><span class="s4">200</span><span class="s1">;</span><span class="s4">1</span><span class="s1">&lt;d?a.skew_=</span><span class="s2">&quot;&quot;</span><span class="s1">:(a.skew_=</span><span class="s2">&quot;skewX(&quot;</span><span class="s1">+Math.round(Math.sin(d*Math.PI*</span><span class="s4">3</span><span class="s1">)*(</span><span class="s4">1</span><span class="s1">-d)*b)+</span><span class="s2">&quot;)&quot;</span><span class="s1">,Blockly.blockAnimations.disconnectGroup_=a,Blockly.blockAnimations.disconnectPid_=setTimeout(Blockly.blockAnimations.disconnectUiStep_,</span><span class="s4">10</span><span class="s1">,a,b,c));a.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,a.translate_+a.skew_)};</span>
<a name="l1093"><span class="ln">1093 </span></a><span class="s1">Blockly.blockAnimations.disconnectUiStop=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(Blockly.blockAnimations.disconnectGroup_){clearTimeout(Blockly.blockAnimations.disconnectPid_);</span><span class="s3">var </span><span class="s1">a=Blockly.blockAnimations.disconnectGroup_;a.skew_=</span><span class="s2">&quot;&quot;</span><span class="s1">;a.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,a.translate_);Blockly.blockAnimations.disconnectGroup_=</span><span class="s3">null</span><span class="s1">}};Blockly.RenderedConnection=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.RenderedConnection.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.offsetInBlock_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">)};goog.inherits(Blockly.RenderedConnection,Blockly.Connection);Blockly.RenderedConnection.prototype.distanceFrom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.x_-a.x_;a=</span><span class="s3">this</span><span class="s1">.y_-a.y_;</span><span class="s3">return </span><span class="s1">Math.sqrt(b*b+a*a)};</span>
<a name="l1094"><span class="ln">1094 </span></a><span class="s1">Blockly.RenderedConnection.prototype.bumpAwayFrom_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace.isDragging()){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.sourceBlock_.getRootBlock();</span><span class="s3">if</span><span class="s1">(!b.isInFlyout){</span><span class="s3">var </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!b.isMovable()){b=a.getSourceBlock().getRootBlock();</span><span class="s3">if</span><span class="s1">(!b.isMovable())</span><span class="s3">return</span><span class="s1">;a=</span><span class="s3">this</span><span class="s1">;c=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">var </span><span class="s1">d=Blockly.selected==b;d||b.addSelect();</span><span class="s3">var </span><span class="s1">e=a.x_+Blockly.SNAP_RADIUS+Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-</span><span class="s3">this</span><span class="s1">.x_,f=a.y_+Blockly.SNAP_RADIUS+Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-</span><span class="s3">this</span><span class="s1">.y_;c&amp;&amp;(f=-f);b.RTL&amp;&amp;</span>
<a name="l1095"><span class="ln">1095 </span></a><span class="s1">(e=a.x_-Blockly.SNAP_RADIUS-Math.floor(Math.random()*Blockly.BUMP_RANDOMNESS)-</span><span class="s3">this</span><span class="s1">.x_);b.moveBy(e,f);d||b.removeSelect()}}};Blockly.RenderedConnection.prototype.moveTo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.inDB_&amp;&amp;</span><span class="s3">this</span><span class="s1">.db_.removeConnection_(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.x_=a;</span><span class="s3">this</span><span class="s1">.y_=b;</span><span class="s3">this</span><span class="s1">.hidden_||</span><span class="s3">this</span><span class="s1">.db_.addConnection(</span><span class="s3">this</span><span class="s1">)};Blockly.RenderedConnection.prototype.moveBy=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.moveTo(</span><span class="s3">this</span><span class="s1">.x_+a,</span><span class="s3">this</span><span class="s1">.y_+b)};Blockly.RenderedConnection.prototype.moveToOffset=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.moveTo(a.x+</span><span class="s3">this</span><span class="s1">.offsetInBlock_.x,a.y+</span><span class="s3">this</span><span class="s1">.offsetInBlock_.y)};</span>
<a name="l1096"><span class="ln">1096 </span></a><span class="s1">Blockly.RenderedConnection.prototype.setOffsetInBlock=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.offsetInBlock_.x=a;</span><span class="s3">this</span><span class="s1">.offsetInBlock_.y=b};Blockly.RenderedConnection.prototype.tighten_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.targetConnection.x_-this.x_,b=</span><span class="s3">this</span><span class="s1">.targetConnection.y_-this.y_;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">!=a||</span><span class="s4">0</span><span class="s1">!=b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.targetBlock(),d=c.getSvgRoot();</span><span class="s3">if</span><span class="s1">(!d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;block is not rendered.&quot;</span><span class="s1">);d=Blockly.utils.getRelativeXY(d);c.getSvgRoot().setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(d.x-a)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(d.y-b)+</span><span class="s2">&quot;)&quot;</span><span class="s1">);c.moveConnections_(-a,-b)}};</span>
<a name="l1097"><span class="ln">1097 </span></a><span class="s1">Blockly.RenderedConnection.prototype.closest=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return this</span><span class="s1">.dbOpposite_.searchForClosest(</span><span class="s3">this</span><span class="s1">,a,b)};</span>
<a name="l1098"><span class="ln">1098 </span></a><span class="s1">Blockly.RenderedConnection.prototype.highlight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.type==Blockly.INPUT_VALUE||</span><span class="s3">this</span><span class="s1">.type==Blockly.OUTPUT_VALUE?</span><span class="s2">&quot;m 0,0 &quot;</span><span class="s1">+Blockly.BlockSvg.TAB_PATH_DOWN+</span><span class="s2">&quot; v 5&quot;</span><span class="s1">:</span><span class="s2">&quot;m -20,0 h 5 &quot;</span><span class="s1">+Blockly.BlockSvg.NOTCH_PATH_LEFT+</span><span class="s2">&quot; h 5&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyHighlightedConnectionPath&quot;</span><span class="s1">,d:a,transform:</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.x_-b.x)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.y_-b.y)+</span><span class="s2">&quot;)&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL?</span><span class="s2">&quot; scale(-1 1)&quot;</span><span class="s1">:</span>
<a name="l1099"><span class="ln">1099 </span></a><span class="s2">&quot;&quot;</span><span class="s1">)},</span><span class="s3">this</span><span class="s1">.sourceBlock_.getSvgRoot())};</span>
<a name="l1100"><span class="ln">1100 </span></a><span class="s1">Blockly.RenderedConnection.prototype.unhideAll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setHidden(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.type!=Blockly.INPUT_VALUE&amp;&amp;</span><span class="s3">this</span><span class="s1">.type!=Blockly.NEXT_STATEMENT)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.targetBlock();</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">if</span><span class="s1">(b.isCollapsed()){</span><span class="s3">var </span><span class="s1">c=[];b.outputConnection&amp;&amp;c.push(b.outputConnection);b.nextConnection&amp;&amp;c.push(b.nextConnection);b.previousConnection&amp;&amp;c.push(b.previousConnection)}</span><span class="s3">else </span><span class="s1">c=b.getConnections_(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)a.push.apply(a,c[d].unhideAll());a.length||(a[</span><span class="s4">0</span><span class="s1">]=b)}</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1101"><span class="ln">1101 </span></a><span class="s1">Blockly.RenderedConnection.prototype.unhighlight=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeNode(Blockly.Connection.highlightedPath_);</span><span class="s3">delete </span><span class="s1">Blockly.Connection.highlightedPath_};Blockly.RenderedConnection.prototype.setHidden=</span><span class="s3">function</span><span class="s1">(a){(</span><span class="s3">this</span><span class="s1">.hidden_=a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.inDB_?</span><span class="s3">this</span><span class="s1">.db_.removeConnection_(</span><span class="s3">this</span><span class="s1">):a||</span><span class="s3">this</span><span class="s1">.inDB_||</span><span class="s3">this</span><span class="s1">.db_.addConnection(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l1102"><span class="ln">1102 </span></a><span class="s1">Blockly.RenderedConnection.prototype.hideAll=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setHidden(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.targetConnection)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.targetBlock().getDescendants(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a[b],d=c.getConnections_(!</span><span class="s4">0</span><span class="s1">),e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++)d[e].setHidden(!</span><span class="s4">0</span><span class="s1">);c=c.getIcons();</span><span class="s3">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;e&lt;c.length;e++)c[e].setVisible(!</span><span class="s4">1</span><span class="s1">)}};Blockly.RenderedConnection.prototype.isConnectionAllowed=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return this</span><span class="s1">.distanceFrom(a)&gt;b?!</span><span class="s4">1</span><span class="s1">:Blockly.RenderedConnection.superClass_.isConnectionAllowed.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1103"><span class="ln">1103 </span></a><span class="s1">Blockly.RenderedConnection.prototype.disconnectInternal_=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.RenderedConnection.superClass_.disconnectInternal_.call(</span><span class="s3">this</span><span class="s1">,a,b);a.rendered&amp;&amp;a.render();b.rendered&amp;&amp;(b.updateDisabled(),b.render())};</span>
<a name="l1104"><span class="ln">1104 </span></a><span class="s1">Blockly.RenderedConnection.prototype.respawnShadow_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getSourceBlock(),b=</span><span class="s3">this</span><span class="s1">.getShadowDom();</span><span class="s3">if</span><span class="s1">(a.workspace&amp;&amp;b&amp;&amp;Blockly.Events.recordUndo){Blockly.RenderedConnection.superClass_.respawnShadow_.call(</span><span class="s3">this</span><span class="s1">);b=</span><span class="s3">this</span><span class="s1">.targetBlock();</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Couldn't respawn the shadow block that should exist here.&quot;</span><span class="s1">);b.initSvg();b.render(!</span><span class="s4">1</span><span class="s1">);a.rendered&amp;&amp;a.render()}};Blockly.RenderedConnection.prototype.neighbours_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.dbOpposite_.getNeighbours(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1105"><span class="ln">1105 </span></a><span class="s1">Blockly.RenderedConnection.prototype.connect_=</span><span class="s3">function</span><span class="s1">(a){Blockly.RenderedConnection.superClass_.connect_.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getSourceBlock();a=a.getSourceBlock();b.rendered&amp;&amp;b.updateDisabled();a.rendered&amp;&amp;a.updateDisabled();b.rendered&amp;&amp;a.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.type==Blockly.NEXT_STATEMENT||</span><span class="s3">this</span><span class="s1">.type==Blockly.PREVIOUS_STATEMENT?a.render():b.render())};</span>
<a name="l1106"><span class="ln">1106 </span></a><span class="s1">Blockly.RenderedConnection.prototype.onCheckChanged_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isConnected()&amp;&amp;!</span><span class="s3">this</span><span class="s1">.checkType_(</span><span class="s3">this</span><span class="s1">.targetConnection)&amp;&amp;((</span><span class="s3">this</span><span class="s1">.isSuperior()?</span><span class="s3">this</span><span class="s1">.targetBlock():</span><span class="s3">this</span><span class="s1">.sourceBlock_).unplug(),</span><span class="s3">this</span><span class="s1">.sourceBlock_.bumpNeighbours_())};Blockly.InsertionMarkerManager=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.topBlock_=Blockly.selected=a;</span><span class="s3">this</span><span class="s1">.workspace_=a.workspace;</span><span class="s3">this</span><span class="s1">.lastMarker_=</span><span class="s3">this</span><span class="s1">.lastOnStack_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.firstMarker_=</span><span class="s3">this</span><span class="s1">.createMarkerBlock_(</span><span class="s3">this</span><span class="s1">.topBlock_);</span><span class="s3">this</span><span class="s1">.localConnection_=</span><span class="s3">this</span><span class="s1">.closestConnection_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.markerConnection_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.highlightingBlock_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.highlightedBlock_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.availableConnections_=</span><span class="s3">this</span><span class="s1">.initAvailableConnections_()};</span>
<a name="l1107"><span class="ln">1107 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.topBlock_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.availableConnections_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.localConnection_=</span><span class="s3">this</span><span class="s1">.closestConnection_=</span><span class="s3">null</span><span class="s1">;Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.firstMarker_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.firstMarker_.dispose(),</span><span class="s3">this</span><span class="s1">.firstMarker_=</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.lastMarker_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.lastMarker_.dispose(),</span><span class="s3">this</span><span class="s1">.lastMarker_=</span><span class="s3">null</span><span class="s1">)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}</span><span class="s3">this</span><span class="s1">.highlightedBlock_=</span><span class="s3">null</span><span class="s1">};Blockly.InsertionMarkerManager.prototype.wouldDeleteBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.wouldDeleteBlock_};</span>
<a name="l1108"><span class="ln">1108 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.wouldConnectBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.closestConnection_};</span>
<a name="l1109"><span class="ln">1109 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.applyConnections=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.closestConnection_&amp;&amp;(Blockly.Events.disable(),</span><span class="s3">this</span><span class="s1">.hidePreview_(),Blockly.Events.enable(),</span><span class="s3">this</span><span class="s1">.localConnection_.connect(</span><span class="s3">this</span><span class="s1">.closestConnection_),</span><span class="s3">this</span><span class="s1">.topBlock_.rendered)){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.localConnection_.isSuperior()?</span><span class="s3">this</span><span class="s1">.closestConnection_:</span><span class="s3">this</span><span class="s1">.localConnection_;Blockly.blockAnimations.connectionUiEffect(a.getSourceBlock());</span><span class="s3">this</span><span class="s1">.topBlock_.getRootBlock().bringToFront()}};</span>
<a name="l1110"><span class="ln">1110 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.update=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getCandidate_(a);</span><span class="s3">if</span><span class="s1">((</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_=</span><span class="s3">this</span><span class="s1">.shouldDelete_(c,b))||</span><span class="s3">this</span><span class="s1">.shouldUpdatePreviews_(c,a))Blockly.Events.disable(),</span><span class="s3">this</span><span class="s1">.maybeHidePreview_(c),</span><span class="s3">this</span><span class="s1">.maybeShowPreview_(c),Blockly.Events.enable()};</span>
<a name="l1111"><span class="ln">1111 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.createMarkerBlock_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.type;Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.workspace_.newBlock(b);c.setInsertionMarker(!</span><span class="s4">0</span><span class="s1">,a.width);c.setCollapsed(a.isCollapsed());</span><span class="s3">if</span><span class="s1">(a.mutationToDom){</span><span class="s3">var </span><span class="s1">d=a.mutationToDom();d&amp;&amp;c.domToMutation(d)}</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;a.inputList.length;b++){</span><span class="s3">var </span><span class="s1">e=a.inputList[b];</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;e.fieldRow.length;d++){</span><span class="s3">var </span><span class="s1">f=e.fieldRow[d];c.setFieldValue(f.getValue(),f.name)}}c.initSvg();c.getSvgRoot().setAttribute(</span><span class="s2">&quot;visibility&quot;</span><span class="s1">,</span><span class="s2">&quot;hidden&quot;</span><span class="s1">)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1112"><span class="ln">1112 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.initAvailableConnections_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.topBlock_.getConnections_(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s3">this</span><span class="s1">.topBlock_.lastConnectionInStack();b&amp;&amp;b!=</span><span class="s3">this</span><span class="s1">.topBlock_.nextConnection&amp;&amp;(a.push(b),</span><span class="s3">this</span><span class="s1">.lastOnStack_=b,</span><span class="s3">this</span><span class="s1">.lastMarker_=</span><span class="s3">this</span><span class="s1">.createMarkerBlock_(b.sourceBlock_));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1113"><span class="ln">1113 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.shouldUpdatePreviews_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.local,d=a.closest,e=a.radius;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;d){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.localConnection_&amp;&amp;</span><span class="s3">this</span><span class="s1">.closestConnection_){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.closestConnection_==d&amp;&amp;</span><span class="s3">this</span><span class="s1">.localConnection_==c)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;c=</span><span class="s3">this</span><span class="s1">.localConnection_.x_+b.x-this.closestConnection_.x_;</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.localConnection_.y_+b.y-this.closestConnection_.y_;c=Math.sqrt(c*c+f*f);</span><span class="s3">return</span><span class="s1">!(d&amp;&amp;e&gt;c-Blockly.CURRENT_CONNECTION_PREFERENCE)}</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.localConnection_||</span><span class="s3">this</span><span class="s1">.closestConnection_)console.error(</span><span class="s2">&quot;Only one of localConnection_ and closestConnection_ was set.&quot;</span><span class="s1">);</span>
<a name="l1114"><span class="ln">1114 </span></a><span class="s3">else return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">else return</span><span class="s1">!(!</span><span class="s3">this</span><span class="s1">.localConnection_||!</span><span class="s3">this</span><span class="s1">.closestConnection_);console.error(</span><span class="s2">&quot;Returning true from shouldUpdatePreviews, but it's not clear why.&quot;</span><span class="s1">);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};Blockly.InsertionMarkerManager.prototype.getCandidate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getStartRadius_(),c=</span><span class="s3">null</span><span class="s1">,d=</span><span class="s3">null</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">;e&lt;</span><span class="s3">this</span><span class="s1">.availableConnections_.length;e++){</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.availableConnections_[e],g=f.closest(b,a);g.connection&amp;&amp;(c=g.connection,d=f,b=g.radius)}</span><span class="s3">return</span><span class="s1">{closest:c,local:d,radius:b}};</span>
<a name="l1115"><span class="ln">1115 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.getStartRadius_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.closestConnection_&amp;&amp;</span><span class="s3">this</span><span class="s1">.localConnection_?Blockly.CONNECTING_SNAP_RADIUS:Blockly.SNAP_RADIUS};</span>
<a name="l1116"><span class="ln">1116 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.shouldReplace_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.closestConnection_,b=</span><span class="s3">this</span><span class="s1">.localConnection_;</span><span class="s3">return </span><span class="s1">b.type==Blockly.OUTPUT_VALUE?!a.isConnected()||Blockly.Connection.lastConnectionInRow_(</span><span class="s3">this</span><span class="s1">.topBlock_,a.targetConnection.getSourceBlock())?!</span><span class="s4">1</span><span class="s1">:!</span><span class="s4">0</span><span class="s1">:b==b.sourceBlock_.getFirstStatementConnection()?!</span><span class="s4">1</span><span class="s1">:!</span><span class="s3">this</span><span class="s1">.topBlock_.nextConnection&amp;&amp;b.type==Blockly.PREVIOUS_STATEMENT&amp;&amp;a.isConnected()?!</span><span class="s4">0</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1117"><span class="ln">1117 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.shouldDelete_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a&amp;&amp;!!a.closest&amp;&amp;b!=Blockly.DELETE_AREA_TOOLBOX;</span><span class="s3">return</span><span class="s1">!!b&amp;&amp;!</span><span class="s3">this</span><span class="s1">.topBlock_.getParent()&amp;&amp;</span><span class="s3">this</span><span class="s1">.topBlock_.isDeletable()&amp;&amp;!c};Blockly.InsertionMarkerManager.prototype.maybeShowPreview_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_){</span><span class="s3">var </span><span class="s1">b=a.closest;a=a.local;b&amp;&amp;(b==</span><span class="s3">this</span><span class="s1">.closestConnection_||b.sourceBlock_.isInsertionMarker()?console.log(</span><span class="s2">&quot;trying to connect to an insertion marker&quot;</span><span class="s1">):(</span><span class="s3">this</span><span class="s1">.closestConnection_=b,</span><span class="s3">this</span><span class="s1">.localConnection_=a,</span><span class="s3">this</span><span class="s1">.showPreview_()))}};</span>
<a name="l1118"><span class="ln">1118 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.showPreview_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.shouldReplace_()?</span><span class="s3">this</span><span class="s1">.highlightBlock_():</span><span class="s3">this</span><span class="s1">.connectMarker_();</span><span class="s3">this</span><span class="s1">.closestConnection_&amp;&amp;</span><span class="s3">this</span><span class="s1">.closestConnection_.highlight()};</span>
<a name="l1119"><span class="ln">1119 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.maybeHidePreview_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.closest){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.closestConnection_!=a.closest;a=</span><span class="s3">this</span><span class="s1">.localConnection_!=a.local;</span><span class="s3">this</span><span class="s1">.closestConnection_&amp;&amp;</span><span class="s3">this</span><span class="s1">.localConnection_&amp;&amp;(b||a||</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_)&amp;&amp;</span><span class="s3">this</span><span class="s1">.hidePreview_()}</span><span class="s3">else this</span><span class="s1">.hidePreview_();</span><span class="s3">this</span><span class="s1">.localConnection_=</span><span class="s3">this</span><span class="s1">.closestConnection_=</span><span class="s3">this</span><span class="s1">.markerConnection_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1120"><span class="ln">1120 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.hidePreview_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.closestConnection_&amp;&amp;</span><span class="s3">this</span><span class="s1">.closestConnection_.unhighlight();</span><span class="s3">this</span><span class="s1">.highlightingBlock_?</span><span class="s3">this</span><span class="s1">.unhighlightBlock_():</span><span class="s3">this</span><span class="s1">.markerConnection_&amp;&amp;</span><span class="s3">this</span><span class="s1">.disconnectMarker_()};</span>
<a name="l1121"><span class="ln">1121 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.highlightBlock_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.closestConnection_,b=</span><span class="s3">this</span><span class="s1">.localConnection_;a.targetBlock()?(</span><span class="s3">this</span><span class="s1">.highlightedBlock_=a.targetBlock(),a.targetBlock().highlightForReplacement(!</span><span class="s4">0</span><span class="s1">)):b.type==Blockly.OUTPUT_VALUE&amp;&amp;(</span><span class="s3">this</span><span class="s1">.highlightedBlock_=a.sourceBlock_,a.sourceBlock_.highlightShapeForInput(a,!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.highlightingBlock_=!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l1122"><span class="ln">1122 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.unhighlightBlock_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.closestConnection_;a.type!=Blockly.INPUT_VALUE||a.isConnected()?</span><span class="s3">this</span><span class="s1">.highlightedBlock_.highlightForReplacement(!</span><span class="s4">1</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.highlightedBlock_.highlightShapeForInput(a,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.highlightedBlock_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.highlightingBlock_=!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1123"><span class="ln">1123 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.disconnectMarker_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.markerConnection_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.markerConnection_,b=a.sourceBlock_,c=b.nextConnection,d=b.previousConnection,e=b.outputConnection;e=a.type==Blockly.INPUT_VALUE&amp;&amp;!(e&amp;&amp;e.targetConnection);!(a!=c||d&amp;&amp;d.targetConnection)||e?a.targetBlock().unplug(!</span><span class="s4">1</span><span class="s1">):a.type==Blockly.NEXT_STATEMENT&amp;&amp;a!=c?(c=a.targetConnection,c.sourceBlock_.unplug(!</span><span class="s4">1</span><span class="s1">),d=d?d.targetConnection:</span><span class="s3">null</span><span class="s1">,b.unplug(!</span><span class="s4">0</span><span class="s1">),d&amp;&amp;d.connect(c)):b.unplug(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.targetConnection)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;markerConnection_ still connected at the end of disconnectInsertionMarker&quot;</span><span class="s1">);</span>
<a name="l1124"><span class="ln">1124 </span></a><span class="s3">this</span><span class="s1">.markerConnection_=</span><span class="s3">null</span><span class="s1">;b.getSvgRoot().setAttribute(</span><span class="s2">&quot;visibility&quot;</span><span class="s1">,</span><span class="s2">&quot;hidden&quot;</span><span class="s1">)}</span><span class="s3">else </span><span class="s1">console.log(</span><span class="s2">&quot;No insertion marker connection to disconnect&quot;</span><span class="s1">)};</span>
<a name="l1125"><span class="ln">1125 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.connectMarker_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.localConnection_,b=</span><span class="s3">this</span><span class="s1">.closestConnection_,c=</span><span class="s3">this</span><span class="s1">.lastOnStack_&amp;&amp;a==</span><span class="s3">this</span><span class="s1">.lastOnStack_?</span><span class="s3">this</span><span class="s1">.lastMarker_:</span><span class="s3">this</span><span class="s1">.firstMarker_;a=c.getMatchingConnection(a.sourceBlock_,a);</span><span class="s3">if</span><span class="s1">(a==</span><span class="s3">this</span><span class="s1">.markerConnection_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Made it to connectMarker_ even though the marker isn't changing&quot;</span><span class="s1">);c.render();c.rendered=!</span><span class="s4">0</span><span class="s1">;c.getSvgRoot().setAttribute(</span><span class="s2">&quot;visibility&quot;</span><span class="s1">,</span><span class="s2">&quot;visible&quot;</span><span class="s1">);c.positionNewBlock(c,a,b);a.connect(b);</span><span class="s3">this</span><span class="s1">.markerConnection_=a};</span>
<a name="l1126"><span class="ln">1126 </span></a><span class="s1">Blockly.InsertionMarkerManager.prototype.getInsertionMarkers=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">this</span><span class="s1">.firstMarker_&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.firstMarker_);</span><span class="s3">this</span><span class="s1">.lastMarker_&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.lastMarker_);</span><span class="s3">return </span><span class="s1">a};Blockly.BlockDragger=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.draggingBlock_=a;</span><span class="s3">this</span><span class="s1">.workspace_=b;</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_=</span><span class="s3">new </span><span class="s1">Blockly.InsertionMarkerManager(</span><span class="s3">this</span><span class="s1">.draggingBlock_);</span><span class="s3">this</span><span class="s1">.deleteArea_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.startXY_=</span><span class="s3">this</span><span class="s1">.draggingBlock_.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.dragIconData_=Blockly.BlockDragger.initIconData_(a)};</span>
<a name="l1127"><span class="ln">1127 </span></a><span class="s1">Blockly.BlockDragger.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.startWorkspace_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.draggingBlock_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.dragIconData_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.dispose(),</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_=</span><span class="s3">null</span><span class="s1">)};Blockly.BlockDragger.initIconData_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];a=a.getDescendants(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=a[c];c++){d=d.getIcons();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++){</span><span class="s3">var </span><span class="s1">f={location:d[e].getIconLocation(),icon:d[e]};b.push(f)}}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1128"><span class="ln">1128 </span></a><span class="s1">Blockly.BlockDragger.prototype.startBlockDrag=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.Events.getGroup()||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.isMutator&amp;&amp;</span><span class="s3">this</span><span class="s1">.draggingBlock_.bringToFront();Blockly.Field.startCache();</span><span class="s3">this</span><span class="s1">.workspace_.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);Blockly.blockAnimations.disconnectUiStop();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.draggingBlock_.getParent()||b&amp;&amp;</span><span class="s3">this</span><span class="s1">.draggingBlock_.nextConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.draggingBlock_.nextConnection.targetBlock()){</span><span class="s3">this</span><span class="s1">.draggingBlock_.unplug(b);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.pixelsToWorkspaceUnits_(a);c=Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.startXY_,</span>
<a name="l1129"><span class="ln">1129 </span></a><span class="s1">c);</span><span class="s3">this</span><span class="s1">.draggingBlock_.translate(c.x,c.y);Blockly.blockAnimations.disconnectUiEffect(</span><span class="s3">this</span><span class="s1">.draggingBlock_)}</span><span class="s3">this</span><span class="s1">.draggingBlock_.setDragging(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.draggingBlock_.moveToDragSurface_();</span><span class="s3">if</span><span class="s1">(c=</span><span class="s3">this</span><span class="s1">.workspace_.getToolbox()){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.draggingBlock_.isDeletable()?</span><span class="s2">&quot;blocklyToolboxDelete&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyToolboxGrab&quot;</span><span class="s1">;c.addStyle(d)}};</span>
<a name="l1130"><span class="ln">1130 </span></a><span class="s1">Blockly.BlockDragger.prototype.dragBlock=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.pixelsToWorkspaceUnits_(b),d=Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.startXY_,c);</span><span class="s3">this</span><span class="s1">.draggingBlock_.moveDuringDrag(d);</span><span class="s3">this</span><span class="s1">.dragIcons_(c);</span><span class="s3">this</span><span class="s1">.deleteArea_=</span><span class="s3">this</span><span class="s1">.workspace_.isDeleteArea(a);</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.update(c,</span><span class="s3">this</span><span class="s1">.deleteArea_);</span><span class="s3">this</span><span class="s1">.updateCursorDuringBlockDrag_()};</span>
<a name="l1131"><span class="ln">1131 </span></a><span class="s1">Blockly.BlockDragger.prototype.endBlockDrag=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.dragBlock(a,b);</span><span class="s3">this</span><span class="s1">.dragIconData_=[];Blockly.Field.stopCache();Blockly.blockAnimations.disconnectUiStop();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.pixelsToWorkspaceUnits_(b),d=Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.startXY_,c);</span><span class="s3">this</span><span class="s1">.draggingBlock_.moveOffDragSurface_(d);</span><span class="s3">this</span><span class="s1">.maybeDeleteBlock_()||(</span><span class="s3">this</span><span class="s1">.draggingBlock_.moveConnections_(c.x,c.y),</span><span class="s3">this</span><span class="s1">.draggingBlock_.setDragging(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.fireMoveEvent_(),</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.wouldConnectBlock()?</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.applyConnections():</span>
<a name="l1132"><span class="ln">1132 </span></a><span class="s3">this</span><span class="s1">.draggingBlock_.render(),</span><span class="s3">this</span><span class="s1">.draggingBlock_.scheduleSnapAndBump());</span><span class="s3">this</span><span class="s1">.workspace_.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c=</span><span class="s3">this</span><span class="s1">.workspace_.getToolbox())d=</span><span class="s3">this</span><span class="s1">.draggingBlock_.isDeletable()?</span><span class="s2">&quot;blocklyToolboxDelete&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyToolboxGrab&quot;</span><span class="s1">,c.removeStyle(d);Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)};Blockly.BlockDragger.prototype.fireMoveEvent_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockMove(</span><span class="s3">this</span><span class="s1">.draggingBlock_);a.oldCoordinate=</span><span class="s3">this</span><span class="s1">.startXY_;a.recordNew();Blockly.Events.fire(a)};</span>
<a name="l1133"><span class="ln">1133 </span></a><span class="s1">Blockly.BlockDragger.prototype.maybeDeleteBlock_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.trashcan;</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_?(a&amp;&amp;setTimeout(a.close.bind(a),</span><span class="s4">100</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.fireMoveEvent_(),</span><span class="s3">this</span><span class="s1">.draggingBlock_.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">)):a&amp;&amp;a.close();</span><span class="s3">return this</span><span class="s1">.wouldDeleteBlock_};</span>
<a name="l1134"><span class="ln">1134 </span></a><span class="s1">Blockly.BlockDragger.prototype.updateCursorDuringBlockDrag_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_=</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.wouldDeleteBlock();</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.trashcan;</span><span class="s3">this</span><span class="s1">.wouldDeleteBlock_?(</span><span class="s3">this</span><span class="s1">.draggingBlock_.setDeleteStyle(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.deleteArea_==Blockly.DELETE_AREA_TRASH&amp;&amp;a&amp;&amp;a.setOpen_(!</span><span class="s4">0</span><span class="s1">)):(</span><span class="s3">this</span><span class="s1">.draggingBlock_.setDeleteStyle(!</span><span class="s4">1</span><span class="s1">),a&amp;&amp;a.setOpen_(!</span><span class="s4">1</span><span class="s1">))};</span>
<a name="l1135"><span class="ln">1135 </span></a><span class="s1">Blockly.BlockDragger.prototype.pixelsToWorkspaceUnits_=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.x/</span><span class="s3">this</span><span class="s1">.workspace_.scale,a.y/</span><span class="s3">this</span><span class="s1">.workspace_.scale);</span><span class="s3">this</span><span class="s1">.workspace_.isMutator&amp;&amp;a.scale(</span><span class="s4">1</span><span class="s1">/</span><span class="s3">this</span><span class="s1">.workspace_.options.parentWorkspace.scale);</span><span class="s3">return </span><span class="s1">a};Blockly.BlockDragger.prototype.dragIcons_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.dragIconData_.length;b++){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.dragIconData_[b];c.icon.setIconLocation(Blockly.utils.Coordinate.sum(c.location,a))}};</span>
<a name="l1136"><span class="ln">1136 </span></a><span class="s1">Blockly.BlockDragger.prototype.getInsertionMarkers=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.draggedConnectionManager_&amp;&amp;</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.getInsertionMarkers?</span><span class="s3">this</span><span class="s1">.draggedConnectionManager_.getInsertionMarkers():[]};Blockly.utils.Rect=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.top=a;</span><span class="s3">this</span><span class="s1">.bottom=b;</span><span class="s3">this</span><span class="s1">.left=c;</span><span class="s3">this</span><span class="s1">.right=d};Blockly.utils.Rect.prototype.contains=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a&gt;=</span><span class="s3">this</span><span class="s1">.left&amp;&amp;a&lt;=</span><span class="s3">this</span><span class="s1">.right&amp;&amp;b&gt;=</span><span class="s3">this</span><span class="s1">.top&amp;&amp;b&lt;=</span><span class="s3">this</span><span class="s1">.bottom};Blockly.WorkspaceCommentSvg=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyComment&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgGroup_.translate_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.svgRect_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyCommentRect&quot;</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,rx:Blockly.WorkspaceCommentSvg.BORDER_RADIUS,ry:Blockly.WorkspaceCommentSvg.BORDER_RADIUS});</span><span class="s3">this</span><span class="s1">.svgGroup_.appendChild(</span><span class="s3">this</span><span class="s1">.svgRect_);</span><span class="s3">this</span><span class="s1">.rendered_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.useDragSurface_=Blockly.utils.is3dSupported()&amp;&amp;!!a.blockDragSurface_;Blockly.WorkspaceCommentSvg.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,</span>
<a name="l1137"><span class="ln">1137 </span></a><span class="s1">a,b,c,d,e);</span><span class="s3">this</span><span class="s1">.render()};goog.inherits(Blockly.WorkspaceCommentSvg,Blockly.WorkspaceComment);Blockly.WorkspaceCommentSvg.DEFAULT_SIZE=</span><span class="s4">100</span><span class="s1">;</span>
<a name="l1138"><span class="ln">1138 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;(Blockly.selected==</span><span class="s3">this</span><span class="s1">&amp;&amp;(</span><span class="s3">this</span><span class="s1">.unselect(),</span><span class="s3">this</span><span class="s1">.workspace.cancelCurrentGesture()),Blockly.Events.isEnabled()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentDelete(</span><span class="s3">this</span><span class="s1">)),Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s3">this</span><span class="s1">.svgRect_=</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.disposeInternal_(),Blockly.Events.disable(),Blockly.WorkspaceCommentSvg.superClass_.dispose.call(</span><span class="s3">this</span><span class="s1">),Blockly.Events.enable())};</span>
<a name="l1139"><span class="ln">1139 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.initSvg=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.workspace.rendered)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Workspace is headless.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly||</span><span class="s3">this</span><span class="s1">.eventsInit_||(Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgRectTarget_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.pathMouseDown_),Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgHandleTarget_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.pathMouseDown_));</span><span class="s3">this</span><span class="s1">.eventsInit_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.updateMovable();</span><span class="s3">this</span><span class="s1">.getSvgRoot().parentNode||</span><span class="s3">this</span><span class="s1">.workspace.getBubbleCanvas().appendChild(</span><span class="s3">this</span><span class="s1">.getSvgRoot())};</span>
<a name="l1140"><span class="ln">1140 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.pathMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace.getGesture(a);b&amp;&amp;b.handleBubbleStart(a,</span><span class="s3">this</span><span class="s1">)};Blockly.WorkspaceCommentSvg.prototype.showContextMenu_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly){</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">this</span><span class="s1">.isDeletable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isMovable()&amp;&amp;(b.push(Blockly.ContextMenu.commentDuplicateOption(</span><span class="s3">this</span><span class="s1">)),b.push(Blockly.ContextMenu.commentDeleteOption(</span><span class="s3">this</span><span class="s1">)));Blockly.ContextMenu.show(a,b,</span><span class="s3">this</span><span class="s1">.RTL)}};</span>
<a name="l1141"><span class="ln">1141 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.select=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(Blockly.selected!=</span><span class="s3">this</span><span class="s1">){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(Blockly.selected){a=Blockly.selected.id;Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{Blockly.selected.unselect()}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}}a=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;selected&quot;</span><span class="s1">,a,</span><span class="s3">this</span><span class="s1">.id);a.workspaceId=</span><span class="s3">this</span><span class="s1">.workspace.id;Blockly.Events.fire(a);Blockly.selected=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.addSelect()}};</span>
<a name="l1142"><span class="ln">1142 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.unselect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(Blockly.selected==</span><span class="s3">this</span><span class="s1">){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;selected&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.id,</span><span class="s3">null</span><span class="s1">);a.workspaceId=</span><span class="s3">this</span><span class="s1">.workspace.id;Blockly.Events.fire(a);Blockly.selected=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.removeSelect();</span><span class="s3">this</span><span class="s1">.blurFocus()}};Blockly.WorkspaceCommentSvg.prototype.addSelect=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklySelected&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setFocus()};</span>
<a name="l1143"><span class="ln">1143 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.removeSelect=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklySelected&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.blurFocus()};Blockly.WorkspaceCommentSvg.prototype.addFocus=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyFocused&quot;</span><span class="s1">)};Blockly.WorkspaceCommentSvg.prototype.removeFocus=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyFocused&quot;</span><span class="s1">)};</span>
<a name="l1144"><span class="ln">1144 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.getRelativeToSurfaceXY=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.useDragSurface_?</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.getGroup():</span><span class="s3">null</span><span class="s1">,d=</span><span class="s3">this</span><span class="s1">.getSvgRoot();</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=Blockly.utils.getRelativeXY(d);a+=e.x;b+=e.y;</span><span class="s3">this</span><span class="s1">.useDragSurface_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.getCurrentBlock()==d&amp;&amp;(e=</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.getSurfaceTranslation(),a+=e.x,b+=e.y);d=d.parentNode}</span><span class="s3">while</span><span class="s1">(d&amp;&amp;d!=</span><span class="s3">this</span><span class="s1">.workspace.getBubbleCanvas()&amp;&amp;d!=c)}</span><span class="s3">return this</span><span class="s1">.xy_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a,</span>
<a name="l1145"><span class="ln">1145 </span></a><span class="s1">b)};Blockly.WorkspaceCommentSvg.prototype.moveBy=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentMove(</span><span class="s3">this</span><span class="s1">),d=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.translate(d.x+a,d.y+b);</span><span class="s3">this</span><span class="s1">.xy_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(d.x+a,d.y+b);c.recordNew();Blockly.Events.fire(c);</span><span class="s3">this</span><span class="s1">.workspace.resizeContents()};Blockly.WorkspaceCommentSvg.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.xy_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a,b);</span><span class="s3">this</span><span class="s1">.getSvgRoot().setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;,&quot;</span><span class="s1">+b+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};</span>
<a name="l1146"><span class="ln">1146 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.moveToDragSurface_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.useDragSurface_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.clearTransformAttributes_();</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.translateSurface(a.x,a.y);</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.setBlocksAndShow(</span><span class="s3">this</span><span class="s1">.getSvgRoot())}};Blockly.WorkspaceCommentSvg.prototype.moveOffDragSurface_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.useDragSurface_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.translate(a.x,a.y),</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.clearAndHide(</span><span class="s3">this</span><span class="s1">.workspace.getCanvas()))};</span>
<a name="l1147"><span class="ln">1147 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.moveDuringDrag=</span><span class="s3">function</span><span class="s1">(a,b){a?a.translateSurface(b.x,b.y):(</span><span class="s3">this</span><span class="s1">.svgGroup_.translate_=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+b.x+</span><span class="s2">&quot;,&quot;</span><span class="s1">+b.y+</span><span class="s2">&quot;)&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgGroup_.translate_+</span><span class="s3">this</span><span class="s1">.svgGroup_.skew_))};Blockly.WorkspaceCommentSvg.prototype.moveTo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.translate(a,b)};Blockly.WorkspaceCommentSvg.prototype.clearTransformAttributes_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.getSvgRoot().removeAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">)};</span>
<a name="l1148"><span class="ln">1148 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.getBoundingRectangle=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY(),b=</span><span class="s3">this</span><span class="s1">.getHeightWidth(),c=a.y,d=a.y+b.height;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.RTL){</span><span class="s3">var </span><span class="s1">e=a.x-b.width;a=a.x}</span><span class="s3">else </span><span class="s1">e=a.x,a=a.x+b.width;</span><span class="s3">return new </span><span class="s1">Blockly.utils.Rect(c,d,e,a)};Blockly.WorkspaceCommentSvg.prototype.updateMovable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isMovable()?Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggable&quot;</span><span class="s1">):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggable&quot;</span><span class="s1">)};</span>
<a name="l1149"><span class="ln">1149 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.setMovable=</span><span class="s3">function</span><span class="s1">(a){Blockly.WorkspaceCommentSvg.superClass_.setMovable.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.updateMovable()};Blockly.WorkspaceCommentSvg.prototype.setDragging=</span><span class="s3">function</span><span class="s1">(a){a?(a=</span><span class="s3">this</span><span class="s1">.getSvgRoot(),a.translate_=</span><span class="s2">&quot;&quot;</span><span class="s1">,a.skew_=</span><span class="s2">&quot;&quot;</span><span class="s1">,Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDragging&quot;</span><span class="s1">)):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDragging&quot;</span><span class="s1">)};Blockly.WorkspaceCommentSvg.prototype.getSvgRoot=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.svgGroup_};</span>
<a name="l1150"><span class="ln">1150 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.getContent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.textarea_?</span><span class="s3">this</span><span class="s1">.textarea_.value:</span><span class="s3">this</span><span class="s1">.content_};Blockly.WorkspaceCommentSvg.prototype.setContent=</span><span class="s3">function</span><span class="s1">(a){Blockly.WorkspaceCommentSvg.superClass_.setContent.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.textarea_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.textarea_.value=a)};Blockly.WorkspaceCommentSvg.prototype.setDeleteStyle=</span><span class="s3">function</span><span class="s1">(a){a?Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggingDelete&quot;</span><span class="s1">):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggingDelete&quot;</span><span class="s1">)};</span>
<a name="l1151"><span class="ln">1151 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.setAutoLayout=</span><span class="s3">function</span><span class="s1">(){};Blockly.WorkspaceCommentSvg.fromXml=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=Blockly.WorkspaceComment.parseAttributes(a),e=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceCommentSvg(b,d.content,d.h,d.w,d.id);b.rendered&amp;&amp;(e.initSvg(),e.render(!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(!isNaN(d.x)&amp;&amp;!isNaN(d.y))</span><span class="s3">if</span><span class="s1">(b.RTL){</span><span class="s3">var </span><span class="s1">f=c||b.getWidth();e.moveBy(f-d.x,d.y)}</span><span class="s3">else </span><span class="s1">e.moveBy(d.x,d.y)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}Blockly.WorkspaceComment.fireCreateEvent(e);</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l1152"><span class="ln">1152 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.toXmlWithXY=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b;</span><span class="s3">this</span><span class="s1">.workspace.RTL&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.workspace.getWidth());a=</span><span class="s3">this</span><span class="s1">.toXml(a);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();a.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,Math.round(</span><span class="s3">this</span><span class="s1">.workspace.RTL?b-c.x:c.x));a.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,Math.round(c.y));a.setAttribute(</span><span class="s2">&quot;h&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getHeight());a.setAttribute(</span><span class="s2">&quot;w&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getWidth());</span><span class="s3">return </span><span class="s1">a};Blockly.BubbleDragger=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.draggingBubble_=a;</span><span class="s3">this</span><span class="s1">.workspace_=b;</span><span class="s3">this</span><span class="s1">.deleteArea_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.wouldDeleteBubble_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.startXY_=</span><span class="s3">this</span><span class="s1">.draggingBubble_.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.dragSurface_=Blockly.utils.is3dSupported()&amp;&amp;b.getBlockDragSurface()?b.getBlockDragSurface():</span><span class="s3">null</span><span class="s1">};Blockly.BubbleDragger.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.dragSurface_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.draggingBubble_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1153"><span class="ln">1153 </span></a><span class="s1">Blockly.BubbleDragger.prototype.startBubbleDrag=</span><span class="s3">function</span><span class="s1">(){Blockly.Events.getGroup()||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.draggingBubble_.setAutoLayout(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.dragSurface_&amp;&amp;</span><span class="s3">this</span><span class="s1">.moveToDragSurface_();</span><span class="s3">this</span><span class="s1">.draggingBubble_.setDragging&amp;&amp;</span><span class="s3">this</span><span class="s1">.draggingBubble_.setDragging(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getToolbox();</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.draggingBubble_.isDeletable()?</span><span class="s2">&quot;blocklyToolboxDelete&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyToolboxGrab&quot;</span><span class="s1">;a.addStyle(b)}};</span>
<a name="l1154"><span class="ln">1154 </span></a><span class="s1">Blockly.BubbleDragger.prototype.dragBubble=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.pixelsToWorkspaceUnits_(b);c=Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.startXY_,c);</span><span class="s3">this</span><span class="s1">.draggingBubble_.moveDuringDrag(</span><span class="s3">this</span><span class="s1">.dragSurface_,c);</span><span class="s3">this</span><span class="s1">.draggingBubble_.isDeletable()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.deleteArea_=</span><span class="s3">this</span><span class="s1">.workspace_.isDeleteArea(a),</span><span class="s3">this</span><span class="s1">.updateCursorDuringBubbleDrag_())};</span>
<a name="l1155"><span class="ln">1155 </span></a><span class="s1">Blockly.BubbleDragger.prototype.maybeDeleteBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.trashcan;</span><span class="s3">this</span><span class="s1">.wouldDeleteBubble_?(a&amp;&amp;setTimeout(a.close.bind(a),</span><span class="s4">100</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.fireMoveEvent_(),</span><span class="s3">this</span><span class="s1">.draggingBubble_.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">)):a&amp;&amp;a.close();</span><span class="s3">return this</span><span class="s1">.wouldDeleteBubble_};</span>
<a name="l1156"><span class="ln">1156 </span></a><span class="s1">Blockly.BubbleDragger.prototype.updateCursorDuringBubbleDrag_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.wouldDeleteBubble_=</span><span class="s3">this</span><span class="s1">.deleteArea_!=Blockly.DELETE_AREA_NONE;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.trashcan;</span><span class="s3">this</span><span class="s1">.wouldDeleteBubble_?(</span><span class="s3">this</span><span class="s1">.draggingBubble_.setDeleteStyle(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.deleteArea_==Blockly.DELETE_AREA_TRASH&amp;&amp;a&amp;&amp;a.setOpen_(!</span><span class="s4">0</span><span class="s1">)):(</span><span class="s3">this</span><span class="s1">.draggingBubble_.setDeleteStyle(!</span><span class="s4">1</span><span class="s1">),a&amp;&amp;a.setOpen_(!</span><span class="s4">1</span><span class="s1">))};</span>
<a name="l1157"><span class="ln">1157 </span></a><span class="s1">Blockly.BubbleDragger.prototype.endBubbleDrag=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.dragBubble(a,b);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.pixelsToWorkspaceUnits_(b);c=Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.startXY_,c);</span><span class="s3">this</span><span class="s1">.draggingBubble_.moveTo(c.x,c.y);</span><span class="s3">this</span><span class="s1">.maybeDeleteBubble_()||(</span><span class="s3">this</span><span class="s1">.dragSurface_&amp;&amp;</span><span class="s3">this</span><span class="s1">.dragSurface_.clearAndHide(</span><span class="s3">this</span><span class="s1">.workspace_.getBubbleCanvas()),</span><span class="s3">this</span><span class="s1">.draggingBubble_.setDragging&amp;&amp;</span><span class="s3">this</span><span class="s1">.draggingBubble_.setDragging(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.fireMoveEvent_());</span><span class="s3">this</span><span class="s1">.workspace_.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.toolbox_&amp;&amp;(c=</span><span class="s3">this</span><span class="s1">.draggingBubble_.isDeletable()?</span>
<a name="l1158"><span class="ln">1158 </span></a><span class="s2">&quot;blocklyToolboxDelete&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyToolboxGrab&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspace_.toolbox_.removeStyle(c));Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)};Blockly.BubbleDragger.prototype.fireMoveEvent_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.draggingBubble_.isComment){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">new </span><span class="s1">Blockly.Events.CommentMove(</span><span class="s3">this</span><span class="s1">.draggingBubble_);a.setOldCoordinate(</span><span class="s3">this</span><span class="s1">.startXY_);a.recordNew();Blockly.Events.fire(a)}};</span>
<a name="l1159"><span class="ln">1159 </span></a><span class="s1">Blockly.BubbleDragger.prototype.pixelsToWorkspaceUnits_=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.x/</span><span class="s3">this</span><span class="s1">.workspace_.scale,a.y/</span><span class="s3">this</span><span class="s1">.workspace_.scale);</span><span class="s3">this</span><span class="s1">.workspace_.isMutator&amp;&amp;a.scale(</span><span class="s4">1</span><span class="s1">/</span><span class="s3">this</span><span class="s1">.workspace_.options.parentWorkspace.scale);</span><span class="s3">return </span><span class="s1">a};Blockly.BubbleDragger.prototype.moveToDragSurface_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.draggingBubble_.moveTo(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.dragSurface_.translateSurface(</span><span class="s3">this</span><span class="s1">.startXY_.x,</span><span class="s3">this</span><span class="s1">.startXY_.y);</span><span class="s3">this</span><span class="s1">.dragSurface_.setBlocksAndShow(</span><span class="s3">this</span><span class="s1">.draggingBubble_.getSvgRoot())};Blockly.WorkspaceDragger=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.startScrollXY_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.scrollX,a.scrollY)};Blockly.WorkspaceDragger.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">null</span><span class="s1">};Blockly.WorkspaceDragger.prototype.startDrag=</span><span class="s3">function</span><span class="s1">(){Blockly.selected&amp;&amp;Blockly.selected.unselect();</span><span class="s3">this</span><span class="s1">.workspace_.setupDragSurface()};Blockly.WorkspaceDragger.prototype.endDrag=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.drag(a);</span><span class="s3">this</span><span class="s1">.workspace_.resetDragSurface()};</span>
<a name="l1160"><span class="ln">1160 </span></a><span class="s1">Blockly.WorkspaceDragger.prototype.drag=</span><span class="s3">function</span><span class="s1">(a){a=Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.startScrollXY_,a);</span><span class="s3">this</span><span class="s1">.workspace_.scroll(a.x,a.y)};Blockly.FlyoutDragger=</span><span class="s3">function</span><span class="s1">(a){Blockly.FlyoutDragger.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a.getWorkspace());</span><span class="s3">this</span><span class="s1">.scrollbar_=a.scrollbar_;</span><span class="s3">this</span><span class="s1">.horizontalLayout_=a.horizontalLayout_};goog.inherits(Blockly.FlyoutDragger,Blockly.WorkspaceDragger);Blockly.FlyoutDragger.prototype.updateScroll_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.horizontalLayout_?</span><span class="s3">this</span><span class="s1">.scrollbar_.set(a):</span><span class="s3">this</span><span class="s1">.scrollbar_.set(b)};Blockly.Tooltip={};Blockly.Tooltip.visible=!</span><span class="s4">1</span><span class="s1">;Blockly.Tooltip.blocked_=!</span><span class="s4">1</span><span class="s1">;Blockly.Tooltip.LIMIT=</span><span class="s4">50</span><span class="s1">;Blockly.Tooltip.mouseOutPid_=</span><span class="s4">0</span><span class="s1">;Blockly.Tooltip.showPid_=</span><span class="s4">0</span><span class="s1">;Blockly.Tooltip.lastX_=</span><span class="s4">0</span><span class="s1">;Blockly.Tooltip.lastY_=</span><span class="s4">0</span><span class="s1">;Blockly.Tooltip.element_=</span><span class="s3">null</span><span class="s1">;Blockly.Tooltip.poisonedElement_=</span><span class="s3">null</span><span class="s1">;Blockly.Tooltip.OFFSET_X=</span><span class="s4">0</span><span class="s1">;Blockly.Tooltip.OFFSET_Y=</span><span class="s4">10</span><span class="s1">;Blockly.Tooltip.RADIUS_OK=</span><span class="s4">10</span><span class="s1">;Blockly.Tooltip.HOVER_MS=</span><span class="s4">750</span><span class="s1">;Blockly.Tooltip.MARGINS=</span><span class="s4">5</span><span class="s1">;Blockly.Tooltip.DIV=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1161"><span class="ln">1161 </span></a><span class="s1">Blockly.Tooltip.createDom=</span><span class="s3">function</span><span class="s1">(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">),Blockly.Tooltip.DIV.className=</span><span class="s2">&quot;blocklyTooltipDiv&quot;</span><span class="s1">,document.body.appendChild(Blockly.Tooltip.DIV))};Blockly.Tooltip.bindMouseEvents=</span><span class="s3">function</span><span class="s1">(a){Blockly.bindEvent_(a,</span><span class="s2">&quot;mouseover&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,Blockly.Tooltip.onMouseOver_);Blockly.bindEvent_(a,</span><span class="s2">&quot;mouseout&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,Blockly.Tooltip.onMouseOut_);a.addEventListener(</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,Blockly.Tooltip.onMouseMove_,!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l1162"><span class="ln">1162 </span></a><span class="s1">Blockly.Tooltip.onMouseOver_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!Blockly.Tooltip.blocked_){</span><span class="s3">for</span><span class="s1">(a=a.currentTarget;</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.tooltip&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.tooltip;)a=a.tooltip;Blockly.Tooltip.element_!=a&amp;&amp;(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=</span><span class="s3">null</span><span class="s1">,Blockly.Tooltip.element_=a);clearTimeout(Blockly.Tooltip.mouseOutPid_)}};</span>
<a name="l1163"><span class="ln">1163 </span></a><span class="s1">Blockly.Tooltip.onMouseOut_=</span><span class="s3">function</span><span class="s1">(a){Blockly.Tooltip.blocked_||(Blockly.Tooltip.mouseOutPid_=setTimeout(</span><span class="s3">function</span><span class="s1">(){Blockly.Tooltip.element_=</span><span class="s3">null</span><span class="s1">;Blockly.Tooltip.poisonedElement_=</span><span class="s3">null</span><span class="s1">;Blockly.Tooltip.hide()},</span><span class="s4">1</span><span class="s1">),clearTimeout(Blockly.Tooltip.showPid_))};</span>
<a name="l1164"><span class="ln">1164 </span></a><span class="s1">Blockly.Tooltip.onMouseMove_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(Blockly.Tooltip.element_&amp;&amp;Blockly.Tooltip.element_.tooltip&amp;&amp;!Blockly.Tooltip.blocked_)</span><span class="s3">if</span><span class="s1">(Blockly.Tooltip.visible){</span><span class="s3">var </span><span class="s1">b=Blockly.Tooltip.lastX_-a.pageX;a=Blockly.Tooltip.lastY_-a.pageY;Math.sqrt(b*b+a*a)&gt;Blockly.Tooltip.RADIUS_OK&amp;&amp;Blockly.Tooltip.hide()}</span><span class="s3">else </span><span class="s1">Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&amp;&amp;(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=a.pageX,Blockly.Tooltip.lastY_=a.pageY,Blockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,</span>
<a name="l1165"><span class="ln">1165 </span></a><span class="s1">Blockly.Tooltip.HOVER_MS))};Blockly.Tooltip.hide=</span><span class="s3">function</span><span class="s1">(){Blockly.Tooltip.visible&amp;&amp;(Blockly.Tooltip.visible=!</span><span class="s4">1</span><span class="s1">,Blockly.Tooltip.DIV&amp;&amp;(Blockly.Tooltip.DIV.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">));Blockly.Tooltip.showPid_&amp;&amp;clearTimeout(Blockly.Tooltip.showPid_)};Blockly.Tooltip.block=</span><span class="s3">function</span><span class="s1">(){Blockly.Tooltip.hide();Blockly.Tooltip.blocked_=!</span><span class="s4">0</span><span class="s1">};Blockly.Tooltip.unblock=</span><span class="s3">function</span><span class="s1">(){Blockly.Tooltip.blocked_=!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1166"><span class="ln">1166 </span></a><span class="s1">Blockly.Tooltip.show_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!Blockly.Tooltip.blocked_&amp;&amp;(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV)){Blockly.Tooltip.DIV.innerHTML=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=Blockly.Tooltip.element_.tooltip;</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a;)a=a();a=Blockly.utils.string.wrap(a,Blockly.Tooltip.LIMIT);a=a.split(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++){</span><span class="s3">var </span><span class="s1">c=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);c.appendChild(document.createTextNode(a[b]));Blockly.Tooltip.DIV.appendChild(c)}a=Blockly.Tooltip.element_.RTL;b=document.documentElement.clientWidth;</span>
<a name="l1167"><span class="ln">1167 </span></a><span class="s1">c=document.documentElement.clientHeight;Blockly.Tooltip.DIV.style.direction=a?</span><span class="s2">&quot;rtl&quot;</span><span class="s1">:</span><span class="s2">&quot;ltr&quot;</span><span class="s1">;Blockly.Tooltip.DIV.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">;Blockly.Tooltip.visible=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">d=Blockly.Tooltip.lastX_;d=a?d-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):d+Blockly.Tooltip.OFFSET_X;</span><span class="s3">var </span><span class="s1">e=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;e+Blockly.Tooltip.DIV.offsetHeight&gt;c+window.scrollY&amp;&amp;(e-=Blockly.Tooltip.DIV.offsetHeight+</span><span class="s4">2</span><span class="s1">*Blockly.Tooltip.OFFSET_Y);a?d=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,</span>
<a name="l1168"><span class="ln">1168 </span></a><span class="s1">d):d+Blockly.Tooltip.DIV.offsetWidth&gt;b+window.scrollX-2*Blockly.Tooltip.MARGINS&amp;&amp;(d=b-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS);Blockly.Tooltip.DIV.style.top=e+</span><span class="s2">&quot;px&quot;</span><span class="s1">;Blockly.Tooltip.DIV.style.left=d+</span><span class="s2">&quot;px&quot;</span><span class="s1">}};Blockly.Gesture=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.startWorkspace_=</span><span class="s3">this</span><span class="s1">.targetBlock_=</span><span class="s3">this</span><span class="s1">.startBlock_=</span><span class="s3">this</span><span class="s1">.startField_=</span><span class="s3">this</span><span class="s1">.startBubble_=</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_=</span><span class="s3">this</span><span class="s1">.mouseDownXY_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.creatorWorkspace_=b;</span><span class="s3">this</span><span class="s1">.isDraggingBubble_=</span><span class="s3">this</span><span class="s1">.isDraggingBlock_=</span><span class="s3">this</span><span class="s1">.isDraggingWorkspace_=</span><span class="s3">this</span><span class="s1">.hasExceededDragRadius_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.mostRecentEvent_=a;</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">this</span><span class="s1">.workspaceDragger_=</span><span class="s3">this</span><span class="s1">.blockDragger_=</span><span class="s3">this</span><span class="s1">.bubbleDragger_=</span><span class="s3">this</span><span class="s1">.onUpWrapper_=</span><span class="s3">this</span><span class="s1">.onMoveWrapper_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.isEnding_=</span><span class="s3">this</span><span class="s1">.hasStarted_=</span><span class="s3">this</span><span class="s1">.calledUpdateIsDragging_=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1169"><span class="ln">1169 </span></a><span class="s3">this</span><span class="s1">.healStack_=!Blockly.DRAG_STACK};</span>
<a name="l1170"><span class="ln">1170 </span></a><span class="s1">Blockly.Gesture.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.Touch.clearTouchIdentifier();Blockly.Tooltip.unblock();</span><span class="s3">this</span><span class="s1">.creatorWorkspace_.clearGesture();</span><span class="s3">this</span><span class="s1">.onMoveWrapper_&amp;&amp;Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onMoveWrapper_);</span><span class="s3">this</span><span class="s1">.onUpWrapper_&amp;&amp;Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onUpWrapper_);</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">this</span><span class="s1">.startWorkspace_=</span><span class="s3">this</span><span class="s1">.targetBlock_=</span><span class="s3">this</span><span class="s1">.startBlock_=</span><span class="s3">this</span><span class="s1">.startField_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.blockDragger_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.blockDragger_.dispose(),</span><span class="s3">this</span><span class="s1">.blockDragger_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspaceDragger_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspaceDragger_.dispose(),</span><span class="s3">this</span><span class="s1">.workspaceDragger_=</span>
<a name="l1171"><span class="ln">1171 </span></a><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.bubbleDragger_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.bubbleDragger_.dispose(),</span><span class="s3">this</span><span class="s1">.bubbleDragger_=</span><span class="s3">null</span><span class="s1">)};Blockly.Gesture.prototype.updateFromEvent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.clientX,a.clientY);</span><span class="s3">this</span><span class="s1">.updateDragDelta_(b)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.updateIsDragging_(),Blockly.longStop_());</span><span class="s3">this</span><span class="s1">.mostRecentEvent_=a};</span>
<a name="l1172"><span class="ln">1172 </span></a><span class="s1">Blockly.Gesture.prototype.updateDragDelta_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_=Blockly.utils.Coordinate.difference(a,</span><span class="s3">this</span><span class="s1">.mouseDownXY_);</span><span class="s3">return this</span><span class="s1">.hasExceededDragRadius_?!</span><span class="s4">1</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.hasExceededDragRadius_=Blockly.utils.Coordinate.magnitude(</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_)&gt;(</span><span class="s3">this</span><span class="s1">.flyout_?Blockly.FLYOUT_DRAG_RADIUS:Blockly.DRAG_RADIUS)};</span>
<a name="l1173"><span class="ln">1173 </span></a><span class="s1">Blockly.Gesture.prototype.updateIsDraggingFromFlyout_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.flyout_.isBlockCreatable_(</span><span class="s3">this</span><span class="s1">.targetBlock_)?!</span><span class="s3">this</span><span class="s1">.flyout_.isScrollable()||</span><span class="s3">this</span><span class="s1">.flyout_.isDragTowardWorkspace(</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_)?(</span><span class="s3">this</span><span class="s1">.startWorkspace_=</span><span class="s3">this</span><span class="s1">.flyout_.targetWorkspace_,</span><span class="s3">this</span><span class="s1">.startWorkspace_.updateScreenCalculationsIfScrolled(),Blockly.Events.getGroup()||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.startBlock_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.targetBlock_=</span><span class="s3">this</span><span class="s1">.flyout_.createBlock(</span><span class="s3">this</span><span class="s1">.targetBlock_),</span><span class="s3">this</span><span class="s1">.targetBlock_.select(),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1174"><span class="ln">1174 </span></a><span class="s1">Blockly.Gesture.prototype.updateIsDraggingBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.startBubble_)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.isDraggingBubble_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.startDraggingBubble_();</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};Blockly.Gesture.prototype.updateIsDraggingBlock_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.targetBlock_)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.flyout_?</span><span class="s3">this</span><span class="s1">.isDraggingBlock_=</span><span class="s3">this</span><span class="s1">.updateIsDraggingFromFlyout_():</span><span class="s3">this</span><span class="s1">.targetBlock_.isMovable()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isDraggingBlock_=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return this</span><span class="s1">.isDraggingBlock_?(</span><span class="s3">this</span><span class="s1">.startDraggingBlock_(),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1175"><span class="ln">1175 </span></a><span class="s1">Blockly.Gesture.prototype.updateIsDraggingWorkspace_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.flyout_?</span><span class="s3">this</span><span class="s1">.flyout_.isScrollable():</span><span class="s3">this</span><span class="s1">.startWorkspace_&amp;&amp;</span><span class="s3">this</span><span class="s1">.startWorkspace_.isDraggable())</span><span class="s3">this</span><span class="s1">.workspaceDragger_=</span><span class="s3">this</span><span class="s1">.flyout_?</span><span class="s3">new </span><span class="s1">Blockly.FlyoutDragger(</span><span class="s3">this</span><span class="s1">.flyout_):</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceDragger(</span><span class="s3">this</span><span class="s1">.startWorkspace_),</span><span class="s3">this</span><span class="s1">.isDraggingWorkspace_=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspaceDragger_.startDrag()};</span>
<a name="l1176"><span class="ln">1176 </span></a><span class="s1">Blockly.Gesture.prototype.updateIsDragging_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.calledUpdateIsDragging_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;updateIsDragging_ should only be called once per gesture.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.calledUpdateIsDragging_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.updateIsDraggingBubble_()||</span><span class="s3">this</span><span class="s1">.updateIsDraggingBlock_()||</span><span class="s3">this</span><span class="s1">.updateIsDraggingWorkspace_()};</span>
<a name="l1177"><span class="ln">1177 </span></a><span class="s1">Blockly.Gesture.prototype.startDraggingBlock_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.blockDragger_=</span><span class="s3">new </span><span class="s1">Blockly.BlockDragger(</span><span class="s3">this</span><span class="s1">.targetBlock_,</span><span class="s3">this</span><span class="s1">.startWorkspace_);</span><span class="s3">this</span><span class="s1">.blockDragger_.startBlockDrag(</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_,</span><span class="s3">this</span><span class="s1">.healStack_);</span><span class="s3">this</span><span class="s1">.blockDragger_.dragBlock(</span><span class="s3">this</span><span class="s1">.mostRecentEvent_,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_)};</span>
<a name="l1178"><span class="ln">1178 </span></a><span class="s1">Blockly.Gesture.prototype.startDraggingBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.bubbleDragger_=</span><span class="s3">new </span><span class="s1">Blockly.BubbleDragger(</span><span class="s3">this</span><span class="s1">.startBubble_,</span><span class="s3">this</span><span class="s1">.startWorkspace_);</span><span class="s3">this</span><span class="s1">.bubbleDragger_.startBubbleDrag();</span><span class="s3">this</span><span class="s1">.bubbleDragger_.dragBubble(</span><span class="s3">this</span><span class="s1">.mostRecentEvent_,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_)};</span>
<a name="l1179"><span class="ln">1179 </span></a><span class="s1">Blockly.Gesture.prototype.doStart=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.isTargetInput(a)?</span><span class="s3">this</span><span class="s1">.cancel():(</span><span class="s3">this</span><span class="s1">.hasStarted_=!</span><span class="s4">0</span><span class="s1">,Blockly.blockAnimations.disconnectUiStop(),</span><span class="s3">this</span><span class="s1">.startWorkspace_.updateScreenCalculationsIfScrolled(),</span><span class="s3">this</span><span class="s1">.startWorkspace_.isMutator&amp;&amp;</span><span class="s3">this</span><span class="s1">.startWorkspace_.resize(),</span><span class="s3">this</span><span class="s1">.startWorkspace_.markFocused(),</span><span class="s3">this</span><span class="s1">.mostRecentEvent_=a,Blockly.hideChaff(!!</span><span class="s3">this</span><span class="s1">.flyout_),Blockly.Tooltip.block(),</span><span class="s3">this</span><span class="s1">.targetBlock_&amp;&amp;</span><span class="s3">this</span><span class="s1">.targetBlock_.select(),Blockly.utils.isRightButton(a)?</span><span class="s3">this</span><span class="s1">.handleRightClick(a):(</span><span class="s2">&quot;touchstart&quot;</span><span class="s1">!=</span>
<a name="l1180"><span class="ln">1180 </span></a><span class="s1">a.type.toLowerCase()&amp;&amp;</span><span class="s2">&quot;pointerdown&quot;</span><span class="s1">!=a.type.toLowerCase()||</span><span class="s2">&quot;mouse&quot;</span><span class="s1">==a.pointerType||Blockly.longStart_(a,</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.mouseDownXY_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.clientX,a.clientY),</span><span class="s3">this</span><span class="s1">.healStack_=a.altKey||a.ctrlKey||a.metaKey,</span><span class="s3">this</span><span class="s1">.bindMouseEvents(a)))};</span>
<a name="l1181"><span class="ln">1181 </span></a><span class="s1">Blockly.Gesture.prototype.bindMouseEvents=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.onMoveWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.handleMove.bind(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.onUpWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.handleUp.bind(</span><span class="s3">this</span><span class="s1">));a.preventDefault();a.stopPropagation()};</span>
<a name="l1182"><span class="ln">1182 </span></a><span class="s1">Blockly.Gesture.prototype.handleMove=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.updateFromEvent_(a);</span><span class="s3">this</span><span class="s1">.isDraggingWorkspace_?</span><span class="s3">this</span><span class="s1">.workspaceDragger_.drag(</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isDraggingBlock_?</span><span class="s3">this</span><span class="s1">.blockDragger_.dragBlock(</span><span class="s3">this</span><span class="s1">.mostRecentEvent_,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isDraggingBubble_&amp;&amp;</span><span class="s3">this</span><span class="s1">.bubbleDragger_.dragBubble(</span><span class="s3">this</span><span class="s1">.mostRecentEvent_,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_);a.preventDefault();a.stopPropagation()};</span>
<a name="l1183"><span class="ln">1183 </span></a><span class="s1">Blockly.Gesture.prototype.handleUp=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.updateFromEvent_(a);Blockly.longStop_();</span><span class="s3">this</span><span class="s1">.isEnding_?console.log(</span><span class="s2">&quot;Trying to end a gesture recursively.&quot;</span><span class="s1">):(</span><span class="s3">this</span><span class="s1">.isEnding_=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.isDraggingBubble_?</span><span class="s3">this</span><span class="s1">.bubbleDragger_.endBubbleDrag(a,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isDraggingBlock_?</span><span class="s3">this</span><span class="s1">.blockDragger_.endBlockDrag(a,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isDraggingWorkspace_?</span><span class="s3">this</span><span class="s1">.workspaceDragger_.endDrag(</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isBubbleClick_()?</span><span class="s3">this</span><span class="s1">.doBubbleClick_():</span><span class="s3">this</span><span class="s1">.isFieldClick_()?</span><span class="s3">this</span><span class="s1">.doFieldClick_():</span>
<a name="l1184"><span class="ln">1184 </span></a><span class="s3">this</span><span class="s1">.isBlockClick_()?</span><span class="s3">this</span><span class="s1">.doBlockClick_():</span><span class="s3">this</span><span class="s1">.isWorkspaceClick_()&amp;&amp;</span><span class="s3">this</span><span class="s1">.doWorkspaceClick_(),a.preventDefault(),a.stopPropagation(),</span><span class="s3">this</span><span class="s1">.dispose())};</span>
<a name="l1185"><span class="ln">1185 </span></a><span class="s1">Blockly.Gesture.prototype.cancel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isEnding_||(Blockly.longStop_(),</span><span class="s3">this</span><span class="s1">.isDraggingBubble_?</span><span class="s3">this</span><span class="s1">.bubbleDragger_.endBubbleDrag(</span><span class="s3">this</span><span class="s1">.mostRecentEvent_,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isDraggingBlock_?</span><span class="s3">this</span><span class="s1">.blockDragger_.endBlockDrag(</span><span class="s3">this</span><span class="s1">.mostRecentEvent_,</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_):</span><span class="s3">this</span><span class="s1">.isDraggingWorkspace_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspaceDragger_.endDrag(</span><span class="s3">this</span><span class="s1">.currentDragDeltaXY_),</span><span class="s3">this</span><span class="s1">.dispose())};</span>
<a name="l1186"><span class="ln">1186 </span></a><span class="s1">Blockly.Gesture.prototype.handleRightClick=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.targetBlock_?(</span><span class="s3">this</span><span class="s1">.bringBlockToFront_(),Blockly.hideChaff(</span><span class="s3">this</span><span class="s1">.flyout_),</span><span class="s3">this</span><span class="s1">.targetBlock_.showContextMenu_(a)):</span><span class="s3">this</span><span class="s1">.startBubble_?</span><span class="s3">this</span><span class="s1">.startBubble_.showContextMenu_(a):</span><span class="s3">this</span><span class="s1">.startWorkspace_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;(Blockly.hideChaff(),</span><span class="s3">this</span><span class="s1">.startWorkspace_.showContextMenu_(a));a.preventDefault();a.stopPropagation();</span><span class="s3">this</span><span class="s1">.dispose()};</span>
<a name="l1187"><span class="ln">1187 </span></a><span class="s1">Blockly.Gesture.prototype.handleWsStart=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasStarted_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to call gesture.handleWsStart, but the gesture had already been started.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setStartWorkspace_(b);</span><span class="s3">this</span><span class="s1">.mostRecentEvent_=a;</span><span class="s3">this</span><span class="s1">.doStart(a)};Blockly.Gesture.prototype.handleFlyoutStart=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasStarted_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to call gesture.handleFlyoutStart, but the gesture had already been started.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setStartFlyout_(b);</span><span class="s3">this</span><span class="s1">.handleWsStart(a,b.getWorkspace())};</span>
<a name="l1188"><span class="ln">1188 </span></a><span class="s1">Blockly.Gesture.prototype.handleBlockStart=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasStarted_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to call gesture.handleBlockStart, but the gesture had already been started.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setStartBlock(b);</span><span class="s3">this</span><span class="s1">.mostRecentEvent_=a};Blockly.Gesture.prototype.handleBubbleStart=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasStarted_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to call gesture.handleBubbleStart, but the gesture had already been started.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setStartBubble(b);</span><span class="s3">this</span><span class="s1">.mostRecentEvent_=a};</span>
<a name="l1189"><span class="ln">1189 </span></a><span class="s1">Blockly.Gesture.prototype.doBubbleClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.startBubble_.setFocus&amp;&amp;</span><span class="s3">this</span><span class="s1">.startBubble_.setFocus();</span><span class="s3">this</span><span class="s1">.startBubble_.select&amp;&amp;</span><span class="s3">this</span><span class="s1">.startBubble_.select()};Blockly.Gesture.prototype.doFieldClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.startField_.showEditor_();</span><span class="s3">this</span><span class="s1">.bringBlockToFront_()};</span>
<a name="l1190"><span class="ln">1190 </span></a><span class="s1">Blockly.Gesture.prototype.doBlockClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;</span><span class="s3">this</span><span class="s1">.flyout_.autoClose?</span><span class="s3">this</span><span class="s1">.targetBlock_.isEnabled()&amp;&amp;(Blockly.Events.getGroup()||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.flyout_.createBlock(</span><span class="s3">this</span><span class="s1">.targetBlock_).scheduleSnapAndBump()):Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">this</span><span class="s1">.startBlock_,</span><span class="s2">&quot;click&quot;</span><span class="s1">,</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,</span><span class="s3">void </span><span class="s4">0</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.bringBlockToFront_();Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)};Blockly.Gesture.prototype.doWorkspaceClick_=</span><span class="s3">function</span><span class="s1">(){Blockly.selected&amp;&amp;Blockly.selected.unselect()};</span>
<a name="l1191"><span class="ln">1191 </span></a><span class="s1">Blockly.Gesture.prototype.bringBlockToFront_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.targetBlock_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;</span><span class="s3">this</span><span class="s1">.targetBlock_.bringToFront()};Blockly.Gesture.prototype.setStartField=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasStarted_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to call gesture.setStartField, but the gesture had already been started.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.startField_||(</span><span class="s3">this</span><span class="s1">.startField_=a)};Blockly.Gesture.prototype.setStartBubble=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.startBubble_||(</span><span class="s3">this</span><span class="s1">.startBubble_=a)};</span>
<a name="l1192"><span class="ln">1192 </span></a><span class="s1">Blockly.Gesture.prototype.setStartBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.startBlock_||</span><span class="s3">this</span><span class="s1">.startBubble_||(</span><span class="s3">this</span><span class="s1">.startBlock_=a,a.isInFlyout&amp;&amp;a!=a.getRootBlock()?</span><span class="s3">this</span><span class="s1">.setTargetBlock_(a.getRootBlock()):</span><span class="s3">this</span><span class="s1">.setTargetBlock_(a))};Blockly.Gesture.prototype.setTargetBlock_=</span><span class="s3">function</span><span class="s1">(a){a.isShadow()?</span><span class="s3">this</span><span class="s1">.setTargetBlock_(a.getParent()):</span><span class="s3">this</span><span class="s1">.targetBlock_=a};Blockly.Gesture.prototype.setStartWorkspace_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.startWorkspace_||(</span><span class="s3">this</span><span class="s1">.startWorkspace_=a)};</span>
<a name="l1193"><span class="ln">1193 </span></a><span class="s1">Blockly.Gesture.prototype.setStartFlyout_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.flyout_||(</span><span class="s3">this</span><span class="s1">.flyout_=a)};Blockly.Gesture.prototype.isBubbleClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.startBubble_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.hasExceededDragRadius_};Blockly.Gesture.prototype.isBlockClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.startBlock_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.hasExceededDragRadius_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isFieldClick_()};Blockly.Gesture.prototype.isFieldClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.startField_?</span><span class="s3">this</span><span class="s1">.startField_.isClickable():!</span><span class="s4">1</span><span class="s1">)&amp;&amp;!</span><span class="s3">this</span><span class="s1">.hasExceededDragRadius_&amp;&amp;(!</span><span class="s3">this</span><span class="s1">.flyout_||!</span><span class="s3">this</span><span class="s1">.flyout_.autoClose)};</span>
<a name="l1194"><span class="ln">1194 </span></a><span class="s1">Blockly.Gesture.prototype.isWorkspaceClick_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s3">this</span><span class="s1">.startBlock_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.startBubble_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.startField_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.hasExceededDragRadius_};Blockly.Gesture.prototype.isDragging=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isDraggingWorkspace_||</span><span class="s3">this</span><span class="s1">.isDraggingBlock_||</span><span class="s3">this</span><span class="s1">.isDraggingBubble_};Blockly.Gesture.prototype.hasStarted=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hasStarted_};Blockly.Gesture.prototype.getInsertionMarkers=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.blockDragger_?</span><span class="s3">this</span><span class="s1">.blockDragger_.getInsertionMarkers():[]};</span>
<a name="l1195"><span class="ln">1195 </span></a><span class="s1">Blockly.Gesture.inProgress=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=Blockly.Workspace.getAll(),b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)</span><span class="s3">if</span><span class="s1">(c.currentGesture_)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};Blockly.Grid=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.gridPattern_=a;</span><span class="s3">this</span><span class="s1">.spacing_=b.spacing;</span><span class="s3">this</span><span class="s1">.length_=b.length;</span><span class="s3">this</span><span class="s1">.line2_=(</span><span class="s3">this</span><span class="s1">.line1_=a.firstChild)&amp;&amp;</span><span class="s3">this</span><span class="s1">.line1_.nextSibling;</span><span class="s3">this</span><span class="s1">.snapToGrid_=b.snap};Blockly.Grid.prototype.scale_=</span><span class="s4">1</span><span class="s1">;Blockly.Grid.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.gridPattern_=</span><span class="s3">null</span><span class="s1">};Blockly.Grid.prototype.shouldSnap=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.snapToGrid_};Blockly.Grid.prototype.getSpacing=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.spacing_};Blockly.Grid.prototype.getPatternId=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.gridPattern_.id};</span>
<a name="l1196"><span class="ln">1196 </span></a><span class="s1">Blockly.Grid.prototype.update=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.scale_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.spacing_*a||</span><span class="s4">100</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.gridPattern_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.gridPattern_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,b);b=Math.floor(</span><span class="s3">this</span><span class="s1">.spacing_/</span><span class="s4">2</span><span class="s1">)+.</span><span class="s4">5</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=b-this.length_/</span><span class="s4">2</span><span class="s1">,d=b+</span><span class="s3">this</span><span class="s1">.length_/</span><span class="s4">2</span><span class="s1">;b*=a;c*=a;d*=a;</span><span class="s3">this</span><span class="s1">.setLineAttributes_(</span><span class="s3">this</span><span class="s1">.line1_,a,c,d,b,b);</span><span class="s3">this</span><span class="s1">.setLineAttributes_(</span><span class="s3">this</span><span class="s1">.line2_,a,b,b,c,d)};</span>
<a name="l1197"><span class="ln">1197 </span></a><span class="s1">Blockly.Grid.prototype.setLineAttributes_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){a&amp;&amp;(a.setAttribute(</span><span class="s2">&quot;stroke-width&quot;</span><span class="s1">,b),a.setAttribute(</span><span class="s2">&quot;x1&quot;</span><span class="s1">,c),a.setAttribute(</span><span class="s2">&quot;y1&quot;</span><span class="s1">,e),a.setAttribute(</span><span class="s2">&quot;x2&quot;</span><span class="s1">,d),a.setAttribute(</span><span class="s2">&quot;y2&quot;</span><span class="s1">,f))};Blockly.Grid.prototype.moveTo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.gridPattern_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.gridPattern_.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,b);(Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE)&amp;&amp;</span><span class="s3">this</span><span class="s1">.update(</span><span class="s3">this</span><span class="s1">.scale_)};</span>
<a name="l1198"><span class="ln">1198 </span></a><span class="s1">Blockly.Grid.createDom=</span><span class="s3">function</span><span class="s1">(a,b,c){a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;pattern&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyGridPattern&quot;</span><span class="s1">+a,patternUnits:</span><span class="s2">&quot;userSpaceOnUse&quot;</span><span class="s1">},c);</span><span class="s4">0</span><span class="s1">&lt;b.length&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;b.spacing?(Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{stroke:b.colour},a),</span><span class="s4">1</span><span class="s1">&lt;b.length&amp;&amp;Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{stroke:b.colour},a)):Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{},a);</span><span class="s3">return </span><span class="s1">a};Blockly.Options=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!!a.readOnly;</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">null</span><span class="s1">,d=!</span><span class="s4">1</span><span class="s1">,e=!</span><span class="s4">1</span><span class="s1">,f=!</span><span class="s4">1</span><span class="s1">,g=!</span><span class="s4">1</span><span class="s1">,h=!</span><span class="s4">1</span><span class="s1">,k=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">else</span><span class="s1">{c=Blockly.Options.parseToolboxTree(a.toolbox||</span><span class="s3">null</span><span class="s1">);d=!(!c||!c.getElementsByTagName(</span><span class="s2">&quot;category&quot;</span><span class="s1">).length);e=a.trashcan;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===e&amp;&amp;(e=d);</span><span class="s3">var </span><span class="s1">l=a.maxTrashcanContents;e?</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===l&amp;&amp;(l=</span><span class="s4">32</span><span class="s1">):l=</span><span class="s4">0</span><span class="s1">;f=a.collapse;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===f&amp;&amp;(f=d);g=a.comments;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===g&amp;&amp;(g=d);h=a.disable;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===h&amp;&amp;(h=d);k=a.sounds;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===k&amp;&amp;(k=!</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">var </span><span class="s1">n=!!a.rtl,m=a.horizontalLayout;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===m&amp;&amp;(m=!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">var </span><span class="s1">p=a.toolboxPosition;p=</span><span class="s2">&quot;end&quot;</span><span class="s1">===p?!</span><span class="s4">1</span><span class="s1">:</span>
<a name="l1199"><span class="ln">1199 </span></a><span class="s1">!</span><span class="s4">0</span><span class="s1">;p=m?p?Blockly.TOOLBOX_AT_TOP:Blockly.TOOLBOX_AT_BOTTOM:p==n?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT;</span><span class="s3">var </span><span class="s1">r=a.css;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===r&amp;&amp;(r=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">t=</span><span class="s2">&quot;https://blockly-demo.appspot.com/static/media/&quot;</span><span class="s1">;a.media?t=a.media:a.path&amp;&amp;(t=a.path+</span><span class="s2">&quot;media/&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">q=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.oneBasedIndex?!</span><span class="s4">0</span><span class="s1">:!!a.oneBasedIndex,u=a.theme||Blockly.Themes.Classic;</span><span class="s3">this</span><span class="s1">.RTL=n;</span><span class="s3">this</span><span class="s1">.oneBasedIndex=q;</span><span class="s3">this</span><span class="s1">.collapse=f;</span><span class="s3">this</span><span class="s1">.comments=g;</span><span class="s3">this</span><span class="s1">.disable=h;</span><span class="s3">this</span><span class="s1">.readOnly=b;</span><span class="s3">this</span><span class="s1">.maxBlocks=a.maxBlocks||Infinity;</span><span class="s3">this</span><span class="s1">.maxInstances=a.maxInstances;</span><span class="s3">this</span><span class="s1">.pathToMedia=</span>
<a name="l1200"><span class="ln">1200 </span></a><span class="s1">t;</span><span class="s3">this</span><span class="s1">.hasCategories=d;</span><span class="s3">this</span><span class="s1">.moveOptions=Blockly.Options.parseMoveOptions(a,d);</span><span class="s3">this</span><span class="s1">.hasScrollbars=</span><span class="s3">this</span><span class="s1">.moveOptions.scrollbars;</span><span class="s3">this</span><span class="s1">.hasTrashcan=e;</span><span class="s3">this</span><span class="s1">.maxTrashcanContents=l;</span><span class="s3">this</span><span class="s1">.hasSounds=k;</span><span class="s3">this</span><span class="s1">.hasCss=r;</span><span class="s3">this</span><span class="s1">.horizontalLayout=m;</span><span class="s3">this</span><span class="s1">.languageTree=c;</span><span class="s3">this</span><span class="s1">.gridOptions=Blockly.Options.parseGridOptions_(a);</span><span class="s3">this</span><span class="s1">.zoomOptions=Blockly.Options.parseZoomOptions_(a);</span><span class="s3">this</span><span class="s1">.toolboxPosition=p;</span><span class="s3">this</span><span class="s1">.theme=u};Blockly.Options.prototype.parentWorkspace=</span><span class="s3">null</span><span class="s1">;Blockly.Options.prototype.setMetrics=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1201"><span class="ln">1201 </span></a><span class="s1">Blockly.Options.prototype.getMetrics=</span><span class="s3">null</span><span class="s1">;Blockly.Options.parseMoveOptions=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.move||{},d={};d.scrollbars=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===c.scrollbars&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.scrollbars?b:!!c.scrollbars||!!a.scrollbars;d.wheel=d.scrollbars&amp;&amp;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==c.wheel?!!c.wheel:!</span><span class="s4">1</span><span class="s1">;d.drag=d.scrollbars?</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===c.drag?!</span><span class="s4">0</span><span class="s1">:!!c.drag:!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l1202"><span class="ln">1202 </span></a><span class="s1">Blockly.Options.parseZoomOptions_=</span><span class="s3">function</span><span class="s1">(a){a=a.zoom||{};</span><span class="s3">var </span><span class="s1">b={};b.controls=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.controls?!</span><span class="s4">1</span><span class="s1">:!!a.controls;b.wheel=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.wheel?!</span><span class="s4">1</span><span class="s1">:!!a.wheel;b.startScale=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.startScale?</span><span class="s4">1</span><span class="s1">:parseFloat(a.startScale);b.maxScale=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.maxScale?</span><span class="s4">3</span><span class="s1">:parseFloat(a.maxScale);b.minScale=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.minScale?.</span><span class="s4">3</span><span class="s1">:parseFloat(a.minScale);b.scaleSpeed=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.scaleSpeed?</span><span class="s4">1.2</span><span class="s1">:parseFloat(a.scaleSpeed);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1203"><span class="ln">1203 </span></a><span class="s1">Blockly.Options.parseGridOptions_=</span><span class="s3">function</span><span class="s1">(a){a=a.grid||{};</span><span class="s3">var </span><span class="s1">b={};b.spacing=parseFloat(a.spacing)||</span><span class="s4">0</span><span class="s1">;b.colour=a.colour||</span><span class="s2">&quot;#888&quot;</span><span class="s1">;b.length=parseFloat(a.length)||</span><span class="s4">1</span><span class="s1">;b.snap=</span><span class="s4">0</span><span class="s1">&lt;b.spacing&amp;&amp;!!a.snap;</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1204"><span class="ln">1204 </span></a><span class="s1">Blockly.Options.parseToolboxTree=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;(Blockly.utils.userAgent.IE&amp;&amp;a.outerHTML?a=a.outerHTML:a </span><span class="s3">instanceof </span><span class="s1">Element||(a=</span><span class="s3">null</span><span class="s1">)),</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;(a=Blockly.Xml.textToDom(a),</span><span class="s2">&quot;xml&quot;</span><span class="s1">!=a.nodeName.toLowerCase()))</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Toolbox should be an &lt;xml&gt; document.&quot;</span><span class="s1">);}</span><span class="s3">else </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">return </span><span class="s1">a};Blockly.ScrollbarPair=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.hScroll=</span><span class="s3">new </span><span class="s1">Blockly.Scrollbar(a,!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">,</span><span class="s2">&quot;blocklyMainWorkspaceScrollbar&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.vScroll=</span><span class="s3">new </span><span class="s1">Blockly.Scrollbar(a,!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">,</span><span class="s2">&quot;blocklyMainWorkspaceScrollbar&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.corner_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyScrollbarBackground&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">);Blockly.utils.dom.insertAfter(</span><span class="s3">this</span><span class="s1">.corner_,a.getBubbleCanvas())};</span>
<a name="l1205"><span class="ln">1205 </span></a><span class="s1">Blockly.ScrollbarPair.prototype.oldHostMetrics_=</span><span class="s3">null</span><span class="s1">;Blockly.ScrollbarPair.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.corner_);</span><span class="s3">this</span><span class="s1">.oldHostMetrics_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.corner_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.hScroll.dispose();</span><span class="s3">this</span><span class="s1">.hScroll=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.vScroll.dispose();</span><span class="s3">this</span><span class="s1">.vScroll=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1206"><span class="ln">1206 </span></a><span class="s1">Blockly.ScrollbarPair.prototype.resize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getMetrics();</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">,c=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.viewWidth==a.viewWidth&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.viewHeight==a.viewHeight&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.absoluteTop==a.absoluteTop&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.absoluteLeft==a.absoluteLeft?(</span><span class="s3">this</span><span class="s1">.oldHostMetrics_&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.contentWidth==a.contentWidth&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.viewLeft==a.viewLeft&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.contentLeft==a.contentLeft||(b=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.oldHostMetrics_&amp;&amp;</span>
<a name="l1207"><span class="ln">1207 </span></a><span class="s3">this</span><span class="s1">.oldHostMetrics_.contentHeight==a.contentHeight&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.viewTop==a.viewTop&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.contentTop==a.contentTop||(c=!</span><span class="s4">0</span><span class="s1">)):c=b=!</span><span class="s4">0</span><span class="s1">;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.hScroll.resize(a);c&amp;&amp;</span><span class="s3">this</span><span class="s1">.vScroll.resize(a);</span><span class="s3">this</span><span class="s1">.oldHostMetrics_&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.viewWidth==a.viewWidth&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.absoluteLeft==a.absoluteLeft||</span><span class="s3">this</span><span class="s1">.corner_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.vScroll.position_.x);</span><span class="s3">this</span><span class="s1">.oldHostMetrics_&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.viewHeight==a.viewHeight&amp;&amp;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_.absoluteTop==a.absoluteTop||</span><span class="s3">this</span><span class="s1">.corner_.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,</span>
<a name="l1208"><span class="ln">1208 </span></a><span class="s3">this</span><span class="s1">.hScroll.position_.y);</span><span class="s3">this</span><span class="s1">.oldHostMetrics_=a}};Blockly.ScrollbarPair.prototype.set=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c={},d=a*</span><span class="s3">this</span><span class="s1">.hScroll.ratio_,e=b*</span><span class="s3">this</span><span class="s1">.vScroll.ratio_,f=</span><span class="s3">this</span><span class="s1">.vScroll.scrollViewSize_;c.x=</span><span class="s3">this</span><span class="s1">.getRatio_(d,</span><span class="s3">this</span><span class="s1">.hScroll.scrollViewSize_);c.y=</span><span class="s3">this</span><span class="s1">.getRatio_(e,f);</span><span class="s3">this</span><span class="s1">.workspace_.setMetrics(c);</span><span class="s3">this</span><span class="s1">.hScroll.setHandlePosition(d);</span><span class="s3">this</span><span class="s1">.vScroll.setHandlePosition(e)};Blockly.ScrollbarPair.prototype.getRatio_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a/b;</span><span class="s3">return </span><span class="s1">isNaN(c)?</span><span class="s4">0</span><span class="s1">:c};</span>
<a name="l1209"><span class="ln">1209 </span></a><span class="s1">Blockly.Scrollbar=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.pair_=c||!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.horizontal_=b;</span><span class="s3">this</span><span class="s1">.oldHostMetrics_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.createDom_(d);</span><span class="s3">this</span><span class="s1">.position_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);a=Blockly.Scrollbar.scrollbarThickness;b?(</span><span class="s3">this</span><span class="s1">.svgBackground_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.outerSvg_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.svgHandle_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,a-5),</span><span class="s3">this</span><span class="s1">.svgHandle_.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,</span><span class="s4">2.5</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.lengthAttribute_=</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.positionAttribute_=</span><span class="s2">&quot;x&quot;</span><span class="s1">):(</span><span class="s3">this</span><span class="s1">.svgBackground_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.outerSvg_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span>
<a name="l1210"><span class="ln">1210 </span></a><span class="s1">a),</span><span class="s3">this</span><span class="s1">.svgHandle_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a-5),</span><span class="s3">this</span><span class="s1">.svgHandle_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s4">2.5</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.lengthAttribute_=</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.positionAttribute_=</span><span class="s2">&quot;y&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onMouseDownBarWrapper_=Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgBackground_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDownBar_);</span><span class="s3">this</span><span class="s1">.onMouseDownHandleWrapper_=Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgHandle_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDownHandle_)};Blockly.Scrollbar.prototype.origin_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);Blockly.Scrollbar.prototype.startDragMouse_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1211"><span class="ln">1211 </span></a><span class="s1">Blockly.Scrollbar.prototype.scrollViewSize_=</span><span class="s4">0</span><span class="s1">;Blockly.Scrollbar.prototype.handleLength_=</span><span class="s4">0</span><span class="s1">;Blockly.Scrollbar.prototype.handlePosition_=</span><span class="s4">0</span><span class="s1">;Blockly.Scrollbar.prototype.isVisible_=!</span><span class="s4">0</span><span class="s1">;Blockly.Scrollbar.prototype.containerVisible_=!</span><span class="s4">0</span><span class="s1">;Blockly.Scrollbar.scrollbarThickness=</span><span class="s4">15</span><span class="s1">;Blockly.Touch.TOUCH_ENABLED&amp;&amp;(Blockly.Scrollbar.scrollbarThickness=</span><span class="s4">25</span><span class="s1">);</span>
<a name="l1212"><span class="ln">1212 </span></a><span class="s1">Blockly.Scrollbar.metricsAreEquivalent_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a&amp;&amp;b&amp;&amp;a.viewWidth==b.viewWidth&amp;&amp;a.viewHeight==b.viewHeight&amp;&amp;a.viewLeft==b.viewLeft&amp;&amp;a.viewTop==b.viewTop&amp;&amp;a.absoluteTop==b.absoluteTop&amp;&amp;a.absoluteLeft==b.absoluteLeft&amp;&amp;a.contentWidth==b.contentWidth&amp;&amp;a.contentHeight==b.contentHeight&amp;&amp;a.contentLeft==b.contentLeft&amp;&amp;a.contentTop==b.contentTop?!</span><span class="s4">0</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1213"><span class="ln">1213 </span></a><span class="s1">Blockly.Scrollbar.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.cleanUp_();Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onMouseDownBarWrapper_);</span><span class="s3">this</span><span class="s1">.onMouseDownBarWrapper_=</span><span class="s3">null</span><span class="s1">;Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onMouseDownHandleWrapper_);</span><span class="s3">this</span><span class="s1">.onMouseDownHandleWrapper_=</span><span class="s3">null</span><span class="s1">;Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.outerSvg_);</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.svgHandle_=</span><span class="s3">this</span><span class="s1">.svgBackground_=</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">this</span><span class="s1">.outerSvg_=</span><span class="s3">null</span><span class="s1">};Blockly.Scrollbar.prototype.setHandleLength_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.handleLength_=a;</span><span class="s3">this</span><span class="s1">.svgHandle_.setAttribute(</span><span class="s3">this</span><span class="s1">.lengthAttribute_,</span><span class="s3">this</span><span class="s1">.handleLength_)};</span>
<a name="l1214"><span class="ln">1214 </span></a><span class="s1">Blockly.Scrollbar.prototype.setHandlePosition=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.handlePosition_=a;</span><span class="s3">this</span><span class="s1">.svgHandle_.setAttribute(</span><span class="s3">this</span><span class="s1">.positionAttribute_,</span><span class="s3">this</span><span class="s1">.handlePosition_)};Blockly.Scrollbar.prototype.setScrollViewSize_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.scrollViewSize_=a;</span><span class="s3">this</span><span class="s1">.outerSvg_.setAttribute(</span><span class="s3">this</span><span class="s1">.lengthAttribute_,</span><span class="s3">this</span><span class="s1">.scrollViewSize_);</span><span class="s3">this</span><span class="s1">.svgBackground_.setAttribute(</span><span class="s3">this</span><span class="s1">.lengthAttribute_,</span><span class="s3">this</span><span class="s1">.scrollViewSize_)};Blockly.ScrollbarPair.prototype.setContainerVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.hScroll.setContainerVisible(a);</span><span class="s3">this</span><span class="s1">.vScroll.setContainerVisible(a)};</span>
<a name="l1215"><span class="ln">1215 </span></a><span class="s1">Blockly.Scrollbar.prototype.setPosition_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.position_.x=a;</span><span class="s3">this</span><span class="s1">.position_.y=b;Blockly.utils.dom.setCssTransform(</span><span class="s3">this</span><span class="s1">.outerSvg_,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.position_.x+</span><span class="s3">this</span><span class="s1">.origin_.x)+</span><span class="s2">&quot;px,&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.position_.y+</span><span class="s3">this</span><span class="s1">.origin_.y)+</span><span class="s2">&quot;px)&quot;</span><span class="s1">)};Blockly.Scrollbar.prototype.resize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.workspace_.getMetrics(),!a))</span><span class="s3">return</span><span class="s1">;Blockly.Scrollbar.metricsAreEquivalent_(a,</span><span class="s3">this</span><span class="s1">.oldHostMetrics_)||(</span><span class="s3">this</span><span class="s1">.oldHostMetrics_=a,</span><span class="s3">this</span><span class="s1">.horizontal_?</span><span class="s3">this</span><span class="s1">.resizeHorizontal_(a):</span><span class="s3">this</span><span class="s1">.resizeVertical_(a),</span><span class="s3">this</span><span class="s1">.onScroll_())};</span>
<a name="l1216"><span class="ln">1216 </span></a><span class="s1">Blockly.Scrollbar.prototype.resizeHorizontal_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.resizeViewHorizontal(a)};Blockly.Scrollbar.prototype.resizeViewHorizontal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.viewWidth-1;</span><span class="s3">this</span><span class="s1">.pair_&amp;&amp;(b-=Blockly.Scrollbar.scrollbarThickness);</span><span class="s3">this</span><span class="s1">.setScrollViewSize_(Math.max(</span><span class="s4">0</span><span class="s1">,b));b=a.absoluteLeft+.</span><span class="s4">5</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.pair_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace_.RTL&amp;&amp;(b+=Blockly.Scrollbar.scrollbarThickness);</span><span class="s3">this</span><span class="s1">.setPosition_(b,a.absoluteTop+a.viewHeight-Blockly.Scrollbar.scrollbarThickness-.</span><span class="s4">5</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.resizeContentHorizontal(a)};</span>
<a name="l1217"><span class="ln">1217 </span></a><span class="s1">Blockly.Scrollbar.prototype.resizeContentHorizontal=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.pair_||</span><span class="s3">this</span><span class="s1">.setVisible(</span><span class="s3">this</span><span class="s1">.scrollViewSize_&lt;a.contentWidth);</span><span class="s3">this</span><span class="s1">.ratio_=</span><span class="s3">this</span><span class="s1">.scrollViewSize_/a.contentWidth;</span><span class="s3">if</span><span class="s1">(-Infinity==</span><span class="s3">this</span><span class="s1">.ratio_||Infinity==</span><span class="s3">this</span><span class="s1">.ratio_||isNaN(</span><span class="s3">this</span><span class="s1">.ratio_))</span><span class="s3">this</span><span class="s1">.ratio_=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.setHandleLength_(Math.max(</span><span class="s4">0</span><span class="s1">,a.viewWidth*</span><span class="s3">this</span><span class="s1">.ratio_));</span><span class="s3">this</span><span class="s1">.setHandlePosition(</span><span class="s3">this</span><span class="s1">.constrainHandle_((a.viewLeft-a.contentLeft)*</span><span class="s3">this</span><span class="s1">.ratio_))};Blockly.Scrollbar.prototype.resizeVertical_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.resizeViewVertical(a)};</span>
<a name="l1218"><span class="ln">1218 </span></a><span class="s1">Blockly.Scrollbar.prototype.resizeViewVertical=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.viewHeight-1;</span><span class="s3">this</span><span class="s1">.pair_&amp;&amp;(b-=Blockly.Scrollbar.scrollbarThickness);</span><span class="s3">this</span><span class="s1">.setScrollViewSize_(Math.max(</span><span class="s4">0</span><span class="s1">,b));b=a.absoluteLeft+.</span><span class="s4">5</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workspace_.RTL||(b+=a.viewWidth-Blockly.Scrollbar.scrollbarThickness-1);</span><span class="s3">this</span><span class="s1">.setPosition_(b,a.absoluteTop+.</span><span class="s4">5</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.resizeContentVertical(a)};</span>
<a name="l1219"><span class="ln">1219 </span></a><span class="s1">Blockly.Scrollbar.prototype.resizeContentVertical=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.pair_||</span><span class="s3">this</span><span class="s1">.setVisible(</span><span class="s3">this</span><span class="s1">.scrollViewSize_&lt;a.contentHeight);</span><span class="s3">this</span><span class="s1">.ratio_=</span><span class="s3">this</span><span class="s1">.scrollViewSize_/a.contentHeight;</span><span class="s3">if</span><span class="s1">(-Infinity==</span><span class="s3">this</span><span class="s1">.ratio_||Infinity==</span><span class="s3">this</span><span class="s1">.ratio_||isNaN(</span><span class="s3">this</span><span class="s1">.ratio_))</span><span class="s3">this</span><span class="s1">.ratio_=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.setHandleLength_(Math.max(</span><span class="s4">0</span><span class="s1">,a.viewHeight*</span><span class="s3">this</span><span class="s1">.ratio_));</span><span class="s3">this</span><span class="s1">.setHandlePosition(</span><span class="s3">this</span><span class="s1">.constrainHandle_((a.viewTop-a.contentTop)*</span><span class="s3">this</span><span class="s1">.ratio_))};</span>
<a name="l1220"><span class="ln">1220 </span></a><span class="s1">Blockly.Scrollbar.prototype.createDom_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;blocklyScrollbar&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.horizontal_?</span><span class="s2">&quot;Horizontal&quot;</span><span class="s1">:</span><span class="s2">&quot;Vertical&quot;</span><span class="s1">);a&amp;&amp;(b+=</span><span class="s2">&quot; &quot;</span><span class="s1">+a);</span><span class="s3">this</span><span class="s1">.outerSvg_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;svg&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:b},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{},</span><span class="s3">this</span><span class="s1">.outerSvg_);</span><span class="s3">this</span><span class="s1">.svgBackground_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyScrollbarBackground&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);a=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/</span><span class="s4">2</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgHandle_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,</span>
<a name="l1221"><span class="ln">1221 </span></a><span class="s1">{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyScrollbarHandle&quot;</span><span class="s1">,rx:a,ry:a},</span><span class="s3">this</span><span class="s1">.svgGroup_);Blockly.utils.dom.insertAfter(</span><span class="s3">this</span><span class="s1">.outerSvg_,</span><span class="s3">this</span><span class="s1">.workspace_.getParentSvg())};Blockly.Scrollbar.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isVisible_};Blockly.Scrollbar.prototype.setContainerVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a!=</span><span class="s3">this</span><span class="s1">.containerVisible_;</span><span class="s3">this</span><span class="s1">.containerVisible_=a;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateDisplay_()};</span>
<a name="l1222"><span class="ln">1222 </span></a><span class="s1">Blockly.Scrollbar.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a!=</span><span class="s3">this</span><span class="s1">.isVisible();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.pair_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unable to toggle visibility of paired scrollbars.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isVisible_=a;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateDisplay_()};Blockly.Scrollbar.prototype.updateDisplay_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.containerVisible_&amp;&amp;</span><span class="s3">this</span><span class="s1">.isVisible()?</span><span class="s3">this</span><span class="s1">.outerSvg_.setAttribute(</span><span class="s2">&quot;display&quot;</span><span class="s1">,</span><span class="s2">&quot;block&quot;</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.outerSvg_.setAttribute(</span><span class="s2">&quot;display&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">)};</span>
<a name="l1223"><span class="ln">1223 </span></a><span class="s1">Blockly.Scrollbar.prototype.onMouseDownBar_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_.markFocused();Blockly.Touch.clearTouchIdentifier();</span><span class="s3">this</span><span class="s1">.cleanUp_();</span><span class="s3">if</span><span class="s1">(Blockly.utils.isRightButton(a))a.stopPropagation();</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=Blockly.utils.mouseToSvg(a,</span><span class="s3">this</span><span class="s1">.workspace_.getParentSvg(),</span><span class="s3">this</span><span class="s1">.workspace_.getInverseScreenCTM());b=</span><span class="s3">this</span><span class="s1">.horizontal_?b.x:b.y;</span><span class="s3">var </span><span class="s1">c=Blockly.utils.getInjectionDivXY_(</span><span class="s3">this</span><span class="s1">.svgHandle_);c=</span><span class="s3">this</span><span class="s1">.horizontal_?c.x:c.y;</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.handlePosition_,e=.</span><span class="s4">95</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.handleLength_;b&lt;=c?d-=e:b&gt;=c+</span><span class="s3">this</span><span class="s1">.handleLength_&amp;&amp;(d+=</span>
<a name="l1224"><span class="ln">1224 </span></a><span class="s1">e);</span><span class="s3">this</span><span class="s1">.setHandlePosition(</span><span class="s3">this</span><span class="s1">.constrainHandle_(d));</span><span class="s3">this</span><span class="s1">.onScroll_();a.stopPropagation();a.preventDefault()}};</span>
<a name="l1225"><span class="ln">1225 </span></a><span class="s1">Blockly.Scrollbar.prototype.onMouseDownHandle_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_.markFocused();</span><span class="s3">this</span><span class="s1">.cleanUp_();Blockly.utils.isRightButton(a)?a.stopPropagation():(</span><span class="s3">this</span><span class="s1">.startDragHandle=</span><span class="s3">this</span><span class="s1">.handlePosition_,</span><span class="s3">this</span><span class="s1">.workspace_.setupDragSurface(),</span><span class="s3">this</span><span class="s1">.startDragMouse_=</span><span class="s3">this</span><span class="s1">.horizontal_?a.clientX:a.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseUpHandle_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseMoveHandle_),</span>
<a name="l1226"><span class="ln">1226 </span></a><span class="s1">a.stopPropagation(),a.preventDefault())};Blockly.Scrollbar.prototype.onMouseMoveHandle_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setHandlePosition(</span><span class="s3">this</span><span class="s1">.constrainHandle_(</span><span class="s3">this</span><span class="s1">.startDragHandle+((</span><span class="s3">this</span><span class="s1">.horizontal_?a.clientX:a.clientY)-</span><span class="s3">this</span><span class="s1">.startDragMouse_)));</span><span class="s3">this</span><span class="s1">.onScroll_()};Blockly.Scrollbar.prototype.onMouseUpHandle_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace_.resetDragSurface();Blockly.Touch.clearTouchIdentifier();</span><span class="s3">this</span><span class="s1">.cleanUp_()};</span>
<a name="l1227"><span class="ln">1227 </span></a><span class="s1">Blockly.Scrollbar.prototype.cleanUp_=</span><span class="s3">function</span><span class="s1">(){Blockly.hideChaff(!</span><span class="s4">0</span><span class="s1">);Blockly.Scrollbar.onMouseUpWrapper_&amp;&amp;(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=</span><span class="s3">null</span><span class="s1">);Blockly.Scrollbar.onMouseMoveWrapper_&amp;&amp;(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1228"><span class="ln">1228 </span></a><span class="s1">Blockly.Scrollbar.prototype.constrainHandle_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">&gt;=a||isNaN(a)||</span><span class="s3">this</span><span class="s1">.scrollViewSize_&lt;</span><span class="s3">this</span><span class="s1">.handleLength_?</span><span class="s4">0</span><span class="s1">:Math.min(a,</span><span class="s3">this</span><span class="s1">.scrollViewSize_-this.handleLength_)};Blockly.Scrollbar.prototype.onScroll_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.handlePosition_/</span><span class="s3">this</span><span class="s1">.scrollViewSize_;isNaN(a)&amp;&amp;(a=</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b={};</span><span class="s3">this</span><span class="s1">.horizontal_?b.x=a:b.y=a;</span><span class="s3">this</span><span class="s1">.workspace_.setMetrics(b)};Blockly.Scrollbar.prototype.set=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setHandlePosition(</span><span class="s3">this</span><span class="s1">.constrainHandle_(a*</span><span class="s3">this</span><span class="s1">.ratio_));</span><span class="s3">this</span><span class="s1">.onScroll_()};</span>
<a name="l1229"><span class="ln">1229 </span></a><span class="s1">Blockly.Scrollbar.prototype.setOrigin=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.origin_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a,b)};Blockly.TouchGesture=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.TouchGesture.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.isMultiTouch_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.cachedPoints_={};</span><span class="s3">this</span><span class="s1">.startDistance_=</span><span class="s3">this</span><span class="s1">.previousScale_=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.onStartWrapper_=</span><span class="s3">null</span><span class="s1">};goog.inherits(Blockly.TouchGesture,Blockly.Gesture);Blockly.TouchGesture.ZOOM_IN_MULTIPLIER=</span><span class="s4">5</span><span class="s1">;Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER=</span><span class="s4">6</span><span class="s1">;Blockly.TouchGesture.prototype.doStart=</span><span class="s3">function</span><span class="s1">(a){Blockly.TouchGesture.superClass_.doStart.call(</span><span class="s3">this</span><span class="s1">,a);!</span><span class="s3">this</span><span class="s1">.isEnding_&amp;&amp;Blockly.Touch.isTouchEvent(a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.handleTouchStart(a)};</span>
<a name="l1230"><span class="ln">1230 </span></a><span class="s1">Blockly.TouchGesture.prototype.bindMouseEvents=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.onStartWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.handleStart.bind(</span><span class="s3">this</span><span class="s1">),!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onMoveWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.handleMove.bind(</span><span class="s3">this</span><span class="s1">),!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onUpWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.handleUp.bind(</span><span class="s3">this</span><span class="s1">),!</span><span class="s4">0</span><span class="s1">);a.preventDefault();a.stopPropagation()};</span>
<a name="l1231"><span class="ln">1231 </span></a><span class="s1">Blockly.TouchGesture.prototype.handleStart=</span><span class="s3">function</span><span class="s1">(a){!</span><span class="s3">this</span><span class="s1">.isDragging()&amp;&amp;Blockly.Touch.isTouchEvent(a)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.handleTouchStart(a),</span><span class="s3">this</span><span class="s1">.isMultiTouch()&amp;&amp;Blockly.longStop_())};Blockly.TouchGesture.prototype.handleMove=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isDragging()?Blockly.Touch.shouldHandleEvent(a)&amp;&amp;Blockly.TouchGesture.superClass_.handleMove.call(</span><span class="s3">this</span><span class="s1">,a):</span><span class="s3">this</span><span class="s1">.isMultiTouch()?(Blockly.Touch.isTouchEvent(a)&amp;&amp;</span><span class="s3">this</span><span class="s1">.handleTouchMove(a),Blockly.longStop_()):Blockly.TouchGesture.superClass_.handleMove.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1232"><span class="ln">1232 </span></a><span class="s1">Blockly.TouchGesture.prototype.handleUp=</span><span class="s3">function</span><span class="s1">(a){Blockly.Touch.isTouchEvent(a)&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isDragging()&amp;&amp;</span><span class="s3">this</span><span class="s1">.handleTouchEnd(a);!</span><span class="s3">this</span><span class="s1">.isMultiTouch()||</span><span class="s3">this</span><span class="s1">.isDragging()?Blockly.Touch.shouldHandleEvent(a)&amp;&amp;Blockly.TouchGesture.superClass_.handleUp.call(</span><span class="s3">this</span><span class="s1">,a):(a.preventDefault(),a.stopPropagation(),</span><span class="s3">this</span><span class="s1">.dispose())};Blockly.TouchGesture.prototype.isMultiTouch=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isMultiTouch_};</span>
<a name="l1233"><span class="ln">1233 </span></a><span class="s1">Blockly.TouchGesture.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.TouchGesture.superClass_.dispose.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onStartWrapper_&amp;&amp;Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onStartWrapper_)};Blockly.TouchGesture.prototype.handleTouchStart=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.Touch.getTouchIdentifierFromEvent(a);</span><span class="s3">this</span><span class="s1">.cachedPoints_[b]=</span><span class="s3">this</span><span class="s1">.getTouchPoint(a);b=Object.keys(</span><span class="s3">this</span><span class="s1">.cachedPoints_);</span><span class="s4">2</span><span class="s1">==b.length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.startDistance_=Blockly.utils.Coordinate.distance(</span><span class="s3">this</span><span class="s1">.cachedPoints_[b[</span><span class="s4">0</span><span class="s1">]],</span><span class="s3">this</span><span class="s1">.cachedPoints_[b[</span><span class="s4">1</span><span class="s1">]]),</span><span class="s3">this</span><span class="s1">.isMultiTouch_=!</span><span class="s4">0</span><span class="s1">,a.preventDefault())};</span>
<a name="l1234"><span class="ln">1234 </span></a><span class="s1">Blockly.TouchGesture.prototype.handleTouchMove=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.Touch.getTouchIdentifierFromEvent(a);</span><span class="s3">this</span><span class="s1">.cachedPoints_[b]=</span><span class="s3">this</span><span class="s1">.getTouchPoint(a);b=Object.keys(</span><span class="s3">this</span><span class="s1">.cachedPoints_);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">2</span><span class="s1">==b.length){b=</span><span class="s3">this</span><span class="s1">.touchScale_=Blockly.utils.Coordinate.distance(</span><span class="s3">this</span><span class="s1">.cachedPoints_[b[</span><span class="s4">0</span><span class="s1">]],</span><span class="s3">this</span><span class="s1">.cachedPoints_[b[</span><span class="s4">1</span><span class="s1">]])/</span><span class="s3">this</span><span class="s1">.startDistance_;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.previousScale_&amp;&amp;Infinity&gt;</span><span class="s3">this</span><span class="s1">.previousScale_){</span><span class="s3">var </span><span class="s1">c=b-this.previousScale_;c=</span><span class="s4">0</span><span class="s1">&lt;c?c*Blockly.TouchGesture.ZOOM_IN_MULTIPLIER:c*Blockly.TouchGesture.ZOOM_OUT_MULTIPLIER;</span>
<a name="l1235"><span class="ln">1235 </span></a><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.startWorkspace_,e=Blockly.utils.mouseToSvg(a,d.getParentSvg(),d.getInverseScreenCTM());d.zoom(e.x,e.y,c)}</span><span class="s3">this</span><span class="s1">.previousScale_=b;a.preventDefault()}};Blockly.TouchGesture.prototype.handleTouchEnd=</span><span class="s3">function</span><span class="s1">(a){a=Blockly.Touch.getTouchIdentifierFromEvent(a);</span><span class="s3">this</span><span class="s1">.cachedPoints_[a]&amp;&amp;</span><span class="s3">delete this</span><span class="s1">.cachedPoints_[a];</span><span class="s4">2</span><span class="s1">&gt;Object.keys(</span><span class="s3">this</span><span class="s1">.cachedPoints_).length&amp;&amp;(</span><span class="s3">this</span><span class="s1">.cachedPoints_={},</span><span class="s3">this</span><span class="s1">.previousScale_=</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1236"><span class="ln">1236 </span></a><span class="s1">Blockly.TouchGesture.prototype.getTouchPoint=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.startWorkspace_?</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a.pageX?a.pageX:a.changedTouches[</span><span class="s4">0</span><span class="s1">].pageX,a.pageY?a.pageY:a.changedTouches[</span><span class="s4">0</span><span class="s1">].pageY):</span><span class="s3">null</span><span class="s1">};Blockly.Trashcan=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.hasBlocks_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.contents_=[];</span><span class="s4">0</span><span class="s1">&gt;=</span><span class="s3">this</span><span class="s1">.workspace_.options.maxTrashcanContents||(a={scrollbars:!</span><span class="s4">0</span><span class="s1">,disabledPatternId:</span><span class="s3">this</span><span class="s1">.workspace_.options.disabledPatternId,parentWorkspace:</span><span class="s3">this</span><span class="s1">.workspace_,RTL:</span><span class="s3">this</span><span class="s1">.workspace_.RTL,oneBasedIndex:</span><span class="s3">this</span><span class="s1">.workspace_.options.oneBasedIndex},</span><span class="s3">this</span><span class="s1">.workspace_.horizontalLayout?(a.toolboxPosition=</span><span class="s3">this</span><span class="s1">.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_TOP?Blockly.TOOLBOX_AT_BOTTOM:Blockly.TOOLBOX_AT_TOP,</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">new </span><span class="s1">Blockly.HorizontalFlyout(a)):</span>
<a name="l1237"><span class="ln">1237 </span></a><span class="s1">(a.toolboxPosition=</span><span class="s3">this</span><span class="s1">.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?Blockly.TOOLBOX_AT_LEFT:Blockly.TOOLBOX_AT_RIGHT,</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">new </span><span class="s1">Blockly.VerticalFlyout(a)),</span><span class="s3">this</span><span class="s1">.workspace_.addChangeListener(</span><span class="s3">this</span><span class="s1">.onDelete_()))};Blockly.Trashcan.prototype.WIDTH_=</span><span class="s4">47</span><span class="s1">;Blockly.Trashcan.prototype.BODY_HEIGHT_=</span><span class="s4">44</span><span class="s1">;Blockly.Trashcan.prototype.LID_HEIGHT_=</span><span class="s4">16</span><span class="s1">;Blockly.Trashcan.prototype.MARGIN_BOTTOM_=</span><span class="s4">20</span><span class="s1">;Blockly.Trashcan.prototype.MARGIN_SIDE_=</span><span class="s4">20</span><span class="s1">;Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=</span><span class="s4">10</span><span class="s1">;</span>
<a name="l1238"><span class="ln">1238 </span></a><span class="s1">Blockly.Trashcan.prototype.SPRITE_LEFT_=</span><span class="s4">0</span><span class="s1">;Blockly.Trashcan.prototype.SPRITE_TOP_=</span><span class="s4">32</span><span class="s1">;Blockly.Trashcan.prototype.HAS_BLOCKS_LID_ANGLE=.</span><span class="s4">1</span><span class="s1">;Blockly.Trashcan.prototype.isOpen=!</span><span class="s4">1</span><span class="s1">;Blockly.Trashcan.prototype.minOpenness_=</span><span class="s4">0</span><span class="s1">;Blockly.Trashcan.prototype.svgGroup_=</span><span class="s3">null</span><span class="s1">;Blockly.Trashcan.prototype.svgLid_=</span><span class="s3">null</span><span class="s1">;Blockly.Trashcan.prototype.lidTask_=</span><span class="s4">0</span><span class="s1">;Blockly.Trashcan.prototype.lidOpen_=</span><span class="s4">0</span><span class="s1">;Blockly.Trashcan.prototype.left_=</span><span class="s4">0</span><span class="s1">;Blockly.Trashcan.prototype.top_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1239"><span class="ln">1239 </span></a><span class="s1">Blockly.Trashcan.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyTrash&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=String(Math.random()).substring(</span><span class="s4">2</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;clipPath&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyTrashBodyClipPath&quot;</span><span class="s1">+a},</span><span class="s3">this</span><span class="s1">.svgGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{width:</span><span class="s3">this</span><span class="s1">.WIDTH_,height:</span><span class="s3">this</span><span class="s1">.BODY_HEIGHT_,y:</span><span class="s3">this</span><span class="s1">.LID_HEIGHT_},b);</span><span class="s3">var </span><span class="s1">c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{width:Blockly.SPRITE.width,x:-</span><span class="s3">this</span><span class="s1">.SPRITE_LEFT_,height:Blockly.SPRITE.height,</span>
<a name="l1240"><span class="ln">1240 </span></a><span class="s1">y:-</span><span class="s3">this</span><span class="s1">.SPRITE_TOP_,</span><span class="s2">&quot;clip-path&quot;</span><span class="s1">:</span><span class="s2">&quot;url(#blocklyTrashBodyClipPath&quot;</span><span class="s1">+a+</span><span class="s2">&quot;)&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);c.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspace_.options.pathToMedia+Blockly.SPRITE.url);b=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;clipPath&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyTrashLidClipPath&quot;</span><span class="s1">+a},</span><span class="s3">this</span><span class="s1">.svgGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{width:</span><span class="s3">this</span><span class="s1">.WIDTH_,height:</span><span class="s3">this</span><span class="s1">.LID_HEIGHT_},b);</span><span class="s3">this</span><span class="s1">.svgLid_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{width:Blockly.SPRITE.width,x:-</span><span class="s3">this</span><span class="s1">.SPRITE_LEFT_,height:Blockly.SPRITE.height,</span>
<a name="l1241"><span class="ln">1241 </span></a><span class="s1">y:-</span><span class="s3">this</span><span class="s1">.SPRITE_TOP_,</span><span class="s2">&quot;clip-path&quot;</span><span class="s1">:</span><span class="s2">&quot;url(#blocklyTrashLidClipPath&quot;</span><span class="s1">+a+</span><span class="s2">&quot;)&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.svgLid_.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspace_.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.click);Blockly.bindEvent_(c,</span><span class="s2">&quot;mouseover&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.mouseOver_);Blockly.bindEvent_(c,</span><span class="s2">&quot;mouseout&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.mouseOut_);</span><span class="s3">this</span><span class="s1">.animateLid_();</span><span class="s3">return this</span><span class="s1">.svgGroup_};</span>
<a name="l1242"><span class="ln">1242 </span></a><span class="s1">Blockly.Trashcan.prototype.init=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s4">0</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.workspace_.options.maxTrashcanContents&amp;&amp;(Blockly.utils.dom.insertAfter(</span><span class="s3">this</span><span class="s1">.flyout_.createDom(</span><span class="s2">&quot;svg&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.workspace_.getParentSvg()),</span><span class="s3">this</span><span class="s1">.flyout_.init(</span><span class="s3">this</span><span class="s1">.workspace_),</span><span class="s3">this</span><span class="s1">.flyout_.isBlockCreatable_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">});</span><span class="s3">this</span><span class="s1">.verticalSpacing_=</span><span class="s3">this</span><span class="s1">.MARGIN_BOTTOM_+a;</span><span class="s3">this</span><span class="s1">.setOpen_(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return this</span><span class="s1">.verticalSpacing_+</span><span class="s3">this</span><span class="s1">.BODY_HEIGHT_+</span><span class="s3">this</span><span class="s1">.LID_HEIGHT_};</span>
<a name="l1243"><span class="ln">1243 </span></a><span class="s1">Blockly.Trashcan.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgGroup_&amp;&amp;(Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.svgLid_=</span><span class="s3">null</span><span class="s1">;clearTimeout(</span><span class="s3">this</span><span class="s1">.lidTask_)};</span>
<a name="l1244"><span class="ln">1244 </span></a><span class="s1">Blockly.Trashcan.prototype.position=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.verticalSpacing_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getMetrics();a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.left_=a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||</span><span class="s3">this</span><span class="s1">.workspace_.horizontalLayout&amp;&amp;!</span><span class="s3">this</span><span class="s1">.workspace_.RTL?a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness:</span><span class="s3">this</span><span class="s1">.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,</span><span class="s3">this</span><span class="s1">.top_=a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?</span><span class="s3">this</span><span class="s1">.verticalSpacing_:a.viewHeight+a.absoluteTop-(</span><span class="s3">this</span><span class="s1">.BODY_HEIGHT_+</span><span class="s3">this</span><span class="s1">.LID_HEIGHT_)-</span>
<a name="l1245"><span class="ln">1245 </span></a><span class="s3">this</span><span class="s1">.verticalSpacing_,</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.left_+</span><span class="s2">&quot;,&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.top_+</span><span class="s2">&quot;)&quot;</span><span class="s1">))}};Blockly.Trashcan.prototype.getClientRect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.svgGroup_)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.svgGroup_.getBoundingClientRect(),b=a.top+</span><span class="s3">this</span><span class="s1">.SPRITE_TOP_-this.MARGIN_HOTSPOT_;a=a.left+</span><span class="s3">this</span><span class="s1">.SPRITE_LEFT_-this.MARGIN_HOTSPOT_;</span><span class="s3">return new </span><span class="s1">Blockly.utils.Rect(b,b+</span><span class="s3">this</span><span class="s1">.LID_HEIGHT_+</span><span class="s3">this</span><span class="s1">.BODY_HEIGHT_+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN_HOTSPOT_,a,a+</span><span class="s3">this</span><span class="s1">.WIDTH_+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN_HOTSPOT_)};</span>
<a name="l1246"><span class="ln">1246 </span></a><span class="s1">Blockly.Trashcan.prototype.setOpen_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isOpen!=a&amp;&amp;(clearTimeout(</span><span class="s3">this</span><span class="s1">.lidTask_),</span><span class="s3">this</span><span class="s1">.isOpen=a,</span><span class="s3">this</span><span class="s1">.animateLid_())};Blockly.Trashcan.prototype.animateLid_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.lidOpen_+=</span><span class="s3">this</span><span class="s1">.isOpen?.</span><span class="s4">2</span><span class="s1">:-.</span><span class="s4">2</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.lidOpen_=Math.min(Math.max(</span><span class="s3">this</span><span class="s1">.lidOpen_,</span><span class="s3">this</span><span class="s1">.minOpenness_),</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setLidAngle_(</span><span class="s4">45</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.lidOpen_);</span><span class="s3">this</span><span class="s1">.svgGroup_.style.opacity=.</span><span class="s4">4</span><span class="s1">+.</span><span class="s4">4</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.lidOpen_;</span><span class="s3">this</span><span class="s1">.lidOpen_&gt;</span><span class="s3">this</span><span class="s1">.minOpenness_&amp;&amp;</span><span class="s4">1</span><span class="s1">&gt;</span><span class="s3">this</span><span class="s1">.lidOpen_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.lidTask_=setTimeout(</span><span class="s3">this</span><span class="s1">.animateLid_.bind(</span><span class="s3">this</span><span class="s1">),</span><span class="s4">20</span><span class="s1">))};</span>
<a name="l1247"><span class="ln">1247 </span></a><span class="s1">Blockly.Trashcan.prototype.setLidAngle_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace_.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT||</span><span class="s3">this</span><span class="s1">.workspace_.horizontalLayout&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace_.RTL;</span><span class="s3">this</span><span class="s1">.svgLid_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;rotate(&quot;</span><span class="s1">+(b?-a:a)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(b?</span><span class="s4">4</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.WIDTH_-4)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(</span><span class="s3">this</span><span class="s1">.LID_HEIGHT_-2)+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};Blockly.Trashcan.prototype.close=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setOpen_(!</span><span class="s4">1</span><span class="s1">)};Blockly.Trashcan.prototype.click=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.hasBlocks_){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=[],b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.contents_[b];b++)a[b]=Blockly.Xml.textToDom(c);</span><span class="s3">this</span><span class="s1">.flyout_.show(a)}};</span>
<a name="l1248"><span class="ln">1248 </span></a><span class="s1">Blockly.Trashcan.prototype.mouseOver_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.hasBlocks_&amp;&amp;</span><span class="s3">this</span><span class="s1">.setOpen_(!</span><span class="s4">0</span><span class="s1">)};Blockly.Trashcan.prototype.mouseOut_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setOpen_(!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l1249"><span class="ln">1249 </span></a><span class="s1">Blockly.Trashcan.prototype.onDelete_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">return function</span><span class="s1">(b){</span><span class="s4">0</span><span class="s1">&gt;=a.workspace_.options.maxTrashcanContents||b.type!=Blockly.Events.BLOCK_DELETE||</span><span class="s2">&quot;shadow&quot;</span><span class="s1">==b.oldXml.tagName.toLowerCase()||(b=a.cleanBlockXML_(b.oldXml),-</span><span class="s4">1</span><span class="s1">==a.contents_.indexOf(b)&amp;&amp;(a.contents_.unshift(b),a.contents_.length&gt;a.workspace_.options.maxTrashcanContents&amp;&amp;a.contents_.splice(a.workspace_.options.maxTrashcanContents,a.contents_.length-a.workspace_.options.maxTrashcanContents),a.hasBlocks_=!</span><span class="s4">0</span><span class="s1">,a.minOpenness_=a.HAS_BLOCKS_LID_ANGLE,</span>
<a name="l1250"><span class="ln">1250 </span></a><span class="s1">a.setLidAngle_(</span><span class="s4">45</span><span class="s1">*a.minOpenness_)))}};Blockly.Trashcan.prototype.cleanBlockXML_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=a=a.cloneNode(!</span><span class="s4">0</span><span class="s1">);b;){b.removeAttribute&amp;&amp;(b.removeAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">),b.removeAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">),b.removeAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">));</span><span class="s3">var </span><span class="s1">c=b.firstChild||b.nextSibling;</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">for</span><span class="s1">(c=b.parentNode;c;){</span><span class="s3">if</span><span class="s1">(c.nextSibling){c=c.nextSibling;</span><span class="s3">break</span><span class="s1">}c=c.parentNode}b=c}</span><span class="s3">return </span><span class="s1">Blockly.Xml.domToText(a)};Blockly.VariableModel=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.workspace=a;</span><span class="s3">this</span><span class="s1">.name=b;</span><span class="s3">this</span><span class="s1">.type=c||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.id_=d||Blockly.utils.genUid();Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.VarCreate(</span><span class="s3">this</span><span class="s1">))};Blockly.VariableModel.prototype.getId=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.id_};Blockly.VariableModel.compareByName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.name.toLowerCase(),d=b.name.toLowerCase();</span><span class="s3">return </span><span class="s1">c&lt;d?-</span><span class="s4">1</span><span class="s1">:c==d?</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1</span><span class="s1">};Blockly.Variables={};Blockly.Variables.NAME_TYPE=Blockly.VARIABLE_CATEGORY_NAME;Blockly.Variables.allUsedVarModels=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getAllBlocks(!</span><span class="s4">1</span><span class="s1">);a=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++){</span><span class="s3">var </span><span class="s1">d=b[c].getVarModels();</span><span class="s3">if</span><span class="s1">(d)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++){</span><span class="s3">var </span><span class="s1">f=d[e],g=f.getId();g&amp;&amp;(a[g]=f)}}b=[];</span><span class="s3">for</span><span class="s1">(g </span><span class="s3">in </span><span class="s1">a)b.push(a[g]);</span><span class="s3">return </span><span class="s1">b};Blockly.Variables.allUsedVariables=</span><span class="s3">function</span><span class="s1">(){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Variables.allUsedVariables. Use Blockly.Variables.allUsedVarModels instead.</span><span class="s5">\n</span><span class="s2">If this is a major issue please file a bug on GitHub.&quot;</span><span class="s1">)};</span>
<a name="l1251"><span class="ln">1251 </span></a><span class="s1">Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_={};</span>
<a name="l1252"><span class="ln">1252 </span></a><span class="s1">Blockly.Variables.allDeveloperVariables=</span><span class="s3">function</span><span class="s1">(a){a=a.getAllBlocks(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=Object.create(</span><span class="s3">null</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">,d;d=a[c];c++){</span><span class="s3">var </span><span class="s1">e=d.getDeveloperVariables;!e&amp;&amp;d.getDeveloperVars&amp;&amp;(e=d.getDeveloperVars,Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type]||(console.warn(</span><span class="s2">&quot;Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '&quot;</span><span class="s1">+d.type+</span><span class="s2">&quot;')&quot;</span><span class="s1">),Blockly.Variables.ALL_DEVELOPER_VARS_WARNINGS_BY_BLOCK_TYPE_[d.type]=!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">if</span><span class="s1">(e)</span><span class="s3">for</span><span class="s1">(d=e(),e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++)b[d[e]]=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return </span><span class="s1">Object.keys(b)};</span>
<a name="l1253"><span class="ln">1253 </span></a><span class="s1">Blockly.Variables.flyoutCategory=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[],c=document.createElement(</span><span class="s2">&quot;button&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;text&quot;</span><span class="s1">,</span><span class="s2">&quot;%{BKY_NEW_VARIABLE}&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;callbackKey&quot;</span><span class="s1">,</span><span class="s2">&quot;CREATE_VARIABLE&quot;</span><span class="s1">);a.registerButtonCallback(</span><span class="s2">&quot;CREATE_VARIABLE&quot;</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace())});b.push(c);a=Blockly.Variables.flyoutCategoryBlocks(a);</span><span class="s3">return </span><span class="s1">b=b.concat(a)};</span>
<a name="l1254"><span class="ln">1254 </span></a><span class="s1">Blockly.Variables.flyoutCategoryBlocks=</span><span class="s3">function</span><span class="s1">(a){a=a.getVariablesOfType(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;a.length){</span><span class="s3">var </span><span class="s1">c=a[a.length-1];</span><span class="s3">if</span><span class="s1">(Blockly.Blocks.variables_set){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;variables_set&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,Blockly.Blocks.math_change?</span><span class="s4">8</span><span class="s1">:</span><span class="s4">24</span><span class="s1">);d.appendChild(Blockly.Variables.generateVariableFieldDom(c));b.push(d)}Blockly.Blocks.math_change&amp;&amp;(d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;math_change&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,Blockly.Blocks.variables_get?</span>
<a name="l1255"><span class="ln">1255 </span></a><span class="s4">20</span><span class="s1">:</span><span class="s4">8</span><span class="s1">),d.appendChild(Blockly.Variables.generateVariableFieldDom(c)),c=Blockly.Xml.textToDom(</span><span class="s2">'&lt;value name=&quot;DELTA&quot;&gt;&lt;shadow type=&quot;math_number&quot;&gt;&lt;field name=&quot;NUM&quot;&gt;1&lt;/field&gt;&lt;/shadow&gt;&lt;/value&gt;'</span><span class="s1">),d.appendChild(c),b.push(d));</span><span class="s3">if</span><span class="s1">(Blockly.Blocks.variables_get){a.sort(Blockly.VariableModel.compareByName);c=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e;e=a[c];c++)d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">8</span><span class="s1">),d.appendChild(Blockly.Variables.generateVariableFieldDom(e)),b.push(d)}}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1256"><span class="ln">1256 </span></a><span class="s1">Blockly.Variables.generateUniqueName=</span><span class="s3">function</span><span class="s1">(a){a=a.getAllVariables();</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a.length)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">1</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s2">&quot;ijkmnopqrstuvwxyzabcdefgh&quot;</span><span class="s1">.charAt(d);!b;){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=!</span><span class="s4">1</span><span class="s1">,g=</span><span class="s4">0</span><span class="s1">;g&lt;a.length;g++)</span><span class="s3">if</span><span class="s1">(a[g].name.toLowerCase()==e){f=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">break</span><span class="s1">}f?(d++,</span><span class="s4">25</span><span class="s1">==d&amp;&amp;(d=</span><span class="s4">0</span><span class="s1">,c++),e=</span><span class="s2">&quot;ijkmnopqrstuvwxyzabcdefgh&quot;</span><span class="s1">.charAt(d),</span><span class="s4">1</span><span class="s1">&lt;c&amp;&amp;(e+=c)):b=e}</span><span class="s3">else </span><span class="s1">b=</span><span class="s2">&quot;i&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1257"><span class="ln">1257 </span></a><span class="s1">Blockly.Variables.createVariableButtonHandler=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=c||</span><span class="s2">&quot;&quot;</span><span class="s1">,e=</span><span class="s3">function</span><span class="s1">(c){Blockly.Variables.promptName(Blockly.Msg.NEW_VARIABLE_TITLE,c,</span><span class="s3">function</span><span class="s1">(c){</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">var </span><span class="s1">f=Blockly.Variables.nameUsedWithAnyType_(c,a);</span><span class="s3">if</span><span class="s1">(f){</span><span class="s3">var </span><span class="s1">g=c.toLowerCase();</span><span class="s3">if</span><span class="s1">(f.type==d)</span><span class="s3">var </span><span class="s1">l=Blockly.Msg.VARIABLE_ALREADY_EXISTS.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,g);</span><span class="s3">else </span><span class="s1">l=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,l=l.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,g).replace(</span><span class="s2">&quot;%2&quot;</span><span class="s1">,f.type);Blockly.alert(l,</span><span class="s3">function</span><span class="s1">(){e(c)})}</span><span class="s3">else </span><span class="s1">a.createVariable(c,d),b&amp;&amp;b(c)}</span><span class="s3">else </span><span class="s1">b&amp;&amp;b(</span><span class="s3">null</span><span class="s1">)})};</span>
<a name="l1258"><span class="ln">1258 </span></a><span class="s1">e(</span><span class="s2">&quot;&quot;</span><span class="s1">)};goog.exportSymbol(</span><span class="s2">&quot;Blockly.Variables.createVariableButtonHandler&quot;</span><span class="s1">,Blockly.Variables.createVariableButtonHandler);Blockly.Variables.createVariable=Blockly.Variables.createVariableButtonHandler;goog.exportSymbol(</span><span class="s2">&quot;Blockly.Variables.createVariable&quot;</span><span class="s1">,Blockly.Variables.createVariable);</span>
<a name="l1259"><span class="ln">1259 </span></a><span class="s1">Blockly.Variables.renameVariable=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">function</span><span class="s1">(e){</span><span class="s3">var </span><span class="s1">f=Blockly.Msg.RENAME_VARIABLE_TITLE.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,b.name);Blockly.Variables.promptName(f,e,</span><span class="s3">function</span><span class="s1">(e){</span><span class="s3">if</span><span class="s1">(e){</span><span class="s3">var </span><span class="s1">f=Blockly.Variables.nameUsedWithOtherType_(e,b.type,a);f?(f=Blockly.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,e.toLowerCase()).replace(</span><span class="s2">&quot;%2&quot;</span><span class="s1">,f.type),Blockly.alert(f,</span><span class="s3">function</span><span class="s1">(){d(e)})):(a.renameVariableById(b.getId(),e),c&amp;&amp;c(e))}</span><span class="s3">else </span><span class="s1">c&amp;&amp;c(</span><span class="s3">null</span><span class="s1">)})};d(</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l1260"><span class="ln">1260 </span></a><span class="s1">Blockly.Variables.promptName=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.prompt(a,b,</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;(a=a.replace(/[\s\xa0]+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">).trim(),a==Blockly.Msg.RENAME_VARIABLE||a==Blockly.Msg.NEW_VARIABLE)&amp;&amp;(a=</span><span class="s3">null</span><span class="s1">);c(a)})};Blockly.Variables.nameUsedWithOtherType_=</span><span class="s3">function</span><span class="s1">(a,b,c){c=c.getVariableMap().getAllVariables();a=a.toLowerCase();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c[d];d++)</span><span class="s3">if</span><span class="s1">(e.name.toLowerCase()==a&amp;&amp;e.type!=b)</span><span class="s3">return </span><span class="s1">e;</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l1261"><span class="ln">1261 </span></a><span class="s1">Blockly.Variables.nameUsedWithAnyType_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.getVariableMap().getAllVariables();a=a.toLowerCase();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c[d];d++)</span><span class="s3">if</span><span class="s1">(e.name.toLowerCase()==a)</span><span class="s3">return </span><span class="s1">e;</span><span class="s3">return null</span><span class="s1">};Blockly.Variables.generateVariableFieldDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);b.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">);b.setAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">,a.getId());b.setAttribute(</span><span class="s2">&quot;variabletype&quot;</span><span class="s1">,a.type);a=Blockly.utils.xml.createTextNode(a.name);b.appendChild(a);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1262"><span class="ln">1262 </span></a><span class="s1">Blockly.Variables.getOrCreateVariablePackage=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=Blockly.Variables.getVariable(a,b,c,d);e||(e=Blockly.Variables.createVariable_(a,b,c,d));</span><span class="s3">return </span><span class="s1">e};Blockly.Variables.getVariable=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=a.getPotentialVariableMap();</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">f=a.getVariableById(b);!f&amp;&amp;e&amp;&amp;(f=e.getVariableById(b));</span><span class="s3">if</span><span class="s1">(f)</span><span class="s3">return </span><span class="s1">f}</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to look up a variable by name without a type&quot;</span><span class="s1">);f=a.getVariable(c,d);!f&amp;&amp;e&amp;&amp;(f=e.getVariable(c,d))}</span><span class="s3">return </span><span class="s1">f};</span>
<a name="l1263"><span class="ln">1263 </span></a><span class="s1">Blockly.Variables.createVariable_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=a.getPotentialVariableMap();c||(c=Blockly.Variables.generateUniqueName(a.isFlyout?a.targetWorkspace:a));</span><span class="s3">return </span><span class="s1">e?e.createVariable(c,d,b):a.createVariable(c,d,b)};Blockly.Variables.getAddedVariables=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getAllVariables(),d=[];</span><span class="s3">if</span><span class="s1">(b.length!=c.length)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;c.length;e++){</span><span class="s3">var </span><span class="s1">f=c[e];-</span><span class="s4">1</span><span class="s1">==b.indexOf(f)&amp;&amp;d.push(f)}</span><span class="s3">return </span><span class="s1">d};Blockly.VariablesDynamic={};Blockly.VariablesDynamic.onCreateVariableButtonClick_String=</span><span class="s3">function</span><span class="s1">(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;String&quot;</span><span class="s1">)};Blockly.VariablesDynamic.onCreateVariableButtonClick_Number=</span><span class="s3">function</span><span class="s1">(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;Number&quot;</span><span class="s1">)};Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour=</span><span class="s3">function</span><span class="s1">(a){Blockly.Variables.createVariableButtonHandler(a.getTargetWorkspace(),</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;Colour&quot;</span><span class="s1">)};</span>
<a name="l1264"><span class="ln">1264 </span></a><span class="s1">Blockly.VariablesDynamic.flyoutCategory=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[],c=document.createElement(</span><span class="s2">&quot;button&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;text&quot;</span><span class="s1">,Blockly.Msg.NEW_STRING_VARIABLE);c.setAttribute(</span><span class="s2">&quot;callbackKey&quot;</span><span class="s1">,</span><span class="s2">&quot;CREATE_VARIABLE_STRING&quot;</span><span class="s1">);b.push(c);c=document.createElement(</span><span class="s2">&quot;button&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;text&quot;</span><span class="s1">,Blockly.Msg.NEW_NUMBER_VARIABLE);c.setAttribute(</span><span class="s2">&quot;callbackKey&quot;</span><span class="s1">,</span><span class="s2">&quot;CREATE_VARIABLE_NUMBER&quot;</span><span class="s1">);b.push(c);c=document.createElement(</span><span class="s2">&quot;button&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;text&quot;</span><span class="s1">,Blockly.Msg.NEW_COLOUR_VARIABLE);c.setAttribute(</span><span class="s2">&quot;callbackKey&quot;</span><span class="s1">,</span><span class="s2">&quot;CREATE_VARIABLE_COLOUR&quot;</span><span class="s1">);</span>
<a name="l1265"><span class="ln">1265 </span></a><span class="s1">b.push(c);a.registerButtonCallback(</span><span class="s2">&quot;CREATE_VARIABLE_STRING&quot;</span><span class="s1">,Blockly.VariablesDynamic.onCreateVariableButtonClick_String);a.registerButtonCallback(</span><span class="s2">&quot;CREATE_VARIABLE_NUMBER&quot;</span><span class="s1">,Blockly.VariablesDynamic.onCreateVariableButtonClick_Number);a.registerButtonCallback(</span><span class="s2">&quot;CREATE_VARIABLE_COLOUR&quot;</span><span class="s1">,Blockly.VariablesDynamic.onCreateVariableButtonClick_Colour);a=Blockly.VariablesDynamic.flyoutCategoryBlocks(a);</span><span class="s3">return </span><span class="s1">b=b.concat(a)};</span>
<a name="l1266"><span class="ln">1266 </span></a><span class="s1">Blockly.VariablesDynamic.flyoutCategoryBlocks=</span><span class="s3">function</span><span class="s1">(a){a=a.getAllVariables();</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&lt;a.length){</span><span class="s3">if</span><span class="s1">(Blockly.Blocks.variables_set_dynamic){</span><span class="s3">var </span><span class="s1">c=a[a.length-1],d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;variables_set_dynamic&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">24</span><span class="s1">);d.appendChild(Blockly.Variables.generateVariableFieldDom(c));b.push(d)}</span><span class="s3">if</span><span class="s1">(Blockly.Blocks.variables_get_dynamic){a.sort(Blockly.VariableModel.compareByName);c=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e;e=a[c];c++)d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">),</span>
<a name="l1267"><span class="ln">1267 </span></a><span class="s1">d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;variables_get_dynamic&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">8</span><span class="s1">),d.appendChild(Blockly.Variables.generateVariableFieldDom(e)),b.push(d)}}</span><span class="s3">return </span><span class="s1">b};Blockly.WorkspaceAudio=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.parentWorkspace_=a;</span><span class="s3">this</span><span class="s1">.SOUNDS_=Object.create(</span><span class="s3">null</span><span class="s1">)};Blockly.WorkspaceAudio.prototype.lastSound_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceAudio.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.SOUNDS_=</span><span class="s3">this</span><span class="s1">.parentWorkspace_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1268"><span class="ln">1268 </span></a><span class="s1">Blockly.WorkspaceAudio.prototype.load=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a.length){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.utils.global.Audio}</span><span class="s3">catch</span><span class="s1">(h){</span><span class="s3">return</span><span class="s1">}</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d,e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;e++){</span><span class="s3">var </span><span class="s1">f=a[e],g=f.match(/\.(\w+)$/);</span><span class="s3">if</span><span class="s1">(g&amp;&amp;c.canPlayType(</span><span class="s2">&quot;audio/&quot;</span><span class="s1">+g[</span><span class="s4">1</span><span class="s1">])){d=</span><span class="s3">new </span><span class="s1">Blockly.utils.global.Audio(f);</span><span class="s3">break</span><span class="s1">}}d&amp;&amp;d.play&amp;&amp;(</span><span class="s3">this</span><span class="s1">.SOUNDS_[b]=d)}};Blockly.WorkspaceAudio.prototype.preload=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a </span><span class="s3">in this</span><span class="s1">.SOUNDS_){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.SOUNDS_[a];b.volume=.</span><span class="s4">01</span><span class="s1">;b.play()[</span><span class="s2">&quot;catch&quot;</span><span class="s1">](</span><span class="s3">function</span><span class="s1">(){});b.pause();</span><span class="s3">if</span><span class="s1">(Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.IPHONE)</span><span class="s3">break</span><span class="s1">}};</span>
<a name="l1269"><span class="ln">1269 </span></a><span class="s1">Blockly.WorkspaceAudio.prototype.play=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.SOUNDS_[a];</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">new </span><span class="s1">Date;</span><span class="s3">null</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.lastSound_&amp;&amp;d-this.lastSound_&lt;Blockly.SOUND_LIMIT||(</span><span class="s3">this</span><span class="s1">.lastSound_=d,c=Blockly.utils.userAgent.IPAD||Blockly.utils.userAgent.ANDROID?c:c.cloneNode(),c.volume=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b?</span><span class="s4">1</span><span class="s1">:b,c.play())}</span><span class="s3">else this</span><span class="s1">.parentWorkspace_&amp;&amp;</span><span class="s3">this</span><span class="s1">.parentWorkspace_.getAudioManager().play(a,b)};Blockly.WorkspaceCommentSvg.render={};Blockly.WorkspaceCommentSvg.RESIZE_SIZE=</span><span class="s4">8</span><span class="s1">;Blockly.WorkspaceCommentSvg.BORDER_RADIUS=</span><span class="s4">3</span><span class="s1">;Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET=</span><span class="s4">2</span><span class="s1">;Blockly.WorkspaceCommentSvg.TOP_OFFSET=</span><span class="s4">10</span><span class="s1">;Blockly.WorkspaceCommentSvg.prototype.getHeightWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">{width:</span><span class="s3">this</span><span class="s1">.getWidth(),height:</span><span class="s3">this</span><span class="s1">.getHeight()}};</span>
<a name="l1270"><span class="ln">1270 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.render=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.rendered_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getHeightWidth();</span><span class="s3">this</span><span class="s1">.createEditor_();</span><span class="s3">this</span><span class="s1">.svgGroup_.appendChild(</span><span class="s3">this</span><span class="s1">.foreignObject_);</span><span class="s3">this</span><span class="s1">.svgHandleTarget_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyCommentHandleTarget&quot;</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">});</span><span class="s3">this</span><span class="s1">.svgGroup_.appendChild(</span><span class="s3">this</span><span class="s1">.svgHandleTarget_);</span><span class="s3">this</span><span class="s1">.svgRectTarget_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyCommentTarget&quot;</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,rx:Blockly.WorkspaceCommentSvg.BORDER_RADIUS,ry:Blockly.WorkspaceCommentSvg.BORDER_RADIUS});</span>
<a name="l1271"><span class="ln">1271 </span></a><span class="s3">this</span><span class="s1">.svgGroup_.appendChild(</span><span class="s3">this</span><span class="s1">.svgRectTarget_);</span><span class="s3">this</span><span class="s1">.addResizeDom_();</span><span class="s3">this</span><span class="s1">.isDeletable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.addDeleteDom_();</span><span class="s3">this</span><span class="s1">.setSize_(a.width,a.height);</span><span class="s3">this</span><span class="s1">.textarea_.value=</span><span class="s3">this</span><span class="s1">.content_;</span><span class="s3">this</span><span class="s1">.rendered_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.resizeGroup_&amp;&amp;Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.resizeGroup_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.resizeMouseDown_);</span><span class="s3">this</span><span class="s1">.isDeletable()&amp;&amp;(Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.deleteGroup_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.deleteMouseDown_),Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.deleteGroup_,</span><span class="s2">&quot;mouseout&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.deleteMouseOut_),Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.deleteGroup_,</span>
<a name="l1272"><span class="ln">1272 </span></a><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.deleteMouseUp_))}};</span>
<a name="l1273"><span class="ln">1273 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.createEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.foreignObject_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;foreignObject&quot;</span><span class="s1">,{x:</span><span class="s4">0</span><span class="s1">,y:Blockly.WorkspaceCommentSvg.TOP_OFFSET,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyCommentForeignObject&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=document.createElementNS(Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;body&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;xmlns&quot;</span><span class="s1">,Blockly.utils.dom.HTML_NS);a.className=</span><span class="s2">&quot;blocklyMinimalBody&quot;</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=document.createElementNS(Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;textarea&quot;</span><span class="s1">);b.className=</span><span class="s2">&quot;blocklyCommentTextarea&quot;</span><span class="s1">;b.setAttribute(</span><span class="s2">&quot;dir&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.RTL?</span>
<a name="l1274"><span class="ln">1274 </span></a><span class="s2">&quot;RTL&quot;</span><span class="s1">:</span><span class="s2">&quot;LTR&quot;</span><span class="s1">);a.appendChild(b);</span><span class="s3">this</span><span class="s1">.textarea_=b;</span><span class="s3">this</span><span class="s1">.foreignObject_.appendChild(a);Blockly.bindEventWithChecks_(b,</span><span class="s2">&quot;wheel&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){a.stopPropagation()});Blockly.bindEventWithChecks_(b,</span><span class="s2">&quot;change&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setContent(b.value)});</span><span class="s3">return this</span><span class="s1">.foreignObject_};</span>
<a name="l1275"><span class="ln">1275 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.addResizeDom_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.resizeGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.RTL?</span><span class="s2">&quot;blocklyResizeSW&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyResizeSE&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">var </span><span class="s1">a=Blockly.WorkspaceCommentSvg.RESIZE_SIZE;Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;polygon&quot;</span><span class="s1">,{points:</span><span class="s2">&quot;0,x x,x x,0&quot;</span><span class="s1">.replace(/x/g,a.toString())},</span><span class="s3">this</span><span class="s1">.resizeGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyResizeLine&quot;</span><span class="s1">,x1:a/</span><span class="s4">3</span><span class="s1">,y1:a-1,x2:a-1,y2:a/</span><span class="s4">3</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.resizeGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,</span>
<a name="l1276"><span class="ln">1276 </span></a><span class="s1">{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyResizeLine&quot;</span><span class="s1">,x1:</span><span class="s4">2</span><span class="s1">*a/</span><span class="s4">3</span><span class="s1">,y1:a-1,x2:a-1,y2:</span><span class="s4">2</span><span class="s1">*a/</span><span class="s4">3</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.resizeGroup_)};</span>
<a name="l1277"><span class="ln">1277 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.addDeleteDom_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.deleteGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyCommentDeleteIcon&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.deleteIconBorder_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;circle&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyDeleteIconShape&quot;</span><span class="s1">,r:</span><span class="s2">&quot;7&quot;</span><span class="s1">,cx:</span><span class="s2">&quot;7.5&quot;</span><span class="s1">,cy:</span><span class="s2">&quot;7.5&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.deleteGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{x1:</span><span class="s2">&quot;5&quot;</span><span class="s1">,y1:</span><span class="s2">&quot;10&quot;</span><span class="s1">,x2:</span><span class="s2">&quot;10&quot;</span><span class="s1">,y2:</span><span class="s2">&quot;5&quot;</span><span class="s1">,stroke:</span><span class="s2">&quot;#fff&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="s1">:</span><span class="s2">&quot;2&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.deleteGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{x1:</span><span class="s2">&quot;5&quot;</span><span class="s1">,y1:</span><span class="s2">&quot;5&quot;</span><span class="s1">,</span>
<a name="l1278"><span class="ln">1278 </span></a><span class="s1">x2:</span><span class="s2">&quot;10&quot;</span><span class="s1">,y2:</span><span class="s2">&quot;10&quot;</span><span class="s1">,stroke:</span><span class="s2">&quot;#fff&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width&quot;</span><span class="s1">:</span><span class="s2">&quot;2&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.deleteGroup_)};</span>
<a name="l1279"><span class="ln">1279 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.resizeMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.unbindDragEvents_();Blockly.utils.isRightButton(a)||(</span><span class="s3">this</span><span class="s1">.workspace.startDrag(a,</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s3">this</span><span class="s1">.workspace.RTL?-</span><span class="s3">this</span><span class="s1">.width_:</span><span class="s3">this</span><span class="s1">.width_,</span><span class="s3">this</span><span class="s1">.height_)),</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.resizeMouseUp_),</span><span class="s3">this</span><span class="s1">.onMouseMoveWrapper_=Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.resizeMouseMove_),Blockly.hideChaff());a.stopPropagation()};</span>
<a name="l1280"><span class="ln">1280 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.deleteMouseDown_=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.deleteIconBorder_,</span><span class="s2">&quot;blocklyDeleteIconHighlighted&quot;</span><span class="s1">);a.stopPropagation()};Blockly.WorkspaceCommentSvg.prototype.deleteMouseOut_=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.deleteIconBorder_,</span><span class="s2">&quot;blocklyDeleteIconHighlighted&quot;</span><span class="s1">)};Blockly.WorkspaceCommentSvg.prototype.deleteMouseUp_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.dispose(!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);a.stopPropagation()};</span>
<a name="l1281"><span class="ln">1281 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.unbindDragEvents_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_&amp;&amp;(Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_),</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onMouseMoveWrapper_&amp;&amp;(Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onMouseMoveWrapper_),</span><span class="s3">this</span><span class="s1">.onMouseMoveWrapper_=</span><span class="s3">null</span><span class="s1">)};Blockly.WorkspaceCommentSvg.prototype.resizeMouseUp_=</span><span class="s3">function</span><span class="s1">(){Blockly.Touch.clearTouchIdentifier();</span><span class="s3">this</span><span class="s1">.unbindDragEvents_()};</span>
<a name="l1282"><span class="ln">1282 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.resizeMouseMove_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.autoLayout_=!</span><span class="s4">1</span><span class="s1">;a=</span><span class="s3">this</span><span class="s1">.workspace.moveDrag(a);</span><span class="s3">this</span><span class="s1">.setSize_(</span><span class="s3">this</span><span class="s1">.RTL?-a.x:a.x,a.y)};</span>
<a name="l1283"><span class="ln">1283 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.resizeComment_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getHeightWidth(),b=Blockly.WorkspaceCommentSvg.TOP_OFFSET,c=</span><span class="s4">2</span><span class="s1">*Blockly.WorkspaceCommentSvg.TEXTAREA_OFFSET;</span><span class="s3">this</span><span class="s1">.foreignObject_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a.width);</span><span class="s3">this</span><span class="s1">.foreignObject_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,a.height-b);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;</span><span class="s3">this</span><span class="s1">.foreignObject_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,-a.width);</span><span class="s3">this</span><span class="s1">.textarea_.style.width=a.width-c+</span><span class="s2">&quot;px&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.textarea_.style.height=a.height-c-b+</span><span class="s2">&quot;px&quot;</span><span class="s1">};</span>
<a name="l1284"><span class="ln">1284 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.setSize_=</span><span class="s3">function</span><span class="s1">(a,b){a=Math.max(a,</span><span class="s4">45</span><span class="s1">);b=Math.max(b,</span><span class="s4">20</span><span class="s1">+Blockly.WorkspaceCommentSvg.TOP_OFFSET);</span><span class="s3">this</span><span class="s1">.width_=a;</span><span class="s3">this</span><span class="s1">.height_=b;</span><span class="s3">this</span><span class="s1">.svgRect_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.svgRect_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.svgRectTarget_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.svgRectTarget_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.svgHandleTarget_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.svgHandleTarget_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,Blockly.WorkspaceCommentSvg.TOP_OFFSET);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(</span><span class="s3">this</span><span class="s1">.svgRect_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span>
<a name="l1285"><span class="ln">1285 </span></a><span class="s2">&quot;scale(-1 1)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.svgRectTarget_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;scale(-1 1)&quot;</span><span class="s1">));</span><span class="s3">var </span><span class="s1">c=Blockly.WorkspaceCommentSvg.RESIZE_SIZE;</span><span class="s3">this</span><span class="s1">.resizeGroup_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.RTL?(</span><span class="s3">this</span><span class="s1">.resizeGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(-a+c)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(b-c)+</span><span class="s2">&quot;) scale(-1 1)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.deleteGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(-a+c)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+-c+</span><span class="s2">&quot;) scale(-1 1)&quot;</span><span class="s1">)):(</span><span class="s3">this</span><span class="s1">.resizeGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(a-c)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(b-c)+</span><span class="s2">&quot;)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.deleteGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(a-c)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+-c+</span><span class="s2">&quot;)&quot;</span><span class="s1">)));</span><span class="s3">this</span><span class="s1">.resizeComment_()};</span>
<a name="l1286"><span class="ln">1286 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.disposeInternal_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgHandleTarget_=</span><span class="s3">this</span><span class="s1">.svgRectTarget_=</span><span class="s3">this</span><span class="s1">.foreignObject_=</span><span class="s3">this</span><span class="s1">.textarea_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.disposed_=!</span><span class="s4">0</span><span class="s1">};Blockly.WorkspaceCommentSvg.prototype.setFocus=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.focused_=!</span><span class="s4">0</span><span class="s1">;setTimeout(</span><span class="s3">function</span><span class="s1">(){a.disposed_||(a.textarea_.focus(),a.addFocus(),Blockly.utils.dom.addClass(a.svgRectTarget_,</span><span class="s2">&quot;blocklyCommentTargetFocused&quot;</span><span class="s1">),Blockly.utils.dom.addClass(a.svgHandleTarget_,</span><span class="s2">&quot;blocklyCommentHandleTargetFocused&quot;</span><span class="s1">))},</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1287"><span class="ln">1287 </span></a><span class="s1">Blockly.WorkspaceCommentSvg.prototype.blurFocus=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.focused_=!</span><span class="s4">1</span><span class="s1">;setTimeout(</span><span class="s3">function</span><span class="s1">(){a.disposed_||(a.textarea_.blur(),a.removeFocus(),Blockly.utils.dom.removeClass(a.svgRectTarget_,</span><span class="s2">&quot;blocklyCommentTargetFocused&quot;</span><span class="s1">),Blockly.utils.dom.removeClass(a.svgHandleTarget_,</span><span class="s2">&quot;blocklyCommentHandleTargetFocused&quot;</span><span class="s1">))},</span><span class="s4">0</span><span class="s1">)};Blockly.WorkspaceDragSurfaceSvg=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.container_=a;</span><span class="s3">this</span><span class="s1">.createDom()};Blockly.WorkspaceDragSurfaceSvg.prototype.SVG_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceDragSurfaceSvg.prototype.dragGroup_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceDragSurfaceSvg.prototype.container_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1288"><span class="ln">1288 </span></a><span class="s1">Blockly.WorkspaceDragSurfaceSvg.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.SVG_||(</span><span class="s3">this</span><span class="s1">.SVG_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;svg&quot;</span><span class="s1">,{xmlns:Blockly.utils.dom.SVG_NS,</span><span class="s2">&quot;xmlns:html&quot;</span><span class="s1">:Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;xmlns:xlink&quot;</span><span class="s1">:Blockly.utils.dom.XLINK_NS,version:</span><span class="s2">&quot;1.1&quot;</span><span class="s1">,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyWsDragSurface blocklyOverflowVisible&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.container_.appendChild(</span><span class="s3">this</span><span class="s1">.SVG_))};</span>
<a name="l1289"><span class="ln">1289 </span></a><span class="s1">Blockly.WorkspaceDragSurfaceSvg.prototype.translateSurface=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.toFixed(</span><span class="s4">0</span><span class="s1">),d=b.toFixed(</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.SVG_.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">;Blockly.utils.dom.setCssTransform(</span><span class="s3">this</span><span class="s1">.SVG_,</span><span class="s2">&quot;translate3d(&quot;</span><span class="s1">+c+</span><span class="s2">&quot;px, &quot;</span><span class="s1">+d+</span><span class="s2">&quot;px, 0px)&quot;</span><span class="s1">)};Blockly.WorkspaceDragSurfaceSvg.prototype.getSurfaceTranslation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.utils.getRelativeXY(</span><span class="s3">this</span><span class="s1">.SVG_)};</span>
<a name="l1290"><span class="ln">1290 </span></a><span class="s1">Blockly.WorkspaceDragSurfaceSvg.prototype.clearAndHide=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Couldn't clear and hide the drag surface: missing new surface.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.SVG_.childNodes[</span><span class="s4">0</span><span class="s1">],c=</span><span class="s3">this</span><span class="s1">.SVG_.childNodes[</span><span class="s4">1</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(!(b&amp;&amp;c&amp;&amp;Blockly.utils.dom.hasClass(b,</span><span class="s2">&quot;blocklyBlockCanvas&quot;</span><span class="s1">)&amp;&amp;Blockly.utils.dom.hasClass(c,</span><span class="s2">&quot;blocklyBubbleCanvas&quot;</span><span class="s1">)))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Couldn't clear and hide the drag surface. A node was missing.&quot;</span><span class="s1">);</span><span class="s3">null</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.previousSibling_?Blockly.utils.dom.insertAfter(b,</span><span class="s3">this</span><span class="s1">.previousSibling_):a.insertBefore(b,a.firstChild);</span>
<a name="l1291"><span class="ln">1291 </span></a><span class="s1">Blockly.utils.dom.insertAfter(c,b);</span><span class="s3">this</span><span class="s1">.SVG_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.SVG_.childNodes.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Drag surface was not cleared.&quot;</span><span class="s1">);Blockly.utils.dom.setCssTransform(</span><span class="s3">this</span><span class="s1">.SVG_,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.previousSibling_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1292"><span class="ln">1292 </span></a><span class="s1">Blockly.WorkspaceDragSurfaceSvg.prototype.setContentsAndShow=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.SVG_.childNodes.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Already dragging a block.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.previousSibling_=c;a.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(0, 0) scale(&quot;</span><span class="s1">+f+</span><span class="s2">&quot;)&quot;</span><span class="s1">);b.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(0, 0) scale(&quot;</span><span class="s1">+f+</span><span class="s2">&quot;)&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.SVG_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,d);</span><span class="s3">this</span><span class="s1">.SVG_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,e);</span><span class="s3">this</span><span class="s1">.SVG_.appendChild(a);</span><span class="s3">this</span><span class="s1">.SVG_.appendChild(b);</span><span class="s3">this</span><span class="s1">.SVG_.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">};</span>
<a name="l1293"><span class="ln">1293 </span></a><span class="s1">Blockly.ZoomControls=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_=a};Blockly.ZoomControls.prototype.WIDTH_=</span><span class="s4">32</span><span class="s1">;Blockly.ZoomControls.prototype.HEIGHT_=</span><span class="s4">110</span><span class="s1">;Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=</span><span class="s4">20</span><span class="s1">;Blockly.ZoomControls.prototype.MARGIN_SIDE_=</span><span class="s4">20</span><span class="s1">;Blockly.ZoomControls.prototype.svgGroup_=</span><span class="s3">null</span><span class="s1">;Blockly.ZoomControls.prototype.left_=</span><span class="s4">0</span><span class="s1">;Blockly.ZoomControls.prototype.top_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1294"><span class="ln">1294 </span></a><span class="s1">Blockly.ZoomControls.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=String(Math.random()).substring(</span><span class="s4">2</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.createZoomOutSvg_(a);</span><span class="s3">this</span><span class="s1">.createZoomInSvg_(a);</span><span class="s3">this</span><span class="s1">.workspace_.isMovable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.createZoomResetSvg_(a);</span><span class="s3">return this</span><span class="s1">.svgGroup_};Blockly.ZoomControls.prototype.init=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.verticalSpacing_=</span><span class="s3">this</span><span class="s1">.MARGIN_BOTTOM_+a;</span><span class="s3">return this</span><span class="s1">.verticalSpacing_+</span><span class="s3">this</span><span class="s1">.HEIGHT_};</span>
<a name="l1295"><span class="ln">1295 </span></a><span class="s1">Blockly.ZoomControls.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgGroup_&amp;&amp;(Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1296"><span class="ln">1296 </span></a><span class="s1">Blockly.ZoomControls.prototype.position=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.verticalSpacing_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getMetrics();a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.left_=a.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||</span><span class="s3">this</span><span class="s1">.workspace_.horizontalLayout&amp;&amp;!</span><span class="s3">this</span><span class="s1">.workspace_.RTL?a.viewWidth+a.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness:</span><span class="s3">this</span><span class="s1">.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness,a.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?(</span><span class="s3">this</span><span class="s1">.top_=</span><span class="s3">this</span><span class="s1">.verticalSpacing_,</span><span class="s3">this</span><span class="s1">.zoomInGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(0, 34)&quot;</span><span class="s1">),</span>
<a name="l1297"><span class="ln">1297 </span></a><span class="s3">this</span><span class="s1">.zoomResetGroup_&amp;&amp;</span><span class="s3">this</span><span class="s1">.zoomResetGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(0, 77)&quot;</span><span class="s1">)):(</span><span class="s3">this</span><span class="s1">.top_=a.viewHeight+a.absoluteTop-this.HEIGHT_-this.verticalSpacing_,</span><span class="s3">this</span><span class="s1">.zoomInGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(0, 43)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.zoomOutGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(0, 77)&quot;</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.left_+</span><span class="s2">&quot;,&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.top_+</span><span class="s2">&quot;)&quot;</span><span class="s1">))}};</span>
<a name="l1298"><span class="ln">1298 </span></a><span class="s1">Blockly.ZoomControls.prototype.createZoomOutSvg_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace_;</span><span class="s3">this</span><span class="s1">.zoomOutGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyZoom&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">var </span><span class="s1">c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;clipPath&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyZoomoutClipPath&quot;</span><span class="s1">+a},</span><span class="s3">this</span><span class="s1">.zoomOutGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{width:</span><span class="s4">32</span><span class="s1">,height:</span><span class="s4">32</span><span class="s1">},c);a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-</span><span class="s4">64</span><span class="s1">,y:-</span><span class="s4">92</span><span class="s1">,</span><span class="s2">&quot;clip-path&quot;</span><span class="s1">:</span><span class="s2">&quot;url(#blocklyZoomoutClipPath&quot;</span><span class="s1">+</span>
<a name="l1299"><span class="ln">1299 </span></a><span class="s1">a+</span><span class="s2">&quot;)&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.zoomOutGroup_);a.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,b.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){b.markFocused();b.zoomCenter(-</span><span class="s4">1</span><span class="s1">);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};</span>
<a name="l1300"><span class="ln">1300 </span></a><span class="s1">Blockly.ZoomControls.prototype.createZoomInSvg_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace_;</span><span class="s3">this</span><span class="s1">.zoomInGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyZoom&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">var </span><span class="s1">c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;clipPath&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyZoominClipPath&quot;</span><span class="s1">+a},</span><span class="s3">this</span><span class="s1">.zoomInGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{width:</span><span class="s4">32</span><span class="s1">,height:</span><span class="s4">32</span><span class="s1">},c);a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-</span><span class="s4">32</span><span class="s1">,y:-</span><span class="s4">92</span><span class="s1">,</span><span class="s2">&quot;clip-path&quot;</span><span class="s1">:</span><span class="s2">&quot;url(#blocklyZoominClipPath&quot;</span><span class="s1">+</span>
<a name="l1301"><span class="ln">1301 </span></a><span class="s1">a+</span><span class="s2">&quot;)&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.zoomInGroup_);a.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,b.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){b.markFocused();b.zoomCenter(</span><span class="s4">1</span><span class="s1">);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};</span>
<a name="l1302"><span class="ln">1302 </span></a><span class="s1">Blockly.ZoomControls.prototype.createZoomResetSvg_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace_;</span><span class="s3">this</span><span class="s1">.zoomResetGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyZoom&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">var </span><span class="s1">c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;clipPath&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyZoomresetClipPath&quot;</span><span class="s1">+a},</span><span class="s3">this</span><span class="s1">.zoomResetGroup_);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{width:</span><span class="s4">32</span><span class="s1">,height:</span><span class="s4">32</span><span class="s1">},c);a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-</span><span class="s4">92</span><span class="s1">,</span><span class="s2">&quot;clip-path&quot;</span><span class="s1">:</span><span class="s2">&quot;url(#blocklyZoomresetClipPath&quot;</span><span class="s1">+</span>
<a name="l1303"><span class="ln">1303 </span></a><span class="s1">a+</span><span class="s2">&quot;)&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.zoomResetGroup_);a.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,b.options.pathToMedia+Blockly.SPRITE.url);Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){b.markFocused();b.setScale(b.options.zoomOptions.startScale);b.beginCanvasTransition();b.scrollCenter();setTimeout(</span><span class="s3">function</span><span class="s1">(){b.endCanvasTransition()},</span><span class="s4">500</span><span class="s1">);Blockly.Touch.clearTouchIdentifier();a.stopPropagation();a.preventDefault()})};</span>
<a name="l1304"><span class="ln">1304 </span></a><span class="s1">Blockly.WorkspaceSvg=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.WorkspaceSvg.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.getMetrics=a.getMetrics||Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_;</span><span class="s3">this</span><span class="s1">.setMetrics=a.setMetrics||Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_;</span><span class="s3">this</span><span class="s1">.connectionDBList=Blockly.ConnectionDB.init();b&amp;&amp;(</span><span class="s3">this</span><span class="s1">.blockDragSurface_=b);c&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_=c);</span><span class="s3">this</span><span class="s1">.useWorkspaceDragSurface_=</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_&amp;&amp;Blockly.utils.is3dSupported();</span><span class="s3">this</span><span class="s1">.highlightedBlocks_=[];</span><span class="s3">this</span><span class="s1">.audioManager_=</span>
<a name="l1305"><span class="ln">1305 </span></a><span class="s3">new </span><span class="s1">Blockly.WorkspaceAudio(a.parentWorkspace);</span><span class="s3">this</span><span class="s1">.grid_=</span><span class="s3">this</span><span class="s1">.options.gridPattern?</span><span class="s3">new </span><span class="s1">Blockly.Grid(a.gridPattern,a.gridOptions):</span><span class="s3">null</span><span class="s1">;Blockly.Variables&amp;&amp;Blockly.Variables.flyoutCategory&amp;&amp;</span><span class="s3">this</span><span class="s1">.registerToolboxCategoryCallback(Blockly.VARIABLE_CATEGORY_NAME,Blockly.Variables.flyoutCategory);Blockly.VariablesDynamic&amp;&amp;Blockly.VariablesDynamic.flyoutCategory&amp;&amp;</span><span class="s3">this</span><span class="s1">.registerToolboxCategoryCallback(Blockly.VARIABLE_DYNAMIC_CATEGORY_NAME,Blockly.VariablesDynamic.flyoutCategory);Blockly.Procedures&amp;&amp;Blockly.Procedures.flyoutCategory&amp;&amp;</span>
<a name="l1306"><span class="ln">1306 </span></a><span class="s3">this</span><span class="s1">.registerToolboxCategoryCallback(Blockly.PROCEDURE_CATEGORY_NAME,Blockly.Procedures.flyoutCategory)};goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace);Blockly.WorkspaceSvg.prototype.resizeHandlerWrapper_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.rendered=!</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.isVisible_=!</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.isFlyout=!</span><span class="s4">1</span><span class="s1">;Blockly.WorkspaceSvg.prototype.isMutator=!</span><span class="s4">1</span><span class="s1">;Blockly.WorkspaceSvg.prototype.resizesEnabled_=!</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.scrollX=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1307"><span class="ln">1307 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.scrollY=</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.startScrollX=</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.startScrollY=</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.dragDeltaXY_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.scale=</span><span class="s4">1</span><span class="s1">;Blockly.WorkspaceSvg.prototype.trashcan=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.scrollbar=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.flyout_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.toolbox_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.currentGesture_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1308"><span class="ln">1308 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.blockDragSurface_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.workspaceDragSurface_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.useWorkspaceDragSurface_=!</span><span class="s4">1</span><span class="s1">;Blockly.WorkspaceSvg.prototype.isDragSurfaceActive_=!</span><span class="s4">1</span><span class="s1">;Blockly.WorkspaceSvg.prototype.injectionDiv_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.lastRecordedPageScroll_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.flyoutButtonCallbacks_={};Blockly.WorkspaceSvg.prototype.toolboxCategoryCallbacks_={};</span>
<a name="l1309"><span class="ln">1309 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.configureContextMenu=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.targetWorkspace=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.inverseScreenCTM_=</span><span class="s3">null</span><span class="s1">;Blockly.WorkspaceSvg.prototype.inverseScreenCTMDirty_=!</span><span class="s4">0</span><span class="s1">;Blockly.WorkspaceSvg.prototype.getInverseScreenCTM=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inverseScreenCTMDirty_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParentSvg().getScreenCTM();a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.inverseScreenCTM_=a.inverse(),</span><span class="s3">this</span><span class="s1">.inverseScreenCTMDirty_=!</span><span class="s4">1</span><span class="s1">)}</span><span class="s3">return this</span><span class="s1">.inverseScreenCTM_};</span>
<a name="l1310"><span class="ln">1310 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.updateInverseScreenCTM=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.inverseScreenCTMDirty_=!</span><span class="s4">0</span><span class="s1">};Blockly.WorkspaceSvg.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isVisible_};</span>
<a name="l1311"><span class="ln">1311 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.getSvgXY=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">,d=</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(Blockly.utils.dom.containsNode(</span><span class="s3">this</span><span class="s1">.getCanvas(),a)||Blockly.utils.dom.containsNode(</span><span class="s3">this</span><span class="s1">.getBubbleCanvas(),a))d=</span><span class="s3">this</span><span class="s1">.scale;</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=Blockly.utils.getRelativeXY(a);</span><span class="s3">if</span><span class="s1">(a==</span><span class="s3">this</span><span class="s1">.getCanvas()||a==</span><span class="s3">this</span><span class="s1">.getBubbleCanvas())d=</span><span class="s4">1</span><span class="s1">;b+=e.x*d;c+=e.y*d;a=a.parentNode}</span><span class="s3">while</span><span class="s1">(a&amp;&amp;a!=</span><span class="s3">this</span><span class="s1">.getParentSvg());</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(b,c)};Blockly.WorkspaceSvg.prototype.getOriginOffsetInPixels=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.utils.getInjectionDivXY_(</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_)};</span>
<a name="l1312"><span class="ln">1312 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.getInjectionDiv=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.injectionDiv_)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.svgGroup_;a;){</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">!=(</span><span class="s2">&quot; &quot;</span><span class="s1">+(a.getAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">)||</span><span class="s2">&quot;&quot;</span><span class="s1">)+</span><span class="s2">&quot; &quot;</span><span class="s1">).indexOf(</span><span class="s2">&quot; injectionDiv &quot;</span><span class="s1">)){</span><span class="s3">this</span><span class="s1">.injectionDiv_=a;</span><span class="s3">break</span><span class="s1">}a=a.parentNode}</span><span class="s3">return this</span><span class="s1">.injectionDiv_};Blockly.WorkspaceSvg.prototype.setResizeHandlerWrapper=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.resizeHandlerWrapper_=a};</span>
<a name="l1313"><span class="ln">1313 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyWorkspace&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">);a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.svgBackground_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{height:</span><span class="s2">&quot;100%&quot;</span><span class="s1">,width:</span><span class="s2">&quot;100%&quot;</span><span class="s1">,</span><span class="s2">&quot;class&quot;</span><span class="s1">:a},</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s2">&quot;blocklyMainBackground&quot;</span><span class="s1">==a&amp;&amp;</span><span class="s3">this</span><span class="s1">.grid_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.svgBackground_.style.fill=</span><span class="s2">&quot;url(#&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.grid_.getPatternId()+</span><span class="s2">&quot;)&quot;</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyBlockCanvas&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_=</span>
<a name="l1314"><span class="ln">1314 </span></a><span class="s1">Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyBubbleCanvas&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.isFlyout||(Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDown_,!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">),Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;wheel&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseWheel_));</span><span class="s3">this</span><span class="s1">.options.hasCategories&amp;&amp;(</span><span class="s3">this</span><span class="s1">.toolbox_=</span><span class="s3">new </span><span class="s1">Blockly.Toolbox(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.grid_&amp;&amp;</span><span class="s3">this</span><span class="s1">.grid_.update(</span><span class="s3">this</span><span class="s1">.scale);</span><span class="s3">this</span><span class="s1">.recordDeleteAreas();</span><span class="s3">return this</span><span class="s1">.svgGroup_};</span>
<a name="l1315"><span class="ln">1315 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.rendered=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.currentGesture_&amp;&amp;</span><span class="s3">this</span><span class="s1">.currentGesture_.cancel();Blockly.WorkspaceSvg.superClass_.dispose.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgGroup_&amp;&amp;(Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_=</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.toolbox_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.toolbox_.dispose(),</span><span class="s3">this</span><span class="s1">.toolbox_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.flyout_.dispose(),</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.trashcan&amp;&amp;(</span><span class="s3">this</span><span class="s1">.trashcan.dispose(),</span><span class="s3">this</span><span class="s1">.trashcan=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.scrollbar&amp;&amp;(</span><span class="s3">this</span><span class="s1">.scrollbar.dispose(),</span>
<a name="l1316"><span class="ln">1316 </span></a><span class="s3">this</span><span class="s1">.scrollbar=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.zoomControls_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.zoomControls_.dispose(),</span><span class="s3">this</span><span class="s1">.zoomControls_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.audioManager_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.audioManager_.dispose(),</span><span class="s3">this</span><span class="s1">.audioManager_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.grid_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.grid_.dispose(),</span><span class="s3">this</span><span class="s1">.grid_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.flyoutButtonCallbacks_=</span><span class="s3">this</span><span class="s1">.toolboxCategoryCallbacks_=</span><span class="s3">this</span><span class="s1">.connectionDBList=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.options.parentWorkspace){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParentSvg().parentNode;a&amp;&amp;Blockly.utils.dom.removeNode(a)}</span><span class="s3">this</span><span class="s1">.resizeHandlerWrapper_&amp;&amp;(Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.resizeHandlerWrapper_),</span><span class="s3">this</span><span class="s1">.resizeHandlerWrapper_=</span>
<a name="l1317"><span class="ln">1317 </span></a><span class="s3">null</span><span class="s1">)};Blockly.WorkspaceSvg.prototype.newBlock=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return new </span><span class="s1">Blockly.BlockSvg(</span><span class="s3">this</span><span class="s1">,a,b)};Blockly.WorkspaceSvg.prototype.addTrashcan=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.trashcan=</span><span class="s3">new </span><span class="s1">Blockly.Trashcan(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.trashcan.createDom();</span><span class="s3">this</span><span class="s1">.svgGroup_.insertBefore(a,</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_)};Blockly.WorkspaceSvg.prototype.addZoomControls=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.zoomControls_=</span><span class="s3">new </span><span class="s1">Blockly.ZoomControls(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.zoomControls_.createDom();</span><span class="s3">this</span><span class="s1">.svgGroup_.appendChild(a)};</span>
<a name="l1318"><span class="ln">1318 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.addFlyout_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b={disabledPatternId:</span><span class="s3">this</span><span class="s1">.options.disabledPatternId,parentWorkspace:</span><span class="s3">this</span><span class="s1">,RTL:</span><span class="s3">this</span><span class="s1">.RTL,oneBasedIndex:</span><span class="s3">this</span><span class="s1">.options.oneBasedIndex,horizontalLayout:</span><span class="s3">this</span><span class="s1">.horizontalLayout,toolboxPosition:</span><span class="s3">this</span><span class="s1">.options.toolboxPosition};</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">this</span><span class="s1">.horizontalLayout?</span><span class="s3">new </span><span class="s1">Blockly.HorizontalFlyout(b):</span><span class="s3">new </span><span class="s1">Blockly.VerticalFlyout(b);</span><span class="s3">this</span><span class="s1">.flyout_.autoClose=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return this</span><span class="s1">.flyout_.createDom(a)};</span>
<a name="l1319"><span class="ln">1319 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.getFlyout=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.flyout_?</span><span class="s3">this</span><span class="s1">.flyout_:</span><span class="s3">this</span><span class="s1">.toolbox_?</span><span class="s3">this</span><span class="s1">.toolbox_.flyout_:</span><span class="s3">null</span><span class="s1">};Blockly.WorkspaceSvg.prototype.getToolbox=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.toolbox_};Blockly.WorkspaceSvg.prototype.updateScreenCalculations_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.updateInverseScreenCTM();</span><span class="s3">this</span><span class="s1">.recordDeleteAreas()};</span>
<a name="l1320"><span class="ln">1320 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.resizeContents=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.resizesEnabled_&amp;&amp;</span><span class="s3">this</span><span class="s1">.rendered){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.scrollbar){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getMetrics();</span><span class="s3">this</span><span class="s1">.scrollbar.hScroll.resizeContentHorizontal(a);</span><span class="s3">this</span><span class="s1">.scrollbar.vScroll.resizeContentVertical(a)}</span><span class="s3">this</span><span class="s1">.updateInverseScreenCTM()}};</span>
<a name="l1321"><span class="ln">1321 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.resize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.toolbox_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toolbox_.position();</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;</span><span class="s3">this</span><span class="s1">.flyout_.position();</span><span class="s3">this</span><span class="s1">.trashcan&amp;&amp;</span><span class="s3">this</span><span class="s1">.trashcan.position();</span><span class="s3">this</span><span class="s1">.zoomControls_&amp;&amp;</span><span class="s3">this</span><span class="s1">.zoomControls_.position();</span><span class="s3">this</span><span class="s1">.scrollbar&amp;&amp;</span><span class="s3">this</span><span class="s1">.scrollbar.resize();</span><span class="s3">this</span><span class="s1">.updateScreenCalculations_()};</span>
<a name="l1322"><span class="ln">1322 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.updateScreenCalculationsIfScrolled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.utils.getDocumentScroll();Blockly.utils.Coordinate.equals(</span><span class="s3">this</span><span class="s1">.lastRecordedPageScroll_,a)||(</span><span class="s3">this</span><span class="s1">.lastRecordedPageScroll_=a,</span><span class="s3">this</span><span class="s1">.updateScreenCalculations_())};Blockly.WorkspaceSvg.prototype.getCanvas=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.svgBlockCanvas_};Blockly.WorkspaceSvg.prototype.getBubbleCanvas=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.svgBubbleCanvas_};</span>
<a name="l1323"><span class="ln">1323 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.getParentSvg=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.cachedParentSvg_)</span><span class="s3">return this</span><span class="s1">.cachedParentSvg_;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.svgGroup_;a;){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;svg&quot;</span><span class="s1">==a.tagName)</span><span class="s3">return this</span><span class="s1">.cachedParentSvg_=a;a=a.parentNode}</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l1324"><span class="ln">1324 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.useWorkspaceDragSurface_&amp;&amp;</span><span class="s3">this</span><span class="s1">.isDragSurfaceActive_)</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_.translateSurface(a,b);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;,&quot;</span><span class="s1">+b+</span><span class="s2">&quot;) scale(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.scale+</span><span class="s2">&quot;)&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,c);</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,c)}</span><span class="s3">this</span><span class="s1">.blockDragSurface_&amp;&amp;</span><span class="s3">this</span><span class="s1">.blockDragSurface_.translateAndScaleGroup(a,b,</span><span class="s3">this</span><span class="s1">.scale);</span><span class="s3">this</span><span class="s1">.grid_&amp;&amp;</span><span class="s3">this</span><span class="s1">.grid_.moveTo(a,b)};</span>
<a name="l1325"><span class="ln">1325 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.resetDragSurface=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.useWorkspaceDragSurface_){</span><span class="s3">this</span><span class="s1">.isDragSurfaceActive_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_.getSurfaceTranslation();</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_.clearAndHide(</span><span class="s3">this</span><span class="s1">.svgGroup_);a=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a.x+</span><span class="s2">&quot;,&quot;</span><span class="s1">+a.y+</span><span class="s2">&quot;) scale(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.scale+</span><span class="s2">&quot;)&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,a)}};</span>
<a name="l1326"><span class="ln">1326 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.setupDragSurface=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.useWorkspaceDragSurface_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isDragSurfaceActive_){</span><span class="s3">this</span><span class="s1">.isDragSurfaceActive_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_.previousSibling,b=parseInt(</span><span class="s3">this</span><span class="s1">.getParentSvg().getAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),c=parseInt(</span><span class="s3">this</span><span class="s1">.getParentSvg().getAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),d=Blockly.utils.getRelativeXY(</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_);</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_.setContentsAndShow(</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_,</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_,a,b,c,</span><span class="s3">this</span><span class="s1">.scale);</span><span class="s3">this</span><span class="s1">.workspaceDragSurface_.translateSurface(d.x,</span>
<a name="l1327"><span class="ln">1327 </span></a><span class="s1">d.y)}};Blockly.WorkspaceSvg.prototype.getBlockDragSurface=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.blockDragSurface_};Blockly.WorkspaceSvg.prototype.getWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getMetrics();</span><span class="s3">return </span><span class="s1">a?a.viewWidth/</span><span class="s3">this</span><span class="s1">.scale:</span><span class="s4">0</span><span class="s1">};</span>
<a name="l1328"><span class="ln">1328 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.scrollbar&amp;&amp;</span><span class="s3">this</span><span class="s1">.scrollbar.setContainerVisible(a);</span><span class="s3">this</span><span class="s1">.getFlyout()&amp;&amp;</span><span class="s3">this</span><span class="s1">.getFlyout().setContainerVisible(a);</span><span class="s3">this</span><span class="s1">.getParentSvg().style.display=a?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.toolbox_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.toolbox_.HtmlDiv.style.display=a?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">);a?(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.toolbox_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toolbox_.position()):Blockly.hideChaff(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isVisible_=a};</span>
<a name="l1329"><span class="ln">1329 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.render=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getAllBlocks(!</span><span class="s4">1</span><span class="s1">),b=a.length-1;</span><span class="s4">0</span><span class="s1">&lt;=b;b--)a[b].render(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.currentGesture_)</span><span class="s3">for</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.currentGesture_.getInsertionMarkers(),b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++)a[b].render(!</span><span class="s4">1</span><span class="s1">)};Blockly.WorkspaceSvg.prototype.traceOn=</span><span class="s3">function</span><span class="s1">(){console.warn(</span><span class="s2">&quot;Deprecated call to traceOn, delete this.&quot;</span><span class="s1">)};</span>
<a name="l1330"><span class="ln">1330 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.highlightBlock=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=</span><span class="s3">this</span><span class="s1">.highlightedBlocks_[c];c++)d.setHighlighted(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.highlightedBlocks_.length=</span><span class="s4">0</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(d=a?</span><span class="s3">this</span><span class="s1">.getBlockById(a):</span><span class="s3">null</span><span class="s1">)(c=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b||b)?-</span><span class="s4">1</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.highlightedBlocks_.indexOf(d)&amp;&amp;</span><span class="s3">this</span><span class="s1">.highlightedBlocks_.push(d):Blockly.utils.arrayRemove(</span><span class="s3">this</span><span class="s1">.highlightedBlocks_,d),d.setHighlighted(c)};</span>
<a name="l1331"><span class="ln">1331 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.paste=</span><span class="s3">function</span><span class="s1">(a){!</span><span class="s3">this</span><span class="s1">.rendered||a.getElementsByTagName(</span><span class="s2">&quot;block&quot;</span><span class="s1">).length&gt;=</span><span class="s3">this</span><span class="s1">.remainingCapacity()||(</span><span class="s3">this</span><span class="s1">.currentGesture_&amp;&amp;</span><span class="s3">this</span><span class="s1">.currentGesture_.cancel(),</span><span class="s2">&quot;comment&quot;</span><span class="s1">==a.tagName.toLowerCase()?</span><span class="s3">this</span><span class="s1">.pasteWorkspaceComment_(a):</span><span class="s3">this</span><span class="s1">.pasteBlock_(a))};</span>
<a name="l1332"><span class="ln">1332 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.pasteBlock_=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=Blockly.Xml.domToBlock(a,</span><span class="s3">this</span><span class="s1">),c=parseInt(a.getAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),d=parseInt(a.getAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!isNaN(c)&amp;&amp;!isNaN(d)){</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(c=-c);</span><span class="s3">do</span><span class="s1">{a=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.getAllBlocks(!</span><span class="s4">1</span><span class="s1">),f=</span><span class="s4">0</span><span class="s1">,g;g=e[f];f++){</span><span class="s3">var </span><span class="s1">h=g.getRelativeToSurfaceXY();</span><span class="s3">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">&gt;=Math.abs(c-h.x)&amp;&amp;</span><span class="s4">1</span><span class="s1">&gt;=Math.abs(d-h.y)){a=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">break</span><span class="s1">}}</span><span class="s3">if</span><span class="s1">(!a){</span><span class="s3">var </span><span class="s1">k=b.getConnections_(!</span><span class="s4">1</span><span class="s1">);f=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">l;l=k[f];f++)</span><span class="s3">if</span><span class="s1">(l.closest(Blockly.SNAP_RADIUS,</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(c,</span>
<a name="l1333"><span class="ln">1333 </span></a><span class="s1">d)).connection){a=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">break</span><span class="s1">}}a&amp;&amp;(c=</span><span class="s3">this</span><span class="s1">.RTL?c-Blockly.SNAP_RADIUS:c+Blockly.SNAP_RADIUS,d+=</span><span class="s4">2</span><span class="s1">*Blockly.SNAP_RADIUS)}</span><span class="s3">while</span><span class="s1">(a);b.moveBy(c,d)}}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}Blockly.Events.isEnabled()&amp;&amp;!b.isShadow()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockCreate(b));b.select()};</span>
<a name="l1334"><span class="ln">1334 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.pasteWorkspaceComment_=</span><span class="s3">function</span><span class="s1">(a){Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=Blockly.WorkspaceCommentSvg.fromXml(a,</span><span class="s3">this</span><span class="s1">),c=parseInt(a.getAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">),d=parseInt(a.getAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);isNaN(c)||isNaN(d)||(</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(c=-c),b.moveBy(c+</span><span class="s4">50</span><span class="s1">,d+</span><span class="s4">50</span><span class="s1">))}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}Blockly.Events.isEnabled();b.select()};</span>
<a name="l1335"><span class="ln">1335 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.refreshToolboxSelection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.isFlyout?</span><span class="s3">this</span><span class="s1">.targetWorkspace:</span><span class="s3">this</span><span class="s1">;a&amp;&amp;!a.currentGesture_&amp;&amp;a.toolbox_&amp;&amp;a.toolbox_.flyout_&amp;&amp;a.toolbox_.refreshSelection()};Blockly.WorkspaceSvg.prototype.renameVariableById=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.WorkspaceSvg.superClass_.renameVariableById.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.refreshToolboxSelection()};Blockly.WorkspaceSvg.prototype.deleteVariableById=</span><span class="s3">function</span><span class="s1">(a){Blockly.WorkspaceSvg.superClass_.deleteVariableById.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.refreshToolboxSelection()};</span>
<a name="l1336"><span class="ln">1336 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.createVariable=</span><span class="s3">function</span><span class="s1">(a,b,c){a=Blockly.WorkspaceSvg.superClass_.createVariable.call(</span><span class="s3">this</span><span class="s1">,a,b,c);</span><span class="s3">this</span><span class="s1">.refreshToolboxSelection();</span><span class="s3">return </span><span class="s1">a};Blockly.WorkspaceSvg.prototype.recordDeleteAreas=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.deleteAreaTrash_=</span><span class="s3">this</span><span class="s1">.trashcan&amp;&amp;</span><span class="s3">this</span><span class="s1">.svgGroup_.parentNode?</span><span class="s3">this</span><span class="s1">.trashcan.getClientRect():</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.deleteAreaToolbox_=</span><span class="s3">this</span><span class="s1">.flyout_?</span><span class="s3">this</span><span class="s1">.flyout_.getClientRect():</span><span class="s3">this</span><span class="s1">.toolbox_?</span><span class="s3">this</span><span class="s1">.toolbox_.getClientRect():</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1337"><span class="ln">1337 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.isDeleteArea=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.deleteAreaTrash_&amp;&amp;</span><span class="s3">this</span><span class="s1">.deleteAreaTrash_.contains(a.clientX,a.clientY)?Blockly.DELETE_AREA_TRASH:</span><span class="s3">this</span><span class="s1">.deleteAreaToolbox_&amp;&amp;</span><span class="s3">this</span><span class="s1">.deleteAreaToolbox_.contains(a.clientX,a.clientY)?Blockly.DELETE_AREA_TOOLBOX:Blockly.DELETE_AREA_NONE};Blockly.WorkspaceSvg.prototype.onMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getGesture(a);b&amp;&amp;b.handleWsStart(a,</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l1338"><span class="ln">1338 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.startDrag=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.utils.mouseToSvg(a,</span><span class="s3">this</span><span class="s1">.getParentSvg(),</span><span class="s3">this</span><span class="s1">.getInverseScreenCTM());c.x/=</span><span class="s3">this</span><span class="s1">.scale;c.y/=</span><span class="s3">this</span><span class="s1">.scale;</span><span class="s3">this</span><span class="s1">.dragDeltaXY_=Blockly.utils.Coordinate.difference(b,c)};Blockly.WorkspaceSvg.prototype.moveDrag=</span><span class="s3">function</span><span class="s1">(a){a=Blockly.utils.mouseToSvg(a,</span><span class="s3">this</span><span class="s1">.getParentSvg(),</span><span class="s3">this</span><span class="s1">.getInverseScreenCTM());a.x/=</span><span class="s3">this</span><span class="s1">.scale;a.y/=</span><span class="s3">this</span><span class="s1">.scale;</span><span class="s3">return </span><span class="s1">Blockly.utils.Coordinate.sum(</span><span class="s3">this</span><span class="s1">.dragDeltaXY_,a)};</span>
<a name="l1339"><span class="ln">1339 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.isDragging=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return null</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.currentGesture_&amp;&amp;</span><span class="s3">this</span><span class="s1">.currentGesture_.isDragging()};Blockly.WorkspaceSvg.prototype.isDraggable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.drag};</span>
<a name="l1340"><span class="ln">1340 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.isContentBounded=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.scrollbars||</span><span class="s3">this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.wheel||</span><span class="s3">this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.drag||</span><span class="s3">this</span><span class="s1">.options.zoomOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.controls||</span><span class="s3">this</span><span class="s1">.options.zoomOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.wheel};</span>
<a name="l1341"><span class="ln">1341 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.isMovable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.scrollbars||</span><span class="s3">this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.wheel||</span><span class="s3">this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.drag||</span><span class="s3">this</span><span class="s1">.options.zoomOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.wheel};</span>
<a name="l1342"><span class="ln">1342 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.onMouseWheel_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(Blockly.Gesture.inProgress())a.preventDefault(),a.stopPropagation();</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.options.zoomOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.wheel,c=</span><span class="s3">this</span><span class="s1">.options.moveOptions&amp;&amp;</span><span class="s3">this</span><span class="s1">.options.moveOptions.wheel;</span><span class="s3">if</span><span class="s1">(b||c){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.getScrollDeltaPixels(a);!b||!a.ctrlKey&amp;&amp;c?(b=</span><span class="s3">this</span><span class="s1">.scrollX-d.x,c=</span><span class="s3">this</span><span class="s1">.scrollY-d.y,a.shiftKey&amp;&amp;!d.x&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.scrollX-d.y,c=</span><span class="s3">this</span><span class="s1">.scrollY),</span><span class="s3">this</span><span class="s1">.scroll(b,c)):(d=-d.y/</span><span class="s4">50</span><span class="s1">,b=Blockly.utils.mouseToSvg(a,</span><span class="s3">this</span><span class="s1">.getParentSvg(),</span><span class="s3">this</span><span class="s1">.getInverseScreenCTM()),</span>
<a name="l1343"><span class="ln">1343 </span></a><span class="s3">this</span><span class="s1">.zoom(b.x,b.y,d));a.preventDefault()}}};Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s3">this</span><span class="s1">.getTopComments(!</span><span class="s4">1</span><span class="s1">);a=a.concat(b);</span><span class="s3">if</span><span class="s1">(!a.length)</span><span class="s3">return new </span><span class="s1">Blockly.utils.Rect(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);b=a[</span><span class="s4">0</span><span class="s1">].getBoundingRectangle();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">1</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=a[c].getBoundingRectangle();d.top&lt;b.top&amp;&amp;(b.top=d.top);d.bottom&gt;b.bottom&amp;&amp;(b.bottom=d.bottom);d.left&lt;b.left&amp;&amp;(b.left=d.left);d.right&gt;b.right&amp;&amp;(b.right=d.right)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1344"><span class="ln">1344 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.cleanUp=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getTopBlocks(!</span><span class="s4">0</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">,d;d=a[c];c++)</span><span class="s3">if</span><span class="s1">(d.isMovable()){</span><span class="s3">var </span><span class="s1">e=d.getRelativeToSurfaceXY();d.moveBy(-e.x,b-e.y);d.snapToGrid();b=d.getRelativeToSurfaceXY().y+d.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1345"><span class="ln">1345 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.showContextMenu_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">function </span><span class="s1">b(a){</span><span class="s3">if</span><span class="s1">(a.isDeletable())p=p.concat(a.getDescendants(!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">else</span><span class="s1">{a=a.getChildren(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)b(a[c])}}</span><span class="s3">function </span><span class="s1">c(){Blockly.Events.setGroup(f);</span><span class="s3">var </span><span class="s1">a=p.shift();a&amp;&amp;(a.workspace?(a.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">),setTimeout(c,</span><span class="s4">10</span><span class="s1">)):c());Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.options.readOnly&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isFlyout){</span><span class="s3">var </span><span class="s1">d=[],e=</span><span class="s3">this</span><span class="s1">.getTopBlocks(!</span><span class="s4">0</span><span class="s1">),f=Blockly.utils.genUid(),g=</span><span class="s3">this</span><span class="s1">,h={};h.text=Blockly.Msg.UNDO;h.enabled=</span><span class="s4">0</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.undoStack_.length;h.callback=</span>
<a name="l1346"><span class="ln">1346 </span></a><span class="s3">this</span><span class="s1">.undo.bind(</span><span class="s3">this</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);d.push(h);h={};h.text=Blockly.Msg.REDO;h.enabled=</span><span class="s4">0</span><span class="s1">&lt;</span><span class="s3">this</span><span class="s1">.redoStack_.length;h.callback=</span><span class="s3">this</span><span class="s1">.undo.bind(</span><span class="s3">this</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);d.push(h);</span><span class="s3">this</span><span class="s1">.isMovable()&amp;&amp;(h={},h.text=Blockly.Msg.CLEAN_UP,h.enabled=</span><span class="s4">1</span><span class="s1">&lt;e.length,h.callback=</span><span class="s3">this</span><span class="s1">.cleanUp.bind(</span><span class="s3">this</span><span class="s1">),d.push(h));</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.options.collapse){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">k=h=!</span><span class="s4">1</span><span class="s1">,l=</span><span class="s4">0</span><span class="s1">;l&lt;e.length;l++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">n=e[l];n;)n.isCollapsed()?h=!</span><span class="s4">0</span><span class="s1">:k=!</span><span class="s4">0</span><span class="s1">,n=n.getNextBlock();</span><span class="s3">var </span><span class="s1">m=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;c&lt;e.length;c++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=e[c];d;)setTimeout(d.setCollapsed.bind(d,a),b),d=d.getNextBlock(),</span>
<a name="l1347"><span class="ln">1347 </span></a><span class="s1">b+=</span><span class="s4">10</span><span class="s1">};k={enabled:k};k.text=Blockly.Msg.COLLAPSE_ALL;k.callback=</span><span class="s3">function</span><span class="s1">(){m(!</span><span class="s4">0</span><span class="s1">)};d.push(k);h={enabled:h};h.text=Blockly.Msg.EXPAND_ALL;h.callback=</span><span class="s3">function</span><span class="s1">(){m(!</span><span class="s4">1</span><span class="s1">)};d.push(h)}</span><span class="s3">var </span><span class="s1">p=[];</span><span class="s3">for</span><span class="s1">(l=</span><span class="s4">0</span><span class="s1">;l&lt;e.length;l++)b(e[l]);h={text:</span><span class="s4">1</span><span class="s1">==p.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,String(p.length)),enabled:</span><span class="s4">0</span><span class="s1">&lt;p.length,callback:</span><span class="s3">function</span><span class="s1">(){g.currentGesture_&amp;&amp;g.currentGesture_.cancel();</span><span class="s4">2</span><span class="s1">&gt;p.length?c():Blockly.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,p.length),</span><span class="s3">function</span><span class="s1">(a){a&amp;&amp;</span>
<a name="l1348"><span class="ln">1348 </span></a><span class="s1">c()})}};d.push(h);</span><span class="s3">this</span><span class="s1">.configureContextMenu&amp;&amp;</span><span class="s3">this</span><span class="s1">.configureContextMenu(d);Blockly.ContextMenu.show(a,d,</span><span class="s3">this</span><span class="s1">.RTL)}};</span>
<a name="l1349"><span class="ln">1349 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.updateToolbox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a=Blockly.Options.parseToolboxTree(a)){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.options.languageTree)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Existing toolbox is null.  Can't create new toolbox.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.getElementsByTagName(</span><span class="s2">&quot;category&quot;</span><span class="s1">).length){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.toolbox_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Existing toolbox has no categories.  Can't change mode.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.options.languageTree=a;a=</span><span class="s3">this</span><span class="s1">.toolbox_.populate_(a);</span><span class="s3">this</span><span class="s1">.toolbox_.addColour_();</span><span class="s3">this</span><span class="s1">.toolbox_.position();</span><span class="s3">this</span><span class="s1">.toolbox_.tree_.setSelectedItem(a)}</span><span class="s3">else</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.flyout_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Existing toolbox has categories.  Can't change mode.&quot;</span><span class="s1">);</span>
<a name="l1350"><span class="ln">1350 </span></a><span class="s3">this</span><span class="s1">.options.languageTree=a;</span><span class="s3">this</span><span class="s1">.flyout_.show(a.childNodes)}}</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.options.languageTree)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Can't nullify an existing toolbox.&quot;</span><span class="s1">);};Blockly.WorkspaceSvg.prototype.markFocused=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.options.parentWorkspace?</span><span class="s3">this</span><span class="s1">.options.parentWorkspace.markFocused():(Blockly.mainWorkspace=</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.setBrowserFocus())};Blockly.WorkspaceSvg.prototype.setBrowserFocus=</span><span class="s3">function</span><span class="s1">(){document.activeElement&amp;&amp;document.activeElement.blur();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.getParentSvg().focus()}</span><span class="s3">catch</span><span class="s1">(a){</span><span class="s3">try</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.getParentSvg().parentNode.setActive()}</span><span class="s3">catch</span><span class="s1">(b){</span><span class="s3">this</span><span class="s1">.getParentSvg().parentNode.focus()}}};</span>
<a name="l1351"><span class="ln">1351 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.zoom=</span><span class="s3">function</span><span class="s1">(a,b,c){c=Math.pow(</span><span class="s3">this</span><span class="s1">.options.zoomOptions.scaleSpeed,c);</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.scale*c;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.scale!=d){d&gt;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.maxScale?c=</span><span class="s3">this</span><span class="s1">.options.zoomOptions.maxScale/</span><span class="s3">this</span><span class="s1">.scale:d&lt;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.minScale&amp;&amp;(c=</span><span class="s3">this</span><span class="s1">.options.zoomOptions.minScale/</span><span class="s3">this</span><span class="s1">.scale);</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.getCanvas().getCTM(),f=</span><span class="s3">this</span><span class="s1">.getParentSvg().createSVGPoint();f.x=a;f.y=b;f=f.matrixTransform(e.inverse());a=f.x;b=f.y;e=e.translate(a*(</span><span class="s4">1</span><span class="s1">-c),b*(</span><span class="s4">1</span><span class="s1">-c)).scale(c);</span><span class="s3">this</span><span class="s1">.scrollX=e.e;</span><span class="s3">this</span><span class="s1">.scrollY=</span>
<a name="l1352"><span class="ln">1352 </span></a><span class="s1">e.f;</span><span class="s3">this</span><span class="s1">.setScale(d)}};Blockly.WorkspaceSvg.prototype.zoomCenter=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getMetrics();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.flyout_){</span><span class="s3">var </span><span class="s1">c=b.svgWidth/</span><span class="s4">2</span><span class="s1">;b=b.svgHeight/</span><span class="s4">2</span><span class="s1">}</span><span class="s3">else </span><span class="s1">c=b.viewWidth/</span><span class="s4">2</span><span class="s1">+b.absoluteLeft,b=b.viewHeight/</span><span class="s4">2</span><span class="s1">+b.absoluteTop;</span><span class="s3">this</span><span class="s1">.zoom(c,b,a)};</span>
<a name="l1353"><span class="ln">1353 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.zoomToFit=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isMovable()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getMetrics(),b=a.viewWidth;a=a.viewHeight;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getBlocksBoundingBox(),d=c.right-c.left;c=c.bottom-c.top;d&amp;&amp;(</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.horizontalLayout?(a+=</span><span class="s3">this</span><span class="s1">.flyout_.height_,c+=</span><span class="s3">this</span><span class="s1">.flyout_.height_/</span><span class="s3">this</span><span class="s1">.scale):(b+=</span><span class="s3">this</span><span class="s1">.flyout_.getWidth(),d+=</span><span class="s3">this</span><span class="s1">.flyout_.getWidth()/</span><span class="s3">this</span><span class="s1">.scale)),</span><span class="s3">this</span><span class="s1">.setScale(Math.min(b/d,a/c)),</span><span class="s3">this</span><span class="s1">.scrollCenter())}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.&quot;</span><span class="s1">)};</span>
<a name="l1354"><span class="ln">1354 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.beginCanvasTransition=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_,</span><span class="s2">&quot;blocklyCanvasTransitioning&quot;</span><span class="s1">);Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_,</span><span class="s2">&quot;blocklyCanvasTransitioning&quot;</span><span class="s1">)};Blockly.WorkspaceSvg.prototype.endCanvasTransition=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgBlockCanvas_,</span><span class="s2">&quot;blocklyCanvasTransitioning&quot;</span><span class="s1">);Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgBubbleCanvas_,</span><span class="s2">&quot;blocklyCanvasTransitioning&quot;</span><span class="s1">)};</span>
<a name="l1355"><span class="ln">1355 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.scrollCenter=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isMovable()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getMetrics(),b=(a.contentWidth-a.viewWidth)/</span><span class="s4">2</span><span class="s1">,c=(a.contentHeight-a.viewHeight)/</span><span class="s4">2</span><span class="s1">;b=-b-a.contentLeft;c=-c-a.contentTop;</span><span class="s3">this</span><span class="s1">.scroll(b,c)}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.&quot;</span><span class="s1">)};</span>
<a name="l1356"><span class="ln">1356 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.centerOnBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isMovable()){</span><span class="s3">if</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.getBlockById(a)){</span><span class="s3">var </span><span class="s1">b=a.getRelativeToSurfaceXY(),c=a.getHeightWidth(),d=</span><span class="s3">this</span><span class="s1">.scale;a=(b.x+(</span><span class="s3">this</span><span class="s1">.RTL?-</span><span class="s4">1</span><span class="s1">:</span><span class="s4">1</span><span class="s1">)*c.width/</span><span class="s4">2</span><span class="s1">)*d;b=(b.y+c.height/</span><span class="s4">2</span><span class="s1">)*d;c=</span><span class="s3">this</span><span class="s1">.getMetrics();a=-(a-c.contentLeft-c.viewWidth/</span><span class="s4">2</span><span class="s1">)-c.contentLeft;b=-(b-c.contentTop-c.viewHeight/</span><span class="s4">2</span><span class="s1">)-c.contentTop;Blockly.hideChaff();</span><span class="s3">this</span><span class="s1">.scroll(a,b)}}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.&quot;</span><span class="s1">)};</span>
<a name="l1357"><span class="ln">1357 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.setScale=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.options.zoomOptions.maxScale&amp;&amp;a&gt;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.maxScale?a=</span><span class="s3">this</span><span class="s1">.options.zoomOptions.maxScale:</span><span class="s3">this</span><span class="s1">.options.zoomOptions.minScale&amp;&amp;a&lt;</span><span class="s3">this</span><span class="s1">.options.zoomOptions.minScale&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.options.zoomOptions.minScale);</span><span class="s3">this</span><span class="s1">.scale=a;Blockly.hideChaff(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.flyout_.reflow(),</span><span class="s3">this</span><span class="s1">.recordDeleteAreas());</span><span class="s3">this</span><span class="s1">.grid_&amp;&amp;</span><span class="s3">this</span><span class="s1">.grid_.update(</span><span class="s3">this</span><span class="s1">.scale);a=</span><span class="s3">this</span><span class="s1">.getMetrics();</span><span class="s3">this</span><span class="s1">.scrollX-=a.absoluteLeft;</span><span class="s3">this</span><span class="s1">.scrollY-=a.absoluteTop;a.viewLeft+=a.absoluteLeft;</span>
<a name="l1358"><span class="ln">1358 </span></a><span class="s1">a.viewTop+=a.absoluteTop;</span><span class="s3">this</span><span class="s1">.scroll(</span><span class="s3">this</span><span class="s1">.scrollX,</span><span class="s3">this</span><span class="s1">.scrollY);</span><span class="s3">this</span><span class="s1">.scrollbar&amp;&amp;(</span><span class="s3">this</span><span class="s1">.flyout_?(</span><span class="s3">this</span><span class="s1">.scrollbar.hScroll.resizeViewHorizontal(a),</span><span class="s3">this</span><span class="s1">.scrollbar.vScroll.resizeViewVertical(a)):(</span><span class="s3">this</span><span class="s1">.scrollbar.hScroll.resizeContentHorizontal(a),</span><span class="s3">this</span><span class="s1">.scrollbar.vScroll.resizeContentVertical(a)))};</span>
<a name="l1359"><span class="ln">1359 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.scroll=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.hideChaff(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getMetrics(),d=c.contentWidth+c.contentLeft-c.viewWidth,e=c.contentHeight+c.contentTop-c.viewHeight;a=Math.min(a,-c.contentLeft);b=Math.min(b,-c.contentTop);a=Math.max(a,-d);b=Math.max(b,-e);</span><span class="s3">this</span><span class="s1">.scrollX=a;</span><span class="s3">this</span><span class="s1">.scrollY=b;</span><span class="s3">this</span><span class="s1">.scrollbar&amp;&amp;(</span><span class="s3">this</span><span class="s1">.scrollbar.hScroll.setHandlePosition(-(a+c.contentLeft)*</span><span class="s3">this</span><span class="s1">.scrollbar.hScroll.ratio_),</span><span class="s3">this</span><span class="s1">.scrollbar.vScroll.setHandlePosition(-(b+c.contentTop)*</span><span class="s3">this</span><span class="s1">.scrollbar.vScroll.ratio_));</span>
<a name="l1360"><span class="ln">1360 </span></a><span class="s1">a+=c.absoluteLeft;b+=c.absoluteTop;</span><span class="s3">this</span><span class="s1">.translate(a,b)};Blockly.WorkspaceSvg.getDimensionsPx_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;a&amp;&amp;(b=a.getWidth(),c=a.getHeight());</span><span class="s3">return</span><span class="s1">{width:b,height:c}};Blockly.WorkspaceSvg.getContentDimensions_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.isContentBounded()?Blockly.WorkspaceSvg.getContentDimensionsBounded_(a,b):Blockly.WorkspaceSvg.getContentDimensionsExact_(a)};</span>
<a name="l1361"><span class="ln">1361 </span></a><span class="s1">Blockly.WorkspaceSvg.getContentDimensionsExact_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getBlocksBoundingBox(),c=a.scale;a=b.top*c;</span><span class="s3">var </span><span class="s1">d=b.bottom*c,e=b.left*c;b=b.right*c;</span><span class="s3">return</span><span class="s1">{top:a,bottom:d,left:e,right:b,width:b-e,height:d-a}};</span>
<a name="l1362"><span class="ln">1362 </span></a><span class="s1">Blockly.WorkspaceSvg.getContentDimensionsBounded_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.WorkspaceSvg.getContentDimensionsExact_(a),d=b.width,e=b.height,f=d/</span><span class="s4">2</span><span class="s1">,g=e/</span><span class="s4">2</span><span class="s1">,h=Math.min(c.left-f,c.right-d),k=Math.min(c.top-g,c.bottom-e);</span><span class="s3">return</span><span class="s1">{left:h,top:k,height:Math.max(c.bottom+g,c.top+e)-k,width:Math.max(c.right+f,c.left+d)-h}};</span>
<a name="l1363"><span class="ln">1363 </span></a><span class="s1">Blockly.WorkspaceSvg.getTopLevelWorkspaceMetrics_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.WorkspaceSvg.getDimensionsPx_(</span><span class="s3">this</span><span class="s1">.toolbox_),b=Blockly.WorkspaceSvg.getDimensionsPx_(</span><span class="s3">this</span><span class="s1">.flyout_),c=Blockly.svgSize(</span><span class="s3">this</span><span class="s1">.getParentSvg()),d={height:c.height,width:c.width};</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.toolbox_)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_TOP||</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM)d.height-=a.height;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT)d.width-=a.width}</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.flyout_)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.toolboxPosition==</span>
<a name="l1364"><span class="ln">1364 </span></a><span class="s1">Blockly.TOOLBOX_AT_TOP||</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM)d.height-=b.height;</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_LEFT||</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT)d.width-=b.width;</span><span class="s3">var </span><span class="s1">e=Blockly.WorkspaceSvg.getContentDimensions_(</span><span class="s3">this</span><span class="s1">,d),f=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.toolbox_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?f=a.width:</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_LEFT&amp;&amp;(f=b.width);</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.toolbox_&amp;&amp;</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_TOP?g=a.height:</span><span class="s3">this</span><span class="s1">.flyout_&amp;&amp;</span>
<a name="l1365"><span class="ln">1365 </span></a><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_TOP&amp;&amp;(g=b.height);</span><span class="s3">return</span><span class="s1">{contentHeight:e.height,contentWidth:e.width,contentTop:e.top,contentLeft:e.left,viewHeight:d.height,viewWidth:d.width,viewTop:-</span><span class="s3">this</span><span class="s1">.scrollY,viewLeft:-</span><span class="s3">this</span><span class="s1">.scrollX,absoluteTop:g,absoluteLeft:f,svgHeight:c.height,svgWidth:c.width,toolboxWidth:a.width,toolboxHeight:a.height,flyoutWidth:b.width,flyoutHeight:b.height,toolboxPosition:</span><span class="s3">this</span><span class="s1">.toolboxPosition}};</span>
<a name="l1366"><span class="ln">1366 </span></a><span class="s1">Blockly.WorkspaceSvg.setTopLevelWorkspaceMetrics_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getMetrics();</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.x&amp;&amp;(</span><span class="s3">this</span><span class="s1">.scrollX=-b.contentWidth*a.x-b.contentLeft);</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.y&amp;&amp;(</span><span class="s3">this</span><span class="s1">.scrollY=-b.contentHeight*a.y-b.contentTop);</span><span class="s3">this</span><span class="s1">.translate(</span><span class="s3">this</span><span class="s1">.scrollX+b.absoluteLeft,</span><span class="s3">this</span><span class="s1">.scrollY+b.absoluteTop)};Blockly.WorkspaceSvg.prototype.setResizesEnabled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s3">this</span><span class="s1">.resizesEnabled_&amp;&amp;a;</span><span class="s3">this</span><span class="s1">.resizesEnabled_=a;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.resizeContents()};</span>
<a name="l1367"><span class="ln">1367 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.clear=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);Blockly.WorkspaceSvg.superClass_.clear.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">)};Blockly.WorkspaceSvg.prototype.registerButtonCallback=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Button callbacks must be functions.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.flyoutButtonCallbacks_[a]=b};Blockly.WorkspaceSvg.prototype.getButtonCallback=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.flyoutButtonCallbacks_[a])?a:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1368"><span class="ln">1368 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.removeButtonCallback=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.flyoutButtonCallbacks_[a]=</span><span class="s3">null</span><span class="s1">};Blockly.WorkspaceSvg.prototype.registerToolboxCategoryCallback=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Toolbox category callbacks must be functions.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.toolboxCategoryCallbacks_[a]=b};Blockly.WorkspaceSvg.prototype.getToolboxCategoryCallback=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.toolboxCategoryCallbacks_[a]||</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1369"><span class="ln">1369 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.removeToolboxCategoryCallback=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.toolboxCategoryCallbacks_[a]=</span><span class="s3">null</span><span class="s1">};Blockly.WorkspaceSvg.prototype.getGesture=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">==a.type||</span><span class="s2">&quot;touchstart&quot;</span><span class="s1">==a.type||</span><span class="s2">&quot;pointerdown&quot;</span><span class="s1">==a.type,c=</span><span class="s3">this</span><span class="s1">.currentGesture_;</span><span class="s3">return </span><span class="s1">c?b&amp;&amp;c.hasStarted()?(console.warn(</span><span class="s2">&quot;Tried to start the same gesture twice.&quot;</span><span class="s1">),c.cancel(),</span><span class="s3">null</span><span class="s1">):c:b?</span><span class="s3">this</span><span class="s1">.currentGesture_=</span><span class="s3">new </span><span class="s1">Blockly.TouchGesture(a,</span><span class="s3">this</span><span class="s1">):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1370"><span class="ln">1370 </span></a><span class="s1">Blockly.WorkspaceSvg.prototype.clearGesture=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.currentGesture_=</span><span class="s3">null</span><span class="s1">};Blockly.WorkspaceSvg.prototype.cancelCurrentGesture=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.currentGesture_&amp;&amp;</span><span class="s3">this</span><span class="s1">.currentGesture_.cancel()};Blockly.WorkspaceSvg.prototype.getAudioManager=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.audioManager_};Blockly.WorkspaceSvg.prototype.getGrid=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.grid_};Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible;Blockly.Mutator=</span><span class="s3">function</span><span class="s1">(a){Blockly.Mutator.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.quarkNames_=a};goog.inherits(Blockly.Mutator,Blockly.Icon);Blockly.Mutator.prototype.workspaceWidth_=</span><span class="s4">0</span><span class="s1">;Blockly.Mutator.prototype.workspaceHeight_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1371"><span class="ln">1371 </span></a><span class="s1">Blockly.Mutator.prototype.drawIcon_=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconShape&quot;</span><span class="s1">,rx:</span><span class="s2">&quot;4&quot;</span><span class="s1">,ry:</span><span class="s2">&quot;4&quot;</span><span class="s1">,height:</span><span class="s2">&quot;16&quot;</span><span class="s1">,width:</span><span class="s2">&quot;16&quot;</span><span class="s1">},a);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconSymbol&quot;</span><span class="s1">,d:</span><span class="s2">&quot;m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z&quot;</span><span class="s1">},a);</span>
<a name="l1372"><span class="ln">1372 </span></a><span class="s1">Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;circle&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconShape&quot;</span><span class="s1">,r:</span><span class="s2">&quot;2.7&quot;</span><span class="s1">,cx:</span><span class="s2">&quot;8&quot;</span><span class="s1">,cy:</span><span class="s2">&quot;8&quot;</span><span class="s1">},a)};Blockly.Mutator.prototype.iconClick_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.block_.isEditable()&amp;&amp;Blockly.Icon.prototype.iconClick_.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1373"><span class="ln">1373 </span></a><span class="s1">Blockly.Mutator.prototype.createEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgDialog_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;svg&quot;</span><span class="s1">,{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.quarkNames_.length)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;xml&quot;</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.quarkNames_[b];b++){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,c);a.appendChild(d)}</span><span class="s3">else </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">;a={disable:!</span><span class="s4">1</span><span class="s1">,disabledPatternId:</span><span class="s3">this</span><span class="s1">.block_.workspace.options.disabledPatternId,languageTree:a,parentWorkspace:</span><span class="s3">this</span><span class="s1">.block_.workspace,</span>
<a name="l1374"><span class="ln">1374 </span></a><span class="s1">pathToMedia:</span><span class="s3">this</span><span class="s1">.block_.workspace.options.pathToMedia,RTL:</span><span class="s3">this</span><span class="s1">.block_.RTL,toolboxPosition:</span><span class="s3">this</span><span class="s1">.block_.RTL?Blockly.TOOLBOX_AT_RIGHT:Blockly.TOOLBOX_AT_LEFT,horizontalLayout:!</span><span class="s4">1</span><span class="s1">,getMetrics:</span><span class="s3">this</span><span class="s1">.getFlyoutMetrics_.bind(</span><span class="s3">this</span><span class="s1">),setMetrics:</span><span class="s3">null</span><span class="s1">};</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceSvg(a);</span><span class="s3">this</span><span class="s1">.workspace_.isMutator=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workspace_.addChangeListener(Blockly.Events.disableOrphans);a=</span><span class="s3">this</span><span class="s1">.workspace_.addFlyout_(</span><span class="s2">&quot;g&quot;</span><span class="s1">);b=</span><span class="s3">this</span><span class="s1">.workspace_.createDom(</span><span class="s2">&quot;blocklyMutatorBackground&quot;</span><span class="s1">);b.insertBefore(a,</span><span class="s3">this</span><span class="s1">.workspace_.svgBlockCanvas_);</span>
<a name="l1375"><span class="ln">1375 </span></a><span class="s3">this</span><span class="s1">.svgDialog_.appendChild(b);</span><span class="s3">return this</span><span class="s1">.svgDialog_};Blockly.Mutator.prototype.updateEditable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.block_.isInFlyout||(</span><span class="s3">this</span><span class="s1">.block_.isEditable()?</span><span class="s3">this</span><span class="s1">.iconGroup_&amp;&amp;Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.iconGroup_,</span><span class="s2">&quot;blocklyIconGroupReadonly&quot;</span><span class="s1">):(</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.iconGroup_&amp;&amp;Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.iconGroup_,</span><span class="s2">&quot;blocklyIconGroupReadonly&quot;</span><span class="s1">)));Blockly.Icon.prototype.updateEditable.call(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l1376"><span class="ln">1376 </span></a><span class="s1">Blockly.Mutator.prototype.resizeBubble_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">2</span><span class="s1">*Blockly.Bubble.BORDER_WIDTH,b=</span><span class="s3">this</span><span class="s1">.workspace_.getCanvas().getBBox();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.block_.RTL?-b.x:b.width+b.x;b=b.height+</span><span class="s4">3</span><span class="s1">*a;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace_.flyout_){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.workspace_.flyout_.getMetrics_();b=Math.max(b,d.contentHeight+</span><span class="s4">20</span><span class="s1">)}c+=</span><span class="s4">3</span><span class="s1">*a;</span><span class="s3">if</span><span class="s1">(Math.abs(</span><span class="s3">this</span><span class="s1">.workspaceWidth_-c)&gt;a||Math.abs(</span><span class="s3">this</span><span class="s1">.workspaceHeight_-b)&gt;a)</span><span class="s3">this</span><span class="s1">.workspaceWidth_=c,</span><span class="s3">this</span><span class="s1">.workspaceHeight_=b,</span><span class="s3">this</span><span class="s1">.bubble_.setBubbleSize(c+a,b+a),</span><span class="s3">this</span><span class="s1">.svgDialog_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspaceWidth_),</span>
<a name="l1377"><span class="ln">1377 </span></a><span class="s3">this</span><span class="s1">.svgDialog_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspaceHeight_);</span><span class="s3">this</span><span class="s1">.block_.RTL&amp;&amp;(a=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.workspaceWidth_+</span><span class="s2">&quot;,0)&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspace_.getCanvas().setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,a));</span><span class="s3">this</span><span class="s1">.workspace_.resize()};</span>
<a name="l1378"><span class="ln">1378 </span></a><span class="s1">Blockly.Mutator.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a!=</span><span class="s3">this</span><span class="s1">.isVisible())</span><span class="s3">if</span><span class="s1">(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">this</span><span class="s1">.block_,</span><span class="s2">&quot;mutatorOpen&quot;</span><span class="s1">,!a,a)),a){</span><span class="s3">this</span><span class="s1">.bubble_=</span><span class="s3">new </span><span class="s1">Blockly.Bubble(</span><span class="s3">this</span><span class="s1">.block_.workspace,</span><span class="s3">this</span><span class="s1">.createEditor_(),</span><span class="s3">this</span><span class="s1">.block_.svgPath_,</span><span class="s3">this</span><span class="s1">.iconXY_,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.bubble_.setSvgId(</span><span class="s3">this</span><span class="s1">.block_.id);</span><span class="s3">if</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.workspace_.options.languageTree)</span><span class="s3">this</span><span class="s1">.workspace_.flyout_.init(</span><span class="s3">this</span><span class="s1">.workspace_),</span><span class="s3">this</span><span class="s1">.workspace_.flyout_.show(a.childNodes);</span><span class="s3">this</span><span class="s1">.rootBlock_=</span><span class="s3">this</span><span class="s1">.block_.decompose(</span><span class="s3">this</span><span class="s1">.workspace_);a=</span><span class="s3">this</span><span class="s1">.rootBlock_.getDescendants(!</span><span class="s4">1</span><span class="s1">);</span>
<a name="l1379"><span class="ln">1379 </span></a><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c.render();</span><span class="s3">this</span><span class="s1">.rootBlock_.setMovable(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.rootBlock_.setDeletable(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.flyout_?(a=</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.workspace_.flyout_.CORNER_RADIUS,b=</span><span class="s3">this</span><span class="s1">.workspace_.getFlyout().getWidth()+a):b=a=</span><span class="s4">16</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.block_.RTL&amp;&amp;(b=-b);</span><span class="s3">this</span><span class="s1">.rootBlock_.moveBy(b,a);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.block_.saveConnections){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.block_.saveConnections(</span><span class="s3">this</span><span class="s1">.rootBlock_);</span><span class="s3">this</span><span class="s1">.sourceListener_=</span><span class="s3">function</span><span class="s1">(){d.block_.saveConnections(d.rootBlock_)};</span><span class="s3">this</span><span class="s1">.block_.workspace.addChangeListener(</span><span class="s3">this</span><span class="s1">.sourceListener_)}</span><span class="s3">this</span><span class="s1">.resizeBubble_();</span>
<a name="l1380"><span class="ln">1380 </span></a><span class="s3">this</span><span class="s1">.workspace_.addChangeListener(</span><span class="s3">this</span><span class="s1">.workspaceChanged_.bind(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.updateColour()}</span><span class="s3">else this</span><span class="s1">.svgDialog_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspace_.dispose(),</span><span class="s3">this</span><span class="s1">.rootBlock_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.bubble_.dispose(),</span><span class="s3">this</span><span class="s1">.bubble_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspaceHeight_=</span><span class="s3">this</span><span class="s1">.workspaceWidth_=</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.sourceListener_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.block_.workspace.removeChangeListener(</span><span class="s3">this</span><span class="s1">.sourceListener_),</span><span class="s3">this</span><span class="s1">.sourceListener_=</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1381"><span class="ln">1381 </span></a><span class="s1">Blockly.Mutator.prototype.workspaceChanged_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.type!=Blockly.Events.UI&amp;&amp;(a.type!=Blockly.Events.CHANGE||</span><span class="s2">&quot;disabled&quot;</span><span class="s1">!=a.element)){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.workspace_.isDragging()){a=</span><span class="s3">this</span><span class="s1">.workspace_.getTopBlocks(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++){</span><span class="s3">var </span><span class="s1">d=c.getRelativeToSurfaceXY(),e=c.getHeightWidth();</span><span class="s4">20</span><span class="s1">&gt;d.y+e.height&amp;&amp;c.moveBy(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">20</span><span class="s1">-e.height-d.y)}}</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.rootBlock_.workspace==</span><span class="s3">this</span><span class="s1">.workspace_){Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);c=</span><span class="s3">this</span><span class="s1">.block_;a=(a=c.mutationToDom())&amp;&amp;Blockly.Xml.domToText(a);b=c.rendered;c.rendered=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1382"><span class="ln">1382 </span></a><span class="s1">c.compose(</span><span class="s3">this</span><span class="s1">.rootBlock_);c.rendered=b;c.initSvg();b=(b=c.mutationToDom())&amp;&amp;Blockly.Xml.domToText(b);</span><span class="s3">if</span><span class="s1">(a!=b){Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(c,</span><span class="s2">&quot;mutation&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,a,b));</span><span class="s3">var </span><span class="s1">f=Blockly.Events.getGroup();setTimeout(</span><span class="s3">function</span><span class="s1">(){Blockly.Events.setGroup(f);c.bumpNeighbours_();Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)},Blockly.BUMP_DELAY)}c.rendered&amp;&amp;c.render();</span><span class="s3">this</span><span class="s1">.workspace_.isDragging()||</span><span class="s3">this</span><span class="s1">.resizeBubble_();Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}}};</span>
<a name="l1383"><span class="ln">1383 </span></a><span class="s1">Blockly.Mutator.prototype.getFlyoutMetrics_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">{viewHeight:</span><span class="s3">this</span><span class="s1">.workspaceHeight_,viewWidth:</span><span class="s3">this</span><span class="s1">.workspaceWidth_-this.workspace_.getFlyout().getWidth(),absoluteTop:</span><span class="s4">0</span><span class="s1">,absoluteLeft:</span><span class="s3">this</span><span class="s1">.workspace_.RTL?</span><span class="s4">0</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.workspace_.getFlyout().getWidth()}};Blockly.Mutator.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.block_.mutator=</span><span class="s3">null</span><span class="s1">;Blockly.Icon.prototype.dispose.call(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l1384"><span class="ln">1384 </span></a><span class="s1">Blockly.Mutator.prototype.updateBlockStyle=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_;</span><span class="s3">if</span><span class="s1">(a&amp;&amp;a.getAllBlocks()){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=a.getAllBlocks(),c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++){</span><span class="s3">var </span><span class="s1">d=b[c];d.setStyle(d.getStyleName())}a=a.flyout_.workspace_.getAllBlocks();</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)d=a[c],d.setStyle(d.getStyleName())}};</span>
<a name="l1385"><span class="ln">1385 </span></a><span class="s1">Blockly.Mutator.reconnect=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!a||!a.getSourceBlock().workspace)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;c=b.getInput(c).connection;</span><span class="s3">var </span><span class="s1">d=a.targetBlock();</span><span class="s3">return </span><span class="s1">d&amp;&amp;d!=b||c.targetConnection==a?!</span><span class="s4">1</span><span class="s1">:(c.isConnected()&amp;&amp;c.disconnect(),c.connect(a),!</span><span class="s4">0</span><span class="s1">)};Blockly.Mutator.findParentWs=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a&amp;&amp;a.options){</span><span class="s3">var </span><span class="s1">c=a.options.parentWorkspace;a.isFlyout?c&amp;&amp;c.options&amp;&amp;(b=c.options.parentWorkspace):c&amp;&amp;(b=c)}</span><span class="s3">return </span><span class="s1">b};Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={});</span>
<a name="l1386"><span class="ln">1386 </span></a><span class="s1">Blockly.utils.global.Blockly.Mutator||(Blockly.utils.global.Blockly.Mutator={});Blockly.utils.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect;Blockly.Extensions={};Blockly.Extensions.ALL_={};Blockly.Extensions.register=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a||</span><span class="s2">&quot;&quot;</span><span class="s1">==a.trim())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error: Invalid extension name &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(Blockly.Extensions.ALL_[a])</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error: Extension &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; is already registered.'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error: Extension &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; must be a function'</span><span class="s1">);Blockly.Extensions.ALL_[a]=b};</span>
<a name="l1387"><span class="ln">1387 </span></a><span class="s1">Blockly.Extensions.registerMixin=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!b||</span><span class="s2">&quot;object&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error: Mixin &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; must be a object'</span><span class="s1">);Blockly.Extensions.register(a,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.mixin(b)})};</span>
<a name="l1388"><span class="ln">1388 </span></a><span class="s1">Blockly.Extensions.registerMutator=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=</span><span class="s2">'Error when registering mutator &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;: '</span><span class="s1">;Blockly.Extensions.checkHasFunction_(e,b.domToMutation,</span><span class="s2">&quot;domToMutation&quot;</span><span class="s1">);Blockly.Extensions.checkHasFunction_(e,b.mutationToDom,</span><span class="s2">&quot;mutationToDom&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">f=Blockly.Extensions.checkMutatorDialog_(b,e);</span><span class="s3">if</span><span class="s1">(c&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Extension &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; is not a function'</span><span class="s1">);Blockly.Extensions.register(a,</span><span class="s3">function</span><span class="s1">(){f&amp;&amp;</span><span class="s3">this</span><span class="s1">.setMutator(</span><span class="s3">new </span><span class="s1">Blockly.Mutator(d));</span><span class="s3">this</span><span class="s1">.mixin(b);c&amp;&amp;c.apply(</span><span class="s3">this</span><span class="s1">)})};</span>
<a name="l1389"><span class="ln">1389 </span></a><span class="s1">Blockly.Extensions.apply=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=Blockly.Extensions.ALL_[a];</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error: Extension &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; not found.'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c)Blockly.Extensions.checkNoMutatorProperties_(a,b);</span><span class="s3">else var </span><span class="s1">e=Blockly.Extensions.getMutatorProperties_(b);d.apply(b);</span><span class="s3">if</span><span class="s1">(c)Blockly.Extensions.checkBlockHasMutatorProperties_(</span><span class="s2">'Error after applying mutator &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;: '</span><span class="s1">,b);</span><span class="s3">else if</span><span class="s1">(!Blockly.Extensions.mutatorPropertiesMatch_(e,b))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error when applying extension &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;: mutation properties changed when applying a non-mutator extension.'</span><span class="s1">);</span>
<a name="l1390"><span class="ln">1390 </span></a><span class="s1">};Blockly.Extensions.checkHasFunction_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">throw </span><span class="s1">Error(a+</span><span class="s2">'missing required property &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">Error(a+</span><span class="s2">'&quot; required property &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot; must be a function'</span><span class="s1">);};Blockly.Extensions.checkNoMutatorProperties_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(Blockly.Extensions.getMutatorProperties_(b).length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Error: tried to apply mutation &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; to a block that already has mutator functions.  Block id: '</span><span class="s1">+b.id);};</span>
<a name="l1391"><span class="ln">1391 </span></a><span class="s1">Blockly.Extensions.checkMutatorDialog_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.compose,d=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.decompose;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;d){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.compose)</span><span class="s3">throw </span><span class="s1">Error(b+</span><span class="s2">&quot;compose must be a function.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a.decompose)</span><span class="s3">throw </span><span class="s1">Error(b+</span><span class="s2">&quot;decompose must be a function.&quot;</span><span class="s1">);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(c||d)</span><span class="s3">throw </span><span class="s1">Error(b+</span><span class="s2">'Must have both or neither of &quot;compose&quot; and &quot;decompose&quot;'</span><span class="s1">);</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1392"><span class="ln">1392 </span></a><span class="s1">Blockly.Extensions.checkBlockHasMutatorProperties_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b.domToMutation)</span><span class="s3">throw </span><span class="s1">Error(a+</span><span class="s2">'Applying a mutator didn</span><span class="s5">\'</span><span class="s2">t add &quot;domToMutation&quot;'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b.mutationToDom)</span><span class="s3">throw </span><span class="s1">Error(a+</span><span class="s2">'Applying a mutator didn</span><span class="s5">\'</span><span class="s2">t add &quot;mutationToDom&quot;'</span><span class="s1">);Blockly.Extensions.checkMutatorDialog_(b,a)};</span>
<a name="l1393"><span class="ln">1393 </span></a><span class="s1">Blockly.Extensions.getMutatorProperties_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.domToMutation&amp;&amp;b.push(a.domToMutation);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.mutationToDom&amp;&amp;b.push(a.mutationToDom);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.compose&amp;&amp;b.push(a.compose);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.decompose&amp;&amp;b.push(a.decompose);</span><span class="s3">return </span><span class="s1">b};Blockly.Extensions.mutatorPropertiesMatch_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.Extensions.getMutatorProperties_(b);</span><span class="s3">if</span><span class="s1">(c.length!=a.length)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)</span><span class="s3">if</span><span class="s1">(a[d]!=c[d])</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l1394"><span class="ln">1394 </span></a><span class="s1">Blockly.Extensions.buildTooltipForDropdown=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[];</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">document&amp;&amp;Blockly.utils.runAfterPageLoad(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a </span><span class="s3">in </span><span class="s1">b)Blockly.utils.checkMessageReferences(b[a])});</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.type&amp;&amp;-</span><span class="s4">1</span><span class="s1">===c.indexOf(</span><span class="s3">this</span><span class="s1">.type)&amp;&amp;(Blockly.Extensions.checkDropdownOptionsInTable_(</span><span class="s3">this</span><span class="s1">,a,b),c.push(</span><span class="s3">this</span><span class="s1">.type));</span><span class="s3">this</span><span class="s1">.setTooltip(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getFieldValue(a),e=b[d];</span><span class="s3">null</span><span class="s1">==e?-</span><span class="s4">1</span><span class="s1">===c.indexOf(</span><span class="s3">this</span><span class="s1">.type)&amp;&amp;(d=</span><span class="s2">&quot;No tooltip mapping for value &quot;</span><span class="s1">+d+</span><span class="s2">&quot; of field &quot;</span><span class="s1">+a,</span><span class="s3">null</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.type&amp;&amp;(d+=</span><span class="s2">&quot; of block type &quot;</span><span class="s1">+</span>
<a name="l1395"><span class="ln">1395 </span></a><span class="s3">this</span><span class="s1">.type),console.warn(d+</span><span class="s2">&quot;.&quot;</span><span class="s1">)):e=Blockly.utils.replaceMessageReferences(e);</span><span class="s3">return </span><span class="s1">e}.bind(</span><span class="s3">this</span><span class="s1">))}};Blockly.Extensions.checkDropdownOptionsInTable_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.getField(b);</span><span class="s3">if</span><span class="s1">(!d.isOptionListDynamic()){d=d.getOptions();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;++e){</span><span class="s3">var </span><span class="s1">f=d[e][</span><span class="s4">1</span><span class="s1">];</span><span class="s3">null</span><span class="s1">==c[f]&amp;&amp;console.warn(</span><span class="s2">&quot;No tooltip mapping for value &quot;</span><span class="s1">+f+</span><span class="s2">&quot; of field &quot;</span><span class="s1">+b+</span><span class="s2">&quot; of block type &quot;</span><span class="s1">+a.type)}}};</span>
<a name="l1396"><span class="ln">1396 </span></a><span class="s1">Blockly.Extensions.buildTooltipWithFieldText=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">document&amp;&amp;Blockly.utils.runAfterPageLoad(</span><span class="s3">function</span><span class="s1">(){Blockly.utils.checkMessageReferences(a)});</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setTooltip(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getField(b);</span><span class="s3">return </span><span class="s1">Blockly.utils.replaceMessageReferences(a).replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,c?c.getText():</span><span class="s2">&quot;&quot;</span><span class="s1">)}.bind(</span><span class="s3">this</span><span class="s1">))}};</span>
<a name="l1397"><span class="ln">1397 </span></a><span class="s1">Blockly.Extensions.extensionParentTooltip_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.tooltipWhenNotConnected_=</span><span class="s3">this</span><span class="s1">.tooltip;</span><span class="s3">this</span><span class="s1">.setTooltip(</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getParent();</span><span class="s3">return </span><span class="s1">a&amp;&amp;a.getInputsInline()&amp;&amp;a.tooltip||</span><span class="s3">this</span><span class="s1">.tooltipWhenNotConnected_}.bind(</span><span class="s3">this</span><span class="s1">))};Blockly.Extensions.register(</span><span class="s2">&quot;parent_tooltip_when_inline&quot;</span><span class="s1">,Blockly.Extensions.extensionParentTooltip_);Blockly.Field=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.size_=</span><span class="s3">new </span><span class="s1">goog.math.Size(</span><span class="s4">0</span><span class="s1">,Blockly.BlockSvg.MIN_BLOCK_Y);</span><span class="s3">this</span><span class="s1">.setValue(a);</span><span class="s3">this</span><span class="s1">.setValidator(b)};Blockly.Field.TYPE_MAP_={};Blockly.Field.register=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a||</span><span class="s2">&quot;&quot;</span><span class="s1">==a.trim())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Invalid field type &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!b||</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b.fromJson)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Field &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot; must have a fromJson function'</span><span class="s1">);Blockly.Field.TYPE_MAP_[a]=b};Blockly.Field.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.Field.TYPE_MAP_[a.type];</span><span class="s3">return </span><span class="s1">b?b.fromJson(a):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1398"><span class="ln">1398 </span></a><span class="s1">Blockly.Field.cacheWidths_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.cacheReference_=</span><span class="s4">0</span><span class="s1">;Blockly.Field.prototype.name=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;Blockly.Field.prototype.maxDisplayLength=</span><span class="s4">50</span><span class="s1">;Blockly.Field.prototype.value_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.prototype.text_=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.Field.prototype.tooltip_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.prototype.sourceBlock_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.prototype.isDirty_=!</span><span class="s4">0</span><span class="s1">;Blockly.Field.prototype.visible_=!</span><span class="s4">0</span><span class="s1">;Blockly.Field.prototype.validator_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.prototype.clickTarget_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.NBSP=</span><span class="s2">&quot;</span><span class="s5">\u00a0</span><span class="s2">&quot;</span><span class="s1">;</span>
<a name="l1399"><span class="ln">1399 </span></a><span class="s1">Blockly.Field.prototype.EDITABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.Field.prototype.SERIALIZABLE=!</span><span class="s4">1</span><span class="s1">;Blockly.Field.prototype.setSourceBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.sourceBlock_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Field already bound to a block.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.sourceBlock_=a};Blockly.Field.prototype.getSourceBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.sourceBlock_};</span>
<a name="l1400"><span class="ln">1400 </span></a><span class="s1">Blockly.Field.prototype.init=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.fieldGroup_||(</span><span class="s3">this</span><span class="s1">.fieldGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{},</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.isVisible()||(</span><span class="s3">this</span><span class="s1">.fieldGroup_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.sourceBlock_.getSvgRoot().appendChild(</span><span class="s3">this</span><span class="s1">.fieldGroup_),</span><span class="s3">this</span><span class="s1">.initView(),</span><span class="s3">this</span><span class="s1">.updateEditable(),</span><span class="s3">this</span><span class="s1">.setTooltip(</span><span class="s3">this</span><span class="s1">.tooltip_),</span><span class="s3">this</span><span class="s1">.bindEvents_(),</span><span class="s3">this</span><span class="s1">.initModel())};Blockly.Field.prototype.initView=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.createBorderRect_();</span><span class="s3">this</span><span class="s1">.createTextElement_()};</span>
<a name="l1401"><span class="ln">1401 </span></a><span class="s1">Blockly.Field.prototype.createBorderRect_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.borderRect_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{rx:</span><span class="s4">4</span><span class="s1">,ry:</span><span class="s4">4</span><span class="s1">,x:-Blockly.BlockSvg.SEP_SPACE_X/</span><span class="s4">2</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,height:</span><span class="s4">16</span><span class="s1">,width:</span><span class="s3">this</span><span class="s1">.size_.width+Blockly.BlockSvg.SEP_SPACE_X},</span><span class="s3">this</span><span class="s1">.fieldGroup_)};Blockly.Field.prototype.createTextElement_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.textElement_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;text&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyText&quot;</span><span class="s1">,y:</span><span class="s3">this</span><span class="s1">.size_.height-12.</span><span class="s4">5</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.fieldGroup_);</span><span class="s3">this</span><span class="s1">.textContent_=document.createTextNode(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.textElement_.appendChild(</span><span class="s3">this</span><span class="s1">.textContent_)};</span>
<a name="l1402"><span class="ln">1402 </span></a><span class="s1">Blockly.Field.prototype.bindEvents_=</span><span class="s3">function</span><span class="s1">(){Blockly.Tooltip.bindMouseEvents(</span><span class="s3">this</span><span class="s1">.getClickTarget_());</span><span class="s3">this</span><span class="s1">.mouseDownWrapper_=Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.getClickTarget_(),</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDown_)};Blockly.Field.prototype.initModel=</span><span class="s3">function</span><span class="s1">(){};Blockly.Field.prototype.fromXml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.setValue(a.textContent)};Blockly.Field.prototype.toXml=</span><span class="s3">function</span><span class="s1">(a){a.textContent=</span><span class="s3">this</span><span class="s1">.getValue();</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1403"><span class="ln">1403 </span></a><span class="s1">Blockly.Field.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){Blockly.DropDownDiv.hideIfOwner(</span><span class="s3">this</span><span class="s1">);Blockly.WidgetDiv.hideIfOwner(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.mouseDownWrapper_&amp;&amp;Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.mouseDownWrapper_);Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.fieldGroup_);</span><span class="s3">this</span><span class="s1">.disposed=!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l1404"><span class="ln">1404 </span></a><span class="s1">Blockly.Field.prototype.updateEditable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getClickTarget_();</span><span class="s3">this</span><span class="s1">.EDITABLE&amp;&amp;a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sourceBlock_.isEditable()?(Blockly.utils.dom.addClass(a,</span><span class="s2">&quot;blocklyEditableText&quot;</span><span class="s1">),Blockly.utils.dom.removeClass(a,</span><span class="s2">&quot;blocklyNonEditableText&quot;</span><span class="s1">),a.style.cursor=</span><span class="s3">this</span><span class="s1">.CURSOR):(Blockly.utils.dom.addClass(a,</span><span class="s2">&quot;blocklyNonEditableText&quot;</span><span class="s1">),Blockly.utils.dom.removeClass(a,</span><span class="s2">&quot;blocklyEditableText&quot;</span><span class="s1">),a.style.cursor=</span><span class="s2">&quot;&quot;</span><span class="s1">))};</span>
<a name="l1405"><span class="ln">1405 </span></a><span class="s1">Blockly.Field.prototype.isClickable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;</span><span class="s3">this</span><span class="s1">.sourceBlock_.isEditable()&amp;&amp;!!</span><span class="s3">this</span><span class="s1">.showEditor_&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">===</span><span class="s3">typeof this</span><span class="s1">.showEditor_};Blockly.Field.prototype.isCurrentlyEditable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.EDITABLE&amp;&amp;!!</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;</span><span class="s3">this</span><span class="s1">.sourceBlock_.isEditable()};</span>
<a name="l1406"><span class="ln">1406 </span></a><span class="s1">Blockly.Field.prototype.isSerializable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.name&amp;&amp;(</span><span class="s3">this</span><span class="s1">.SERIALIZABLE?a=!</span><span class="s4">0</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.EDITABLE&amp;&amp;(console.warn(</span><span class="s2">&quot;Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization.&quot;</span><span class="s1">),a=!</span><span class="s4">0</span><span class="s1">));</span><span class="s3">return </span><span class="s1">a};Blockly.Field.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.visible_};</span>
<a name="l1407"><span class="ln">1407 </span></a><span class="s1">Blockly.Field.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.visible_!=a){</span><span class="s3">this</span><span class="s1">.visible_=a;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getSvgRoot();b&amp;&amp;(b.style.display=a?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">)}};Blockly.Field.prototype.setValidator=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.validator_=a};Blockly.Field.prototype.getValidator=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.validator_};Blockly.Field.prototype.classValidator=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1408"><span class="ln">1408 </span></a><span class="s1">Blockly.Field.prototype.callValidator=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.classValidator(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===b)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b&amp;&amp;(a=b);</span><span class="s3">if</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.getValidator()){b=b.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===b)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b&amp;&amp;(a=b)}</span><span class="s3">return </span><span class="s1">a};Blockly.Field.prototype.getSvgRoot=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.fieldGroup_};Blockly.Field.prototype.updateColour=</span><span class="s3">function</span><span class="s1">(){};Blockly.Field.prototype.render_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.textContent_.nodeValue=</span><span class="s3">this</span><span class="s1">.getDisplayText_();</span><span class="s3">this</span><span class="s1">.updateSize_()};</span>
<a name="l1409"><span class="ln">1409 </span></a><span class="s1">Blockly.Field.prototype.updateWidth=</span><span class="s3">function</span><span class="s1">(){console.warn(</span><span class="s2">&quot;Deprecated call to updateWidth, call Blockly.Field.updateSize_ to force an update to the size of the field, or Blockly.Field.getCachedWidth() to check the size of the field.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.updateSize_()};Blockly.Field.prototype.updateSize_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.Field.getCachedWidth(</span><span class="s3">this</span><span class="s1">.textElement_);</span><span class="s3">this</span><span class="s1">.borderRect_&amp;&amp;</span><span class="s3">this</span><span class="s1">.borderRect_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a+Blockly.BlockSvg.SEP_SPACE_X);</span><span class="s3">this</span><span class="s1">.size_.width=a};</span>
<a name="l1410"><span class="ln">1410 </span></a><span class="s1">Blockly.Field.getCachedWidth=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.textContent+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+a.className.baseVal,c;</span><span class="s3">if</span><span class="s1">(Blockly.Field.cacheWidths_&amp;&amp;(c=Blockly.Field.cacheWidths_[b]))</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">try</span><span class="s1">{c=Blockly.utils.userAgent.IE||Blockly.utils.userAgent.EDGE?a.getBBox().width:a.getComputedTextLength()}</span><span class="s3">catch</span><span class="s1">(d){</span><span class="s3">return </span><span class="s4">8</span><span class="s1">*a.textContent.length}Blockly.Field.cacheWidths_&amp;&amp;(Blockly.Field.cacheWidths_[b]=c);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1411"><span class="ln">1411 </span></a><span class="s1">Blockly.Field.startCache=</span><span class="s3">function</span><span class="s1">(){Blockly.Field.cacheReference_++;Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})};Blockly.Field.stopCache=</span><span class="s3">function</span><span class="s1">(){Blockly.Field.cacheReference_--;Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1412"><span class="ln">1412 </span></a><span class="s1">Blockly.Field.prototype.getSize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.isVisible())</span><span class="s3">return new </span><span class="s1">goog.math.Size(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isDirty_?(</span><span class="s3">this</span><span class="s1">.render_(),</span><span class="s3">this</span><span class="s1">.isDirty_=!</span><span class="s4">1</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.visible_&amp;&amp;</span><span class="s4">0</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.size_.width&amp;&amp;(console.warn(</span><span class="s2">&quot;Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.render_());</span><span class="s3">return this</span><span class="s1">.size_};</span>
<a name="l1413"><span class="ln">1413 </span></a><span class="s1">Blockly.Field.prototype.getScaledBBox_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.borderRect_.getBBox(),b=a.height*</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace.scale;a=a.width*</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace.scale;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getAbsoluteXY_();</span><span class="s3">return</span><span class="s1">{top:c.y,bottom:c.y+b,left:c.x,right:c.x+a}};</span>
<a name="l1414"><span class="ln">1414 </span></a><span class="s1">Blockly.Field.prototype.getDisplayText_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.text_;</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return </span><span class="s1">Blockly.Field.NBSP;a.length&gt;</span><span class="s3">this</span><span class="s1">.maxDisplayLength&amp;&amp;(a=a.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.maxDisplayLength-2)+</span><span class="s2">&quot;</span><span class="s5">\u2026</span><span class="s2">&quot;</span><span class="s1">);a=a.replace(/\s/g,Blockly.Field.NBSP);</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL&amp;&amp;(a+=</span><span class="s2">&quot;</span><span class="s5">\u200f</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.Field.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.text_};Blockly.Field.prototype.setText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">null</span><span class="s1">!==a&amp;&amp;(a=String(a),a!==</span><span class="s3">this</span><span class="s1">.text_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.text_=a,</span><span class="s3">this</span><span class="s1">.forceRerender()))};</span>
<a name="l1415"><span class="ln">1415 </span></a><span class="s1">Blockly.Field.prototype.forceRerender=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isDirty_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;</span><span class="s3">this</span><span class="s1">.sourceBlock_.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sourceBlock_.render(),</span><span class="s3">this</span><span class="s1">.sourceBlock_.bumpNeighbours_())};</span>
<a name="l1416"><span class="ln">1416 </span></a><span class="s1">Blockly.Field.prototype.setValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!==a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);a=</span><span class="s3">this</span><span class="s1">.processValidation_(a,b);</span><span class="s3">if</span><span class="s1">(!(a </span><span class="s3">instanceof </span><span class="s1">Error)){</span><span class="s3">if</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.getValidator())</span><span class="s3">if</span><span class="s1">(b=b.call(</span><span class="s3">this</span><span class="s1">,a),a=</span><span class="s3">this</span><span class="s1">.processValidation_(a,b),a </span><span class="s3">instanceof </span><span class="s1">Error)</span><span class="s3">return</span><span class="s1">;b=</span><span class="s3">this</span><span class="s1">.getValue();b!==a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;Blockly.Events.isEnabled()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">.sourceBlock_,</span><span class="s2">&quot;field&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.name,b,a)),</span><span class="s3">this</span><span class="s1">.doValueUpdate_(a),</span><span class="s3">this</span><span class="s1">.isDirty_&amp;&amp;</span><span class="s3">this</span><span class="s1">.forceRerender())}}};</span>
<a name="l1417"><span class="ln">1417 </span></a><span class="s1">Blockly.Field.prototype.processValidation_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===b)</span><span class="s3">return this</span><span class="s1">.doValueInvalid_(a),</span><span class="s3">this</span><span class="s1">.isDirty_&amp;&amp;</span><span class="s3">this</span><span class="s1">.forceRerender(),Error();</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b&amp;&amp;(a=b);</span><span class="s3">return </span><span class="s1">a};Blockly.Field.prototype.getValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.value_};Blockly.Field.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.classValidator(a)};Blockly.Field.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.value_=a;</span><span class="s3">this</span><span class="s1">.isDirty_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.text_=String(a)};Blockly.Field.prototype.doValueInvalid_=</span><span class="s3">function</span><span class="s1">(a){};</span>
<a name="l1418"><span class="ln">1418 </span></a><span class="s1">Blockly.Field.prototype.onMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace.getGesture(a))&amp;&amp;a.setStartField(</span><span class="s3">this</span><span class="s1">)};Blockly.Field.prototype.setTooltip=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getClickTarget_();b?b.tooltip=a||</span><span class="s2">&quot;&quot;</span><span class="s1">===a?a:</span><span class="s3">this</span><span class="s1">.sourceBlock_:</span><span class="s3">this</span><span class="s1">.tooltip_=a};Blockly.Field.prototype.getClickTarget_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.clickTarget_||</span><span class="s3">this</span><span class="s1">.getSvgRoot()};Blockly.Field.prototype.getAbsoluteXY_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.style.getPageOffset(</span><span class="s3">this</span><span class="s1">.borderRect_)};</span>
<a name="l1419"><span class="ln">1419 </span></a><span class="s1">Blockly.Field.prototype.referencesVariables=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};Blockly.FieldLabel=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.size_=</span><span class="s3">new </span><span class="s1">goog.math.Size(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">17.5</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.class_=b;a=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);</span><span class="s3">null</span><span class="s1">===a&amp;&amp;(a=</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setValue(a)};goog.inherits(Blockly.FieldLabel,Blockly.Field);Blockly.FieldLabel.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.replaceMessageReferences(a.text);</span><span class="s3">return new </span><span class="s1">Blockly.FieldLabel(b,a[</span><span class="s2">&quot;class&quot;</span><span class="s1">])};Blockly.FieldLabel.prototype.EDITABLE=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1420"><span class="ln">1420 </span></a><span class="s1">Blockly.FieldLabel.prototype.initView=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.createTextElement_();</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.size_.height-5);</span><span class="s3">this</span><span class="s1">.class_&amp;&amp;Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.textElement_,</span><span class="s3">this</span><span class="s1">.class_)};Blockly.FieldLabel.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return null</span><span class="s1">===a||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">null</span><span class="s1">:String(a)};Blockly.Field.register(</span><span class="s2">&quot;field_label&quot;</span><span class="s1">,Blockly.FieldLabel);Blockly.Input=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(a!=Blockly.DUMMY_INPUT&amp;&amp;!b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Value inputs and statement inputs must have non-empty name.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.type=a;</span><span class="s3">this</span><span class="s1">.name=b;</span><span class="s3">this</span><span class="s1">.sourceBlock_=c;</span><span class="s3">this</span><span class="s1">.connection=d;</span><span class="s3">this</span><span class="s1">.fieldRow=[]};Blockly.Input.prototype.align=Blockly.ALIGN_LEFT;Blockly.Input.prototype.visible_=!</span><span class="s4">0</span><span class="s1">;Blockly.Input.prototype.appendField=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.insertFieldAt(</span><span class="s3">this</span><span class="s1">.fieldRow.length,a,b);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l1421"><span class="ln">1421 </span></a><span class="s1">Blockly.Input.prototype.insertFieldAt=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;a||a&gt;</span><span class="s3">this</span><span class="s1">.fieldRow.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;index &quot;</span><span class="s1">+a+</span><span class="s2">&quot; out of bounds.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!b&amp;&amp;!c)</span><span class="s3">return </span><span class="s1">a;</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">b&amp;&amp;(b=</span><span class="s3">new </span><span class="s1">Blockly.FieldLabel(b));b.setSourceBlock(</span><span class="s3">this</span><span class="s1">.sourceBlock_);</span><span class="s3">this</span><span class="s1">.sourceBlock_.rendered&amp;&amp;b.init();b.name=c;b.prefixField&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.insertFieldAt(a,b.prefixField));</span><span class="s3">this</span><span class="s1">.fieldRow.splice(a,</span><span class="s4">0</span><span class="s1">,b);++a;b.suffixField&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.insertFieldAt(a,b.suffixField));</span><span class="s3">this</span><span class="s1">.sourceBlock_.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sourceBlock_.render(),</span><span class="s3">this</span><span class="s1">.sourceBlock_.bumpNeighbours_());</span>
<a name="l1422"><span class="ln">1422 </span></a><span class="s3">return </span><span class="s1">a};Blockly.Input.prototype.removeField=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.fieldRow[b];b++)</span><span class="s3">if</span><span class="s1">(c.name===a){c.dispose();</span><span class="s3">this</span><span class="s1">.fieldRow.splice(b,</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.sourceBlock_.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sourceBlock_.render(),</span><span class="s3">this</span><span class="s1">.sourceBlock_.bumpNeighbours_());</span><span class="s3">return</span><span class="s1">}</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Field &quot;%s&quot; not found.'</span><span class="s1">,a);};Blockly.Input.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.visible_};</span>
<a name="l1423"><span class="ln">1423 </span></a><span class="s1">Blockly.Input.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.visible_==a)</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=(</span><span class="s3">this</span><span class="s1">.visible_=a)?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">,d=</span><span class="s4">0</span><span class="s1">,e;e=</span><span class="s3">this</span><span class="s1">.fieldRow[d];d++)e.setVisible(a);</span><span class="s3">this</span><span class="s1">.connection&amp;&amp;(a?b=</span><span class="s3">this</span><span class="s1">.connection.unhideAll():</span><span class="s3">this</span><span class="s1">.connection.hideAll(),d=</span><span class="s3">this</span><span class="s1">.connection.targetBlock())&amp;&amp;(d.getSvgRoot().style.display=c,a||(d.rendered=!</span><span class="s4">1</span><span class="s1">));</span><span class="s3">return </span><span class="s1">b};Blockly.Input.prototype.setCheck=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.connection)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;This input does not have a connection.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.connection.setCheck(a);</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l1424"><span class="ln">1424 </span></a><span class="s1">Blockly.Input.prototype.setAlign=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.align=a;</span><span class="s3">this</span><span class="s1">.sourceBlock_.rendered&amp;&amp;</span><span class="s3">this</span><span class="s1">.sourceBlock_.render();</span><span class="s3">return this</span><span class="s1">};Blockly.Input.prototype.init=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace.rendered)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">;a&lt;</span><span class="s3">this</span><span class="s1">.fieldRow.length;a++)</span><span class="s3">this</span><span class="s1">.fieldRow[a].init()};Blockly.Input.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=</span><span class="s3">this</span><span class="s1">.fieldRow[a];a++)b.dispose();</span><span class="s3">this</span><span class="s1">.connection&amp;&amp;</span><span class="s3">this</span><span class="s1">.connection.dispose();</span><span class="s3">this</span><span class="s1">.sourceBlock_=</span><span class="s3">null</span><span class="s1">};Blockly.Warning=</span><span class="s3">function</span><span class="s1">(a){Blockly.Warning.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.createIcon();</span><span class="s3">this</span><span class="s1">.text_={}};goog.inherits(Blockly.Warning,Blockly.Icon);Blockly.Warning.prototype.collapseHidden=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1425"><span class="ln">1425 </span></a><span class="s1">Blockly.Warning.prototype.drawIcon_=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconShape&quot;</span><span class="s1">,d:</span><span class="s2">&quot;M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z&quot;</span><span class="s1">},a);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconSymbol&quot;</span><span class="s1">,d:</span><span class="s2">&quot;m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z&quot;</span><span class="s1">},a);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyIconSymbol&quot;</span><span class="s1">,x:</span><span class="s2">&quot;7&quot;</span><span class="s1">,y:</span><span class="s2">&quot;11&quot;</span><span class="s1">,height:</span><span class="s2">&quot;2&quot;</span><span class="s1">,width:</span><span class="s2">&quot;2&quot;</span><span class="s1">},a)};</span>
<a name="l1426"><span class="ln">1426 </span></a><span class="s1">Blockly.Warning.textToDom_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;text&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyText blocklyBubbleText&quot;</span><span class="s1">,y:Blockly.Bubble.BORDER_WIDTH},</span><span class="s3">null</span><span class="s1">);a=a.split(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;tspan&quot;</span><span class="s1">,{dy:</span><span class="s2">&quot;1em&quot;</span><span class="s1">,x:Blockly.Bubble.BORDER_WIDTH},b),e=document.createTextNode(a[c]);d.appendChild(e)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1427"><span class="ln">1427 </span></a><span class="s1">Blockly.Warning.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a!=</span><span class="s3">this</span><span class="s1">.isVisible())</span><span class="s3">if</span><span class="s1">(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">this</span><span class="s1">.block_,</span><span class="s2">&quot;warningOpen&quot;</span><span class="s1">,!a,a)),a){a=Blockly.Warning.textToDom_(</span><span class="s3">this</span><span class="s1">.getText());</span><span class="s3">this</span><span class="s1">.bubble_=</span><span class="s3">new </span><span class="s1">Blockly.Bubble(</span><span class="s3">this</span><span class="s1">.block_.workspace,a,</span><span class="s3">this</span><span class="s1">.block_.svgPath_,</span><span class="s3">this</span><span class="s1">.iconXY_,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.bubble_.setSvgId(</span><span class="s3">this</span><span class="s1">.block_.id);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.block_.RTL)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=a.getBBox().width,c=</span><span class="s4">0</span><span class="s1">,d;d=a.childNodes[c];c++)d.setAttribute(</span><span class="s2">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s2">&quot;end&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,b+Blockly.Bubble.BORDER_WIDTH);</span><span class="s3">this</span><span class="s1">.updateColour();</span>
<a name="l1428"><span class="ln">1428 </span></a><span class="s1">a=</span><span class="s3">this</span><span class="s1">.bubble_.getBubbleSize();</span><span class="s3">this</span><span class="s1">.bubble_.setBubbleSize(a.width,a.height)}</span><span class="s3">else this</span><span class="s1">.bubble_.dispose(),</span><span class="s3">this</span><span class="s1">.body_=</span><span class="s3">this</span><span class="s1">.bubble_=</span><span class="s3">null</span><span class="s1">};Blockly.Warning.prototype.bodyFocus_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.bubble_.promote_()};Blockly.Warning.prototype.setText=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.text_[b]!=a&amp;&amp;(a?</span><span class="s3">this</span><span class="s1">.text_[b]=a:</span><span class="s3">delete this</span><span class="s1">.text_[b],</span><span class="s3">this</span><span class="s1">.isVisible()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">0</span><span class="s1">)))};Blockly.Warning.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[],b;</span><span class="s3">for</span><span class="s1">(b </span><span class="s3">in this</span><span class="s1">.text_)a.push(</span><span class="s3">this</span><span class="s1">.text_[b]);</span><span class="s3">return </span><span class="s1">a.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};</span>
<a name="l1429"><span class="ln">1429 </span></a><span class="s1">Blockly.Warning.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.block_.warning=</span><span class="s3">null</span><span class="s1">;Blockly.Icon.prototype.dispose.call(</span><span class="s3">this</span><span class="s1">)};Blockly.Block=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s3">typeof </span><span class="s1">Blockly.Generator.prototype[b])</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Block prototypeName &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot; conflicts with Blockly.Generator members.'</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.id=c&amp;&amp;!a.getBlockById(c)?c:Blockly.utils.genUid();a.blockDB_[</span><span class="s3">this</span><span class="s1">.id]=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.previousConnection=</span><span class="s3">this</span><span class="s1">.nextConnection=</span><span class="s3">this</span><span class="s1">.outputConnection=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.inputList=[];</span><span class="s3">this</span><span class="s1">.inputsInline=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.disabled=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.tooltip=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.contextMenu=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.parentBlock_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.childBlocks_=[];</span><span class="s3">this</span><span class="s1">.editable_=</span><span class="s3">this</span><span class="s1">.movable_=</span><span class="s3">this</span><span class="s1">.deletable_=</span>
<a name="l1430"><span class="ln">1430 </span></a><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.collapsed_=</span><span class="s3">this</span><span class="s1">.isShadow_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.comment=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.xy_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace=a;</span><span class="s3">this</span><span class="s1">.isInFlyout=a.isFlyout;</span><span class="s3">this</span><span class="s1">.isInMutator=a.isMutator;</span><span class="s3">this</span><span class="s1">.RTL=a.RTL;</span><span class="s3">this</span><span class="s1">.isInsertionMarker_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.hat=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">this</span><span class="s1">.type=b;c=Blockly.Blocks[b];</span><span class="s3">if</span><span class="s1">(!c||</span><span class="s2">&quot;object&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">c)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Unknown block type: &quot;</span><span class="s1">+b);goog.mixin(</span><span class="s3">this</span><span class="s1">,c)}a.addTopBlock(</span><span class="s3">this</span><span class="s1">);a.addTypedBlock(</span><span class="s3">this</span><span class="s1">);</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof this</span><span class="s1">.init&amp;&amp;</span><span class="s3">this</span><span class="s1">.init();</span><span class="s3">this</span><span class="s1">.inputsInlineDefault=</span><span class="s3">this</span><span class="s1">.inputsInline;</span><span class="s3">if</span><span class="s1">(Blockly.Events.isEnabled()){(a=</span>
<a name="l1431"><span class="ln">1431 </span></a><span class="s1">Blockly.Events.getGroup())||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockCreate(</span><span class="s3">this</span><span class="s1">))}</span><span class="s3">finally</span><span class="s1">{a||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}}</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof this</span><span class="s1">.onchange&amp;&amp;</span><span class="s3">this</span><span class="s1">.setOnChange(</span><span class="s3">this</span><span class="s1">.onchange)};Blockly.Block.obtain=</span><span class="s3">function</span><span class="s1">(a,b){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.newBlock(b)};Blockly.Block.prototype.data=</span><span class="s3">null</span><span class="s1">;Blockly.Block.prototype.hue_=</span><span class="s3">null</span><span class="s1">;Blockly.Block.prototype.colour_=</span><span class="s2">&quot;#000000&quot;</span><span class="s1">;</span>
<a name="l1432"><span class="ln">1432 </span></a><span class="s1">Blockly.Block.prototype.colourSecondary_=</span><span class="s3">null</span><span class="s1">;Blockly.Block.prototype.colourTertiary_=</span><span class="s3">null</span><span class="s1">;Blockly.Block.prototype.styleName_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1433"><span class="ln">1433 </span></a><span class="s1">Blockly.Block.prototype.dispose=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace){</span><span class="s3">this</span><span class="s1">.onchangeWrapper_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.removeChangeListener(</span><span class="s3">this</span><span class="s1">.onchangeWrapper_);</span><span class="s3">this</span><span class="s1">.unplug(a);Blockly.Events.isEnabled()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockDelete(</span><span class="s3">this</span><span class="s1">));Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace.removeTopBlock(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.workspace.removeTypedBlock(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">delete this</span><span class="s1">.workspace.blockDB_[</span><span class="s3">this</span><span class="s1">.id],</span><span class="s3">this</span><span class="s1">.workspace=</span><span class="s3">null</span><span class="s1">);Blockly.selected==</span><span class="s3">this</span><span class="s1">&amp;&amp;(Blockly.selected=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.childBlocks_.length-</span>
<a name="l1434"><span class="ln">1434 </span></a><span class="s4">1</span><span class="s1">;</span><span class="s4">0</span><span class="s1">&lt;=b;b--)</span><span class="s3">this</span><span class="s1">.childBlocks_[b].dispose(!</span><span class="s4">1</span><span class="s1">);b=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)c.dispose();</span><span class="s3">this</span><span class="s1">.inputList.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getConnections_(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;d.length;b++){</span><span class="s3">var </span><span class="s1">e=d[b];e.isConnected()&amp;&amp;e.disconnect();d[b].dispose()}}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}}};Blockly.Block.prototype.initModel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=</span><span class="s3">this</span><span class="s1">.inputList[a];a++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=b.fieldRow[c];c++)d.initModel&amp;&amp;d.initModel()};</span>
<a name="l1435"><span class="ln">1435 </span></a><span class="s1">Blockly.Block.prototype.unplug=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.outputConnection?</span><span class="s3">this</span><span class="s1">.unplugFromRow_(a):</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.unplugFromStack_(a)};Blockly.Block.prototype.unplugFromRow_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.outputConnection.isConnected()&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.outputConnection.targetConnection,</span><span class="s3">this</span><span class="s1">.outputConnection.disconnect());b&amp;&amp;a&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.getOnlyValueConnection_())&amp;&amp;a.isConnected()&amp;&amp;!a.targetBlock().isShadow()&amp;&amp;(a=a.targetConnection,a.checkType_(b)&amp;&amp;(a.disconnect(),b.connect(a)))};</span>
<a name="l1436"><span class="ln">1436 </span></a><span class="s1">Blockly.Block.prototype.getOnlyValueConnection_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">,b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.inputList.length;b++){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.inputList[b].connection;</span><span class="s3">if</span><span class="s1">(c&amp;&amp;c.type==Blockly.INPUT_VALUE&amp;&amp;c.targetConnection){</span><span class="s3">if</span><span class="s1">(a)</span><span class="s3">return null</span><span class="s1">;a=c}}</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1437"><span class="ln">1437 </span></a><span class="s1">Blockly.Block.prototype.unplugFromStack_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.previousConnection.isConnected()&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.previousConnection.targetConnection,</span><span class="s3">this</span><span class="s1">.previousConnection.disconnect());</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getNextBlock();a&amp;&amp;c&amp;&amp;!c.isShadow()&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.nextConnection.targetConnection,a.disconnect(),b&amp;&amp;b.checkType_(a)&amp;&amp;b.connect(a))};</span>
<a name="l1438"><span class="ln">1438 </span></a><span class="s1">Blockly.Block.prototype.getConnections_=</span><span class="s3">function</span><span class="s1">(a){a=[];</span><span class="s3">this</span><span class="s1">.outputConnection&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.outputConnection);</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.previousConnection);</span><span class="s3">this</span><span class="s1">.nextConnection&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.nextConnection);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)c.connection&amp;&amp;a.push(c.connection);</span><span class="s3">return </span><span class="s1">a};Blockly.Block.prototype.lastConnectionInStack=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.nextConnection;a;){</span><span class="s3">var </span><span class="s1">b=a.targetBlock();</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return </span><span class="s1">a;a=b.nextConnection}</span><span class="s3">return null</span><span class="s1">};Blockly.Block.prototype.bumpNeighbours_=</span><span class="s3">function</span><span class="s1">(){console.warn(</span><span class="s2">&quot;Not expected to reach Block.bumpNeighbours_ function. BlockSvg.bumpNeighbours_ was expected to be called instead.&quot;</span><span class="s1">)};</span>
<a name="l1439"><span class="ln">1439 </span></a><span class="s1">Blockly.Block.prototype.getParent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.parentBlock_};Blockly.Block.prototype.getInputWithBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">if</span><span class="s1">(c.connection&amp;&amp;c.connection.targetBlock()==a)</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">return null</span><span class="s1">};Blockly.Block.prototype.getSurroundParent=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a;a=a.getParent();</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return null</span><span class="s1">}</span><span class="s3">while</span><span class="s1">(a.getNextBlock()==b);</span><span class="s3">return </span><span class="s1">a};Blockly.Block.prototype.getNextBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.nextConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.nextConnection.targetBlock()};</span>
<a name="l1440"><span class="ln">1440 </span></a><span class="s1">Blockly.Block.prototype.getPreviousBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.previousConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.previousConnection.targetBlock()};Blockly.Block.prototype.getFirstStatementConnection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=</span><span class="s3">this</span><span class="s1">.inputList[a];a++)</span><span class="s3">if</span><span class="s1">(b.connection&amp;&amp;b.connection.type==Blockly.NEXT_STATEMENT)</span><span class="s3">return </span><span class="s1">b.connection;</span><span class="s3">return null</span><span class="s1">};Blockly.Block.prototype.getRootBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a;a=b.parentBlock_}</span><span class="s3">while</span><span class="s1">(a);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1441"><span class="ln">1441 </span></a><span class="s1">Blockly.Block.prototype.getChildren=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return this</span><span class="s1">.childBlocks_;a=[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)c.connection&amp;&amp;(c=c.connection.targetBlock())&amp;&amp;a.push(c);(b=</span><span class="s3">this</span><span class="s1">.getNextBlock())&amp;&amp;a.push(b);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1442"><span class="ln">1442 </span></a><span class="s1">Blockly.Block.prototype.setParent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a!=</span><span class="s3">this</span><span class="s1">.parentBlock_){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.parentBlock_){Blockly.utils.arrayRemove(</span><span class="s3">this</span><span class="s1">.parentBlock_.childBlocks_,</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.previousConnection.isConnected())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Still connected to previous block.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.outputConnection.isConnected())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Still connected to parent block.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.parentBlock_=</span><span class="s3">null</span><span class="s1">}</span><span class="s3">else this</span><span class="s1">.workspace.removeTopBlock(</span><span class="s3">this</span><span class="s1">);(</span><span class="s3">this</span><span class="s1">.parentBlock_=a)?a.childBlocks_.push(</span><span class="s3">this</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.workspace.addTopBlock(</span><span class="s3">this</span><span class="s1">)}};</span>
<a name="l1443"><span class="ln">1443 </span></a><span class="s1">Blockly.Block.prototype.getDescendants=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[</span><span class="s3">this</span><span class="s1">],c=</span><span class="s3">this</span><span class="s1">.getChildren(a),d,e=</span><span class="s4">0</span><span class="s1">;d=c[e];e++)b.push.apply(b,d.getDescendants(a));</span><span class="s3">return </span><span class="s1">b};Blockly.Block.prototype.isDeletable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.deletable_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isShadow_&amp;&amp;!(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly)};Blockly.Block.prototype.setDeletable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.deletable_=a};Blockly.Block.prototype.isMovable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.movable_&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isShadow_&amp;&amp;!(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly)};</span>
<a name="l1444"><span class="ln">1444 </span></a><span class="s1">Blockly.Block.prototype.setMovable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.movable_=a};Blockly.Block.prototype.isDuplicatable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.workspace.hasBlockLimits()?</span><span class="s3">this</span><span class="s1">.workspace.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(</span><span class="s3">this</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">)):!</span><span class="s4">0</span><span class="s1">};Blockly.Block.prototype.isShadow=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isShadow_};Blockly.Block.prototype.setShadow=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isShadow_=a};Blockly.Block.prototype.isInsertionMarker=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isInsertionMarker_};</span>
<a name="l1445"><span class="ln">1445 </span></a><span class="s1">Blockly.Block.prototype.setInsertionMarker=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isInsertionMarker_=a};Blockly.Block.prototype.isEditable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.editable_&amp;&amp;!(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly)};Blockly.Block.prototype.setEditable=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.editable_=a;a=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b;b=</span><span class="s3">this</span><span class="s1">.inputList[a];a++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=b.fieldRow[c];c++)d.updateEditable()};</span>
<a name="l1446"><span class="ln">1446 </span></a><span class="s1">Blockly.Block.prototype.setConnectionsHidden=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;</span><span class="s3">this</span><span class="s1">.isCollapsed()){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.outputConnection.setHidden(a),</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.previousConnection.setHidden(a),</span><span class="s3">this</span><span class="s1">.nextConnection){</span><span class="s3">this</span><span class="s1">.nextConnection.setHidden(a);</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.nextConnection.targetBlock();b&amp;&amp;b.setConnectionsHidden(a)}}</span><span class="s3">else for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getConnections_(!</span><span class="s4">0</span><span class="s1">),d=</span><span class="s4">0</span><span class="s1">;b=c[d];d++)b.setHidden(a),b.isSuperior()&amp;&amp;(b=b.targetBlock())&amp;&amp;b.setConnectionsHidden(a)};</span>
<a name="l1447"><span class="ln">1447 </span></a><span class="s1">Blockly.Block.prototype.getMatchingConnection=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getConnections_(!</span><span class="s4">0</span><span class="s1">),d=a.getConnections_(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c.length!=d.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Connection lists did not match in length.&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++)</span><span class="s3">if</span><span class="s1">(d[e]==b)</span><span class="s3">return </span><span class="s1">c[e];</span><span class="s3">return null</span><span class="s1">};Blockly.Block.prototype.setHelpUrl=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.helpUrl=a};Blockly.Block.prototype.setTooltip=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.tooltip=a};Blockly.Block.prototype.getColour=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.colour_};Blockly.Block.prototype.getColourSecondary=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.colourSecondary_};</span>
<a name="l1448"><span class="ln">1448 </span></a><span class="s1">Blockly.Block.prototype.getColourTertiary=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.colourTertiary_};Blockly.Block.prototype.getColourShadow=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getColourSecondary();</span><span class="s3">return </span><span class="s1">a?a:Blockly.utils.colour.blend(</span><span class="s2">&quot;white&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getColour(),.</span><span class="s4">6</span><span class="s1">)};</span>
<a name="l1449"><span class="ln">1449 </span></a><span class="s1">Blockly.Block.prototype.getColourBorder=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getColourTertiary();</span><span class="s3">if</span><span class="s1">(a)</span><span class="s3">return</span><span class="s1">{colourBorder:a,colourLight:</span><span class="s3">null</span><span class="s1">,colourDark:</span><span class="s3">null</span><span class="s1">};a=</span><span class="s3">this</span><span class="s1">.getColour();</span><span class="s3">return</span><span class="s1">{colourBorder:</span><span class="s3">null</span><span class="s1">,colourLight:Blockly.utils.colour.blend(</span><span class="s2">&quot;white&quot;</span><span class="s1">,a,.</span><span class="s4">3</span><span class="s1">),colourDark:Blockly.utils.colour.blend(</span><span class="s2">&quot;black&quot;</span><span class="s1">,a,.</span><span class="s4">2</span><span class="s1">)}};Blockly.Block.prototype.getStyleName=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.styleName_};Blockly.Block.prototype.getHue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.hue_};</span>
<a name="l1450"><span class="ln">1450 </span></a><span class="s1">Blockly.Block.prototype.setColour=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a?Blockly.utils.replaceMessageReferences(a):a,c=Number(b);</span><span class="s3">if</span><span class="s1">(!isNaN(c)&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=c&amp;&amp;</span><span class="s4">360</span><span class="s1">&gt;=c)</span><span class="s3">this</span><span class="s1">.hue_=c,</span><span class="s3">this</span><span class="s1">.colour_=Blockly.hueToHex(c);</span><span class="s3">else if</span><span class="s1">(c=Blockly.utils.colour.parse(b))</span><span class="s3">this</span><span class="s1">.colour_=c,</span><span class="s3">this</span><span class="s1">.hue_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">else throw </span><span class="s1">c=</span><span class="s2">'Invalid colour: &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot;'</span><span class="s1">,a!=b&amp;&amp;(c+=</span><span class="s2">' (from &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot;)'</span><span class="s1">),Error(c);};</span>
<a name="l1451"><span class="ln">1451 </span></a><span class="s1">Blockly.Block.prototype.setStyle=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.getTheme();</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Trying to set block style to &quot;</span><span class="s1">+a+</span><span class="s2">&quot; before theme was defined via Blockly.setTheme().&quot;</span><span class="s1">);b=b.getBlockStyle(a);</span><span class="s3">this</span><span class="s1">.styleName_=a;</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">this</span><span class="s1">.colourSecondary_=b.colourSecondary,</span><span class="s3">this</span><span class="s1">.colourTertiary_=b.colourTertiary,</span><span class="s3">this</span><span class="s1">.hat=b.hat,</span><span class="s3">this</span><span class="s1">.setColour(b.colourPrimary);</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid style name: &quot;</span><span class="s1">+a);};</span>
<a name="l1452"><span class="ln">1452 </span></a><span class="s1">Blockly.Block.prototype.setOnChange=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a&amp;&amp;</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;onchange must be a function.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onchangeWrapper_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.removeChangeListener(</span><span class="s3">this</span><span class="s1">.onchangeWrapper_);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.onchange=a)</span><span class="s3">this</span><span class="s1">.onchangeWrapper_=a.bind(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.workspace.addChangeListener(</span><span class="s3">this</span><span class="s1">.onchangeWrapper_)};Blockly.Block.prototype.getField=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c.fieldRow[d];d++)</span><span class="s3">if</span><span class="s1">(e.name===a)</span><span class="s3">return </span><span class="s1">e;</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l1453"><span class="ln">1453 </span></a><span class="s1">Blockly.Block.prototype.getVars=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=[],b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c.fieldRow[d];d++)e.referencesVariables()&amp;&amp;a.push(e.getValue());</span><span class="s3">return </span><span class="s1">a};Blockly.Block.prototype.getVarModels=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=[],b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c.fieldRow[d];d++)e.referencesVariables()&amp;&amp;(e=</span><span class="s3">this</span><span class="s1">.workspace.getVariableById(e.getValue()))&amp;&amp;a.push(e);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1454"><span class="ln">1454 </span></a><span class="s1">Blockly.Block.prototype.updateVarName=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c.fieldRow[d];d++)e.referencesVariables()&amp;&amp;a.getId()==e.getValue()&amp;&amp;e.setText(a.name)};Blockly.Block.prototype.renameVarById=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=</span><span class="s3">this</span><span class="s1">.inputList[c];c++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f;f=d.fieldRow[e];e++)f.referencesVariables()&amp;&amp;a==f.getValue()&amp;&amp;f.setValue(b)};Blockly.Block.prototype.getFieldValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.getField(a))?a.getValue():</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1455"><span class="ln">1455 </span></a><span class="s1">Blockly.Block.prototype.setFieldValue=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getField(b);</span><span class="s3">if</span><span class="s1">(!c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Field &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot; not found.'</span><span class="s1">);c.setValue(a)};</span>
<a name="l1456"><span class="ln">1456 </span></a><span class="s1">Blockly.Block.prototype.setPreviousStatement=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b&amp;&amp;(b=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.previousConnection){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Remove output connection prior to adding previous connection.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.previousConnection=</span><span class="s3">this</span><span class="s1">.makeConnection_(Blockly.PREVIOUS_STATEMENT)}</span><span class="s3">this</span><span class="s1">.previousConnection.setCheck(b)}</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.previousConnection){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.previousConnection.isConnected())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Must disconnect previous statement before removing connection.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.previousConnection.dispose();</span>
<a name="l1457"><span class="ln">1457 </span></a><span class="s3">this</span><span class="s1">.previousConnection=</span><span class="s3">null</span><span class="s1">}};Blockly.Block.prototype.setNextStatement=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a)</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b&amp;&amp;(b=</span><span class="s3">null</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.nextConnection||(</span><span class="s3">this</span><span class="s1">.nextConnection=</span><span class="s3">this</span><span class="s1">.makeConnection_(Blockly.NEXT_STATEMENT)),</span><span class="s3">this</span><span class="s1">.nextConnection.setCheck(b);</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.nextConnection){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.nextConnection.isConnected())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Must disconnect next statement before removing connection.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.nextConnection.dispose();</span><span class="s3">this</span><span class="s1">.nextConnection=</span><span class="s3">null</span><span class="s1">}};</span>
<a name="l1458"><span class="ln">1458 </span></a><span class="s1">Blockly.Block.prototype.setOutput=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===b&amp;&amp;(b=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.outputConnection){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.previousConnection)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Remove previous connection prior to adding output connection.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.outputConnection=</span><span class="s3">this</span><span class="s1">.makeConnection_(Blockly.OUTPUT_VALUE)}</span><span class="s3">this</span><span class="s1">.outputConnection.setCheck(b)}</span><span class="s3">else if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection.isConnected())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Must disconnect output value before removing connection.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.outputConnection.dispose();</span><span class="s3">this</span><span class="s1">.outputConnection=</span>
<a name="l1459"><span class="ln">1459 </span></a><span class="s3">null</span><span class="s1">}};Blockly.Block.prototype.setInputsInline=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.inputsInline!=a&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">,</span><span class="s2">&quot;inline&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.inputsInline,a)),</span><span class="s3">this</span><span class="s1">.inputsInline=a)};</span>
<a name="l1460"><span class="ln">1460 </span></a><span class="s1">Blockly.Block.prototype.getInputsInline=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!=</span><span class="s3">this</span><span class="s1">.inputsInline)</span><span class="s3">return this</span><span class="s1">.inputsInline;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">1</span><span class="s1">;a&lt;</span><span class="s3">this</span><span class="s1">.inputList.length;a++)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inputList[a-1].type==Blockly.DUMMY_INPUT&amp;&amp;</span><span class="s3">this</span><span class="s1">.inputList[a].type==Blockly.DUMMY_INPUT)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(a=</span><span class="s4">1</span><span class="s1">;a&lt;</span><span class="s3">this</span><span class="s1">.inputList.length;a++)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inputList[a-1].type==Blockly.INPUT_VALUE&amp;&amp;</span><span class="s3">this</span><span class="s1">.inputList[a].type==Blockly.DUMMY_INPUT)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1461"><span class="ln">1461 </span></a><span class="s1">Blockly.Block.prototype.setDisabled=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Block.prototype.setDisabled, use Blockly.Block.prototype.setEnabled instead.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setEnabled(!a)};Blockly.Block.prototype.isEnabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s3">this</span><span class="s1">.disabled};Blockly.Block.prototype.setEnabled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isEnabled()!=a&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">,</span><span class="s2">&quot;disabled&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.disabled,!a)),</span><span class="s3">this</span><span class="s1">.disabled=!a)};</span>
<a name="l1462"><span class="ln">1462 </span></a><span class="s1">Blockly.Block.prototype.getInheritedDisabled=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getSurroundParent();a;){</span><span class="s3">if</span><span class="s1">(a.disabled)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;a=a.getSurroundParent()}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};Blockly.Block.prototype.isCollapsed=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.collapsed_};Blockly.Block.prototype.setCollapsed=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.collapsed_!=a&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">,</span><span class="s2">&quot;collapsed&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.collapsed_,a)),</span><span class="s3">this</span><span class="s1">.collapsed_=a)};</span>
<a name="l1463"><span class="ln">1463 </span></a><span class="s1">Blockly.Block.prototype.toString=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=[],d=b||</span><span class="s2">&quot;?&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.collapsed_)c.push(</span><span class="s3">this</span><span class="s1">.getInput(</span><span class="s2">&quot;_TEMP_COLLAPSED_INPUT&quot;</span><span class="s1">).fieldRow[</span><span class="s4">0</span><span class="s1">].text_);</span><span class="s3">else for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f;f=</span><span class="s3">this</span><span class="s1">.inputList[e];e++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">,h;h=f.fieldRow[g];g++)h </span><span class="s3">instanceof </span><span class="s1">Blockly.FieldDropdown&amp;&amp;!h.getValue()?c.push(d):c.push(h.getText());f.connection&amp;&amp;((f=f.connection.targetBlock())?c.push(f.toString(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,b)):c.push(d))}c=c.join(</span><span class="s2">&quot; &quot;</span><span class="s1">).trim()||</span><span class="s2">&quot;???&quot;</span><span class="s1">;a&amp;&amp;c.length&gt;a&amp;&amp;(c=c.substring(</span><span class="s4">0</span><span class="s1">,a-3)+</span><span class="s2">&quot;...&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1464"><span class="ln">1464 </span></a><span class="s1">Blockly.Block.prototype.appendValueInput=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.appendInput_(Blockly.INPUT_VALUE,a)};Blockly.Block.prototype.appendStatementInput=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.appendInput_(Blockly.NEXT_STATEMENT,a)};Blockly.Block.prototype.appendDummyInput=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.appendInput_(Blockly.DUMMY_INPUT,a||</span><span class="s2">&quot;&quot;</span><span class="s1">)};</span>
<a name="l1465"><span class="ln">1465 </span></a><span class="s1">Blockly.Block.prototype.jsonInit=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.type?</span><span class="s2">'Block &quot;'</span><span class="s1">+a.type+</span><span class="s2">'&quot;: '</span><span class="s1">:</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a.output&amp;&amp;a.previousStatement)</span><span class="s3">throw </span><span class="s1">Error(b+</span><span class="s2">&quot;Must not have both an output and a previousStatement.&quot;</span><span class="s1">);a.style&amp;&amp;a.style.hat&amp;&amp;(</span><span class="s3">this</span><span class="s1">.hat=a.style.hat,a.style=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a.style&amp;&amp;a.colour)</span><span class="s3">throw </span><span class="s1">Error(b+</span><span class="s2">&quot;Must not have both a colour and a style.&quot;</span><span class="s1">);a.style?</span><span class="s3">this</span><span class="s1">.jsonInitStyle_(a,b):</span><span class="s3">this</span><span class="s1">.jsonInitColour_(a,b);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a[</span><span class="s2">&quot;message&quot;</span><span class="s1">+c];)</span><span class="s3">this</span><span class="s1">.interpolate_(a[</span><span class="s2">&quot;message&quot;</span><span class="s1">+c],a[</span><span class="s2">&quot;args&quot;</span><span class="s1">+c]||[],a[</span><span class="s2">&quot;lastDummyAlign&quot;</span><span class="s1">+c]),c++;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==</span>
<a name="l1466"><span class="ln">1466 </span></a><span class="s1">a.inputsInline&amp;&amp;</span><span class="s3">this</span><span class="s1">.setInputsInline(a.inputsInline);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.output&amp;&amp;</span><span class="s3">this</span><span class="s1">.setOutput(!</span><span class="s4">0</span><span class="s1">,a.output);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.previousStatement&amp;&amp;</span><span class="s3">this</span><span class="s1">.setPreviousStatement(!</span><span class="s4">0</span><span class="s1">,a.previousStatement);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.nextStatement&amp;&amp;</span><span class="s3">this</span><span class="s1">.setNextStatement(!</span><span class="s4">0</span><span class="s1">,a.nextStatement);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.tooltip&amp;&amp;(c=a.tooltip,c=Blockly.utils.replaceMessageReferences(c),</span><span class="s3">this</span><span class="s1">.setTooltip(c));</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.enableContextMenu&amp;&amp;(c=a.enableContextMenu,</span><span class="s3">this</span><span class="s1">.contextMenu=!!c);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.helpUrl&amp;&amp;(c=a.helpUrl,c=Blockly.utils.replaceMessageReferences(c),</span><span class="s3">this</span><span class="s1">.setHelpUrl(c));</span>
<a name="l1467"><span class="ln">1467 </span></a><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.extensions&amp;&amp;(console.warn(b+</span><span class="s2">&quot;JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '&quot;</span><span class="s1">+a.type+</span><span class="s2">&quot;' block.&quot;</span><span class="s1">),a.extensions=[a.extensions]);</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==a.mutator&amp;&amp;Blockly.Extensions.apply(a.mutator,</span><span class="s3">this</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(Array.isArray(a.extensions))</span><span class="s3">for</span><span class="s1">(a=a.extensions,b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;++b)Blockly.Extensions.apply(a[b],</span><span class="s3">this</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l1468"><span class="ln">1468 </span></a><span class="s1">Blockly.Block.prototype.jsonInitColour_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;colour&quot;</span><span class="s3">in </span><span class="s1">a)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a.colour)console.warn(b+</span><span class="s2">&quot;Undefined colour value.&quot;</span><span class="s1">);</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=a.colour;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.setColour(c)}</span><span class="s3">catch</span><span class="s1">(d){console.warn(b+</span><span class="s2">&quot;Illegal colour value: &quot;</span><span class="s1">,c)}}};Blockly.Block.prototype.jsonInitStyle_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.style;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.setStyle(c)}</span><span class="s3">catch</span><span class="s1">(d){console.warn(b+</span><span class="s2">&quot;Style does not exist: &quot;</span><span class="s1">,c)}};</span>
<a name="l1469"><span class="ln">1469 </span></a><span class="s1">Blockly.Block.prototype.mixin=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b&amp;&amp;</span><span class="s2">&quot;boolean&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;opt_disableCheck must be a boolean if provided&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!b){</span><span class="s3">var </span><span class="s1">c=[],d;</span><span class="s3">for</span><span class="s1">(d </span><span class="s3">in </span><span class="s1">a)</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==</span><span class="s3">this</span><span class="s1">[d]&amp;&amp;c.push(d);</span><span class="s3">if</span><span class="s1">(c.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Mixin will overwrite block members: &quot;</span><span class="s1">+JSON.stringify(c));}goog.mixin(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1470"><span class="ln">1470 </span></a><span class="s1">Blockly.Block.prototype.interpolate_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.tokenizeInterpolation(a),e=[],f=</span><span class="s4">0</span><span class="s1">;a=[];</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">;g&lt;d.length;g++){</span><span class="s3">var </span><span class="s1">h=d[g];</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">h){</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=h||h&gt;b.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Block &quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.type+</span><span class="s2">'&quot;: Message index %'</span><span class="s1">+h+</span><span class="s2">&quot; out of range.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(e[h])</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Block &quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.type+</span><span class="s2">'&quot;: Message index %'</span><span class="s1">+h+</span><span class="s2">&quot; duplicated.&quot;</span><span class="s1">);e[h]=!</span><span class="s4">0</span><span class="s1">;f++;a.push(b[h-1])}</span><span class="s3">else</span><span class="s1">(h=h.trim())&amp;&amp;a.push(h)}</span><span class="s3">if</span><span class="s1">(f!=b.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Block &quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.type+</span><span class="s2">'&quot;: Message does not reference all '</span><span class="s1">+b.length+</span><span class="s2">&quot; arg(s).&quot;</span><span class="s1">);</span>
<a name="l1471"><span class="ln">1471 </span></a><span class="s1">a.length&amp;&amp;(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a[a.length-1]||Blockly.utils.string.startsWith(a[a.length-1].type,</span><span class="s2">&quot;field_&quot;</span><span class="s1">))&amp;&amp;(g={type:</span><span class="s2">&quot;input_dummy&quot;</span><span class="s1">},c&amp;&amp;(g.align=c),a.push(g));c={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE};b=[];</span><span class="s3">for</span><span class="s1">(g=</span><span class="s4">0</span><span class="s1">;g&lt;a.length;g++)</span><span class="s3">if</span><span class="s1">(e=a[g],</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">e)b.push([e,</span><span class="s3">void </span><span class="s4">0</span><span class="s1">]);</span><span class="s3">else</span><span class="s1">{d=f=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">do if</span><span class="s1">(h=!</span><span class="s4">1</span><span class="s1">,</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">e)f=</span><span class="s3">new </span><span class="s1">Blockly.FieldLabel(e);</span><span class="s3">else switch</span><span class="s1">(e.type){</span><span class="s3">case </span><span class="s2">&quot;input_value&quot;</span><span class="s1">:d=</span><span class="s3">this</span><span class="s1">.appendValueInput(e.name);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;input_statement&quot;</span><span class="s1">:d=</span><span class="s3">this</span><span class="s1">.appendStatementInput(e.name);</span>
<a name="l1472"><span class="ln">1472 </span></a><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;input_dummy&quot;</span><span class="s1">:d=</span><span class="s3">this</span><span class="s1">.appendDummyInput(e.name);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">default</span><span class="s1">:f=Blockly.Field.fromJson(e),f||(e.alt?(e=e.alt,h=!</span><span class="s4">0</span><span class="s1">):console.warn(</span><span class="s2">&quot;Blockly could not create a field of type &quot;</span><span class="s1">+e.type+</span><span class="s2">&quot;. You may need to register your custom field.  See github.com/google/blockly/issues/1584&quot;</span><span class="s1">))}</span><span class="s3">while</span><span class="s1">(h);</span><span class="s3">if</span><span class="s1">(f)b.push([f,e.name]);</span><span class="s3">else if</span><span class="s1">(d){e.check&amp;&amp;d.setCheck(e.check);e.align&amp;&amp;d.setAlign(c[e.align]);</span><span class="s3">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;e&lt;b.length;e++)d.appendField(b[e][</span><span class="s4">0</span><span class="s1">],b[e][</span><span class="s4">1</span><span class="s1">]);b.length=</span><span class="s4">0</span><span class="s1">}}};</span>
<a name="l1473"><span class="ln">1473 </span></a><span class="s1">Blockly.Block.prototype.appendInput_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(a==Blockly.INPUT_VALUE||a==Blockly.NEXT_STATEMENT)c=</span><span class="s3">this</span><span class="s1">.makeConnection_(a);c=</span><span class="s3">new </span><span class="s1">Blockly.Input(a,b,</span><span class="s3">this</span><span class="s1">,c);</span><span class="s3">this</span><span class="s1">.inputList.push(c);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1474"><span class="ln">1474 </span></a><span class="s1">Blockly.Block.prototype.moveInputBefore=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a!=b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=-</span><span class="s4">1</span><span class="s1">,d=b?-</span><span class="s4">1</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.inputList.length,e=</span><span class="s4">0</span><span class="s1">,f;f=</span><span class="s3">this</span><span class="s1">.inputList[e];e++)</span><span class="s3">if</span><span class="s1">(f.name==a){</span><span class="s3">if</span><span class="s1">(c=e,-</span><span class="s4">1</span><span class="s1">!=d)</span><span class="s3">break</span><span class="s1">}</span><span class="s3">else if</span><span class="s1">(b&amp;&amp;f.name==b&amp;&amp;(d=e,-</span><span class="s4">1</span><span class="s1">!=c))</span><span class="s3">break</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">==c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Named input &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; not found.'</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">==d)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Reference input &quot;'</span><span class="s1">+b+</span><span class="s2">'&quot; not found.'</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.moveNumberedInputBefore(c,d)}};</span>
<a name="l1475"><span class="ln">1475 </span></a><span class="s1">Blockly.Block.prototype.moveNumberedInputBefore=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(a==b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Can't move input to itself.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a&gt;=</span><span class="s3">this</span><span class="s1">.inputList.length)</span><span class="s3">throw </span><span class="s1">RangeError(</span><span class="s2">&quot;Input index &quot;</span><span class="s1">+a+</span><span class="s2">&quot; out of bounds.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b&gt;</span><span class="s3">this</span><span class="s1">.inputList.length)</span><span class="s3">throw </span><span class="s1">RangeError(</span><span class="s2">&quot;Reference input &quot;</span><span class="s1">+b+</span><span class="s2">&quot; out of bounds.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.inputList[a];</span><span class="s3">this</span><span class="s1">.inputList.splice(a,</span><span class="s4">1</span><span class="s1">);a&lt;b&amp;&amp;b--;</span><span class="s3">this</span><span class="s1">.inputList.splice(b,</span><span class="s4">0</span><span class="s1">,c)};</span>
<a name="l1476"><span class="ln">1476 </span></a><span class="s1">Blockly.Block.prototype.removeInput=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=</span><span class="s3">this</span><span class="s1">.inputList[c];c++)</span><span class="s3">if</span><span class="s1">(d.name==a){</span><span class="s3">if</span><span class="s1">(d.connection&amp;&amp;d.connection.isConnected()){d.connection.setShadowDom(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=d.connection.targetBlock();e.isShadow()?e.dispose():e.unplug()}d.dispose();</span><span class="s3">this</span><span class="s1">.inputList.splice(c,</span><span class="s4">1</span><span class="s1">);</span><span class="s3">return</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Input not found: &quot;</span><span class="s1">+a);};Blockly.Block.prototype.getInput=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">if</span><span class="s1">(c.name==a)</span><span class="s3">return </span><span class="s1">c;</span><span class="s3">return null</span><span class="s1">};</span>
<a name="l1477"><span class="ln">1477 </span></a><span class="s1">Blockly.Block.prototype.getInputTargetBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">(a=</span><span class="s3">this</span><span class="s1">.getInput(a))&amp;&amp;a.connection&amp;&amp;a.connection.targetBlock()};Blockly.Block.prototype.getCommentText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.comment||</span><span class="s2">&quot;&quot;</span><span class="s1">};Blockly.Block.prototype.setCommentText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.comment!=a&amp;&amp;(Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">,</span><span class="s2">&quot;comment&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.comment,a||</span><span class="s2">&quot;&quot;</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.comment=a)};Blockly.Block.prototype.setWarningText=</span><span class="s3">function</span><span class="s1">(a,b){};Blockly.Block.prototype.setMutator=</span><span class="s3">function</span><span class="s1">(a){};</span>
<a name="l1478"><span class="ln">1478 </span></a><span class="s1">Blockly.Block.prototype.getRelativeToSurfaceXY=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.xy_};Blockly.Block.prototype.moveBy=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.parentBlock_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Block has parent.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockMove(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.xy_.translate(a,b);c.recordNew();Blockly.Events.fire(c)};Blockly.Block.prototype.makeConnection_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.Connection(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1479"><span class="ln">1479 </span></a><span class="s1">Blockly.Block.prototype.allInputsFilled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a&amp;&amp;(a=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!a&amp;&amp;</span><span class="s3">this</span><span class="s1">.isShadow())</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++)</span><span class="s3">if</span><span class="s1">(c.connection&amp;&amp;(c=c.connection.targetBlock(),!c||!c.allInputsFilled(a)))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">return</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.getNextBlock())?b.allInputsFilled(a):!</span><span class="s4">0</span><span class="s1">};Blockly.Block.prototype.toDevString=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.type?</span><span class="s2">'&quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.type+</span><span class="s2">'&quot; block'</span><span class="s1">:</span><span class="s2">&quot;Block&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.id&amp;&amp;(a+=</span><span class="s2">' (id=&quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.id+</span><span class="s2">'&quot;)'</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.BlockDragSurfaceSvg=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.container_=a;</span><span class="s3">this</span><span class="s1">.createDom()};Blockly.BlockDragSurfaceSvg.prototype.SVG_=</span><span class="s3">null</span><span class="s1">;Blockly.BlockDragSurfaceSvg.prototype.dragGroup_=</span><span class="s3">null</span><span class="s1">;Blockly.BlockDragSurfaceSvg.prototype.container_=</span><span class="s3">null</span><span class="s1">;Blockly.BlockDragSurfaceSvg.prototype.scale_=</span><span class="s4">1</span><span class="s1">;Blockly.BlockDragSurfaceSvg.prototype.surfaceXY_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1480"><span class="ln">1480 </span></a><span class="s1">Blockly.BlockDragSurfaceSvg.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.SVG_||(</span><span class="s3">this</span><span class="s1">.SVG_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;svg&quot;</span><span class="s1">,{xmlns:Blockly.utils.dom.SVG_NS,</span><span class="s2">&quot;xmlns:html&quot;</span><span class="s1">:Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;xmlns:xlink&quot;</span><span class="s1">:Blockly.utils.dom.XLINK_NS,version:</span><span class="s2">&quot;1.1&quot;</span><span class="s1">,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyBlockDragSurface&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.container_),</span><span class="s3">this</span><span class="s1">.dragGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{},</span><span class="s3">this</span><span class="s1">.SVG_))};</span>
<a name="l1481"><span class="ln">1481 </span></a><span class="s1">Blockly.BlockDragSurfaceSvg.prototype.setBlocksAndShow=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.dragGroup_.childNodes.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Already dragging a block.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.dragGroup_.appendChild(a);</span><span class="s3">this</span><span class="s1">.SVG_.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.surfaceXY_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">)};Blockly.BlockDragSurfaceSvg.prototype.translateAndScaleGroup=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.scale_=c;a=a.toFixed(</span><span class="s4">0</span><span class="s1">);b=b.toFixed(</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.dragGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;,&quot;</span><span class="s1">+b+</span><span class="s2">&quot;) scale(&quot;</span><span class="s1">+c+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};</span>
<a name="l1482"><span class="ln">1482 </span></a><span class="s1">Blockly.BlockDragSurfaceSvg.prototype.translateSurfaceInternal_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.surfaceXY_.x,b=</span><span class="s3">this</span><span class="s1">.surfaceXY_.y;a=a.toFixed(</span><span class="s4">0</span><span class="s1">);b=b.toFixed(</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.SVG_.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">;Blockly.utils.dom.setCssTransform(</span><span class="s3">this</span><span class="s1">.SVG_,</span><span class="s2">&quot;translate3d(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;px, &quot;</span><span class="s1">+b+</span><span class="s2">&quot;px, 0px)&quot;</span><span class="s1">)};Blockly.BlockDragSurfaceSvg.prototype.translateSurface=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.surfaceXY_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(a*</span><span class="s3">this</span><span class="s1">.scale_,b*</span><span class="s3">this</span><span class="s1">.scale_);</span><span class="s3">this</span><span class="s1">.translateSurfaceInternal_()};</span>
<a name="l1483"><span class="ln">1483 </span></a><span class="s1">Blockly.BlockDragSurfaceSvg.prototype.getSurfaceTranslation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.utils.getRelativeXY(</span><span class="s3">this</span><span class="s1">.SVG_);</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(a.x/</span><span class="s3">this</span><span class="s1">.scale_,a.y/</span><span class="s3">this</span><span class="s1">.scale_)};Blockly.BlockDragSurfaceSvg.prototype.getGroup=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.dragGroup_};Blockly.BlockDragSurfaceSvg.prototype.getCurrentBlock=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.dragGroup_.firstChild};</span>
<a name="l1484"><span class="ln">1484 </span></a><span class="s1">Blockly.BlockDragSurfaceSvg.prototype.clearAndHide=</span><span class="s3">function</span><span class="s1">(a){a?a.appendChild(</span><span class="s3">this</span><span class="s1">.getCurrentBlock()):</span><span class="s3">this</span><span class="s1">.dragGroup_.removeChild(</span><span class="s3">this</span><span class="s1">.getCurrentBlock());</span><span class="s3">this</span><span class="s1">.SVG_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.dragGroup_.childNodes.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Drag group was not cleared.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.surfaceXY_=</span><span class="s3">null</span><span class="s1">};Blockly.utils.uiMenu={};Blockly.utils.uiMenu.getSize=</span><span class="s3">function</span><span class="s1">(a){a=a.getElement();</span><span class="s3">var </span><span class="s1">b=goog.style.getSize(a);b.height=a.scrollHeight;</span><span class="s3">return </span><span class="s1">b};Blockly.utils.uiMenu.adjustBBoxesForRTL=</span><span class="s3">function</span><span class="s1">(a,b,c){b.left+=c.width;b.right+=c.width;a.left+=c.width;a.right+=c.width};Blockly.ContextMenu={};Blockly.ContextMenu.currentBlock=</span><span class="s3">null</span><span class="s1">;Blockly.ContextMenu.eventWrapper_=</span><span class="s3">null</span><span class="s1">;Blockly.ContextMenu.show=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.WidgetDiv.show(Blockly.ContextMenu,c,</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(b.length){</span><span class="s3">var </span><span class="s1">d=Blockly.ContextMenu.populate_(b,c);goog.events.listen(d,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide);Blockly.ContextMenu.position_(d,a,c);setTimeout(</span><span class="s3">function</span><span class="s1">(){d.getElement().focus()},</span><span class="s4">1</span><span class="s1">);Blockly.ContextMenu.currentBlock=</span><span class="s3">null</span><span class="s1">}</span><span class="s3">else </span><span class="s1">Blockly.ContextMenu.hide()};</span>
<a name="l1485"><span class="ln">1485 </span></a><span class="s1">Blockly.ContextMenu.populate_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">goog.ui.Menu;c.setRightToLeft(b);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=a[d];d++){</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">new </span><span class="s1">goog.ui.MenuItem(e.text);f.setRightToLeft(b);c.addChild(f,!</span><span class="s4">0</span><span class="s1">);f.setEnabled(e.enabled);e.enabled&amp;&amp;(goog.events.listen(f,goog.ui.Component.EventType.ACTION,e.callback),f.handleContextMenu=</span><span class="s3">function</span><span class="s1">(){goog.events.dispatchEvent(</span><span class="s3">this</span><span class="s1">,goog.ui.Component.EventType.ACTION)})}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1486"><span class="ln">1486 </span></a><span class="s1">Blockly.ContextMenu.position_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.getViewportBBox();b={top:b.clientY+d.top,bottom:b.clientY+d.top,left:b.clientX+d.left,right:b.clientX+d.left};Blockly.ContextMenu.createWidget_(a);</span><span class="s3">var </span><span class="s1">e=Blockly.utils.uiMenu.getSize(a);c&amp;&amp;Blockly.utils.uiMenu.adjustBBoxesForRTL(d,b,e);Blockly.WidgetDiv.positionWithAnchor(d,b,e,c);a.getElement().focus()};</span>
<a name="l1487"><span class="ln">1487 </span></a><span class="s1">Blockly.ContextMenu.createWidget_=</span><span class="s3">function</span><span class="s1">(a){a.render(Blockly.WidgetDiv.DIV);</span><span class="s3">var </span><span class="s1">b=a.getElement();Blockly.utils.dom.addClass(b,</span><span class="s2">&quot;blocklyContextMenu&quot;</span><span class="s1">);Blockly.bindEventWithChecks_(b,</span><span class="s2">&quot;contextmenu&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,Blockly.utils.noEvent);a.setAllowAutoFocus(!</span><span class="s4">0</span><span class="s1">)};Blockly.ContextMenu.hide=</span><span class="s3">function</span><span class="s1">(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu);Blockly.ContextMenu.currentBlock=</span><span class="s3">null</span><span class="s1">;Blockly.ContextMenu.eventWrapper_&amp;&amp;Blockly.unbindEvent_(Blockly.ContextMenu.eventWrapper_)};</span>
<a name="l1488"><span class="ln">1488 </span></a><span class="s1">Blockly.ContextMenu.callbackFactory=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return function</span><span class="s1">(){Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=Blockly.Xml.domToBlock(b,a.workspace),d=a.getRelativeToSurfaceXY();d.x=a.RTL?d.x-Blockly.SNAP_RADIUS:d.x+Blockly.SNAP_RADIUS;d.y+=</span><span class="s4">2</span><span class="s1">*Blockly.SNAP_RADIUS;c.moveBy(d.x,d.y)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}Blockly.Events.isEnabled()&amp;&amp;!c.isShadow()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockCreate(c));c.select()}};</span>
<a name="l1489"><span class="ln">1489 </span></a><span class="s1">Blockly.ContextMenu.blockDeleteOption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getDescendants(!</span><span class="s4">1</span><span class="s1">).length,c=a.getNextBlock();c&amp;&amp;(b-=c.getDescendants(!</span><span class="s4">1</span><span class="s1">).length);</span><span class="s3">return</span><span class="s1">{text:</span><span class="s4">1</span><span class="s1">==b?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,String(b)),enabled:!</span><span class="s4">0</span><span class="s1">,callback:</span><span class="s3">function</span><span class="s1">(){Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);a.dispose(!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}}};Blockly.ContextMenu.blockHelpOption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">{enabled:!(</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.helpUrl?!a.helpUrl():!a.helpUrl),text:Blockly.Msg.HELP,callback:</span><span class="s3">function</span><span class="s1">(){a.showHelp_()}}};</span>
<a name="l1490"><span class="ln">1490 </span></a><span class="s1">Blockly.ContextMenu.blockDuplicateOption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.isDuplicatable();</span><span class="s3">return</span><span class="s1">{text:Blockly.Msg.DUPLICATE_BLOCK,enabled:b,callback:</span><span class="s3">function</span><span class="s1">(){Blockly.duplicate_(a)}}};Blockly.ContextMenu.blockCommentOption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b={enabled:!Blockly.utils.userAgent.IE};a.comment?(b.text=Blockly.Msg.REMOVE_COMMENT,b.callback=</span><span class="s3">function</span><span class="s1">(){a.setCommentText(</span><span class="s3">null</span><span class="s1">)}):(b.text=Blockly.Msg.ADD_COMMENT,b.callback=</span><span class="s3">function</span><span class="s1">(){a.setCommentText(</span><span class="s2">&quot;&quot;</span><span class="s1">)});</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1491"><span class="ln">1491 </span></a><span class="s1">Blockly.ContextMenu.commentDeleteOption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">{text:Blockly.Msg.REMOVE_COMMENT,enabled:!</span><span class="s4">0</span><span class="s1">,callback:</span><span class="s3">function</span><span class="s1">(){Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);a.dispose(!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}}};Blockly.ContextMenu.commentDuplicateOption=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">{text:Blockly.Msg.DUPLICATE_COMMENT,enabled:!</span><span class="s4">0</span><span class="s1">,callback:</span><span class="s3">function</span><span class="s1">(){Blockly.duplicate_(a)}}};</span>
<a name="l1492"><span class="ln">1492 </span></a><span class="s1">Blockly.ContextMenu.workspaceCommentOption=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c={enabled:!Blockly.utils.userAgent.IE};c.text=Blockly.Msg.ADD_COMMENT;c.callback=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceCommentSvg(a,Blockly.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE,Blockly.WorkspaceCommentSvg.DEFAULT_SIZE),e=a.getInjectionDiv().getBoundingClientRect();e=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(b.clientX-e.left,b.clientY-e.top);</span><span class="s3">var </span><span class="s1">f=a.getOriginOffsetInPixels();e=Blockly.utils.Coordinate.difference(e,</span>
<a name="l1493"><span class="ln">1493 </span></a><span class="s1">f);e.scale(</span><span class="s4">1</span><span class="s1">/a.scale);c.moveBy(e.x,e.y);a.rendered&amp;&amp;(c.initSvg(),c.render(!</span><span class="s4">1</span><span class="s1">),c.select())};</span><span class="s3">return </span><span class="s1">c};Blockly.BlockSvg=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgGroup_.translate_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.svgPathDark_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyPathDark&quot;</span><span class="s1">,transform:</span><span class="s2">&quot;translate(1,1)&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.svgPath_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyPath&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.svgPathLight_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyPathLight&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.svgPath_.tooltip=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.rendered=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1494"><span class="ln">1494 </span></a><span class="s3">this</span><span class="s1">.useDragSurface_=Blockly.utils.is3dSupported()&amp;&amp;!!a.blockDragSurface_;Blockly.Tooltip.bindMouseEvents(</span><span class="s3">this</span><span class="s1">.svgPath_);Blockly.BlockSvg.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b,c);</span><span class="s3">this</span><span class="s1">.svgGroup_.dataset&amp;&amp;(</span><span class="s3">this</span><span class="s1">.svgGroup_.dataset.id=</span><span class="s3">this</span><span class="s1">.id)};goog.inherits(Blockly.BlockSvg,Blockly.Block);Blockly.BlockSvg.prototype.height=</span><span class="s4">0</span><span class="s1">;Blockly.BlockSvg.prototype.width=</span><span class="s4">0</span><span class="s1">;Blockly.BlockSvg.prototype.dragStartXY_=</span><span class="s3">null</span><span class="s1">;Blockly.BlockSvg.prototype.warningTextDb_=</span><span class="s3">null</span><span class="s1">;Blockly.BlockSvg.INLINE=-</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1495"><span class="ln">1495 </span></a><span class="s1">Blockly.BlockSvg.COLLAPSED_WARNING_ID=</span><span class="s2">&quot;TEMP_COLLAPSED_WARNING_&quot;</span><span class="s1">;</span>
<a name="l1496"><span class="ln">1496 </span></a><span class="s1">Blockly.BlockSvg.prototype.initSvg=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.workspace.rendered)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Workspace is headless.&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=</span><span class="s3">this</span><span class="s1">.inputList[a];a++)b.init();b=</span><span class="s3">this</span><span class="s1">.getIcons();</span><span class="s3">for</span><span class="s1">(a=</span><span class="s4">0</span><span class="s1">;a&lt;b.length;a++)b[a].createIcon();</span><span class="s3">this</span><span class="s1">.updateColour();</span><span class="s3">this</span><span class="s1">.updateMovable();</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly||</span><span class="s3">this</span><span class="s1">.eventsInit_||Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.getSvgRoot(),</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDown_);</span><span class="s3">this</span><span class="s1">.eventsInit_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.getSvgRoot().parentNode||</span><span class="s3">this</span><span class="s1">.workspace.getCanvas().appendChild(</span><span class="s3">this</span><span class="s1">.getSvgRoot())};</span>
<a name="l1497"><span class="ln">1497 </span></a><span class="s1">Blockly.BlockSvg.prototype.select=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isShadow()&amp;&amp;</span><span class="s3">this</span><span class="s1">.getParent())</span><span class="s3">this</span><span class="s1">.getParent().select();</span><span class="s3">else if</span><span class="s1">(Blockly.selected!=</span><span class="s3">this</span><span class="s1">){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(Blockly.selected){a=Blockly.selected.id;Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{Blockly.selected.unselect()}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}}a=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;selected&quot;</span><span class="s1">,a,</span><span class="s3">this</span><span class="s1">.id);a.workspaceId=</span><span class="s3">this</span><span class="s1">.workspace.id;Blockly.Events.fire(a);Blockly.selected=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.addSelect()}};</span>
<a name="l1498"><span class="ln">1498 </span></a><span class="s1">Blockly.BlockSvg.prototype.unselect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(Blockly.selected==</span><span class="s3">this</span><span class="s1">){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;selected&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.id,</span><span class="s3">null</span><span class="s1">);a.workspaceId=</span><span class="s3">this</span><span class="s1">.workspace.id;Blockly.Events.fire(a);Blockly.selected=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.removeSelect()}};Blockly.BlockSvg.prototype.mutator=</span><span class="s3">null</span><span class="s1">;Blockly.BlockSvg.prototype.comment=</span><span class="s3">null</span><span class="s1">;Blockly.BlockSvg.prototype.warning=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1499"><span class="ln">1499 </span></a><span class="s1">Blockly.BlockSvg.prototype.getIcons=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=[];</span><span class="s3">this</span><span class="s1">.mutator&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.mutator);</span><span class="s3">this</span><span class="s1">.comment&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.comment);</span><span class="s3">this</span><span class="s1">.warning&amp;&amp;a.push(</span><span class="s3">this</span><span class="s1">.warning);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1500"><span class="ln">1500 </span></a><span class="s1">Blockly.BlockSvg.prototype.setParent=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.parentBlock_;</span><span class="s3">if</span><span class="s1">(a!=b){Blockly.Field.startCache();Blockly.BlockSvg.superClass_.setParent.call(</span><span class="s3">this</span><span class="s1">,a);Blockly.Field.stopCache();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getSvgRoot();</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.workspace.isClearing&amp;&amp;c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();a?(a.getSvgRoot().appendChild(c),a=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY(),</span><span class="s3">this</span><span class="s1">.moveConnections_(a.x-d.x,a.y-d.y)):b&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace.getCanvas().appendChild(c),</span><span class="s3">this</span><span class="s1">.translate(d.x,d.y))}}};</span>
<a name="l1501"><span class="ln">1501 </span></a><span class="s1">Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b=</span><span class="s4">0</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.useDragSurface_?</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.getGroup():</span><span class="s3">null</span><span class="s1">,d=</span><span class="s3">this</span><span class="s1">.getSvgRoot();</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">e=Blockly.utils.getRelativeXY(d);a+=e.x;b+=e.y;</span><span class="s3">this</span><span class="s1">.useDragSurface_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.getCurrentBlock()==d&amp;&amp;(e=</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.getSurfaceTranslation(),a+=e.x,b+=e.y);d=d.parentNode}</span><span class="s3">while</span><span class="s1">(d&amp;&amp;d!=</span><span class="s3">this</span><span class="s1">.workspace.getCanvas()&amp;&amp;d!=c)}</span><span class="s3">return new </span><span class="s1">Blockly.utils.Coordinate(a,b)};</span>
<a name="l1502"><span class="ln">1502 </span></a><span class="s1">Blockly.BlockSvg.prototype.moveBy=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.parentBlock_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Block has parent.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=Blockly.Events.isEnabled();</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockMove(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.translate(e.x+a,e.y+b);</span><span class="s3">this</span><span class="s1">.moveConnections_(a,b);c&amp;&amp;(d.recordNew(),Blockly.Events.fire(d));</span><span class="s3">this</span><span class="s1">.workspace.resizeContents()};Blockly.BlockSvg.prototype.translate=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.getSvgRoot().setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;,&quot;</span><span class="s1">+b+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};</span>
<a name="l1503"><span class="ln">1503 </span></a><span class="s1">Blockly.BlockSvg.prototype.moveToDragSurface_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.useDragSurface_){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.clearTransformAttributes_();</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.translateSurface(a.x,a.y);</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.setBlocksAndShow(</span><span class="s3">this</span><span class="s1">.getSvgRoot())}};Blockly.BlockSvg.prototype.moveOffDragSurface_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.useDragSurface_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.translate(a.x,a.y),</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.clearAndHide(</span><span class="s3">this</span><span class="s1">.workspace.getCanvas()))};</span>
<a name="l1504"><span class="ln">1504 </span></a><span class="s1">Blockly.BlockSvg.prototype.moveDuringDrag=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.useDragSurface_?</span><span class="s3">this</span><span class="s1">.workspace.blockDragSurface_.translateSurface(a.x,a.y):(</span><span class="s3">this</span><span class="s1">.svgGroup_.translate_=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a.x+</span><span class="s2">&quot;,&quot;</span><span class="s1">+a.y+</span><span class="s2">&quot;)&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgGroup_.translate_+</span><span class="s3">this</span><span class="s1">.svgGroup_.skew_))};Blockly.BlockSvg.prototype.clearTransformAttributes_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.getSvgRoot().removeAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">)};</span>
<a name="l1505"><span class="ln">1505 </span></a><span class="s1">Blockly.BlockSvg.prototype.snapToGrid=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;!</span><span class="s3">this</span><span class="s1">.workspace.isDragging()&amp;&amp;!</span><span class="s3">this</span><span class="s1">.getParent()&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isInFlyout){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace.getGrid();</span><span class="s3">if</span><span class="s1">(a&amp;&amp;a.shouldSnap()){</span><span class="s3">var </span><span class="s1">b=a.getSpacing(),c=b/</span><span class="s4">2</span><span class="s1">,d=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();a=Math.round((d.x-c)/b)*b+c-d.x;b=Math.round((d.y-c)/b)*b+c-d.y;a=Math.round(a);b=Math.round(b);</span><span class="s4">0</span><span class="s1">==a&amp;&amp;</span><span class="s4">0</span><span class="s1">==b||</span><span class="s3">this</span><span class="s1">.moveBy(a,b)}}};</span>
<a name="l1506"><span class="ln">1506 </span></a><span class="s1">Blockly.BlockSvg.prototype.getBoundingRectangle=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY(</span><span class="s3">this</span><span class="s1">),b=</span><span class="s3">this</span><span class="s1">.outputConnection?Blockly.BlockSvg.TAB_WIDTH:</span><span class="s4">0</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.getHeightWidth(),d=a.y,e=a.y+c.height;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.RTL){</span><span class="s3">var </span><span class="s1">f=a.x-(c.width-b);a=a.x+b}</span><span class="s3">else </span><span class="s1">f=a.x-b,a=a.x+c.width-b;</span><span class="s3">return new </span><span class="s1">Blockly.utils.Rect(d,e,f,a)};</span>
<a name="l1507"><span class="ln">1507 </span></a><span class="s1">Blockly.BlockSvg.prototype.setCollapsed=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.collapsed_!=a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=</span><span class="s4">0</span><span class="s1">,d;d=</span><span class="s3">this</span><span class="s1">.inputList[c];c++)b.push.apply(b,d.setVisible(!a));</span><span class="s3">if</span><span class="s1">(a){d=</span><span class="s3">this</span><span class="s1">.getIcons();</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;d.length;c++)d[c].setVisible(!</span><span class="s4">1</span><span class="s1">);c=</span><span class="s3">this</span><span class="s1">.toString(Blockly.COLLAPSE_CHARS);</span><span class="s3">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;_TEMP_COLLAPSED_INPUT&quot;</span><span class="s1">).appendField(c).init();d=</span><span class="s3">this</span><span class="s1">.getDescendants(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(c=</span><span class="s3">this</span><span class="s1">.getNextBlock())c=d.indexOf(c),d.splice(c,d.length-c);c=</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e;e=d[c];c++)</span><span class="s3">if</span><span class="s1">(e.warning){</span><span class="s3">this</span><span class="s1">.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING,</span>
<a name="l1508"><span class="ln">1508 </span></a><span class="s1">Blockly.BlockSvg.COLLAPSED_WARNING_ID);</span><span class="s3">break</span><span class="s1">}}</span><span class="s3">else this</span><span class="s1">.removeInput(</span><span class="s2">&quot;_TEMP_COLLAPSED_INPUT&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.warning&amp;&amp;(</span><span class="s3">this</span><span class="s1">.warning.setText(</span><span class="s2">&quot;&quot;</span><span class="s1">,Blockly.BlockSvg.COLLAPSED_WARNING_ID),Object.keys(</span><span class="s3">this</span><span class="s1">.warning.text_).length||</span><span class="s3">this</span><span class="s1">.setWarningText(</span><span class="s3">null</span><span class="s1">));Blockly.BlockSvg.superClass_.setCollapsed.call(</span><span class="s3">this</span><span class="s1">,a);b.length||(b[</span><span class="s4">0</span><span class="s1">]=</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.rendered)</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;e=b[c];c++)e.render()}};</span>
<a name="l1509"><span class="ln">1509 </span></a><span class="s1">Blockly.BlockSvg.prototype.tab=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.createTabList_(),d=c.indexOf(a);-</span><span class="s4">1</span><span class="s1">==d&amp;&amp;(d=b?-</span><span class="s4">1</span><span class="s1">:c.length);(c=c[b?d+</span><span class="s4">1</span><span class="s1">:d-1])?c </span><span class="s3">instanceof </span><span class="s1">Blockly.Field?c.showEditor_():c.tab(</span><span class="s3">null</span><span class="s1">,b):(c=</span><span class="s3">this</span><span class="s1">.getParent())&amp;&amp;c.tab(</span><span class="s3">this</span><span class="s1">,b)};Blockly.BlockSvg.prototype.createTabList_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=[],b=</span><span class="s4">0</span><span class="s1">,c;c=</span><span class="s3">this</span><span class="s1">.inputList[b];b++){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=c.fieldRow[d];d++)e </span><span class="s3">instanceof </span><span class="s1">Blockly.FieldTextInput&amp;&amp;a.push(e);c.connection&amp;&amp;(c=c.connection.targetBlock())&amp;&amp;a.push(c)}</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1510"><span class="ln">1510 </span></a><span class="s1">Blockly.BlockSvg.prototype.onMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace.getGesture(a);b&amp;&amp;b.handleBlockStart(a,</span><span class="s3">this</span><span class="s1">)};Blockly.BlockSvg.prototype.showHelp_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof this</span><span class="s1">.helpUrl?</span><span class="s3">this</span><span class="s1">.helpUrl():</span><span class="s3">this</span><span class="s1">.helpUrl;a&amp;&amp;window.open(a)};</span>
<a name="l1511"><span class="ln">1511 </span></a><span class="s1">Blockly.BlockSvg.prototype.generateContextMenu=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace.options.readOnly||!</span><span class="s3">this</span><span class="s1">.contextMenu)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">,b=[];</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.isInFlyout){</span><span class="s3">this</span><span class="s1">.isDeletable()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isMovable()&amp;&amp;b.push(Blockly.ContextMenu.blockDuplicateOption(a));</span><span class="s3">this</span><span class="s1">.workspace.options.comments&amp;&amp;!</span><span class="s3">this</span><span class="s1">.collapsed_&amp;&amp;</span><span class="s3">this</span><span class="s1">.isEditable()&amp;&amp;b.push(Blockly.ContextMenu.blockCommentOption(a));</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isMovable())</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.collapsed_)</span><span class="s3">this</span><span class="s1">.workspace.options.collapse&amp;&amp;(c={enabled:!</span><span class="s4">0</span><span class="s1">},c.text=Blockly.Msg.EXPAND_BLOCK,c.callback=</span>
<a name="l1512"><span class="ln">1512 </span></a><span class="s3">function</span><span class="s1">(){a.setCollapsed(!</span><span class="s4">1</span><span class="s1">)},b.push(c));</span><span class="s3">else</span><span class="s1">{</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">1</span><span class="s1">;c&lt;</span><span class="s3">this</span><span class="s1">.inputList.length;c++)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.inputList[c-1].type!=Blockly.NEXT_STATEMENT&amp;&amp;</span><span class="s3">this</span><span class="s1">.inputList[c].type!=Blockly.NEXT_STATEMENT){c={enabled:!</span><span class="s4">0</span><span class="s1">};</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.getInputsInline();c.text=d?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS;c.callback=</span><span class="s3">function</span><span class="s1">(){a.setInputsInline(!d)};b.push(c);</span><span class="s3">break</span><span class="s1">}</span><span class="s3">this</span><span class="s1">.workspace.options.collapse&amp;&amp;(c={enabled:!</span><span class="s4">0</span><span class="s1">},c.text=Blockly.Msg.COLLAPSE_BLOCK,c.callback=</span><span class="s3">function</span><span class="s1">(){a.setCollapsed(!</span><span class="s4">0</span><span class="s1">)},b.push(c))}</span><span class="s3">this</span><span class="s1">.workspace.options.disable&amp;&amp;</span>
<a name="l1513"><span class="ln">1513 </span></a><span class="s3">this</span><span class="s1">.isEditable()&amp;&amp;(c={text:</span><span class="s3">this</span><span class="s1">.isEnabled()?Blockly.Msg.DISABLE_BLOCK:Blockly.Msg.ENABLE_BLOCK,enabled:!</span><span class="s3">this</span><span class="s1">.getInheritedDisabled(),callback:</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">b=Blockly.Events.getGroup();b||Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">);a.setEnabled(!a.isEnabled());b||Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)}},b.push(c));</span><span class="s3">this</span><span class="s1">.isDeletable()&amp;&amp;b.push(Blockly.ContextMenu.blockDeleteOption(a))}b.push(Blockly.ContextMenu.blockHelpOption(a));</span><span class="s3">this</span><span class="s1">.customContextMenu&amp;&amp;</span><span class="s3">this</span><span class="s1">.customContextMenu(b);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1514"><span class="ln">1514 </span></a><span class="s1">Blockly.BlockSvg.prototype.showContextMenu_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.generateContextMenu();b&amp;&amp;b.length&amp;&amp;(Blockly.ContextMenu.show(a,b,</span><span class="s3">this</span><span class="s1">.RTL),Blockly.ContextMenu.currentBlock=</span><span class="s3">this</span><span class="s1">)};Blockly.BlockSvg.prototype.moveConnections_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.rendered){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getConnections_(!</span><span class="s4">1</span><span class="s1">),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)c[d].moveBy(a,b);c=</span><span class="s3">this</span><span class="s1">.getIcons();</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)c[d].computeIconLocation();</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;</span><span class="s3">this</span><span class="s1">.childBlocks_.length;d++)</span><span class="s3">this</span><span class="s1">.childBlocks_[d].moveConnections_(a,b)}};</span>
<a name="l1515"><span class="ln">1515 </span></a><span class="s1">Blockly.BlockSvg.prototype.setDragging=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getSvgRoot();b.translate_=</span><span class="s2">&quot;&quot;</span><span class="s1">;b.skew_=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.draggingConnections_=Blockly.draggingConnections_.concat(</span><span class="s3">this</span><span class="s1">.getConnections_(!</span><span class="s4">0</span><span class="s1">));Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDragging&quot;</span><span class="s1">)}</span><span class="s3">else </span><span class="s1">Blockly.draggingConnections_=[],Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDragging&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.childBlocks_.length;b++)</span><span class="s3">this</span><span class="s1">.childBlocks_[b].setDragging(a)};</span>
<a name="l1516"><span class="ln">1516 </span></a><span class="s1">Blockly.BlockSvg.prototype.updateMovable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isMovable()?Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggable&quot;</span><span class="s1">):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggable&quot;</span><span class="s1">)};Blockly.BlockSvg.prototype.setMovable=</span><span class="s3">function</span><span class="s1">(a){Blockly.BlockSvg.superClass_.setMovable.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.updateMovable()};Blockly.BlockSvg.prototype.setEditable=</span><span class="s3">function</span><span class="s1">(a){Blockly.BlockSvg.superClass_.setEditable.call(</span><span class="s3">this</span><span class="s1">,a);a=</span><span class="s3">this</span><span class="s1">.getIcons();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++)a[b].updateEditable()};</span>
<a name="l1517"><span class="ln">1517 </span></a><span class="s1">Blockly.BlockSvg.prototype.setShadow=</span><span class="s3">function</span><span class="s1">(a){Blockly.BlockSvg.superClass_.setShadow.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.updateColour()};Blockly.BlockSvg.prototype.setInsertionMarker=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isInsertionMarker_!=a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isInsertionMarker_=a)&amp;&amp;(</span><span class="s3">this</span><span class="s1">.setColour(Blockly.INSERTION_MARKER_COLOUR),Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyInsertionMarker&quot;</span><span class="s1">))};Blockly.BlockSvg.prototype.getSvgRoot=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.svgGroup_};</span>
<a name="l1518"><span class="ln">1518 </span></a><span class="s1">Blockly.BlockSvg.prototype.dispose=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace){Blockly.Tooltip.hide();Blockly.Field.startCache();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.workspace;Blockly.selected==</span><span class="s3">this</span><span class="s1">&amp;&amp;(</span><span class="s3">this</span><span class="s1">.unselect(),</span><span class="s3">this</span><span class="s1">.workspace.cancelCurrentGesture());Blockly.ContextMenu.currentBlock==</span><span class="s3">this</span><span class="s1">&amp;&amp;Blockly.ContextMenu.hide();b&amp;&amp;</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.unplug(a),Blockly.blockAnimations.disposeUiEffect(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.rendered=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.warningTextDb_){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in this</span><span class="s1">.warningTextDb_)clearTimeout(</span><span class="s3">this</span><span class="s1">.warningTextDb_[d]);</span><span class="s3">this</span><span class="s1">.warningTextDb_=</span><span class="s3">null</span><span class="s1">}</span><span class="s3">this</span><span class="s1">.unplug(a);</span>
<a name="l1519"><span class="ln">1519 </span></a><span class="s3">var </span><span class="s1">e;Blockly.Events.isEnabled()&amp;&amp;(e=</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockDelete(</span><span class="s3">this</span><span class="s1">));Blockly.Events.disable();</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">this</span><span class="s1">.getIcons();</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;f.length;d++)f[d].dispose();Blockly.BlockSvg.superClass_.dispose.call(</span><span class="s3">this</span><span class="s1">,a)}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}Blockly.Events.isEnabled()&amp;&amp;e&amp;&amp;Blockly.Events.fire(e);Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_);c.resizeContents();</span><span class="s3">this</span><span class="s1">.svgPathDark_=</span><span class="s3">this</span><span class="s1">.svgPathLight_=</span><span class="s3">this</span><span class="s1">.svgPath_=</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">;Blockly.Field.stopCache()}};</span>
<a name="l1520"><span class="ln">1520 </span></a><span class="s1">Blockly.BlockSvg.prototype.updateColour=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isEnabled()){</span><span class="s3">this</span><span class="s1">.isShadow()?</span><span class="s3">this</span><span class="s1">.setShadowColour_():(</span><span class="s3">this</span><span class="s1">.setBorderColour_(),</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.getColour()));</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getIcons(),b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++)a[b].updateColour();</span><span class="s3">for</span><span class="s1">(a=</span><span class="s4">0</span><span class="s1">;b=</span><span class="s3">this</span><span class="s1">.inputList[a];a++)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=b.fieldRow[c];c++)d.updateColour()}};</span>
<a name="l1521"><span class="ln">1521 </span></a><span class="s1">Blockly.BlockSvg.prototype.setBorderColour_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getColourBorder();a.colourBorder?(</span><span class="s3">this</span><span class="s1">.svgPathLight_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgPathDark_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;stroke&quot;</span><span class="s1">,a.colourBorder)):(</span><span class="s3">this</span><span class="s1">.svgPathLight_.style.display=</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgPathDark_.style.display=</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;stroke&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.svgPathLight_.setAttribute(</span><span class="s2">&quot;stroke&quot;</span><span class="s1">,a.colourLight),</span><span class="s3">this</span><span class="s1">.svgPathDark_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,a.colourDark))};</span>
<a name="l1522"><span class="ln">1522 </span></a><span class="s1">Blockly.BlockSvg.prototype.setShadowColour_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getColourShadow();</span><span class="s3">this</span><span class="s1">.svgPathLight_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.svgPathDark_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;stroke&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,a);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1523"><span class="ln">1523 </span></a><span class="s1">Blockly.BlockSvg.prototype.updateDisabled=</span><span class="s3">function</span><span class="s1">(){!</span><span class="s3">this</span><span class="s1">.isEnabled()||</span><span class="s3">this</span><span class="s1">.getInheritedDisabled()?Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDisabled&quot;</span><span class="s1">)&amp;&amp;</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;fill&quot;</span><span class="s1">,</span><span class="s2">&quot;url(#&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.workspace.options.disabledPatternId+</span><span class="s2">&quot;)&quot;</span><span class="s1">):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDisabled&quot;</span><span class="s1">)&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateColour();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getChildren(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c.updateDisabled()};</span>
<a name="l1524"><span class="ln">1524 </span></a><span class="s1">Blockly.BlockSvg.prototype.getCommentText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.comment?</span><span class="s3">this</span><span class="s1">.comment.getText().replace(/\s+$/,</span><span class="s2">&quot;&quot;</span><span class="s1">).replace(/ +\n/g,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">):</span><span class="s2">&quot;&quot;</span><span class="s1">};Blockly.BlockSvg.prototype.setCommentText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a?(</span><span class="s3">this</span><span class="s1">.comment||(</span><span class="s3">this</span><span class="s1">.comment=</span><span class="s3">new </span><span class="s1">Blockly.Comment(</span><span class="s3">this</span><span class="s1">),b=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.comment.setText(a)):</span><span class="s3">this</span><span class="s1">.comment&amp;&amp;(</span><span class="s3">this</span><span class="s1">.comment.dispose(),b=!</span><span class="s4">0</span><span class="s1">);b&amp;&amp;</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};</span>
<a name="l1525"><span class="ln">1525 </span></a><span class="s1">Blockly.BlockSvg.prototype.setWarningText=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.warningTextDb_||(</span><span class="s3">this</span><span class="s1">.warningTextDb_=Object.create(</span><span class="s3">null</span><span class="s1">));</span><span class="s3">var </span><span class="s1">c=b||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(c)</span><span class="s3">this</span><span class="s1">.warningTextDb_[c]&amp;&amp;(clearTimeout(</span><span class="s3">this</span><span class="s1">.warningTextDb_[c]),</span><span class="s3">delete this</span><span class="s1">.warningTextDb_[c]);</span><span class="s3">else for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d </span><span class="s3">in this</span><span class="s1">.warningTextDb_)clearTimeout(</span><span class="s3">this</span><span class="s1">.warningTextDb_[d]),</span><span class="s3">delete this</span><span class="s1">.warningTextDb_[d];</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace.isDragging()){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.warningTextDb_[c]=setTimeout(</span><span class="s3">function</span><span class="s1">(){e.workspace&amp;&amp;(</span><span class="s3">delete </span><span class="s1">e.warningTextDb_[c],e.setWarningText(a,c))},</span><span class="s4">100</span><span class="s1">)}</span><span class="s3">else</span><span class="s1">{</span><span class="s3">this</span><span class="s1">.isInFlyout&amp;&amp;</span>
<a name="l1526"><span class="ln">1526 </span></a><span class="s1">(a=</span><span class="s3">null</span><span class="s1">);d=</span><span class="s3">this</span><span class="s1">.getSurroundParent();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">null</span><span class="s1">;d;)d.isCollapsed()&amp;&amp;(f=d),d=d.getSurroundParent();f&amp;&amp;f.setWarningText(Blockly.Msg.COLLAPSED_WARNINGS_WARNING,Blockly.BlockSvg.COLLAPSED_WARNING_ID);d=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a?(</span><span class="s3">this</span><span class="s1">.warning||(</span><span class="s3">this</span><span class="s1">.warning=</span><span class="s3">new </span><span class="s1">Blockly.Warning(</span><span class="s3">this</span><span class="s1">),d=!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.warning.setText(a,c)):</span><span class="s3">this</span><span class="s1">.warning&amp;&amp;!c?(</span><span class="s3">this</span><span class="s1">.warning.dispose(),d=!</span><span class="s4">0</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.warning&amp;&amp;(d=</span><span class="s3">this</span><span class="s1">.warning.getText(),</span><span class="s3">this</span><span class="s1">.warning.setText(</span><span class="s2">&quot;&quot;</span><span class="s1">,c),(f=</span><span class="s3">this</span><span class="s1">.warning.getText())||</span><span class="s3">this</span><span class="s1">.warning.dispose(),d=d!=f);d&amp;&amp;</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;</span>
<a name="l1527"><span class="ln">1527 </span></a><span class="s1">(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())}};Blockly.BlockSvg.prototype.setMutator=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.mutator&amp;&amp;</span><span class="s3">this</span><span class="s1">.mutator!==a&amp;&amp;</span><span class="s3">this</span><span class="s1">.mutator.dispose();a&amp;&amp;(a.block_=</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.mutator=a,a.createIcon())};Blockly.BlockSvg.prototype.setDisabled=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.BlockSvg.prototype.setDisabled, use Blockly.BlockSvg.prototype.setEnabled instead.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setEnabled(!a)};</span>
<a name="l1528"><span class="ln">1528 </span></a><span class="s1">Blockly.BlockSvg.prototype.setEnabled=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isEnabled()!=a&amp;&amp;(Blockly.BlockSvg.superClass_.setEnabled.call(</span><span class="s3">this</span><span class="s1">,a),</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateDisabled())};Blockly.BlockSvg.prototype.setHighlighted=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(a?(</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;filter&quot;</span><span class="s1">,</span><span class="s2">&quot;url(#&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.workspace.options.embossFilterId+</span><span class="s2">&quot;)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.svgPathLight_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">):(</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;filter&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.svgPathLight_.style.display=</span><span class="s2">&quot;inline&quot;</span><span class="s1">))};</span>
<a name="l1529"><span class="ln">1529 </span></a><span class="s1">Blockly.BlockSvg.prototype.addSelect=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklySelected&quot;</span><span class="s1">)};Blockly.BlockSvg.prototype.removeSelect=</span><span class="s3">function</span><span class="s1">(){Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklySelected&quot;</span><span class="s1">)};Blockly.BlockSvg.prototype.setDeleteStyle=</span><span class="s3">function</span><span class="s1">(a){a?Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggingDelete&quot;</span><span class="s1">):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyDraggingDelete&quot;</span><span class="s1">)};</span>
<a name="l1530"><span class="ln">1530 </span></a><span class="s1">Blockly.BlockSvg.prototype.setColour=</span><span class="s3">function</span><span class="s1">(a){Blockly.BlockSvg.superClass_.setColour.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateColour()};Blockly.BlockSvg.prototype.bringToFront=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">do</span><span class="s1">{</span><span class="s3">var </span><span class="s1">b=a.getSvgRoot();b.parentNode.appendChild(b);a=a.getParent()}</span><span class="s3">while</span><span class="s1">(a)};Blockly.BlockSvg.prototype.setPreviousStatement=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.BlockSvg.superClass_.setPreviousStatement.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};</span>
<a name="l1531"><span class="ln">1531 </span></a><span class="s1">Blockly.BlockSvg.prototype.setNextStatement=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.BlockSvg.superClass_.setNextStatement.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};Blockly.BlockSvg.prototype.setOutput=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.BlockSvg.superClass_.setOutput.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};Blockly.BlockSvg.prototype.setInputsInline=</span><span class="s3">function</span><span class="s1">(a){Blockly.BlockSvg.superClass_.setInputsInline.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};</span>
<a name="l1532"><span class="ln">1532 </span></a><span class="s1">Blockly.BlockSvg.prototype.removeInput=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.BlockSvg.superClass_.removeInput.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};Blockly.BlockSvg.prototype.moveNumberedInputBefore=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_())};</span>
<a name="l1533"><span class="ln">1533 </span></a><span class="s1">Blockly.BlockSvg.prototype.appendInput_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=Blockly.BlockSvg.superClass_.appendInput_.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.rendered&amp;&amp;(</span><span class="s3">this</span><span class="s1">.render(),</span><span class="s3">this</span><span class="s1">.bumpNeighbours_());</span><span class="s3">return </span><span class="s1">c};Blockly.BlockSvg.prototype.getConnections_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">if</span><span class="s1">(a||</span><span class="s3">this</span><span class="s1">.rendered)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection&amp;&amp;b.push(</span><span class="s3">this</span><span class="s1">.outputConnection),</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;b.push(</span><span class="s3">this</span><span class="s1">.previousConnection),</span><span class="s3">this</span><span class="s1">.nextConnection&amp;&amp;b.push(</span><span class="s3">this</span><span class="s1">.nextConnection),a||!</span><span class="s3">this</span><span class="s1">.collapsed_){a=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c;c=</span><span class="s3">this</span><span class="s1">.inputList[a];a++)c.connection&amp;&amp;b.push(c.connection)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1534"><span class="ln">1534 </span></a><span class="s1">Blockly.BlockSvg.prototype.makeConnection_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.RenderedConnection(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1535"><span class="ln">1535 </span></a><span class="s1">Blockly.BlockSvg.prototype.bumpNeighbours_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace&amp;&amp;!</span><span class="s3">this</span><span class="s1">.workspace.isDragging()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRootBlock();</span><span class="s3">if</span><span class="s1">(!a.isInFlyout)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getConnections_(!</span><span class="s4">1</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">,d;d=b[c];c++){d.isConnected()&amp;&amp;d.isSuperior()&amp;&amp;d.targetBlock().bumpNeighbours_();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=d.neighbours_(Blockly.SNAP_RADIUS),f=</span><span class="s4">0</span><span class="s1">,g;g=e[f];f++)d.isConnected()&amp;&amp;g.isConnected()||g.getSourceBlock().getRootBlock()!=a&amp;&amp;(d.isSuperior()?g.bumpAwayFrom_(d):d.bumpAwayFrom_(g))}}};</span>
<a name="l1536"><span class="ln">1536 </span></a><span class="s1">Blockly.BlockSvg.prototype.scheduleSnapAndBump=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">,b=Blockly.Events.getGroup();setTimeout(</span><span class="s3">function</span><span class="s1">(){Blockly.Events.setGroup(b);a.snapToGrid();Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)},Blockly.BUMP_DELAY/</span><span class="s4">2</span><span class="s1">);setTimeout(</span><span class="s3">function</span><span class="s1">(){Blockly.Events.setGroup(b);a.bumpNeighbours_();Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">)},Blockly.BUMP_DELAY)};Blockly.BlockSvg.render={};Blockly.BlockSvg.PathObject=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.steps=[];</span><span class="s3">this</span><span class="s1">.highlightSteps=[];</span><span class="s3">this</span><span class="s1">.inlineSteps=[];</span><span class="s3">this</span><span class="s1">.highlightInlineSteps=[]};Blockly.BlockSvg.SEP_SPACE_X=</span><span class="s4">10</span><span class="s1">;Blockly.BlockSvg.SEP_SPACE_Y=</span><span class="s4">10</span><span class="s1">;Blockly.BlockSvg.INLINE_PADDING_Y=</span><span class="s4">5</span><span class="s1">;Blockly.BlockSvg.MIN_BLOCK_Y=</span><span class="s4">25</span><span class="s1">;Blockly.BlockSvg.TAB_HEIGHT=</span><span class="s4">20</span><span class="s1">;Blockly.BlockSvg.TAB_WIDTH=</span><span class="s4">8</span><span class="s1">;Blockly.BlockSvg.NOTCH_WIDTH=</span><span class="s4">30</span><span class="s1">;Blockly.BlockSvg.CORNER_RADIUS=</span><span class="s4">8</span><span class="s1">;Blockly.BlockSvg.START_HAT=!</span><span class="s4">1</span><span class="s1">;Blockly.BlockSvg.START_HAT_HEIGHT=</span><span class="s4">15</span><span class="s1">;</span>
<a name="l1537"><span class="ln">1537 </span></a><span class="s1">Blockly.BlockSvg.START_HAT_PATH=</span><span class="s2">&quot;c 30,-&quot;</span><span class="s1">+Blockly.BlockSvg.START_HAT_HEIGHT+</span><span class="s2">&quot; 70,-&quot;</span><span class="s1">+Blockly.BlockSvg.START_HAT_HEIGHT+</span><span class="s2">&quot; 100,0&quot;</span><span class="s1">;Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR=</span><span class="s2">&quot;c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5&quot;</span><span class="s1">;Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL=</span><span class="s2">&quot;m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7&quot;</span><span class="s1">;Blockly.BlockSvg.DISTANCE_45_INSIDE=(</span><span class="s4">1</span><span class="s1">-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.</span><span class="s4">5</span><span class="s1">)+.</span><span class="s4">5</span><span class="s1">;Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(</span><span class="s4">1</span><span class="s1">-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">)-.</span><span class="s4">5</span><span class="s1">;</span>
<a name="l1538"><span class="ln">1538 </span></a><span class="s1">Blockly.BlockSvg.NOTCH_PATH_LEFT=</span><span class="s2">&quot;l 6,4 3,0 6,-4&quot;</span><span class="s1">;Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT=</span><span class="s2">&quot;l 6,4 3,0 6,-4&quot;</span><span class="s1">;Blockly.BlockSvg.NOTCH_PATH_RIGHT=</span><span class="s2">&quot;l -6,4 -3,0 -6,-4&quot;</span><span class="s1">;Blockly.BlockSvg.JAGGED_TEETH=</span><span class="s2">&quot;l 8,0 0,4 8,4 -16,8 8,4&quot;</span><span class="s1">;Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=</span><span class="s4">20</span><span class="s1">;Blockly.BlockSvg.JAGGED_TEETH_WIDTH=</span><span class="s4">15</span><span class="s1">;Blockly.BlockSvg.TAB_PATH_DOWN=</span><span class="s2">&quot;v 5 c 0,10 -&quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-8 -&quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,7.5 s &quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-2.5 &quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,7.5&quot;</span><span class="s1">;</span>
<a name="l1539"><span class="ln">1539 </span></a><span class="s1">Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL=</span><span class="s2">&quot;v 6.5 m -&quot;</span><span class="s1">+.</span><span class="s4">97</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,3 q -&quot;</span><span class="s1">+.</span><span class="s4">05</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,10 &quot;</span><span class="s1">+.</span><span class="s4">3</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,9.5 m &quot;</span><span class="s1">+.</span><span class="s4">67</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-1.9 v 1.4&quot;</span><span class="s1">;Blockly.BlockSvg.TOP_LEFT_CORNER_START=</span><span class="s2">&quot;m 0,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS;Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL=</span><span class="s2">&quot;m &quot;</span><span class="s1">+Blockly.BlockSvg.DISTANCE_45_INSIDE+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.DISTANCE_45_INSIDE;</span>
<a name="l1540"><span class="ln">1540 </span></a><span class="s1">Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR=</span><span class="s2">&quot;m 0.5,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS-.</span><span class="s4">5</span><span class="s1">);Blockly.BlockSvg.TOP_LEFT_CORNER=</span><span class="s2">&quot;A &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot; 0 0,1 &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,0&quot;</span><span class="s1">;Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT=</span><span class="s2">&quot;A &quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS-.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS-.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot; 0 0,1 &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,0.5&quot;</span><span class="s1">;</span>
<a name="l1541"><span class="ln">1541 </span></a><span class="s1">Blockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+</span><span class="s2">&quot; h -&quot;</span><span class="s1">+(Blockly.BlockSvg.NOTCH_WIDTH-15-Blockly.BlockSvg.CORNER_RADIUS)+</span><span class="s2">&quot; a &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot; 0 0,0 -&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS;Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER=</span><span class="s2">&quot;a &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot; 0 0,0 &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS;</span>
<a name="l1542"><span class="ln">1542 </span></a><span class="s1">Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL=</span><span class="s2">&quot;a &quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot; 0 0,0 &quot;</span><span class="s1">+(-Blockly.BlockSvg.DISTANCE_45_OUTSIDE-.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE);Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL=</span><span class="s2">&quot;a &quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot; 0 0,0 &quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">);</span>
<a name="l1543"><span class="ln">1543 </span></a><span class="s1">Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR=</span><span class="s2">&quot;a &quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS+.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot; 0 0,0 &quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.DISTANCE_45_OUTSIDE+.</span><span class="s4">5</span><span class="s1">);Blockly.BlockSvg.prototype.getHeightWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.height,b=</span><span class="s3">this</span><span class="s1">.width,c=</span><span class="s3">this</span><span class="s1">.getNextBlock();c?(c=c.getHeightWidth(),a+=c.height-4,b=Math.max(b,c.width)):</span><span class="s3">this</span><span class="s1">.nextConnection||</span><span class="s3">this</span><span class="s1">.outputConnection||(a+=</span><span class="s4">2</span><span class="s1">);</span><span class="s3">return</span><span class="s1">{height:a,width:b}};</span>
<a name="l1544"><span class="ln">1544 </span></a><span class="s1">Blockly.BlockSvg.prototype.render=</span><span class="s3">function</span><span class="s1">(a){Blockly.Field.startCache();</span><span class="s3">this</span><span class="s1">.rendered=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=Blockly.BlockSvg.SEP_SPACE_X;</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(b=-b);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getIcons(),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)b=c[d].renderIcon(b);b+=</span><span class="s3">this</span><span class="s1">.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X;c=</span><span class="s3">this</span><span class="s1">.renderCompute_(b);</span><span class="s3">this</span><span class="s1">.renderDraw_(b,c);</span><span class="s3">this</span><span class="s1">.renderMoveConnections_();!</span><span class="s4">1</span><span class="s1">!==a&amp;&amp;((a=</span><span class="s3">this</span><span class="s1">.getParent())?a.render(!</span><span class="s4">0</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.workspace.resizeContents());Blockly.Field.stopCache()};</span>
<a name="l1545"><span class="ln">1545 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderFields_=</span><span class="s3">function</span><span class="s1">(a,b,c){c+=Blockly.BlockSvg.INLINE_PADDING_Y;</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(b=-b);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e;e=a[d];d++){</span><span class="s3">var </span><span class="s1">f=e.getSvgRoot();</span><span class="s3">if</span><span class="s1">(f){</span><span class="s3">var </span><span class="s1">g=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.RTL){</span><span class="s3">var </span><span class="s1">h=b-=e.renderSep+e.renderWidth;e.renderWidth&amp;&amp;(b-=Blockly.BlockSvg.SEP_SPACE_X)}</span><span class="s3">else </span><span class="s1">h=b+e.renderSep,e.renderWidth&amp;&amp;(b+=e.renderSep+e.renderWidth+Blockly.BlockSvg.SEP_SPACE_X);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;e </span><span class="s3">instanceof </span><span class="s1">Blockly.FieldImage&amp;&amp;e.getFlipRtl()&amp;&amp;(g=</span><span class="s2">&quot;scale(-1 1)&quot;</span><span class="s1">,h+=e.renderWidth);f.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+h+</span>
<a name="l1546"><span class="ln">1546 </span></a><span class="s2">&quot;,&quot;</span><span class="s1">+c+</span><span class="s2">&quot;)&quot;</span><span class="s1">+g);</span><span class="s3">this</span><span class="s1">.isInsertionMarker()&amp;&amp;f.setAttribute(</span><span class="s2">&quot;display&quot;</span><span class="s1">,</span><span class="s2">&quot;none&quot;</span><span class="s1">)}}</span><span class="s3">return this</span><span class="s1">.RTL?-b:b};</span>
<a name="l1547"><span class="ln">1547 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderCompute_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.inputList,c=[];c.rightEdge=a+</span><span class="s4">2</span><span class="s1">*Blockly.BlockSvg.SEP_SPACE_X;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.previousConnection||</span><span class="s3">this</span><span class="s1">.nextConnection)c.rightEdge=Math.max(c.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">,f=!</span><span class="s4">1</span><span class="s1">,g=!</span><span class="s4">1</span><span class="s1">,h=!</span><span class="s4">1</span><span class="s1">,k=</span><span class="s3">void </span><span class="s4">0</span><span class="s1">,l=</span><span class="s3">this</span><span class="s1">.getInputsInline()&amp;&amp;!</span><span class="s3">this</span><span class="s1">.isCollapsed(),n=</span><span class="s4">0</span><span class="s1">,m;m=b[n];n++)</span><span class="s3">if</span><span class="s1">(m.isVisible()){</span><span class="s3">if</span><span class="s1">(l&amp;&amp;k&amp;&amp;k!=Blockly.NEXT_STATEMENT&amp;&amp;m.type!=Blockly.NEXT_STATEMENT)</span><span class="s3">var </span><span class="s1">p=c[c.length-1];</span><span class="s3">else </span><span class="s1">k=m.type,p=[],p.type=l&amp;&amp;</span>
<a name="l1548"><span class="ln">1548 </span></a><span class="s1">m.type!=Blockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:m.type,p.height=</span><span class="s4">0</span><span class="s1">,c.push(p);p.push(m);m.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y;m.renderWidth=l&amp;&amp;m.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+</span><span class="s4">1.25</span><span class="s1">*Blockly.BlockSvg.SEP_SPACE_X:</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(m.connection&amp;&amp;m.connection.isConnected()){</span><span class="s3">var </span><span class="s1">r=m.connection.targetBlock().getHeightWidth();m.renderHeight=Math.max(m.renderHeight,r.height);m.renderWidth=Math.max(m.renderWidth,r.width)}l||n!=b.length-1?!l&amp;&amp;m.type==Blockly.INPUT_VALUE&amp;&amp;b[n+</span><span class="s4">1</span><span class="s1">]&amp;&amp;b[n+</span><span class="s4">1</span><span class="s1">].type==</span>
<a name="l1549"><span class="ln">1549 </span></a><span class="s1">Blockly.NEXT_STATEMENT&amp;&amp;m.renderHeight--:m.renderHeight--;p.height=Math.max(p.height,m.renderHeight);m.fieldWidth=</span><span class="s4">0</span><span class="s1">;</span><span class="s4">1</span><span class="s1">==c.length&amp;&amp;(m.fieldWidth+=</span><span class="s3">this</span><span class="s1">.RTL?-a:a);r=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">t=</span><span class="s4">0</span><span class="s1">,q;q=m.fieldRow[t];t++){</span><span class="s4">0</span><span class="s1">!=t&amp;&amp;(m.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);</span><span class="s3">var </span><span class="s1">u=q.getSize();q.renderWidth=u.width;q.renderSep=r&amp;&amp;q.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:</span><span class="s4">0</span><span class="s1">;m.fieldWidth+=q.renderWidth+q.renderSep;p.height=Math.max(p.height,u.height);r=q.EDITABLE}p.type!=Blockly.BlockSvg.INLINE&amp;&amp;(p.type==Blockly.NEXT_STATEMENT?</span>
<a name="l1550"><span class="ln">1550 </span></a><span class="s1">(g=!</span><span class="s4">0</span><span class="s1">,e=Math.max(e,m.fieldWidth)):(p.type==Blockly.INPUT_VALUE?f=!</span><span class="s4">0</span><span class="s1">:p.type==Blockly.DUMMY_INPUT&amp;&amp;(h=!</span><span class="s4">0</span><span class="s1">),d=Math.max(d,m.fieldWidth)))}</span><span class="s3">for</span><span class="s1">(a=</span><span class="s4">0</span><span class="s1">;p=c[a];a++)</span><span class="s3">if</span><span class="s1">(p.thicker=!</span><span class="s4">1</span><span class="s1">,p.type==Blockly.BlockSvg.INLINE)</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;m=p[b];b++)</span><span class="s3">if</span><span class="s1">(m.type==Blockly.INPUT_VALUE){p.height+=</span><span class="s4">2</span><span class="s1">*Blockly.BlockSvg.INLINE_PADDING_Y;p.thicker=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">break</span><span class="s1">}c.statementEdge=</span><span class="s4">2</span><span class="s1">*Blockly.BlockSvg.SEP_SPACE_X+e;g&amp;&amp;(c.rightEdge=Math.max(c.rightEdge,c.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH));f?c.rightEdge=Math.max(c.rightEdge,d+</span><span class="s4">2</span><span class="s1">*Blockly.BlockSvg.SEP_SPACE_X+</span>
<a name="l1551"><span class="ln">1551 </span></a><span class="s1">Blockly.BlockSvg.TAB_WIDTH):h&amp;&amp;(c.rightEdge=Math.max(c.rightEdge,d+</span><span class="s4">2</span><span class="s1">*Blockly.BlockSvg.SEP_SPACE_X));c.hasValue=f;c.hasStatement=g;c.hasDummy=h;</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1552"><span class="ln">1552 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderDraw_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.startHat_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.height=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.outputConnection)</span><span class="s3">this</span><span class="s1">.squareBottomLeftCorner_=</span><span class="s3">this</span><span class="s1">.squareTopLeftCorner_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.hat?</span><span class="s2">&quot;cap&quot;</span><span class="s1">===</span><span class="s3">this</span><span class="s1">.hat:Blockly.BlockSvg.START_HAT;</span><span class="s3">this</span><span class="s1">.squareBottomLeftCorner_=</span><span class="s3">this</span><span class="s1">.squareTopLeftCorner_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.previousConnection?(c=</span><span class="s3">this</span><span class="s1">.previousConnection.targetBlock())&amp;&amp;c.getNextBlock()==</span><span class="s3">this</span><span class="s1">&amp;&amp;(</span><span class="s3">this</span><span class="s1">.squareTopLeftCorner_=!</span><span class="s4">0</span><span class="s1">):c&amp;&amp;(</span><span class="s3">this</span><span class="s1">.startHat_=</span><span class="s3">this</span><span class="s1">.squareTopLeftCorner_=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.height+=Blockly.BlockSvg.START_HAT_HEIGHT,</span>
<a name="l1553"><span class="ln">1553 </span></a><span class="s1">b.rightEdge=Math.max(b.rightEdge,</span><span class="s4">100</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.getNextBlock()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.squareBottomLeftCorner_=!</span><span class="s4">0</span><span class="s1">)}c=</span><span class="s3">new </span><span class="s1">Blockly.BlockSvg.PathObject;</span><span class="s3">this</span><span class="s1">.renderDrawTop_(c,b.rightEdge);</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.renderDrawRight_(c,b,a);</span><span class="s3">this</span><span class="s1">.renderDrawBottom_(c,d);</span><span class="s3">this</span><span class="s1">.renderDrawLeft_(c);</span><span class="s3">this</span><span class="s1">.setPaths_(c)};</span>
<a name="l1554"><span class="ln">1554 </span></a><span class="s1">Blockly.BlockSvg.prototype.setPaths_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.steps.join(</span><span class="s2">&quot; &quot;</span><span class="s1">)+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+a.inlineSteps.join(</span><span class="s2">&quot; &quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.svgPathDark_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,b);b=a.highlightSteps.join(</span><span class="s2">&quot; &quot;</span><span class="s1">)+</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+a.highlightInlineSteps.join(</span><span class="s2">&quot; &quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgPathLight_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(</span><span class="s3">this</span><span class="s1">.svgPath_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;scale(-1 1)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.svgPathLight_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;scale(-1 1)&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.svgPathDark_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(1,1) scale(-1 1)&quot;</span><span class="s1">))};</span>
<a name="l1555"><span class="ln">1555 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderMoveConnections_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getRelativeToSurfaceXY();</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.previousConnection.moveToOffset(a);</span><span class="s3">this</span><span class="s1">.outputConnection&amp;&amp;</span><span class="s3">this</span><span class="s1">.outputConnection.moveToOffset(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.inputList.length;b++){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.inputList[b].connection;c&amp;&amp;(c.moveToOffset(a),c.isConnected()&amp;&amp;c.tighten_())}</span><span class="s3">this</span><span class="s1">.nextConnection&amp;&amp;(</span><span class="s3">this</span><span class="s1">.nextConnection.moveToOffset(a),</span><span class="s3">this</span><span class="s1">.nextConnection.isConnected()&amp;&amp;</span><span class="s3">this</span><span class="s1">.nextConnection.tighten_())};</span>
<a name="l1556"><span class="ln">1556 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderDrawTop_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.steps,d=a.highlightSteps;</span><span class="s3">this</span><span class="s1">.squareTopLeftCorner_?(c.push(</span><span class="s2">&quot;m 0,0&quot;</span><span class="s1">),d.push(</span><span class="s2">&quot;m 0.5,0.5&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.startHat_&amp;&amp;(c.push(Blockly.BlockSvg.START_HAT_PATH),d.push(</span><span class="s3">this</span><span class="s1">.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(c.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),d.push(</span><span class="s3">this</span><span class="s1">.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),c.push(Blockly.BlockSvg.TOP_LEFT_CORNER),</span>
<a name="l1557"><span class="ln">1557 </span></a><span class="s1">d.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT));</span><span class="s3">this</span><span class="s1">.previousConnection&amp;&amp;(c.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,Blockly.BlockSvg.NOTCH_WIDTH-15),d.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,Blockly.BlockSvg.NOTCH_WIDTH-15),c.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),d.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),</span><span class="s3">this</span><span class="s1">.previousConnection.setOffsetInBlock(</span><span class="s3">this</span><span class="s1">.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,</span><span class="s4">0</span><span class="s1">));c.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,b);d.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,b-.</span><span class="s4">5</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.width=b};</span>
<a name="l1558"><span class="ln">1558 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderDrawRight_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d={x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">},e={x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">},f=</span><span class="s4">0</span><span class="s1">,g;g=b[f];f++)d.x=Blockly.BlockSvg.SEP_SPACE_X,</span><span class="s4">0</span><span class="s1">==f&amp;&amp;(d.x+=</span><span class="s3">this</span><span class="s1">.RTL?-c:c),a.highlightSteps.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,b.rightEdge-.</span><span class="s4">5</span><span class="s1">+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(d.y+.</span><span class="s4">5</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.isCollapsed()?</span><span class="s3">this</span><span class="s1">.renderJaggedEdge_(a,g,d):g.type==Blockly.BlockSvg.INLINE?</span><span class="s3">this</span><span class="s1">.renderInlineRow_(a,g,d,e,b.rightEdge):g.type==Blockly.INPUT_VALUE?</span><span class="s3">this</span><span class="s1">.renderExternalValueInput_(a,g,d,e,b.rightEdge):g.type==Blockly.DUMMY_INPUT?</span><span class="s3">this</span><span class="s1">.renderDummyInput_(a,g,d,b.rightEdge,b.hasValue):</span>
<a name="l1559"><span class="ln">1559 </span></a><span class="s1">g.type==Blockly.NEXT_STATEMENT&amp;&amp;</span><span class="s3">this</span><span class="s1">.renderStatementInput_(a,g,d,e,b,f),d.y+=g.height;b.length||(d.y=Blockly.BlockSvg.MIN_BLOCK_Y,a.steps.push(</span><span class="s2">&quot;V&quot;</span><span class="s1">,d.y),</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;a.highlightSteps.push(</span><span class="s2">&quot;V&quot;</span><span class="s1">,d.y-1));</span><span class="s3">return </span><span class="s1">d.y};</span>
<a name="l1560"><span class="ln">1560 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderDrawBottom_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.steps,d=a.highlightSteps;</span><span class="s3">this</span><span class="s1">.height+=b+</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.nextConnection&amp;&amp;(c.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,Blockly.BlockSvg.NOTCH_WIDTH+(</span><span class="s3">this</span><span class="s1">.RTL?.</span><span class="s4">5</span><span class="s1">:-.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot; &quot;</span><span class="s1">+Blockly.BlockSvg.NOTCH_PATH_RIGHT),</span><span class="s3">this</span><span class="s1">.nextConnection.setOffsetInBlock(</span><span class="s3">this</span><span class="s1">.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH,b+</span><span class="s4">1</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.height+=</span><span class="s4">4</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.squareBottomLeftCorner_?(c.push(</span><span class="s2">&quot;H 0&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.RTL||d.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,</span><span class="s2">&quot;0.5,&quot;</span><span class="s1">+(b-.</span><span class="s4">5</span><span class="s1">))):(c.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,Blockly.BlockSvg.CORNER_RADIUS),c.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,Blockly.BlockSvg.CORNER_RADIUS+</span>
<a name="l1561"><span class="ln">1561 </span></a><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot; 0 0,1 -&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS+</span><span class="s2">&quot;,-&quot;</span><span class="s1">+Blockly.BlockSvg.CORNER_RADIUS),</span><span class="s3">this</span><span class="s1">.RTL||(d.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,Blockly.BlockSvg.DISTANCE_45_INSIDE+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(b-Blockly.BlockSvg.DISTANCE_45_INSIDE)),d.push(</span><span class="s2">&quot;A&quot;</span><span class="s1">,Blockly.BlockSvg.CORNER_RADIUS-.</span><span class="s4">5</span><span class="s1">+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(Blockly.BlockSvg.CORNER_RADIUS-.</span><span class="s4">5</span><span class="s1">)+</span><span class="s2">&quot; 0 0,1 0.5,&quot;</span><span class="s1">+(b-Blockly.BlockSvg.CORNER_RADIUS))))};</span>
<a name="l1562"><span class="ln">1562 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderDrawLeft_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.steps;a=a.highlightSteps;</span><span class="s3">this</span><span class="s1">.outputConnection?(</span><span class="s3">this</span><span class="s1">.outputConnection.setOffsetInBlock(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">),b.push(</span><span class="s2">&quot;V&quot;</span><span class="s1">,Blockly.BlockSvg.TAB_HEIGHT),b.push(</span><span class="s2">&quot;c 0,-10 -&quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,8 -&quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-7.5 s &quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,2.5 &quot;</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-7.5&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.RTL?(a.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,-.</span><span class="s4">25</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,8.4&quot;</span><span class="s1">),a.push(</span><span class="s2">&quot;l&quot;</span><span class="s1">,-.</span><span class="s4">45</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-2.1&quot;</span><span class="s1">)):(a.push(</span><span class="s2">&quot;V&quot;</span><span class="s1">,Blockly.BlockSvg.TAB_HEIGHT-</span>
<a name="l1563"><span class="ln">1563 </span></a><span class="s4">1.5</span><span class="s1">),a.push(</span><span class="s2">&quot;m&quot;</span><span class="s1">,-.</span><span class="s4">92</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-0.5 q &quot;</span><span class="s1">+-.</span><span class="s4">19</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-5.5 0,-11&quot;</span><span class="s1">),a.push(</span><span class="s2">&quot;m&quot;</span><span class="s1">,.</span><span class="s4">92</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,1 V 0.5 H 1&quot;</span><span class="s1">)),</span><span class="s3">this</span><span class="s1">.width+=Blockly.BlockSvg.TAB_WIDTH):</span><span class="s3">this</span><span class="s1">.RTL||(</span><span class="s3">this</span><span class="s1">.squareTopLeftCorner_?a.push(</span><span class="s2">&quot;V&quot;</span><span class="s1">,.</span><span class="s4">5</span><span class="s1">):a.push(</span><span class="s2">&quot;V&quot;</span><span class="s1">,Blockly.BlockSvg.CORNER_RADIUS));b.push(</span><span class="s2">&quot;z&quot;</span><span class="s1">)};</span>
<a name="l1564"><span class="ln">1564 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderJaggedEdge_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.steps;a=a.highlightSteps;</span><span class="s3">this</span><span class="s1">.renderFields_(b[</span><span class="s4">0</span><span class="s1">].fieldRow,c.x,c.y);d.push(Blockly.BlockSvg.JAGGED_TEETH);a.push(</span><span class="s2">&quot;h 8&quot;</span><span class="s1">);b=b.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT;d.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(a.push(</span><span class="s2">&quot;v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5&quot;</span><span class="s1">),a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b-.</span><span class="s4">7</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH};</span>
<a name="l1565"><span class="ln">1565 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderInlineRow_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">var </span><span class="s1">f=a.inlineSteps,g=a.highlightInlineSteps,h=a.steps;a=a.highlightSteps;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">k=</span><span class="s4">0</span><span class="s1">,l;l=b[k];k++){</span><span class="s3">var </span><span class="s1">n=c.x,m=c.y;b.thicker&amp;&amp;(m+=Blockly.BlockSvg.INLINE_PADDING_Y);c.x=</span><span class="s3">this</span><span class="s1">.renderFields_(l.fieldRow,n,m);l.type!=Blockly.DUMMY_INPUT&amp;&amp;(c.x+=l.renderWidth+Blockly.BlockSvg.SEP_SPACE_X);l.type==Blockly.INPUT_VALUE&amp;&amp;(f.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,c.x-Blockly.BlockSvg.SEP_SPACE_X+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y)),f.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,Blockly.BlockSvg.TAB_WIDTH-</span>
<a name="l1566"><span class="ln">1566 </span></a><span class="s4">2</span><span class="s1">-l.renderWidth),f.push(Blockly.BlockSvg.TAB_PATH_DOWN),f.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,l.renderHeight+</span><span class="s4">1</span><span class="s1">-Blockly.BlockSvg.TAB_HEIGHT),f.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,l.renderWidth+</span><span class="s4">2</span><span class="s1">-Blockly.BlockSvg.TAB_WIDTH),f.push(</span><span class="s2">&quot;z&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.RTL?(g.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,c.x-Blockly.BlockSvg.SEP_SPACE_X-2.</span><span class="s4">5</span><span class="s1">+Blockly.BlockSvg.TAB_WIDTH-l.renderWidth+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y+.</span><span class="s4">5</span><span class="s1">)),g.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),g.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,l.renderHeight-Blockly.BlockSvg.TAB_HEIGHT+</span><span class="s4">2.5</span><span class="s1">),g.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,l.renderWidth-Blockly.BlockSvg.TAB_WIDTH+</span><span class="s4">2</span><span class="s1">)):(g.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,</span>
<a name="l1567"><span class="ln">1567 </span></a><span class="s1">c.x-Blockly.BlockSvg.SEP_SPACE_X+.</span><span class="s4">5</span><span class="s1">+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y+.</span><span class="s4">5</span><span class="s1">)),g.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,l.renderHeight+</span><span class="s4">1</span><span class="s1">),g.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,Blockly.BlockSvg.TAB_WIDTH-2-l.renderWidth),g.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,c.x-l.renderWidth-Blockly.BlockSvg.SEP_SPACE_X+.</span><span class="s4">9</span><span class="s1">+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+Blockly.BlockSvg.INLINE_PADDING_Y+Blockly.BlockSvg.TAB_HEIGHT-.</span><span class="s4">7</span><span class="s1">)),g.push(</span><span class="s2">&quot;l&quot;</span><span class="s1">,.</span><span class="s4">46</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-2.1&quot;</span><span class="s1">)),d.x=</span><span class="s3">this</span><span class="s1">.RTL?-c.x-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+l.renderWidth+</span><span class="s4">1</span><span class="s1">:c.x+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-</span>
<a name="l1568"><span class="ln">1568 </span></a><span class="s1">l.renderWidth-1,d.y=c.y+Blockly.BlockSvg.INLINE_PADDING_Y+</span><span class="s4">1</span><span class="s1">,l.connection.setOffsetInBlock(d.x,d.y))}c.x=Math.max(c.x,e);</span><span class="s3">this</span><span class="s1">.width=Math.max(</span><span class="s3">this</span><span class="s1">.width,c.x);h.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,c.x);a.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,c.x-.</span><span class="s4">5</span><span class="s1">);h.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b.height);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b.height-1)};</span>
<a name="l1569"><span class="ln">1569 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderExternalValueInput_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">var </span><span class="s1">f=a.steps;a=a.highlightSteps;</span><span class="s3">var </span><span class="s1">g=b[</span><span class="s4">0</span><span class="s1">],h=c.x,k=c.y;</span><span class="s3">if</span><span class="s1">(g.align!=Blockly.ALIGN_LEFT){</span><span class="s3">var </span><span class="s1">l=e-g.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X;g.align==Blockly.ALIGN_RIGHT?h+=l:g.align==Blockly.ALIGN_CENTRE&amp;&amp;(h+=l/</span><span class="s4">2</span><span class="s1">)}</span><span class="s3">this</span><span class="s1">.renderFields_(g.fieldRow,h,k);f.push(Blockly.BlockSvg.TAB_PATH_DOWN);b=b.height-Blockly.BlockSvg.TAB_HEIGHT;f.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b);</span><span class="s3">this</span><span class="s1">.RTL?(a.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),</span>
<a name="l1570"><span class="ln">1570 </span></a><span class="s1">a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b+.</span><span class="s4">5</span><span class="s1">)):(a.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,e-5+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+Blockly.BlockSvg.TAB_HEIGHT-.</span><span class="s4">7</span><span class="s1">)),a.push(</span><span class="s2">&quot;l&quot;</span><span class="s1">,.</span><span class="s4">46</span><span class="s1">*Blockly.BlockSvg.TAB_WIDTH+</span><span class="s2">&quot;,-2.1&quot;</span><span class="s1">));d.x=</span><span class="s3">this</span><span class="s1">.RTL?-e-1:e+</span><span class="s4">1</span><span class="s1">;g.connection.setOffsetInBlock(d.x,c.y);g.connection.isConnected()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.width=Math.max(</span><span class="s3">this</span><span class="s1">.width,e+g.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+</span><span class="s4">1</span><span class="s1">))};</span>
<a name="l1571"><span class="ln">1571 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderDummyInput_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">var </span><span class="s1">f=a.steps;a=a.highlightSteps;</span><span class="s3">var </span><span class="s1">g=b[</span><span class="s4">0</span><span class="s1">],h=c.x;c=c.y;g.align!=Blockly.ALIGN_LEFT&amp;&amp;(d=d-g.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,e&amp;&amp;(d-=Blockly.BlockSvg.TAB_WIDTH),g.align==Blockly.ALIGN_RIGHT?h+=d:g.align==Blockly.ALIGN_CENTRE&amp;&amp;(h+=d/</span><span class="s4">2</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.renderFields_(g.fieldRow,h,c);f.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b.height);</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b.height-1)};</span>
<a name="l1572"><span class="ln">1572 </span></a><span class="s1">Blockly.BlockSvg.prototype.renderStatementInput_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">var </span><span class="s1">g=a.steps;a=a.highlightSteps;</span><span class="s3">var </span><span class="s1">h=b[</span><span class="s4">0</span><span class="s1">];</span><span class="s4">0</span><span class="s1">==f&amp;&amp;(g.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,Blockly.BlockSvg.SEP_SPACE_Y),</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,Blockly.BlockSvg.SEP_SPACE_Y-1),c.y+=Blockly.BlockSvg.SEP_SPACE_Y);</span><span class="s3">var </span><span class="s1">k=c.x,l=c.y;</span><span class="s3">if</span><span class="s1">(h.align!=Blockly.ALIGN_LEFT){</span><span class="s3">var </span><span class="s1">n=e.statementEdge-h.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X;h.align==Blockly.ALIGN_RIGHT?k+=n:h.align==Blockly.ALIGN_CENTRE&amp;&amp;(k+=n/</span><span class="s4">2</span><span class="s1">)}</span><span class="s3">this</span><span class="s1">.renderFields_(h.fieldRow,k,l);c.x=e.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH;</span>
<a name="l1573"><span class="ln">1573 </span></a><span class="s1">g.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,c.x);g.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER);g.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b.height-2*Blockly.BlockSvg.CORNER_RADIUS);g.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER);g.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,e.rightEdge);</span><span class="s3">this</span><span class="s1">.RTL?(a.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,c.x-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),a.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b.height-2*Blockly.BlockSvg.CORNER_RADIUS),a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)):</span>
<a name="l1574"><span class="ln">1574 </span></a><span class="s1">(a.push(</span><span class="s2">&quot;M&quot;</span><span class="s1">,c.x-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+</span><span class="s2">&quot;,&quot;</span><span class="s1">+(c.y+b.height-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),a.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR));a.push(</span><span class="s2">&quot;H&quot;</span><span class="s1">,e.rightEdge-.</span><span class="s4">5</span><span class="s1">);d.x=</span><span class="s3">this</span><span class="s1">.RTL?-c.x:c.x+</span><span class="s4">1</span><span class="s1">;h.connection.setOffsetInBlock(d.x,c.y+</span><span class="s4">1</span><span class="s1">);h.connection.isConnected()&amp;&amp;(</span><span class="s3">this</span><span class="s1">.width=Math.max(</span><span class="s3">this</span><span class="s1">.width,e.statementEdge+h.connection.targetBlock().getHeightWidth().width));</span><span class="s3">if</span><span class="s1">(f==e.length-1||e[f+</span><span class="s4">1</span><span class="s1">].type==Blockly.NEXT_STATEMENT)g.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,Blockly.BlockSvg.SEP_SPACE_Y),</span>
<a name="l1575"><span class="ln">1575 </span></a><span class="s3">this</span><span class="s1">.RTL&amp;&amp;a.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,Blockly.BlockSvg.SEP_SPACE_Y-1),c.y+=Blockly.BlockSvg.SEP_SPACE_Y};Blockly.BlockSvg.prototype.positionNewBlock=</span><span class="s3">function</span><span class="s1">(a,b,c){b.type!=Blockly.NEXT_STATEMENT&amp;&amp;b.type!=Blockly.INPUT_VALUE||a.moveBy(c.x_-b.x_,c.y_-b.y_)};Blockly.BlockSvg.prototype.highlightForReplacement=</span><span class="s3">function</span><span class="s1">(a){a?Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyReplaceable&quot;</span><span class="s1">):Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;blocklyReplaceable&quot;</span><span class="s1">)};</span>
<a name="l1576"><span class="ln">1576 </span></a><span class="s1">Blockly.DropDownDiv=</span><span class="s3">function</span><span class="s1">(){};Blockly.DropDownDiv.DIV_=</span><span class="s3">null</span><span class="s1">;Blockly.DropDownDiv.boundsElement_=</span><span class="s3">null</span><span class="s1">;Blockly.DropDownDiv.owner_=</span><span class="s3">null</span><span class="s1">;Blockly.DropDownDiv.positionToField_=</span><span class="s3">null</span><span class="s1">;Blockly.DropDownDiv.ARROW_SIZE=</span><span class="s4">16</span><span class="s1">;Blockly.DropDownDiv.BORDER_SIZE=</span><span class="s4">1</span><span class="s1">;Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING=</span><span class="s4">12</span><span class="s1">;Blockly.DropDownDiv.PADDING_Y=</span><span class="s4">16</span><span class="s1">;Blockly.DropDownDiv.ANIMATION_TIME=.</span><span class="s4">25</span><span class="s1">;Blockly.DropDownDiv.animateOutTimer_=</span><span class="s3">null</span><span class="s1">;Blockly.DropDownDiv.onHide_=</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1577"><span class="ln">1577 </span></a><span class="s1">Blockly.DropDownDiv.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!Blockly.DropDownDiv.DIV_){</span><span class="s3">var </span><span class="s1">a=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);a.className=</span><span class="s2">&quot;blocklyDropDownDiv&quot;</span><span class="s1">;document.body.appendChild(a);Blockly.DropDownDiv.DIV_=a;</span><span class="s3">var </span><span class="s1">b=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);b.className=</span><span class="s2">&quot;blocklyDropDownContent&quot;</span><span class="s1">;a.appendChild(b);Blockly.DropDownDiv.content_=b;b=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);b.className=</span><span class="s2">&quot;blocklyDropDownArrow&quot;</span><span class="s1">;a.appendChild(b);Blockly.DropDownDiv.arrow_=b;Blockly.DropDownDiv.DIV_.style.opacity=</span><span class="s4">0</span><span class="s1">;Blockly.DropDownDiv.DIV_.style.transition=</span>
<a name="l1578"><span class="ln">1578 </span></a><span class="s2">&quot;transform &quot;</span><span class="s1">+Blockly.DropDownDiv.ANIMATION_TIME+</span><span class="s2">&quot;s, opacity &quot;</span><span class="s1">+Blockly.DropDownDiv.ANIMATION_TIME+</span><span class="s2">&quot;s&quot;</span><span class="s1">}};Blockly.DropDownDiv.setBoundsElement=</span><span class="s3">function</span><span class="s1">(a){Blockly.DropDownDiv.boundsElement_=a};Blockly.DropDownDiv.getContentDiv=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.DropDownDiv.content_};Blockly.DropDownDiv.clearContent=</span><span class="s3">function</span><span class="s1">(){Blockly.DropDownDiv.content_.innerHTML=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.DropDownDiv.content_.style.width=</span><span class="s2">&quot;&quot;</span><span class="s1">};</span>
<a name="l1579"><span class="ln">1579 </span></a><span class="s1">Blockly.DropDownDiv.setColour=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.DropDownDiv.DIV_.style.backgroundColor=a;Blockly.DropDownDiv.DIV_.style.borderColor=b};Blockly.DropDownDiv.setCategory=</span><span class="s3">function</span><span class="s1">(a){Blockly.DropDownDiv.DIV_.setAttribute(</span><span class="s2">&quot;data-category&quot;</span><span class="s1">,a)};</span>
<a name="l1580"><span class="ln">1580 </span></a><span class="s1">Blockly.DropDownDiv.showPositionedByBlock=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=b.workspace.scale,f=b.width,g=b.height;f*=e;g*=e;e=b.getSvgRoot().getBoundingClientRect();f=e.left+f/</span><span class="s4">2</span><span class="s1">;g=e.top+g;e=e.top;d&amp;&amp;(e+=d);Blockly.DropDownDiv.setBoundsElement(b.workspace.getParentSvg().parentNode);</span><span class="s3">return </span><span class="s1">Blockly.DropDownDiv.show(a,f,g,f,e,c)};</span>
<a name="l1581"><span class="ln">1581 </span></a><span class="s1">Blockly.DropDownDiv.showPositionedByField=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.fieldGroup_.getBoundingClientRect(),e=d.left+d.width/</span><span class="s4">2</span><span class="s1">,f=d.bottom;d=d.top;c&amp;&amp;(d+=c);Blockly.DropDownDiv.positionToField_=!</span><span class="s4">0</span><span class="s1">;Blockly.DropDownDiv.setBoundsElement(a.getSourceBlock().workspace.getParentSvg().parentNode);</span><span class="s3">return </span><span class="s1">Blockly.DropDownDiv.show(a,e,f,e,d,b)};</span>
<a name="l1582"><span class="ln">1582 </span></a><span class="s1">Blockly.DropDownDiv.show=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){Blockly.DropDownDiv.owner_=a;Blockly.DropDownDiv.onHide_=f;a=Blockly.DropDownDiv.getPositionMetrics(b,c,d,e);Blockly.DropDownDiv.arrow_.style.transform=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+a.arrowX+</span><span class="s2">&quot;px,&quot;</span><span class="s1">+a.arrowY+</span><span class="s2">&quot;px) rotate(45deg)&quot;</span><span class="s1">;Blockly.DropDownDiv.arrow_.setAttribute(</span><span class="s2">&quot;class&quot;</span><span class="s1">,a.arrowAtTop?</span><span class="s2">&quot;blocklyDropDownArrow arrowTop&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyDropDownArrow arrowBottom&quot;</span><span class="s1">);Blockly.DropDownDiv.arrow_.style.display=a.arrowVisible?</span><span class="s2">&quot;&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">;Blockly.DropDownDiv.positionInternal_(a.initialX,a.initialY,</span>
<a name="l1583"><span class="ln">1583 </span></a><span class="s1">a.finalX,a.finalY);</span><span class="s3">return </span><span class="s1">a.arrowAtTop};Blockly.DropDownDiv.getBoundsInfo_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.DropDownDiv.boundsElement_.getBoundingClientRect(),b=goog.style.getSize(Blockly.DropDownDiv.boundsElement_);</span><span class="s3">return</span><span class="s1">{left:a.left,right:a.left+b.width,top:a.top,bottom:a.top+b.height,width:b.width,height:b.height}};</span>
<a name="l1584"><span class="ln">1584 </span></a><span class="s1">Blockly.DropDownDiv.getPositionMetrics=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=Blockly.DropDownDiv.getBoundsInfo_(),f=goog.style.getSize(Blockly.DropDownDiv.DIV_);</span><span class="s3">if</span><span class="s1">(b+f.height&gt;e.bottom)</span><span class="s3">if</span><span class="s1">(d-f.height&lt;e.top){c=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">g=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">h=!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">else </span><span class="s1">a=c,c=d-f.height-Blockly.DropDownDiv.PADDING_Y,g=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">else </span><span class="s1">c=b+Blockly.DropDownDiv.PADDING_Y,g=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">k=a;a-=f.width/</span><span class="s4">2</span><span class="s1">;a=Blockly.utils.math.clamp(e.left,a,e.right-f.width);k-=Blockly.DropDownDiv.ARROW_SIZE/</span><span class="s4">2</span><span class="s1">;k=Blockly.utils.math.clamp(e.left,k,e.right);e=Blockly.utils.math.clamp(Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING,</span>
<a name="l1585"><span class="ln">1585 </span></a><span class="s1">k-a,f.width-Blockly.DropDownDiv.ARROW_HORIZONTAL_PADDING-Blockly.DropDownDiv.ARROW_SIZE);k=g?f.height-Blockly.DropDownDiv.BORDER_SIZE:</span><span class="s4">0</span><span class="s1">;k-=Blockly.DropDownDiv.ARROW_SIZE/</span><span class="s4">2</span><span class="s1">+Blockly.DropDownDiv.BORDER_SIZE;</span><span class="s3">return</span><span class="s1">{initialX:a,initialY:g?d-f.height:b,finalX:a,finalY:c,arrowX:e,arrowY:k,arrowAtTop:!g,arrowVisible:!h}};Blockly.DropDownDiv.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!Blockly.DropDownDiv.owner_};</span>
<a name="l1586"><span class="ln">1586 </span></a><span class="s1">Blockly.DropDownDiv.hideIfOwner=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.DropDownDiv.owner_===a?(Blockly.DropDownDiv.hide(),!</span><span class="s4">0</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">};Blockly.DropDownDiv.hide=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.DropDownDiv.DIV_;a.style.transform=</span><span class="s2">&quot;translate(0px, 0px)&quot;</span><span class="s1">;a.style.opacity=</span><span class="s4">0</span><span class="s1">;Blockly.DropDownDiv.animateOutTimer_=setTimeout(</span><span class="s3">function</span><span class="s1">(){Blockly.DropDownDiv.hideWithoutAnimation()},</span><span class="s4">1</span><span class="s1">E3*Blockly.DropDownDiv.ANIMATION_TIME);Blockly.DropDownDiv.onHide_&amp;&amp;(Blockly.DropDownDiv.onHide_(),Blockly.DropDownDiv.onHide_=</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1587"><span class="ln">1587 </span></a><span class="s1">Blockly.DropDownDiv.hideWithoutAnimation=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(Blockly.DropDownDiv.isVisible()){Blockly.DropDownDiv.animateOutTimer_&amp;&amp;clearTimeout(Blockly.DropDownDiv.animateOutTimer_);</span><span class="s3">var </span><span class="s1">a=Blockly.DropDownDiv.DIV_;a.style.transform=</span><span class="s2">&quot;&quot;</span><span class="s1">;a.style.left=</span><span class="s2">&quot;&quot;</span><span class="s1">;a.style.top=</span><span class="s2">&quot;&quot;</span><span class="s1">;a.style.opacity=</span><span class="s4">0</span><span class="s1">;a.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">;Blockly.DropDownDiv.clearContent();Blockly.DropDownDiv.owner_=</span><span class="s3">null</span><span class="s1">;Blockly.DropDownDiv.onHide_&amp;&amp;(Blockly.DropDownDiv.onHide_(),Blockly.DropDownDiv.onHide_=</span><span class="s3">null</span><span class="s1">)}};</span>
<a name="l1588"><span class="ln">1588 </span></a><span class="s1">Blockly.DropDownDiv.positionInternal_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){a=Math.floor(a);b=Math.floor(b);c=Math.floor(c);d=Math.floor(d);</span><span class="s3">var </span><span class="s1">e=Blockly.DropDownDiv.DIV_;e.style.left=a+</span><span class="s2">&quot;px&quot;</span><span class="s1">;e.style.top=b+</span><span class="s2">&quot;px&quot;</span><span class="s1">;e.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">;e.style.opacity=</span><span class="s4">1</span><span class="s1">;e.style.transform=</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+(c-a)+</span><span class="s2">&quot;px,&quot;</span><span class="s1">+(d-b)+</span><span class="s2">&quot;px)&quot;</span><span class="s1">};</span>
<a name="l1589"><span class="ln">1589 </span></a><span class="s1">Blockly.DropDownDiv.repositionForWindowResize=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(Blockly.DropDownDiv.owner_){</span><span class="s3">var </span><span class="s1">a=Blockly.DropDownDiv.owner_.getSourceBlock(),b=a.workspace.scale,c=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.owner_.size_.width:a.width,d=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.owner_.size_.height:a.height;c*=b;d*=b;a=Blockly.DropDownDiv.positionToField_?Blockly.DropDownDiv.owner_.fieldGroup_.getBoundingClientRect():a.getSvgRoot().getBoundingClientRect();c=a.left+c/</span><span class="s4">2</span><span class="s1">;d=Blockly.DropDownDiv.getPositionMetrics(c,</span>
<a name="l1590"><span class="ln">1590 </span></a><span class="s1">a.top+d,c,a.top);Blockly.DropDownDiv.positionInternal_(d.initialX,d.initialY,d.finalX,d.finalY)}</span><span class="s3">else </span><span class="s1">Blockly.DropDownDiv.hide()};Blockly.FieldTextInput=</span><span class="s3">function</span><span class="s1">(a,b){a=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);</span><span class="s3">null</span><span class="s1">===a&amp;&amp;(a=</span><span class="s2">&quot;&quot;</span><span class="s1">);Blockly.FieldTextInput.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b)};goog.inherits(Blockly.FieldTextInput,Blockly.Field);Blockly.FieldTextInput.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.replaceMessageReferences(a.text);b=</span><span class="s3">new </span><span class="s1">Blockly.FieldTextInput(b);</span><span class="s2">&quot;boolean&quot;</span><span class="s1">===</span><span class="s3">typeof </span><span class="s1">a.spellcheck&amp;&amp;b.setSpellcheck(a.spellcheck);</span><span class="s3">return </span><span class="s1">b};Blockly.FieldTextInput.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldTextInput.FONTSIZE=</span><span class="s4">11</span><span class="s1">;</span>
<a name="l1591"><span class="ln">1591 </span></a><span class="s1">Blockly.FieldTextInput.prototype.CURSOR=</span><span class="s2">&quot;text&quot;</span><span class="s1">;Blockly.FieldTextInput.prototype.spellcheck_=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldTextInput.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return null</span><span class="s1">===a||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">null</span><span class="s1">:String(a)};</span>
<a name="l1592"><span class="ln">1592 </span></a><span class="s1">Blockly.FieldTextInput.prototype.doValueInvalid_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isBeingEdited_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.isTextValid_=!</span><span class="s4">1</span><span class="s1">,a=</span><span class="s3">this</span><span class="s1">.value_,</span><span class="s3">this</span><span class="s1">.value_=</span><span class="s3">this</span><span class="s1">.htmlInput_.untypedDefaultValue_,</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;Blockly.Events.isEnabled()&amp;&amp;Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(</span><span class="s3">this</span><span class="s1">.sourceBlock_,</span><span class="s2">&quot;field&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.name,a,</span><span class="s3">this</span><span class="s1">.value_)))};Blockly.FieldTextInput.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isTextValid_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.value_=a;</span><span class="s3">this</span><span class="s1">.isBeingEdited_||(</span><span class="s3">this</span><span class="s1">.text_=String(a),</span><span class="s3">this</span><span class="s1">.isDirty_=!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1593"><span class="ln">1593 </span></a><span class="s1">Blockly.FieldTextInput.prototype.render_=</span><span class="s3">function</span><span class="s1">(){Blockly.FieldTextInput.superClass_.render_.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isBeingEdited_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.resizeEditor_(),</span><span class="s3">this</span><span class="s1">.isTextValid_?Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.htmlInput_,</span><span class="s2">&quot;blocklyInvalidInput&quot;</span><span class="s1">):Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.htmlInput_,</span><span class="s2">&quot;blocklyInvalidInput&quot;</span><span class="s1">))};Blockly.FieldTextInput.prototype.setSpellcheck=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.spellcheck_=a};</span>
<a name="l1594"><span class="ln">1594 </span></a><span class="s1">Blockly.FieldTextInput.prototype.showEditor_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">this</span><span class="s1">.sourceBlock_.workspace;a=a||!</span><span class="s4">1</span><span class="s1">;!a&amp;&amp;(Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD)?</span><span class="s3">this</span><span class="s1">.showPromptEditor_():</span><span class="s3">this</span><span class="s1">.showInlineEditor_(a)};Blockly.FieldTextInput.prototype.showPromptEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">;Blockly.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,</span><span class="s3">this</span><span class="s1">.text_,</span><span class="s3">function</span><span class="s1">(b){a.setValue(b)})};</span>
<a name="l1595"><span class="ln">1595 </span></a><span class="s1">Blockly.FieldTextInput.prototype.showInlineEditor_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.isBeingEdited_=!</span><span class="s4">0</span><span class="s1">;Blockly.WidgetDiv.show(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL,</span><span class="s3">this</span><span class="s1">.widgetDispose_.bind(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.htmlInput_=</span><span class="s3">this</span><span class="s1">.widgetCreate_();a||(</span><span class="s3">this</span><span class="s1">.htmlInput_.focus(),</span><span class="s3">this</span><span class="s1">.htmlInput_.select())};</span>
<a name="l1596"><span class="ln">1596 </span></a><span class="s1">Blockly.FieldTextInput.prototype.widgetCreate_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.WidgetDiv.DIV,b=document.createElement(</span><span class="s2">&quot;input&quot;</span><span class="s1">);b.className=</span><span class="s2">&quot;blocklyHtmlInput&quot;</span><span class="s1">;b.setAttribute(</span><span class="s2">&quot;spellcheck&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.spellcheck_);</span><span class="s3">var </span><span class="s1">c=Blockly.FieldTextInput.FONTSIZE*</span><span class="s3">this</span><span class="s1">.workspace_.scale+</span><span class="s2">&quot;pt&quot;</span><span class="s1">;a.style.fontSize=c;b.style.fontSize=c;a.appendChild(b);b.value=b.defaultValue=</span><span class="s3">this</span><span class="s1">.value_;b.untypedDefaultValue_=</span><span class="s3">this</span><span class="s1">.value_;b.oldValue_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.resizeEditor_();</span><span class="s3">this</span><span class="s1">.bindInputEvents_(b);</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1597"><span class="ln">1597 </span></a><span class="s1">Blockly.FieldTextInput.prototype.widgetDispose_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.isBeingEdited_=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.value_!==</span><span class="s3">this</span><span class="s1">.text_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.text_=String(</span><span class="s3">this</span><span class="s1">.value_),</span><span class="s3">this</span><span class="s1">.isTextValid_=!</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.forceRerender());</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.onFinishEditing_)</span><span class="s3">this</span><span class="s1">.onFinishEditing_(</span><span class="s3">this</span><span class="s1">.value_);</span><span class="s3">this</span><span class="s1">.unbindInputEvents_();</span><span class="s3">var </span><span class="s1">a=Blockly.WidgetDiv.DIV.style;a.width=</span><span class="s2">&quot;auto&quot;</span><span class="s1">;a.height=</span><span class="s2">&quot;auto&quot;</span><span class="s1">;a.fontSize=</span><span class="s2">&quot;&quot;</span><span class="s1">};</span>
<a name="l1598"><span class="ln">1598 </span></a><span class="s1">Blockly.FieldTextInput.prototype.bindInputEvents_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.onKeyDownWrapper_=Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;keydown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onHtmlInputKeyDown_);</span><span class="s3">this</span><span class="s1">.onKeyUpWrapper_=Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;keyup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onHtmlInputChange_);</span><span class="s3">this</span><span class="s1">.onKeyPressWrapper_=Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;keypress&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onHtmlInputChange_);</span><span class="s3">this</span><span class="s1">.onWorkspaceChangeWrapper_=</span><span class="s3">this</span><span class="s1">.resizeEditor_.bind(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.addChangeListener(</span><span class="s3">this</span><span class="s1">.onWorkspaceChangeWrapper_)};</span>
<a name="l1599"><span class="ln">1599 </span></a><span class="s1">Blockly.FieldTextInput.prototype.unbindInputEvents_=</span><span class="s3">function</span><span class="s1">(){Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onKeyDownWrapper_);Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onKeyUpWrapper_);Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onKeyPressWrapper_);</span><span class="s3">this</span><span class="s1">.workspace_.removeChangeListener(</span><span class="s3">this</span><span class="s1">.onWorkspaceChangeWrapper_)};</span>
<a name="l1600"><span class="ln">1600 </span></a><span class="s1">Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s4">13</span><span class="s1">==a.keyCode?Blockly.WidgetDiv.hide():</span><span class="s4">27</span><span class="s1">==a.keyCode?(</span><span class="s3">this</span><span class="s1">.htmlInput_.value=</span><span class="s3">this</span><span class="s1">.htmlInput_.defaultValue,Blockly.WidgetDiv.hide()):</span><span class="s4">9</span><span class="s1">==a.keyCode&amp;&amp;(Blockly.WidgetDiv.hide(),</span><span class="s3">this</span><span class="s1">.sourceBlock_.tab(</span><span class="s3">this</span><span class="s1">,!a.shiftKey),a.preventDefault())};</span>
<a name="l1601"><span class="ln">1601 </span></a><span class="s1">Blockly.FieldTextInput.prototype.onHtmlInputChange_=</span><span class="s3">function</span><span class="s1">(a){a=</span><span class="s3">this</span><span class="s1">.htmlInput_.value;a!==</span><span class="s3">this</span><span class="s1">.htmlInput_.oldValue_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.htmlInput_.oldValue_=a,Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.setValue(a),</span><span class="s3">this</span><span class="s1">.text_=</span><span class="s3">this</span><span class="s1">.htmlInput_.value,</span><span class="s3">this</span><span class="s1">.forceRerender(),Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">))};</span>
<a name="l1602"><span class="ln">1602 </span></a><span class="s1">Blockly.FieldTextInput.prototype.resizeEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.WidgetDiv.DIV,b=</span><span class="s3">this</span><span class="s1">.getScaledBBox_();a.style.width=b.right-b.left+</span><span class="s2">&quot;px&quot;</span><span class="s1">;a.style.height=b.bottom-b.top+</span><span class="s2">&quot;px&quot;</span><span class="s1">;b=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL?b.right-a.offsetWidth:b.left,b.top);b.y+=</span><span class="s4">1</span><span class="s1">;Blockly.utils.userAgent.GECKO&amp;&amp;Blockly.WidgetDiv.DIV.style.top&amp;&amp;(--b.x,--b.y);Blockly.utils.userAgent.WEBKIT&amp;&amp;(b.y-=</span><span class="s4">3</span><span class="s1">);a.style.left=b.x+</span><span class="s2">&quot;px&quot;</span><span class="s1">;a.style.top=b.y+</span><span class="s2">&quot;px&quot;</span><span class="s1">};</span>
<a name="l1603"><span class="ln">1603 </span></a><span class="s1">Blockly.FieldTextInput.numberValidator=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Blockly.FieldTextInput.numberValidator is deprecated. Use Blockly.FieldNumber instead.&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===a)</span><span class="s3">return null</span><span class="s1">;a=String(a);a=a.replace(/O/ig,</span><span class="s2">&quot;0&quot;</span><span class="s1">);a=a.replace(/,/g,</span><span class="s2">&quot;&quot;</span><span class="s1">);a=parseFloat(a||</span><span class="s4">0</span><span class="s1">);</span><span class="s3">return </span><span class="s1">isNaN(a)?</span><span class="s3">null</span><span class="s1">:String(a)};Blockly.FieldTextInput.nonnegativeIntegerValidator=</span><span class="s3">function</span><span class="s1">(a){(a=Blockly.FieldTextInput.numberValidator(a))&amp;&amp;(a=String(Math.max(</span><span class="s4">0</span><span class="s1">,Math.floor(a))));</span><span class="s3">return </span><span class="s1">a};Blockly.Field.register(</span><span class="s2">&quot;field_input&quot;</span><span class="s1">,Blockly.FieldTextInput);Blockly.FieldAngle=</span><span class="s3">function</span><span class="s1">(a,b){a=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);</span><span class="s3">null</span><span class="s1">===a&amp;&amp;(a=</span><span class="s4">0</span><span class="s1">);Blockly.FieldAngle.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b)};goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput);Blockly.FieldAngle.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.FieldAngle(a.angle)};Blockly.FieldAngle.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldAngle.ROUND=</span><span class="s4">15</span><span class="s1">;Blockly.FieldAngle.HALF=</span><span class="s4">50</span><span class="s1">;Blockly.FieldAngle.CLOCKWISE=!</span><span class="s4">1</span><span class="s1">;Blockly.FieldAngle.OFFSET=</span><span class="s4">0</span><span class="s1">;Blockly.FieldAngle.WRAP=</span><span class="s4">360</span><span class="s1">;</span>
<a name="l1604"><span class="ln">1604 </span></a><span class="s1">Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1;Blockly.FieldAngle.prototype.initView=</span><span class="s3">function</span><span class="s1">(){Blockly.FieldAngle.superClass_.initView.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.symbol_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;tspan&quot;</span><span class="s1">,{},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.symbol_.appendChild(document.createTextNode(</span><span class="s2">&quot;</span><span class="s5">\u00b0</span><span class="s2">&quot;</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.textElement_.appendChild(</span><span class="s3">this</span><span class="s1">.symbol_)};Blockly.FieldAngle.prototype.render_=</span><span class="s3">function</span><span class="s1">(){Blockly.FieldAngle.superClass_.render_.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.updateGraph_()};</span>
<a name="l1605"><span class="ln">1605 </span></a><span class="s1">Blockly.FieldAngle.prototype.showEditor_=</span><span class="s3">function</span><span class="s1">(){Blockly.FieldAngle.superClass_.showEditor_.call(</span><span class="s3">this</span><span class="s1">,Blockly.utils.userAgent.MOBILE||Blockly.utils.userAgent.ANDROID||Blockly.utils.userAgent.IPAD);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.dropdownCreate_();Blockly.DropDownDiv.getContentDiv().appendChild(a);a=</span><span class="s3">this</span><span class="s1">.sourceBlock_.getColourBorder();a=a.colourBorder||a.colourLight;Blockly.DropDownDiv.setColour(</span><span class="s3">this</span><span class="s1">.sourceBlock_.getColour(),a);Blockly.DropDownDiv.showPositionedByField(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.dropdownDispose_.bind(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.updateGraph_()};</span>
<a name="l1606"><span class="ln">1606 </span></a><span class="s1">Blockly.FieldAngle.prototype.dropdownCreate_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;svg&quot;</span><span class="s1">,{xmlns:Blockly.utils.dom.SVG_NS,</span><span class="s2">&quot;xmlns:html&quot;</span><span class="s1">:Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;xmlns:xlink&quot;</span><span class="s1">:Blockly.utils.dom.XLINK_NS,version:</span><span class="s2">&quot;1.1&quot;</span><span class="s1">,height:</span><span class="s4">2</span><span class="s1">*Blockly.FieldAngle.HALF+</span><span class="s2">&quot;px&quot;</span><span class="s1">,width:</span><span class="s4">2</span><span class="s1">*Blockly.FieldAngle.HALF+</span><span class="s2">&quot;px&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">),b=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;circle&quot;</span><span class="s1">,{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyAngleCircle&quot;</span><span class="s1">},a);</span><span class="s3">this</span><span class="s1">.gauge_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,</span>
<a name="l1607"><span class="ln">1607 </span></a><span class="s1">{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyAngleGauge&quot;</span><span class="s1">},a);</span><span class="s3">this</span><span class="s1">.line_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyAngleLine&quot;</span><span class="s1">},a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;</span><span class="s4">360</span><span class="s1">&gt;c;c+=</span><span class="s4">15</span><span class="s1">)Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;line&quot;</span><span class="s1">,{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(</span><span class="s4">0</span><span class="s1">==c%</span><span class="s4">45</span><span class="s1">?</span><span class="s4">10</span><span class="s1">:</span><span class="s4">5</span><span class="s1">),y2:Blockly.FieldAngle.HALF,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyAngleMarks&quot;</span><span class="s1">,transform:</span><span class="s2">&quot;rotate(&quot;</span><span class="s1">+c+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.FieldAngle.HALF+</span><span class="s2">&quot;,&quot;</span><span class="s1">+Blockly.FieldAngle.HALF+</span>
<a name="l1608"><span class="ln">1608 </span></a><span class="s2">&quot;)&quot;</span><span class="s1">},a);</span><span class="s3">this</span><span class="s1">.clickWrapper_=Blockly.bindEvent_(a,</span><span class="s2">&quot;click&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.hide_);</span><span class="s3">this</span><span class="s1">.moveWrapper1_=Blockly.bindEvent_(b,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseMove);</span><span class="s3">this</span><span class="s1">.moveWrapper2_=Blockly.bindEvent_(</span><span class="s3">this</span><span class="s1">.gauge_,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseMove);</span><span class="s3">return </span><span class="s1">a};Blockly.FieldAngle.prototype.dropdownDispose_=</span><span class="s3">function</span><span class="s1">(){Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.clickWrapper_);Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.moveWrapper1_);Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.moveWrapper2_)};</span>
<a name="l1609"><span class="ln">1609 </span></a><span class="s1">Blockly.FieldAngle.prototype.hide_=</span><span class="s3">function</span><span class="s1">(){Blockly.DropDownDiv.hideIfOwner(</span><span class="s3">this</span><span class="s1">);Blockly.WidgetDiv.hide()};</span>
<a name="l1610"><span class="ln">1610 </span></a><span class="s1">Blockly.FieldAngle.prototype.onMouseMove=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.gauge_.ownerSVGElement.getBoundingClientRect(),c=a.clientX-b.left-Blockly.FieldAngle.HALF;b=a.clientY-b.top-Blockly.FieldAngle.HALF;a=Math.atan(-b/c);isNaN(a)||(a=Blockly.utils.math.toDegrees(a),</span><span class="s4">0</span><span class="s1">&gt;c?a+=</span><span class="s4">180</span><span class="s1">:</span><span class="s4">0</span><span class="s1">&lt;b&amp;&amp;(a+=</span><span class="s4">360</span><span class="s1">),a=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+</span><span class="s4">360</span><span class="s1">-a:</span><span class="s4">360</span><span class="s1">-(Blockly.FieldAngle.OFFSET-a),</span><span class="s4">360</span><span class="s1">&lt;a&amp;&amp;(a-=</span><span class="s4">360</span><span class="s1">),Blockly.FieldAngle.ROUND&amp;&amp;(a=Math.round(a/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),a&gt;Blockly.FieldAngle.WRAP&amp;&amp;</span>
<a name="l1611"><span class="ln">1611 </span></a><span class="s1">(a-=</span><span class="s4">360</span><span class="s1">),c=String(a),c!=</span><span class="s3">this</span><span class="s1">.text_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.htmlInput_.value=a,</span><span class="s3">this</span><span class="s1">.setValue(a),</span><span class="s3">this</span><span class="s1">.text_=c,</span><span class="s3">this</span><span class="s1">.forceRerender()))};</span>
<a name="l1612"><span class="ln">1612 </span></a><span class="s1">Blockly.FieldAngle.prototype.updateGraph_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.gauge_){</span><span class="s3">var </span><span class="s1">a=Number(</span><span class="s3">this</span><span class="s1">.getText())+Blockly.FieldAngle.OFFSET,b=Blockly.utils.math.toRadians(a%</span><span class="s4">360</span><span class="s1">);a=[</span><span class="s2">&quot;M &quot;</span><span class="s1">,Blockly.FieldAngle.HALF,</span><span class="s2">&quot;,&quot;</span><span class="s1">,Blockly.FieldAngle.HALF];</span><span class="s3">var </span><span class="s1">c=Blockly.FieldAngle.HALF,d=Blockly.FieldAngle.HALF;</span><span class="s3">if</span><span class="s1">(!isNaN(b)){</span><span class="s3">var </span><span class="s1">e=Blockly.utils.math.toRadians(Blockly.FieldAngle.OFFSET),f=Math.cos(e)*Blockly.FieldAngle.RADIUS,g=Math.sin(e)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&amp;&amp;(b=</span><span class="s4">2</span><span class="s1">*e-b);c+=Math.cos(b)*Blockly.FieldAngle.RADIUS;</span>
<a name="l1613"><span class="ln">1613 </span></a><span class="s1">d-=Math.sin(b)*Blockly.FieldAngle.RADIUS;b=Math.abs(Math.floor((b-e)/Math.PI)%</span><span class="s4">2</span><span class="s1">);Blockly.FieldAngle.CLOCKWISE&amp;&amp;(b=</span><span class="s4">1</span><span class="s1">-b);a.push(</span><span class="s2">&quot; l &quot;</span><span class="s1">,f,</span><span class="s2">&quot;,&quot;</span><span class="s1">,g,</span><span class="s2">&quot; A &quot;</span><span class="s1">,Blockly.FieldAngle.RADIUS,</span><span class="s2">&quot;,&quot;</span><span class="s1">,Blockly.FieldAngle.RADIUS,</span><span class="s2">&quot; 0 &quot;</span><span class="s1">,b,</span><span class="s2">&quot; &quot;</span><span class="s1">,Number(Blockly.FieldAngle.CLOCKWISE),</span><span class="s2">&quot; &quot;</span><span class="s1">,c,</span><span class="s2">&quot;,&quot;</span><span class="s1">,d,</span><span class="s2">&quot; z&quot;</span><span class="s1">)}</span><span class="s3">this</span><span class="s1">.gauge_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,a.join(</span><span class="s2">&quot;&quot;</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.line_.setAttribute(</span><span class="s2">&quot;x2&quot;</span><span class="s1">,c);</span><span class="s3">this</span><span class="s1">.line_.setAttribute(</span><span class="s2">&quot;y2&quot;</span><span class="s1">,d)}};</span>
<a name="l1614"><span class="ln">1614 </span></a><span class="s1">Blockly.FieldAngle.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(isNaN(a))</span><span class="s3">return null</span><span class="s1">;a=parseFloat(a||</span><span class="s4">0</span><span class="s1">);a%=</span><span class="s4">360</span><span class="s1">;</span><span class="s4">0</span><span class="s1">&gt;a&amp;&amp;(a+=</span><span class="s4">360</span><span class="s1">);a&gt;Blockly.FieldAngle.WRAP&amp;&amp;(a-=</span><span class="s4">360</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.Field.register(</span><span class="s2">&quot;field_angle&quot;</span><span class="s1">,Blockly.FieldAngle);Blockly.FieldCheckbox=</span><span class="s3">function</span><span class="s1">(a,b){a=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);</span><span class="s3">null</span><span class="s1">===a&amp;&amp;(a=</span><span class="s2">&quot;FALSE&quot;</span><span class="s1">);Blockly.FieldCheckbox.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b);</span><span class="s3">this</span><span class="s1">.size_.width=Blockly.FieldCheckbox.WIDTH};goog.inherits(Blockly.FieldCheckbox,Blockly.Field);Blockly.FieldCheckbox.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.FieldCheckbox(a.checked)};Blockly.FieldCheckbox.WIDTH=</span><span class="s4">5</span><span class="s1">;Blockly.FieldCheckbox.CHECK_CHAR=</span><span class="s2">&quot;</span><span class="s5">\u2713</span><span class="s2">&quot;</span><span class="s1">;Blockly.FieldCheckbox.CHECK_X_OFFSET=-</span><span class="s4">3</span><span class="s1">;Blockly.FieldCheckbox.CHECK_Y_OFFSET=</span><span class="s4">14</span><span class="s1">;</span>
<a name="l1615"><span class="ln">1615 </span></a><span class="s1">Blockly.FieldCheckbox.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldCheckbox.prototype.CURSOR=</span><span class="s2">&quot;default&quot;</span><span class="s1">;Blockly.FieldCheckbox.prototype.isDirty_=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1616"><span class="ln">1616 </span></a><span class="s1">Blockly.FieldCheckbox.prototype.initView=</span><span class="s3">function</span><span class="s1">(){Blockly.FieldCheckbox.superClass_.initView.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,Blockly.FieldCheckbox.CHECK_X_OFFSET);</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,Blockly.FieldCheckbox.CHECK_Y_OFFSET);Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.textElement_,</span><span class="s2">&quot;blocklyCheckbox&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR);</span><span class="s3">this</span><span class="s1">.textElement_.appendChild(a);</span><span class="s3">this</span><span class="s1">.textElement_.style.display=</span><span class="s3">this</span><span class="s1">.value_?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">};</span>
<a name="l1617"><span class="ln">1617 </span></a><span class="s1">Blockly.FieldCheckbox.prototype.showEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.setValue(!</span><span class="s3">this</span><span class="s1">.value_)};Blockly.FieldCheckbox.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">===a||</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">===a?</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">===a||</span><span class="s2">&quot;FALSE&quot;</span><span class="s1">===a?</span><span class="s2">&quot;FALSE&quot;</span><span class="s1">:</span><span class="s3">null</span><span class="s1">};Blockly.FieldCheckbox.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.value_=</span><span class="s3">this</span><span class="s1">.convertValueToBool_(a);</span><span class="s3">this</span><span class="s1">.textElement_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.textElement_.style.display=</span><span class="s3">this</span><span class="s1">.value_?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">)};Blockly.FieldCheckbox.prototype.getValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.value_?</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">:</span><span class="s2">&quot;FALSE&quot;</span><span class="s1">};</span>
<a name="l1618"><span class="ln">1618 </span></a><span class="s1">Blockly.FieldCheckbox.prototype.getValueBoolean=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.value_};Blockly.FieldCheckbox.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">String(</span><span class="s3">this</span><span class="s1">.convertValueToBool_(</span><span class="s3">this</span><span class="s1">.value_))};Blockly.FieldCheckbox.prototype.convertValueToBool_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a?</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">==a:!!a};Blockly.Field.register(</span><span class="s2">&quot;field_checkbox&quot;</span><span class="s1">,Blockly.FieldCheckbox);Blockly.utils.colour={};Blockly.utils.colour.parse=</span><span class="s3">function</span><span class="s1">(a){a=String(a).toLowerCase().trim();</span><span class="s3">var </span><span class="s1">b=Blockly.utils.colour.names[a];</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">return </span><span class="s1">b;b=</span><span class="s2">&quot;#&quot;</span><span class="s1">==a[</span><span class="s4">0</span><span class="s1">]?a:</span><span class="s2">&quot;#&quot;</span><span class="s1">+a;</span><span class="s3">if</span><span class="s1">(/^#[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">a-f]{</span><span class="s4">6</span><span class="s1">}$/.test(b))</span><span class="s3">return </span><span class="s1">b;</span><span class="s3">if</span><span class="s1">(/^#[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">a-f]{</span><span class="s4">3</span><span class="s1">}$/.test(b))</span><span class="s3">return</span><span class="s1">[</span><span class="s2">&quot;#&quot;</span><span class="s1">,b[</span><span class="s4">1</span><span class="s1">],b[</span><span class="s4">1</span><span class="s1">],b[</span><span class="s4">2</span><span class="s1">],b[</span><span class="s4">2</span><span class="s1">],b[</span><span class="s4">3</span><span class="s1">],b[</span><span class="s4">3</span><span class="s1">]].join(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);</span><span class="s3">return </span><span class="s1">c&amp;&amp;(a=Number(c[</span><span class="s4">1</span><span class="s1">]),b=Number(c[</span><span class="s4">2</span><span class="s1">]),c=Number(c[</span><span class="s4">3</span><span class="s1">]),</span><span class="s4">0</span><span class="s1">&lt;=a&amp;&amp;</span><span class="s4">256</span><span class="s1">&gt;a&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=b&amp;&amp;</span><span class="s4">256</span><span class="s1">&gt;b&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;=c&amp;&amp;</span><span class="s4">256</span><span class="s1">&gt;c)?Blockly.utils.colour.rgbToHex(a,b,c):</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1619"><span class="ln">1619 </span></a><span class="s1">Blockly.utils.colour.rgbToHex=</span><span class="s3">function</span><span class="s1">(a,b,c){b=a&lt;&lt;</span><span class="s4">16</span><span class="s1">|b&lt;&lt;</span><span class="s4">8</span><span class="s1">|c;</span><span class="s3">return </span><span class="s4">16</span><span class="s1">&gt;a?</span><span class="s2">&quot;#&quot;</span><span class="s1">+(</span><span class="s4">16777216</span><span class="s1">|b).toString(</span><span class="s4">16</span><span class="s1">).substr(</span><span class="s4">1</span><span class="s1">):</span><span class="s2">&quot;#&quot;</span><span class="s1">+b.toString(</span><span class="s4">16</span><span class="s1">)};Blockly.utils.colour.hexToRgb=</span><span class="s3">function</span><span class="s1">(a){a=parseInt(a.substr(</span><span class="s4">1</span><span class="s1">),</span><span class="s4">16</span><span class="s1">);</span><span class="s3">return</span><span class="s1">[a&gt;&gt;</span><span class="s4">16</span><span class="s1">,a&gt;&gt;</span><span class="s4">8</span><span class="s1">&amp;</span><span class="s4">255</span><span class="s1">,a&amp;</span><span class="s4">255</span><span class="s1">]};</span>
<a name="l1620"><span class="ln">1620 </span></a><span class="s1">Blockly.utils.colour.hsvToHex=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">,f=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">==b)f=e=d=c;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">g=Math.floor(a/</span><span class="s4">60</span><span class="s1">),h=a/</span><span class="s4">60</span><span class="s1">-g;a=c*(</span><span class="s4">1</span><span class="s1">-b);</span><span class="s3">var </span><span class="s1">k=c*(</span><span class="s4">1</span><span class="s1">-b*h);b=c*(</span><span class="s4">1</span><span class="s1">-b*(</span><span class="s4">1</span><span class="s1">-h));</span><span class="s3">switch</span><span class="s1">(g){</span><span class="s3">case </span><span class="s4">1</span><span class="s1">:d=k;e=c;f=a;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">2</span><span class="s1">:d=a;e=c;f=b;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">3</span><span class="s1">:d=a;e=k;f=c;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">4</span><span class="s1">:d=b;e=a;f=c;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">5</span><span class="s1">:d=c;e=a;f=k;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s4">6</span><span class="s1">:</span><span class="s3">case </span><span class="s4">0</span><span class="s1">:d=c,e=b,f=a}}</span><span class="s3">return </span><span class="s1">Blockly.utils.colour.rgbToHex(Math.floor(d),Math.floor(e),Math.floor(f))};</span>
<a name="l1621"><span class="ln">1621 </span></a><span class="s1">Blockly.utils.colour.blend=</span><span class="s3">function</span><span class="s1">(a,b,c){a=Blockly.utils.colour.hexToRgb(Blockly.utils.colour.parse(a));b=Blockly.utils.colour.hexToRgb(Blockly.utils.colour.parse(b));</span><span class="s3">return </span><span class="s1">Blockly.utils.colour.rgbToHex(Math.round(b[</span><span class="s4">0</span><span class="s1">]+c*(a[</span><span class="s4">0</span><span class="s1">]-b[</span><span class="s4">0</span><span class="s1">])),Math.round(b[</span><span class="s4">1</span><span class="s1">]+c*(a[</span><span class="s4">1</span><span class="s1">]-b[</span><span class="s4">1</span><span class="s1">])),Math.round(b[</span><span class="s4">2</span><span class="s1">]+c*(a[</span><span class="s4">2</span><span class="s1">]-b[</span><span class="s4">2</span><span class="s1">])))};</span>
<a name="l1622"><span class="ln">1622 </span></a><span class="s1">Blockly.utils.colour.names={aqua:</span><span class="s2">&quot;#00ffff&quot;</span><span class="s1">,black:</span><span class="s2">&quot;#000000&quot;</span><span class="s1">,blue:</span><span class="s2">&quot;#0000ff&quot;</span><span class="s1">,fuchsia:</span><span class="s2">&quot;#ff00ff&quot;</span><span class="s1">,gray:</span><span class="s2">&quot;#808080&quot;</span><span class="s1">,green:</span><span class="s2">&quot;#008000&quot;</span><span class="s1">,lime:</span><span class="s2">&quot;#00ff00&quot;</span><span class="s1">,maroon:</span><span class="s2">&quot;#800000&quot;</span><span class="s1">,navy:</span><span class="s2">&quot;#000080&quot;</span><span class="s1">,olive:</span><span class="s2">&quot;#808000&quot;</span><span class="s1">,purple:</span><span class="s2">&quot;#800080&quot;</span><span class="s1">,red:</span><span class="s2">&quot;#ff0000&quot;</span><span class="s1">,silver:</span><span class="s2">&quot;#c0c0c0&quot;</span><span class="s1">,teal:</span><span class="s2">&quot;#008080&quot;</span><span class="s1">,white:</span><span class="s2">&quot;#ffffff&quot;</span><span class="s1">,yellow:</span><span class="s2">&quot;#ffff00&quot;</span><span class="s1">};Blockly.FieldColour=</span><span class="s3">function</span><span class="s1">(a,b){a=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);</span><span class="s3">null</span><span class="s1">===a&amp;&amp;(a=Blockly.FieldColour.COLOURS[</span><span class="s4">0</span><span class="s1">]);Blockly.FieldColour.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b)};goog.inherits(Blockly.FieldColour,Blockly.Field);Blockly.FieldColour.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.FieldColour(a.colour)};Blockly.FieldColour.DEFAULT_WIDTH=</span><span class="s4">16</span><span class="s1">;Blockly.FieldColour.DEFAULT_HEIGHT=</span><span class="s4">12</span><span class="s1">;Blockly.FieldColour.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldColour.prototype.CURSOR=</span><span class="s2">&quot;default&quot;</span><span class="s1">;</span>
<a name="l1623"><span class="ln">1623 </span></a><span class="s1">Blockly.FieldColour.prototype.isDirty_=!</span><span class="s4">1</span><span class="s1">;Blockly.FieldColour.prototype.colours_=</span><span class="s3">null</span><span class="s1">;Blockly.FieldColour.prototype.titles_=</span><span class="s3">null</span><span class="s1">;Blockly.FieldColour.prototype.columns_=</span><span class="s4">0</span><span class="s1">;Blockly.FieldColour.prototype.DROPDOWN_BORDER_COLOUR=</span><span class="s2">&quot;silver&quot;</span><span class="s1">;Blockly.FieldColour.prototype.DROPDOWN_BACKGROUND_COLOUR=</span><span class="s2">&quot;white&quot;</span><span class="s1">;</span>
<a name="l1624"><span class="ln">1624 </span></a><span class="s1">Blockly.FieldColour.prototype.initView=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.size_=</span><span class="s3">new </span><span class="s1">goog.math.Size(Blockly.FieldColour.DEFAULT_WIDTH,Blockly.FieldColour.DEFAULT_HEIGHT);</span><span class="s3">this</span><span class="s1">.createBorderRect_();</span><span class="s3">this</span><span class="s1">.borderRect_.style.fillOpacity=</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.borderRect_.style.fill=</span><span class="s3">this</span><span class="s1">.value_};Blockly.FieldColour.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a?</span><span class="s3">null</span><span class="s1">:Blockly.utils.colour.parse(a)};Blockly.FieldColour.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.value_=a;</span><span class="s3">this</span><span class="s1">.borderRect_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.borderRect_.style.fill=a)};</span>
<a name="l1625"><span class="ln">1625 </span></a><span class="s1">Blockly.FieldColour.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.value_;/^#(.)\</span><span class="s4">1</span><span class="s1">(.)\</span><span class="s4">2</span><span class="s1">(.)\</span><span class="s4">3</span><span class="s1">$/.test(a)&amp;&amp;(a=</span><span class="s2">&quot;#&quot;</span><span class="s1">+a[</span><span class="s4">1</span><span class="s1">]+a[</span><span class="s4">3</span><span class="s1">]+a[</span><span class="s4">5</span><span class="s1">]);</span><span class="s3">return </span><span class="s1">a};Blockly.FieldColour.COLOURS=</span><span class="s2">&quot;#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033&quot;</span><span class="s1">.split(</span><span class="s2">&quot; &quot;</span><span class="s1">);</span>
<a name="l1626"><span class="ln">1626 </span></a><span class="s1">Blockly.FieldColour.TITLES=[];Blockly.FieldColour.COLUMNS=</span><span class="s4">7</span><span class="s1">;Blockly.FieldColour.prototype.setColours=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.colours_=a;</span><span class="s3">void </span><span class="s4">0</span><span class="s1">!==b&amp;&amp;(</span><span class="s3">this</span><span class="s1">.titles_=b);</span><span class="s3">return this</span><span class="s1">};Blockly.FieldColour.prototype.setColumns=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.columns_=a;</span><span class="s3">return this</span><span class="s1">};</span>
<a name="l1627"><span class="ln">1627 </span></a><span class="s1">Blockly.FieldColour.prototype.showEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.dropdownCreate_();Blockly.DropDownDiv.getContentDiv().appendChild(a);Blockly.DropDownDiv.setColour(</span><span class="s3">this</span><span class="s1">.DROPDOWN_BACKGROUND_COLOUR,</span><span class="s3">this</span><span class="s1">.DROPDOWN_BORDER_COLOUR);Blockly.DropDownDiv.showPositionedByField(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.dropdownDispose_.bind(</span><span class="s3">this</span><span class="s1">))};Blockly.FieldColour.prototype.onClick_=</span><span class="s3">function</span><span class="s1">(a){(a=a.target)&amp;&amp;!a.label&amp;&amp;(a=a.parentNode);a=a&amp;&amp;a.label;</span><span class="s3">null</span><span class="s1">!==a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.setValue(a),Blockly.DropDownDiv.hideIfOwner(</span><span class="s3">this</span><span class="s1">))};</span>
<a name="l1628"><span class="ln">1628 </span></a><span class="s1">Blockly.FieldColour.prototype.dropdownCreate_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.columns_||Blockly.FieldColour.COLUMNS,b=</span><span class="s3">this</span><span class="s1">.colours_||Blockly.FieldColour.COLOURS,c=</span><span class="s3">this</span><span class="s1">.titles_||Blockly.FieldColour.TITLES,d=</span><span class="s3">this</span><span class="s1">.getValue(),e=document.createElement(</span><span class="s2">&quot;table&quot;</span><span class="s1">);e.className=</span><span class="s2">&quot;blocklyColourTable&quot;</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f,g=</span><span class="s4">0</span><span class="s1">;g&lt;b.length;g++){</span><span class="s4">0</span><span class="s1">==g%a&amp;&amp;(f=document.createElement(</span><span class="s2">&quot;tr&quot;</span><span class="s1">),e.appendChild(f));</span><span class="s3">var </span><span class="s1">h=document.createElement(</span><span class="s2">&quot;td&quot;</span><span class="s1">);f.appendChild(h);</span><span class="s3">var </span><span class="s1">k=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);h.appendChild(k);h.label=b[g];h.title=c[g]||b[g];</span>
<a name="l1629"><span class="ln">1629 </span></a><span class="s1">k.style.backgroundColor=b[g];b[g]==d&amp;&amp;(k.className=</span><span class="s2">&quot;blocklyColourSelected&quot;</span><span class="s1">)}</span><span class="s3">this</span><span class="s1">.onUpWrapper_=Blockly.bindEvent_(e,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onClick_);</span><span class="s3">return </span><span class="s1">e};Blockly.FieldColour.prototype.dropdownDispose_=</span><span class="s3">function</span><span class="s1">(){Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onUpWrapper_)};Blockly.Field.register(</span><span class="s2">&quot;field_colour&quot;</span><span class="s1">,Blockly.FieldColour);Blockly.FieldDropdown=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;Blockly.FieldDropdown.validateOptions_(a);</span><span class="s3">this</span><span class="s1">.menuGenerator_=a;</span><span class="s3">this</span><span class="s1">.trimOptions_();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getOptions()[</span><span class="s4">0</span><span class="s1">];Blockly.FieldDropdown.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,c[</span><span class="s4">1</span><span class="s1">],b)};goog.inherits(Blockly.FieldDropdown,Blockly.Field);Blockly.FieldDropdown.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.FieldDropdown(a.options)};Blockly.FieldDropdown.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldDropdown.CHECKMARK_OVERHANG=</span><span class="s4">25</span><span class="s1">;</span>
<a name="l1630"><span class="ln">1630 </span></a><span class="s1">Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH=.</span><span class="s4">45</span><span class="s1">;Blockly.FieldDropdown.IMAGE_Y_OFFSET=</span><span class="s4">5</span><span class="s1">;Blockly.FieldDropdown.ARROW_CHAR=Blockly.utils.userAgent.ANDROID?</span><span class="s2">&quot;</span><span class="s5">\u25bc</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\u25be</span><span class="s2">&quot;</span><span class="s1">;Blockly.FieldDropdown.prototype.CURSOR=</span><span class="s2">&quot;default&quot;</span><span class="s1">;Blockly.FieldDropdown.prototype.imageElement_=</span><span class="s3">null</span><span class="s1">;Blockly.FieldDropdown.prototype.imageJson_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1631"><span class="ln">1631 </span></a><span class="s1">Blockly.FieldDropdown.prototype.initView=</span><span class="s3">function</span><span class="s1">(){Blockly.FieldDropdown.superClass_.initView.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.imageElement_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{y:Blockly.FieldDropdown.IMAGE_Y_OFFSET},</span><span class="s3">this</span><span class="s1">.fieldGroup_);</span><span class="s3">this</span><span class="s1">.arrow_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;tspan&quot;</span><span class="s1">,{},</span><span class="s3">this</span><span class="s1">.textElement_);</span><span class="s3">this</span><span class="s1">.arrow_.appendChild(document.createTextNode(</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL?Blockly.FieldDropdown.ARROW_CHAR+</span><span class="s2">&quot; &quot;</span><span class="s1">:</span><span class="s2">&quot; &quot;</span><span class="s1">+Blockly.FieldDropdown.ARROW_CHAR));</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL?</span><span class="s3">this</span><span class="s1">.textElement_.insertBefore(</span><span class="s3">this</span><span class="s1">.arrow_,</span>
<a name="l1632"><span class="ln">1632 </span></a><span class="s3">this</span><span class="s1">.textContent_):</span><span class="s3">this</span><span class="s1">.textElement_.appendChild(</span><span class="s3">this</span><span class="s1">.arrow_)};Blockly.FieldDropdown.prototype.showEditor_=</span><span class="s3">function</span><span class="s1">(){Blockly.WidgetDiv.show(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL,</span><span class="s3">this</span><span class="s1">.widgetDispose_.bind(</span><span class="s3">this</span><span class="s1">));</span><span class="s3">this</span><span class="s1">.menu_=</span><span class="s3">this</span><span class="s1">.widgetCreate_();</span><span class="s3">this</span><span class="s1">.menu_.render(Blockly.WidgetDiv.DIV);Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.menu_.getElement(),</span><span class="s2">&quot;blocklyDropdownMenu&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.positionMenu_(</span><span class="s3">this</span><span class="s1">.menu_);</span><span class="s3">this</span><span class="s1">.menu_.setAllowAutoFocus(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.menu_.getElement().focus()};</span>
<a name="l1633"><span class="ln">1633 </span></a><span class="s1">Blockly.FieldDropdown.prototype.widgetCreate_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">new </span><span class="s1">goog.ui.Menu;a.setRightToLeft(</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getOptions(),c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++){</span><span class="s3">var </span><span class="s1">d=b[c][</span><span class="s4">0</span><span class="s1">],e=b[c][</span><span class="s4">1</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">d){</span><span class="s3">var </span><span class="s1">f=</span><span class="s3">new </span><span class="s1">Image(d.width,d.height);f.src=d.src;f.alt=d.alt||</span><span class="s2">&quot;&quot;</span><span class="s1">;d=f}d=</span><span class="s3">new </span><span class="s1">goog.ui.MenuItem(d);d.setRightToLeft(</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL);d.setValue(e);d.setCheckable(!</span><span class="s4">0</span><span class="s1">);a.addChild(d,!</span><span class="s4">0</span><span class="s1">);d.setChecked(e==</span><span class="s3">this</span><span class="s1">.value_)}</span><span class="s3">this</span><span class="s1">.menuActionEventKey_=goog.events.listen(a,goog.ui.Component.EventType.ACTION,</span>
<a name="l1634"><span class="ln">1634 </span></a><span class="s3">this</span><span class="s1">.handleMenuActionEvent_,!</span><span class="s4">1</span><span class="s1">,</span><span class="s3">this</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.FieldDropdown.prototype.widgetDispose_=</span><span class="s3">function</span><span class="s1">(){goog.events.unlistenByKey(</span><span class="s3">this</span><span class="s1">.menuActionEventKey_)};Blockly.FieldDropdown.prototype.handleMenuActionEvent_=</span><span class="s3">function</span><span class="s1">(a){Blockly.WidgetDiv.hideIfOwner(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.onItemSelected(</span><span class="s3">this</span><span class="s1">.menu_,a.target)};</span>
<a name="l1635"><span class="ln">1635 </span></a><span class="s1">Blockly.FieldDropdown.prototype.positionMenu_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.getViewportBBox(),c=</span><span class="s3">this</span><span class="s1">.getAnchorDimensions_();a=Blockly.utils.uiMenu.getSize(a);</span><span class="s3">var </span><span class="s1">d=Blockly.FieldDropdown.MAX_MENU_HEIGHT_VH*document.documentElement.clientHeight;a.height&gt;d&amp;&amp;(a.height=d);</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL&amp;&amp;Blockly.utils.uiMenu.adjustBBoxesForRTL(b,c,a);Blockly.WidgetDiv.positionWithAnchor(b,c,a,</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL)};</span>
<a name="l1636"><span class="ln">1636 </span></a><span class="s1">Blockly.FieldDropdown.prototype.getAnchorDimensions_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getScaledBBox_();</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL?a.right+=Blockly.FieldDropdown.CHECKMARK_OVERHANG:a.left-=Blockly.FieldDropdown.CHECKMARK_OVERHANG;</span><span class="s3">return </span><span class="s1">a};Blockly.FieldDropdown.prototype.onItemSelected=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.setValue(b.getValue())};</span>
<a name="l1637"><span class="ln">1637 </span></a><span class="s1">Blockly.FieldDropdown.prototype.trimOptions_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.suffixField=</span><span class="s3">this</span><span class="s1">.prefixField=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.menuGenerator_;</span><span class="s3">if</span><span class="s1">(Array.isArray(a)){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=a[c][</span><span class="s4">0</span><span class="s1">];</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">d?a[c][</span><span class="s4">0</span><span class="s1">]=Blockly.utils.replaceMessageReferences(d):(</span><span class="s3">null</span><span class="s1">!=d.alt&amp;&amp;(a[c][</span><span class="s4">0</span><span class="s1">].alt=Blockly.utils.replaceMessageReferences(d.alt)),b=!</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">if</span><span class="s1">(!(b||</span><span class="s4">2</span><span class="s1">&gt;a.length)){b=[];</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)b.push(a[c][</span><span class="s4">0</span><span class="s1">]);c=Blockly.utils.string.shortestStringLength(b);d=Blockly.utils.string.commonWordPrefix(b,c);</span><span class="s3">var </span><span class="s1">e=</span>
<a name="l1638"><span class="ln">1638 </span></a><span class="s1">Blockly.utils.string.commonWordSuffix(b,c);!d&amp;&amp;!e||c&lt;=d+e||(d&amp;&amp;(</span><span class="s3">this</span><span class="s1">.prefixField=b[</span><span class="s4">0</span><span class="s1">].substring(</span><span class="s4">0</span><span class="s1">,d-1)),e&amp;&amp;(</span><span class="s3">this</span><span class="s1">.suffixField=b[</span><span class="s4">0</span><span class="s1">].substr(</span><span class="s4">1</span><span class="s1">-e)),</span><span class="s3">this</span><span class="s1">.menuGenerator_=Blockly.FieldDropdown.applyTrim_(a,d,e))}}};Blockly.FieldDropdown.applyTrim_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=[],e=</span><span class="s4">0</span><span class="s1">;e&lt;a.length;e++){</span><span class="s3">var </span><span class="s1">f=a[e][</span><span class="s4">0</span><span class="s1">],g=a[e][</span><span class="s4">1</span><span class="s1">];f=f.substring(b,f.length-c);d[e]=[f,g]}</span><span class="s3">return </span><span class="s1">d};Blockly.FieldDropdown.prototype.isOptionListDynamic=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof this</span><span class="s1">.menuGenerator_};</span>
<a name="l1639"><span class="ln">1639 </span></a><span class="s1">Blockly.FieldDropdown.prototype.getOptions=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isOptionListDynamic()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.menuGenerator_.call(</span><span class="s3">this</span><span class="s1">);Blockly.FieldDropdown.validateOptions_(a);</span><span class="s3">return </span><span class="s1">a}</span><span class="s3">return this</span><span class="s1">.menuGenerator_};</span>
<a name="l1640"><span class="ln">1640 </span></a><span class="s1">Blockly.FieldDropdown.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">,c=</span><span class="s3">this</span><span class="s1">.getOptions(),d=</span><span class="s4">0</span><span class="s1">,e;e=c[d];d++)</span><span class="s3">if</span><span class="s1">(e[</span><span class="s4">1</span><span class="s1">]==a){b=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">break</span><span class="s1">}</span><span class="s3">return </span><span class="s1">b?a:(</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;console.warn(</span><span class="s2">&quot;Cannot set the dropdown's value to an unavailable option. Block type: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.sourceBlock_.type+</span><span class="s2">&quot;, Field name: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.name+</span><span class="s2">&quot;, Value: &quot;</span><span class="s1">+a),</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1641"><span class="ln">1641 </span></a><span class="s1">Blockly.FieldDropdown.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){Blockly.FieldDropdown.superClass_.doValueUpdate_.call(</span><span class="s3">this</span><span class="s1">,a);a=</span><span class="s3">this</span><span class="s1">.getOptions();</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c[</span><span class="s4">1</span><span class="s1">]==</span><span class="s3">this</span><span class="s1">.value_&amp;&amp;(c=c[</span><span class="s4">0</span><span class="s1">],</span><span class="s2">&quot;object&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">c?(</span><span class="s3">this</span><span class="s1">.imageJson_=c,</span><span class="s3">this</span><span class="s1">.text_=c.alt):(</span><span class="s3">this</span><span class="s1">.imageJson_=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.text_=c))};Blockly.FieldDropdown.prototype.updateColour=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.sourceBlock_&amp;&amp;</span><span class="s3">this</span><span class="s1">.arrow_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.sourceBlock_.isShadow()?</span><span class="s3">this</span><span class="s1">.arrow_.style.fill=</span><span class="s3">this</span><span class="s1">.sourceBlock_.getColourShadow():</span><span class="s3">this</span><span class="s1">.arrow_.style.fill=</span><span class="s3">this</span><span class="s1">.sourceBlock_.getColour())};</span>
<a name="l1642"><span class="ln">1642 </span></a><span class="s1">Blockly.FieldDropdown.prototype.render_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.textContent_.nodeValue=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.imageElement_.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.imageJson_?</span><span class="s3">this</span><span class="s1">.renderSelectedImage_():</span><span class="s3">this</span><span class="s1">.renderSelectedText_();</span><span class="s3">this</span><span class="s1">.borderRect_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.size_.height-9);</span><span class="s3">this</span><span class="s1">.borderRect_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.size_.width+Blockly.BlockSvg.SEP_SPACE_X)};</span>
<a name="l1643"><span class="ln">1643 </span></a><span class="s1">Blockly.FieldDropdown.prototype.renderSelectedImage_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.imageElement_.style.display=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.imageJson_.src);</span><span class="s3">this</span><span class="s1">.imageElement_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.imageJson_.height);</span><span class="s3">this</span><span class="s1">.imageElement_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.imageJson_.width);</span><span class="s3">var </span><span class="s1">a=Blockly.Field.getCachedWidth(</span><span class="s3">this</span><span class="s1">.arrow_);</span><span class="s3">this</span><span class="s1">.size_.height=Number(</span><span class="s3">this</span><span class="s1">.imageJson_.height)+</span><span class="s4">19</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.size_.width=Number(</span><span class="s3">this</span><span class="s1">.imageJson_.width)+a;</span><span class="s3">this</span><span class="s1">.sourceBlock_.RTL?(</span><span class="s3">this</span><span class="s1">.imageElement_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span>
<a name="l1644"><span class="ln">1644 </span></a><span class="s1">a),</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">)):(</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s2">&quot;end&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.size_.width+</span><span class="s4">1</span><span class="s1">))};Blockly.FieldDropdown.prototype.renderSelectedText_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.textContent_.nodeValue=</span><span class="s3">this</span><span class="s1">.getDisplayText_();</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;text-anchor&quot;</span><span class="s1">,</span><span class="s2">&quot;start&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.textElement_.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.size_.height=Blockly.BlockSvg.MIN_BLOCK_Y;</span><span class="s3">this</span><span class="s1">.size_.width=Blockly.Field.getCachedWidth(</span><span class="s3">this</span><span class="s1">.textElement_)};</span>
<a name="l1645"><span class="ln">1645 </span></a><span class="s1">Blockly.FieldDropdown.validateOptions_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!Array.isArray(a))</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;FieldDropdown options must be an array.&quot;</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=!</span><span class="s4">1</span><span class="s1">,c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;++c){</span><span class="s3">var </span><span class="s1">d=a[c];Array.isArray(d)?</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">d[</span><span class="s4">1</span><span class="s1">]?(b=!</span><span class="s4">0</span><span class="s1">,console.error(</span><span class="s2">&quot;Invalid option[&quot;</span><span class="s1">+c+</span><span class="s2">&quot;]: Each FieldDropdown option id must be a string. Found &quot;</span><span class="s1">+d[</span><span class="s4">1</span><span class="s1">]+</span><span class="s2">&quot; in: &quot;</span><span class="s1">,d)):</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">d[</span><span class="s4">0</span><span class="s1">]&amp;&amp;</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">d[</span><span class="s4">0</span><span class="s1">].src&amp;&amp;(b=!</span><span class="s4">0</span><span class="s1">,console.error(</span><span class="s2">&quot;Invalid option[&quot;</span><span class="s1">+c+</span><span class="s2">&quot;]: Each FieldDropdown option must have a string label or image description. Found&quot;</span><span class="s1">+</span>
<a name="l1646"><span class="ln">1646 </span></a><span class="s1">d[</span><span class="s4">0</span><span class="s1">]+</span><span class="s2">&quot; in: &quot;</span><span class="s1">,d)):(b=!</span><span class="s4">0</span><span class="s1">,console.error(</span><span class="s2">&quot;Invalid option[&quot;</span><span class="s1">+c+</span><span class="s2">&quot;]: Each FieldDropdown option must be an array. Found: &quot;</span><span class="s1">,d))}</span><span class="s3">if</span><span class="s1">(b)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Found invalid FieldDropdown options.&quot;</span><span class="s1">);};Blockly.Field.register(</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,Blockly.FieldDropdown);Blockly.FieldLabelSerializable=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.FieldLabelSerializable.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,b)};goog.inherits(Blockly.FieldLabelSerializable,Blockly.FieldLabel);Blockly.FieldLabelSerializable.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.replaceMessageReferences(a.text);</span><span class="s3">return new </span><span class="s1">Blockly.FieldLabelSerializable(b,a[</span><span class="s2">&quot;class&quot;</span><span class="s1">])};Blockly.FieldLabelSerializable.prototype.EDITABLE=!</span><span class="s4">1</span><span class="s1">;Blockly.FieldLabelSerializable.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1647"><span class="ln">1647 </span></a><span class="s1">Blockly.Field.register(</span><span class="s2">&quot;field_label_serializable&quot;</span><span class="s1">,Blockly.FieldLabelSerializable);Blockly.FieldImage=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">this</span><span class="s1">.sourceBlock_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(isNaN(c)||isNaN(b))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Height and width values of an image field must cast to numbers.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.height_=Number(c);</span><span class="s3">this</span><span class="s1">.width_=Number(b);</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=</span><span class="s3">this</span><span class="s1">.height_||</span><span class="s4">0</span><span class="s1">&gt;=</span><span class="s3">this</span><span class="s1">.width_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Height and width values of an image field must be greater than 0.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.size_=</span><span class="s3">new </span><span class="s1">goog.math.Size(</span><span class="s3">this</span><span class="s1">.width_,</span><span class="s3">this</span><span class="s1">.height_+</span><span class="s4">2</span><span class="s1">*Blockly.BlockSvg.INLINE_PADDING_Y);</span><span class="s3">this</span><span class="s1">.flipRtl_=f;</span><span class="s3">this</span><span class="s1">.text_=d||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.setValue(a||</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s2">&quot;function&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">e&amp;&amp;(</span><span class="s3">this</span><span class="s1">.clickHandler_=</span>
<a name="l1648"><span class="ln">1648 </span></a><span class="s1">e)};goog.inherits(Blockly.FieldImage,Blockly.Field);Blockly.FieldImage.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.replaceMessageReferences(a.src),c=Number(Blockly.utils.replaceMessageReferences(a.width)),d=Number(Blockly.utils.replaceMessageReferences(a.height)),e=Blockly.utils.replaceMessageReferences(a.alt);</span><span class="s3">return new </span><span class="s1">Blockly.FieldImage(b,c,d,e,</span><span class="s3">null</span><span class="s1">,!!a.flipRtl)};Blockly.FieldImage.prototype.EDITABLE=!</span><span class="s4">1</span><span class="s1">;Blockly.FieldImage.prototype.isDirty_=!</span><span class="s4">1</span><span class="s1">;</span>
<a name="l1649"><span class="ln">1649 </span></a><span class="s1">Blockly.FieldImage.prototype.initView=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.imageElement_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;image&quot;</span><span class="s1">,{height:</span><span class="s3">this</span><span class="s1">.height_+</span><span class="s2">&quot;px&quot;</span><span class="s1">,width:</span><span class="s3">this</span><span class="s1">.width_+</span><span class="s2">&quot;px&quot;</span><span class="s1">,alt:</span><span class="s3">this</span><span class="s1">.text_},</span><span class="s3">this</span><span class="s1">.fieldGroup_);</span><span class="s3">this</span><span class="s1">.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.value_)};Blockly.FieldImage.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a?</span><span class="s3">null</span><span class="s1">:a};</span>
<a name="l1650"><span class="ln">1650 </span></a><span class="s1">Blockly.FieldImage.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.value_=a;</span><span class="s3">this</span><span class="s1">.imageElement_&amp;&amp;</span><span class="s3">this</span><span class="s1">.imageElement_.setAttributeNS(Blockly.utils.dom.XLINK_NS,</span><span class="s2">&quot;xlink:href&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.value_||</span><span class="s2">&quot;&quot;</span><span class="s1">)};Blockly.FieldImage.prototype.getFlipRtl=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.flipRtl_};Blockly.FieldImage.prototype.setText=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">null</span><span class="s1">!==a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.text_=a,</span><span class="s3">this</span><span class="s1">.imageElement_&amp;&amp;</span><span class="s3">this</span><span class="s1">.imageElement_.setAttribute(</span><span class="s2">&quot;alt&quot;</span><span class="s1">,a||</span><span class="s2">&quot;&quot;</span><span class="s1">))};Blockly.FieldImage.prototype.showEditor_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.clickHandler_&amp;&amp;</span><span class="s3">this</span><span class="s1">.clickHandler_(</span><span class="s3">this</span><span class="s1">)};</span>
<a name="l1651"><span class="ln">1651 </span></a><span class="s1">Blockly.Field.register(</span><span class="s2">&quot;field_image&quot;</span><span class="s1">,Blockly.FieldImage);Blockly.FieldNumber=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){</span><span class="s3">this</span><span class="s1">.setConstraints(b,c,d);a=</span><span class="s3">this</span><span class="s1">.doClassValidation_(a);</span><span class="s3">null</span><span class="s1">===a&amp;&amp;(a=</span><span class="s4">0</span><span class="s1">);Blockly.FieldNumber.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a,e)};goog.inherits(Blockly.FieldNumber,Blockly.FieldTextInput);Blockly.FieldNumber.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return new </span><span class="s1">Blockly.FieldNumber(a.value,a.min,a.max,a.precision)};Blockly.FieldNumber.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1652"><span class="ln">1652 </span></a><span class="s1">Blockly.FieldNumber.prototype.setConstraints=</span><span class="s3">function</span><span class="s1">(a,b,c){c=parseFloat(c);</span><span class="s3">this</span><span class="s1">.precision_=isNaN(c)?</span><span class="s4">0</span><span class="s1">:c;c=</span><span class="s3">this</span><span class="s1">.precision_.toString();</span><span class="s3">var </span><span class="s1">d=c.indexOf(</span><span class="s2">&quot;.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.fractionalDigits_=-</span><span class="s4">1</span><span class="s1">==d?-</span><span class="s4">1</span><span class="s1">:c.length-(d+</span><span class="s4">1</span><span class="s1">);a=parseFloat(a);</span><span class="s3">this</span><span class="s1">.min_=isNaN(a)?-Infinity:a;b=parseFloat(b);</span><span class="s3">this</span><span class="s1">.max_=isNaN(b)?Infinity:b;</span><span class="s3">this</span><span class="s1">.setValue(</span><span class="s3">this</span><span class="s1">.getValue())};</span>
<a name="l1653"><span class="ln">1653 </span></a><span class="s1">Blockly.FieldNumber.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===a||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===a)</span><span class="s3">return null</span><span class="s1">;a=String(a);a=a.replace(/O/ig,</span><span class="s2">&quot;0&quot;</span><span class="s1">);a=a.replace(/,/g,</span><span class="s2">&quot;&quot;</span><span class="s1">);a=parseFloat(a||</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(isNaN(a))</span><span class="s3">return null</span><span class="s1">;a=Math.min(Math.max(a,</span><span class="s3">this</span><span class="s1">.min_),</span><span class="s3">this</span><span class="s1">.max_);</span><span class="s3">this</span><span class="s1">.precision_&amp;&amp;isFinite(a)&amp;&amp;(a=Math.round(a/</span><span class="s3">this</span><span class="s1">.precision_)*</span><span class="s3">this</span><span class="s1">.precision_);</span><span class="s3">return </span><span class="s1">a=-</span><span class="s4">1</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.fractionalDigits_?a:Number(a.toFixed(</span><span class="s3">this</span><span class="s1">.fractionalDigits_))};Blockly.Field.register(</span><span class="s2">&quot;field_number&quot;</span><span class="s1">,Blockly.FieldNumber);Blockly.FieldVariable=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.menuGenerator_=Blockly.FieldVariable.dropdownCreate;</span><span class="s3">this</span><span class="s1">.size_=</span><span class="s3">new </span><span class="s1">goog.math.Size(</span><span class="s4">0</span><span class="s1">,Blockly.BlockSvg.MIN_BLOCK_Y);</span><span class="s3">this</span><span class="s1">.setValidator(b);</span><span class="s3">this</span><span class="s1">.defaultVariableName=a||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.setTypes_(c,d);</span><span class="s3">this</span><span class="s1">.value_=</span><span class="s3">null</span><span class="s1">};goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown);Blockly.FieldVariable.fromJson=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.replaceMessageReferences(a.variable);</span><span class="s3">return new </span><span class="s1">Blockly.FieldVariable(b,</span><span class="s3">null</span><span class="s1">,a.variableTypes,a.defaultType)};</span>
<a name="l1654"><span class="ln">1654 </span></a><span class="s1">Blockly.FieldVariable.prototype.workspace_=</span><span class="s3">null</span><span class="s1">;Blockly.FieldVariable.prototype.SERIALIZABLE=!</span><span class="s4">0</span><span class="s1">;Blockly.FieldVariable.prototype.initModel=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.variable_){</span><span class="s3">var </span><span class="s1">a=Blockly.Variables.getOrCreateVariablePackage(</span><span class="s3">this</span><span class="s1">.workspace_,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.defaultVariableName,</span><span class="s3">this</span><span class="s1">.defaultType_);Blockly.Events.disable();</span><span class="s3">this</span><span class="s1">.setValue(a.getId());Blockly.Events.enable()}};</span>
<a name="l1655"><span class="ln">1655 </span></a><span class="s1">Blockly.FieldVariable.prototype.fromXml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.getAttribute(</span><span class="s2">&quot;id&quot;</span><span class="s1">),c=a.textContent,d=a.getAttribute(</span><span class="s2">&quot;variabletype&quot;</span><span class="s1">)||a.getAttribute(</span><span class="s2">&quot;variableType&quot;</span><span class="s1">)||</span><span class="s2">&quot;&quot;</span><span class="s1">;b=Blockly.Variables.getOrCreateVariablePackage(</span><span class="s3">this</span><span class="s1">.workspace_,b,c,d);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">!=d&amp;&amp;d!==b.type)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Serialized variable type with id '&quot;</span><span class="s1">+b.getId()+</span><span class="s2">&quot;' had type &quot;</span><span class="s1">+b.type+</span><span class="s2">&quot;, and does not match variable field that references it: &quot;</span><span class="s1">+Blockly.Xml.domToText(a)+</span><span class="s2">&quot;.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.setValue(b.getId())};</span>
<a name="l1656"><span class="ln">1656 </span></a><span class="s1">Blockly.FieldVariable.prototype.toXml=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.initModel();a.id=</span><span class="s3">this</span><span class="s1">.variable_.getId();a.textContent=</span><span class="s3">this</span><span class="s1">.variable_.name;</span><span class="s3">this</span><span class="s1">.variable_.type&amp;&amp;a.setAttribute(</span><span class="s2">&quot;variabletype&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.variable_.type);</span><span class="s3">return </span><span class="s1">a};Blockly.FieldVariable.prototype.setSourceBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.isShadow())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Variable fields are not allowed to exist on shadow blocks.&quot;</span><span class="s1">);Blockly.FieldVariable.superClass_.setSourceBlock.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.workspace_=a.workspace};</span>
<a name="l1657"><span class="ln">1657 </span></a><span class="s1">Blockly.FieldVariable.prototype.getValue=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variable_?</span><span class="s3">this</span><span class="s1">.variable_.getId():</span><span class="s3">null</span><span class="s1">};Blockly.FieldVariable.prototype.getText=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variable_?</span><span class="s3">this</span><span class="s1">.variable_.name:</span><span class="s2">&quot;&quot;</span><span class="s1">};Blockly.FieldVariable.prototype.getVariable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variable_};Blockly.FieldVariable.prototype.getValidator=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.variable_?</span><span class="s3">this</span><span class="s1">.validator_:</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1658"><span class="ln">1658 </span></a><span class="s1">Blockly.FieldVariable.prototype.doClassValidation_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.Variables.getVariable(</span><span class="s3">this</span><span class="s1">.workspace_,a);</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return </span><span class="s1">console.warn(</span><span class="s2">&quot;Variable id doesn't point to a real variable! ID was &quot;</span><span class="s1">+a),</span><span class="s3">null</span><span class="s1">;b=b.type;</span><span class="s3">return this</span><span class="s1">.typeIsAllowed_(b)?a:(console.warn(</span><span class="s2">&quot;Variable type doesn't match this field!  Type was &quot;</span><span class="s1">+b),</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1659"><span class="ln">1659 </span></a><span class="s1">Blockly.FieldVariable.prototype.doValueUpdate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.variable_=Blockly.Variables.getVariable(</span><span class="s3">this</span><span class="s1">.workspace_,a);</span><span class="s3">this</span><span class="s1">.value_=a;</span><span class="s3">this</span><span class="s1">.text_=</span><span class="s3">this</span><span class="s1">.variable_.name;</span><span class="s3">this</span><span class="s1">.isDirty_=!</span><span class="s4">0</span><span class="s1">};Blockly.FieldVariable.prototype.typeIsAllowed_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getVariableTypes_();</span><span class="s3">if</span><span class="s1">(!b)</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;b.length;c++)</span><span class="s3">if</span><span class="s1">(a==b[c])</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1660"><span class="ln">1660 </span></a><span class="s1">Blockly.FieldVariable.prototype.getVariableTypes_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.variableTypes;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===a&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace_)</span><span class="s3">return this</span><span class="s1">.workspace_.getVariableTypes();a=a||[</span><span class="s2">&quot;&quot;</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">==a.length)</span><span class="s3">throw </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getText(),Error(</span><span class="s2">&quot;'variableTypes' of field variable &quot;</span><span class="s1">+a+</span><span class="s2">&quot; was an empty list&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1661"><span class="ln">1661 </span></a><span class="s1">Blockly.FieldVariable.prototype.setTypes_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">==a||</span><span class="s3">void </span><span class="s4">0</span><span class="s1">==a)</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">else if</span><span class="s1">(Array.isArray(a)){d=a;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=!</span><span class="s4">1</span><span class="s1">,f=</span><span class="s4">0</span><span class="s1">;f&lt;d.length;f++)d[f]==c&amp;&amp;(e=!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(!e)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Invalid default type '&quot;</span><span class="s1">+c+</span><span class="s2">&quot;' in the definition of a FieldVariable&quot;</span><span class="s1">);}</span><span class="s3">else throw </span><span class="s1">Error(</span><span class="s2">&quot;'variableTypes' was not an array in the definition of a FieldVariable&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.defaultType_=c;</span><span class="s3">this</span><span class="s1">.variableTypes=d};</span>
<a name="l1662"><span class="ln">1662 </span></a><span class="s1">Blockly.FieldVariable.dropdownCreate=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.variable_)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Tried to call dropdownCreate on a variable field with no variable selected.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getText(),b=[];</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace_)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getVariableTypes_(),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.workspace_.getVariablesOfType(c[d]);b=b.concat(e)}b.sort(Blockly.VariableModel.compareByName);c=[];</span><span class="s3">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">;d&lt;b.length;d++)c[d]=[b[d].name,b[d].getId()];c.push([Blockly.Msg.RENAME_VARIABLE,Blockly.RENAME_VARIABLE_ID]);Blockly.Msg.DELETE_VARIABLE&amp;&amp;</span>
<a name="l1663"><span class="ln">1663 </span></a><span class="s1">c.push([Blockly.Msg.DELETE_VARIABLE.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,a),Blockly.DELETE_VARIABLE_ID]);</span><span class="s3">return </span><span class="s1">c};Blockly.FieldVariable.prototype.onItemSelected=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.getValue();</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.workspace_){</span><span class="s3">if</span><span class="s1">(c==Blockly.RENAME_VARIABLE_ID){Blockly.Variables.renameVariable(</span><span class="s3">this</span><span class="s1">.workspace_,</span><span class="s3">this</span><span class="s1">.variable_);</span><span class="s3">return</span><span class="s1">}</span><span class="s3">if</span><span class="s1">(c==Blockly.DELETE_VARIABLE_ID){</span><span class="s3">this</span><span class="s1">.workspace_.deleteVariableById(</span><span class="s3">this</span><span class="s1">.variable_.getId());</span><span class="s3">return</span><span class="s1">}}</span><span class="s3">this</span><span class="s1">.setValue(c)};Blockly.FieldVariable.prototype.referencesVariables=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l1664"><span class="ln">1664 </span></a><span class="s1">Blockly.Field.register(</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,Blockly.FieldVariable);Blockly.Generator=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.name_=a;</span><span class="s3">this</span><span class="s1">.FUNCTION_NAME_PLACEHOLDER_REGEXP_=</span><span class="s3">new </span><span class="s1">RegExp(</span><span class="s3">this</span><span class="s1">.FUNCTION_NAME_PLACEHOLDER_,</span><span class="s2">&quot;g&quot;</span><span class="s1">)};Blockly.Generator.NAME_TYPE=</span><span class="s2">&quot;generated_function&quot;</span><span class="s1">;Blockly.Generator.prototype.INFINITE_LOOP_TRAP=</span><span class="s3">null</span><span class="s1">;Blockly.Generator.prototype.STATEMENT_PREFIX=</span><span class="s3">null</span><span class="s1">;Blockly.Generator.prototype.STATEMENT_SUFFIX=</span><span class="s3">null</span><span class="s1">;Blockly.Generator.prototype.INDENT=</span><span class="s2">&quot;  &quot;</span><span class="s1">;Blockly.Generator.prototype.COMMENT_WRAP=</span><span class="s4">60</span><span class="s1">;Blockly.Generator.prototype.ORDER_OVERRIDES=[];</span>
<a name="l1665"><span class="ln">1665 </span></a><span class="s1">Blockly.Generator.prototype.workspaceToCode=</span><span class="s3">function</span><span class="s1">(a){a||(console.warn(</span><span class="s2">&quot;No workspace specified in workspaceToCode call.  Guessing.&quot;</span><span class="s1">),a=Blockly.getMainWorkspace());</span><span class="s3">var </span><span class="s1">b=[];</span><span class="s3">this</span><span class="s1">.init(a);a=a.getTopBlocks(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">,d;d=a[c];c++){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.blockToCode(d);Array.isArray(e)&amp;&amp;(e=e[</span><span class="s4">0</span><span class="s1">]);e&amp;&amp;(d.outputConnection&amp;&amp;(e=</span><span class="s3">this</span><span class="s1">.scrubNakedValue(e),</span><span class="s3">this</span><span class="s1">.STATEMENT_PREFIX&amp;&amp;!d.suppressPrefixSuffix&amp;&amp;(e=</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.STATEMENT_PREFIX,d)+e),</span><span class="s3">this</span><span class="s1">.STATEMENT_SUFFIX&amp;&amp;!d.suppressPrefixSuffix&amp;&amp;(e+=</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.STATEMENT_SUFFIX,</span>
<a name="l1666"><span class="ln">1666 </span></a><span class="s1">d))),b.push(e))}b=b.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);b=</span><span class="s3">this</span><span class="s1">.finish(b);b=b.replace(/^\s+\n/,</span><span class="s2">&quot;&quot;</span><span class="s1">);b=b.replace(/\n\s+$/,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b=b.replace(/[ \t]+\n/g,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};Blockly.Generator.prototype.prefixLines=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b+a.replace(/(?!\n$)\n/g,</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">+b)};Blockly.Generator.prototype.allNestedComments=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=[];a=a.getDescendants(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++){</span><span class="s3">var </span><span class="s1">d=a[c].getCommentText();d&amp;&amp;b.push(d)}b.length&amp;&amp;b.push(</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">b.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)};</span>
<a name="l1667"><span class="ln">1667 </span></a><span class="s1">Blockly.Generator.prototype.blockToCode=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!a.isEnabled())</span><span class="s3">return </span><span class="s1">b?</span><span class="s2">&quot;&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.blockToCode(a.getNextBlock());</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">[a.type];</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">c)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">'Language &quot;'</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.name_+</span><span class="s2">'&quot; does not know how to generate  code for block type &quot;'</span><span class="s1">+a.type+</span><span class="s2">'&quot;.'</span><span class="s1">);c=c.call(a,a);</span><span class="s3">if</span><span class="s1">(Array.isArray(c)){</span><span class="s3">if</span><span class="s1">(!a.outputConnection)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Expecting string from statement block: &quot;</span><span class="s1">+a.type);</span><span class="s3">return</span><span class="s1">[</span><span class="s3">this</span><span class="s1">.scrub_(a,c[</span><span class="s4">0</span><span class="s1">],b),c[</span><span class="s4">1</span><span class="s1">]]}</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">c)</span><span class="s3">return this</span><span class="s1">.STATEMENT_PREFIX&amp;&amp;!a.suppressPrefixSuffix&amp;&amp;</span>
<a name="l1668"><span class="ln">1668 </span></a><span class="s1">(c=</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.STATEMENT_PREFIX,a)+c),</span><span class="s3">this</span><span class="s1">.STATEMENT_SUFFIX&amp;&amp;!a.suppressPrefixSuffix&amp;&amp;(c+=</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.STATEMENT_SUFFIX,a)),</span><span class="s3">this</span><span class="s1">.scrub_(a,c,b);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===c)</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">throw </span><span class="s1">SyntaxError(</span><span class="s2">&quot;Invalid code generated: &quot;</span><span class="s1">+c);};</span>
<a name="l1669"><span class="ln">1669 </span></a><span class="s1">Blockly.Generator.prototype.valueToCode=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">(isNaN(c))</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Expecting valid order from block: &quot;</span><span class="s1">+a.type);</span><span class="s3">var </span><span class="s1">d=a.getInputTargetBlock(b);</span><span class="s3">if</span><span class="s1">(!d)</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">;b=</span><span class="s3">this</span><span class="s1">.blockToCode(d);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;&quot;</span><span class="s1">===b)</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(!Array.isArray(b))</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Expecting tuple from value block: &quot;</span><span class="s1">+d.type);a=b[</span><span class="s4">0</span><span class="s1">];b=b[</span><span class="s4">1</span><span class="s1">];</span><span class="s3">if</span><span class="s1">(isNaN(b))</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Expecting valid order from value block: &quot;</span><span class="s1">+d.type);</span><span class="s3">if</span><span class="s1">(!a)</span><span class="s3">return</span><span class="s2">&quot;&quot;</span><span class="s1">;d=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">var </span><span class="s1">e=Math.floor(c),f=Math.floor(b);</span><span class="s3">if</span><span class="s1">(e&lt;=f&amp;&amp;(e!=f||</span><span class="s4">0</span><span class="s1">!=e&amp;&amp;</span><span class="s4">99</span><span class="s1">!=e))</span><span class="s3">for</span><span class="s1">(d=!</span><span class="s4">0</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">;e&lt;</span><span class="s3">this</span><span class="s1">.ORDER_OVERRIDES.length;e++)</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.ORDER_OVERRIDES[e][</span><span class="s4">0</span><span class="s1">]==</span>
<a name="l1670"><span class="ln">1670 </span></a><span class="s1">c&amp;&amp;</span><span class="s3">this</span><span class="s1">.ORDER_OVERRIDES[e][</span><span class="s4">1</span><span class="s1">]==b){d=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">break</span><span class="s1">}d&amp;&amp;(a=</span><span class="s2">&quot;(&quot;</span><span class="s1">+a+</span><span class="s2">&quot;)&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a};Blockly.Generator.prototype.statementToCode=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=a.getInputTargetBlock(b),d=</span><span class="s3">this</span><span class="s1">.blockToCode(c);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">d)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Expecting code from statement block: &quot;</span><span class="s1">+(c&amp;&amp;c.type));d&amp;&amp;(d=</span><span class="s3">this</span><span class="s1">.prefixLines(d,</span><span class="s3">this</span><span class="s1">.INDENT));</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l1671"><span class="ln">1671 </span></a><span class="s1">Blockly.Generator.prototype.addLoopTrap=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.INFINITE_LOOP_TRAP&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.prefixLines(</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.INFINITE_LOOP_TRAP,b),</span><span class="s3">this</span><span class="s1">.INDENT)+a);</span><span class="s3">this</span><span class="s1">.STATEMENT_SUFFIX&amp;&amp;!b.suppressPrefixSuffix&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.prefixLines(</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.STATEMENT_SUFFIX,b),</span><span class="s3">this</span><span class="s1">.INDENT)+a);</span><span class="s3">this</span><span class="s1">.STATEMENT_PREFIX&amp;&amp;!b.suppressPrefixSuffix&amp;&amp;(a+=</span><span class="s3">this</span><span class="s1">.prefixLines(</span><span class="s3">this</span><span class="s1">.injectId(</span><span class="s3">this</span><span class="s1">.STATEMENT_PREFIX,b),</span><span class="s3">this</span><span class="s1">.INDENT));</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1672"><span class="ln">1672 </span></a><span class="s1">Blockly.Generator.prototype.injectId=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.id.replace(/\$/g,</span><span class="s2">&quot;$$$$&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">a.replace(/%</span><span class="s4">1</span><span class="s1">/g,</span><span class="s2">&quot;'&quot;</span><span class="s1">+c+</span><span class="s2">&quot;'&quot;</span><span class="s1">)};Blockly.Generator.prototype.RESERVED_WORDS_=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.Generator.prototype.addReservedWords=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.RESERVED_WORDS_+=a+</span><span class="s2">&quot;,&quot;</span><span class="s1">};Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_=</span><span class="s2">&quot;{leCUI8hutHZI4480Dc}&quot;</span><span class="s1">;</span>
<a name="l1673"><span class="ln">1673 </span></a><span class="s1">Blockly.Generator.prototype.provideFunction_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.definitions_[a]){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.variableDB_.getDistinctName(a,Blockly.Procedures.NAME_TYPE);</span><span class="s3">this</span><span class="s1">.functionNames_[a]=c;c=b.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">).replace(</span><span class="s3">this</span><span class="s1">.FUNCTION_NAME_PLACEHOLDER_REGEXP_,c);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d;d!=c;)d=c,c=c.replace(/^(( {</span><span class="s4">2</span><span class="s1">})*) {</span><span class="s4">2</span><span class="s1">}/gm,</span><span class="s2">&quot;$1</span><span class="s5">\x</span><span class="s2">00&quot;</span><span class="s1">);c=c.replace(/\</span><span class="s4">0</span><span class="s1">/g,</span><span class="s3">this</span><span class="s1">.INDENT);</span><span class="s3">this</span><span class="s1">.definitions_[a]=c}</span><span class="s3">return this</span><span class="s1">.functionNames_[a]};Blockly.Generator.prototype.init=</span><span class="s3">function</span><span class="s1">(a){};Blockly.Generator.prototype.scrub_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1674"><span class="ln">1674 </span></a><span class="s1">Blockly.Generator.prototype.finish=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};Blockly.Generator.prototype.scrubNakedValue=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a};Blockly.Names=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.variablePrefix_=b||</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.reservedDict_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=a.split(</span><span class="s2">&quot;,&quot;</span><span class="s1">),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)</span><span class="s3">this</span><span class="s1">.reservedDict_[c[d]]=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.reset()};Blockly.Names.DEVELOPER_VARIABLE_TYPE=</span><span class="s2">&quot;DEVELOPER_VARIABLE&quot;</span><span class="s1">;Blockly.Names.prototype.reset=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.db_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.dbReverse_=Object.create(</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.variableMap_=</span><span class="s3">null</span><span class="s1">};Blockly.Names.prototype.setVariableMap=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.variableMap_=a};</span>
<a name="l1675"><span class="ln">1675 </span></a><span class="s1">Blockly.Names.prototype.getNameForUserVariable_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return this</span><span class="s1">.variableMap_?(a=</span><span class="s3">this</span><span class="s1">.variableMap_.getVariableById(a))?a.name:</span><span class="s3">null</span><span class="s1">:(console.log(</span><span class="s2">&quot;Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the folowing code in your generator's init() function:</span><span class="s5">\n</span><span class="s2">Blockly.YourGeneratorName.variableDB_.setVariableMap(workspace.getVariableMap());&quot;</span><span class="s1">),</span><span class="s3">null</span><span class="s1">)};</span>
<a name="l1676"><span class="ln">1676 </span></a><span class="s1">Blockly.Names.prototype.getName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b==Blockly.Variables.NAME_TYPE){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getNameForUserVariable_(a);c&amp;&amp;(a=c)}c=a.toLowerCase()+</span><span class="s2">&quot;_&quot;</span><span class="s1">+b;</span><span class="s3">var </span><span class="s1">d=b==Blockly.Variables.NAME_TYPE||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE?</span><span class="s3">this</span><span class="s1">.variablePrefix_:</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(c </span><span class="s3">in this</span><span class="s1">.db_)</span><span class="s3">return </span><span class="s1">d+</span><span class="s3">this</span><span class="s1">.db_[c];</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.getDistinctName(a,b);</span><span class="s3">this</span><span class="s1">.db_[c]=e.substr(d.length);</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l1677"><span class="ln">1677 </span></a><span class="s1">Blockly.Names.prototype.getDistinctName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.safeName_(a),d=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.dbReverse_[c+d]||c+d </span><span class="s3">in this</span><span class="s1">.reservedDict_;)d=d?d+</span><span class="s4">1</span><span class="s1">:</span><span class="s4">2</span><span class="s1">;c+=d;</span><span class="s3">this</span><span class="s1">.dbReverse_[c]=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">return</span><span class="s1">(b==Blockly.Variables.NAME_TYPE||b==Blockly.Names.DEVELOPER_VARIABLE_TYPE?</span><span class="s3">this</span><span class="s1">.variablePrefix_:</span><span class="s2">&quot;&quot;</span><span class="s1">)+c};Blockly.Names.prototype.safeName_=</span><span class="s3">function</span><span class="s1">(a){a?(a=encodeURI(a.replace(/ /g,</span><span class="s2">&quot;_&quot;</span><span class="s1">)).replace(/[^\w]/g,</span><span class="s2">&quot;_&quot;</span><span class="s1">),-</span><span class="s4">1</span><span class="s1">!=</span><span class="s2">&quot;0123456789&quot;</span><span class="s1">.indexOf(a[</span><span class="s4">0</span><span class="s1">])&amp;&amp;(a=</span><span class="s2">&quot;my_&quot;</span><span class="s1">+a)):a=</span><span class="s2">&quot;unnamed&quot;</span><span class="s1">;</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1678"><span class="ln">1678 </span></a><span class="s1">Blockly.Names.equals=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a.toLowerCase()==b.toLowerCase()};Blockly.Procedures={};Blockly.Procedures.NAME_TYPE=Blockly.PROCEDURE_CATEGORY_NAME;Blockly.Procedures.allProcedures=</span><span class="s3">function</span><span class="s1">(a){a=a.getAllBlocks(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=[],c=[],d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)</span><span class="s3">if</span><span class="s1">(a[d].getProcedureDef){</span><span class="s3">var </span><span class="s1">e=a[d].getProcedureDef();e&amp;&amp;(e[</span><span class="s4">2</span><span class="s1">]?b.push(e):c.push(e))}c.sort(Blockly.Procedures.procTupleComparator_);b.sort(Blockly.Procedures.procTupleComparator_);</span><span class="s3">return</span><span class="s1">[c,b]};Blockly.Procedures.procTupleComparator_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">return </span><span class="s1">a[</span><span class="s4">0</span><span class="s1">].toLowerCase().localeCompare(b[</span><span class="s4">0</span><span class="s1">].toLowerCase())};</span>
<a name="l1679"><span class="ln">1679 </span></a><span class="s1">Blockly.Procedures.findLegalName=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(b.isInFlyout)</span><span class="s3">return </span><span class="s1">a;</span><span class="s3">for</span><span class="s1">(;!Blockly.Procedures.isLegalName_(a,b.workspace,b);){</span><span class="s3">var </span><span class="s1">c=a.match(/^(.*?)(\d+)$/);a=c?c[</span><span class="s4">1</span><span class="s1">]+(parseInt(c[</span><span class="s4">2</span><span class="s1">],</span><span class="s4">10</span><span class="s1">)+</span><span class="s4">1</span><span class="s1">):a+</span><span class="s2">&quot;2&quot;</span><span class="s1">}</span><span class="s3">return </span><span class="s1">a};Blockly.Procedures.isLegalName_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return</span><span class="s1">!Blockly.Procedures.isNameUsed(a,b,c)};Blockly.Procedures.isNameUsed=</span><span class="s3">function</span><span class="s1">(a,b,c){b=b.getAllBlocks(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;b.length;d++)</span><span class="s3">if</span><span class="s1">(b[d]!=c&amp;&amp;b[d].getProcedureDef){</span><span class="s3">var </span><span class="s1">e=b[d].getProcedureDef();</span><span class="s3">if</span><span class="s1">(Blockly.Names.equals(e[</span><span class="s4">0</span><span class="s1">],a))</span><span class="s3">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s3">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1680"><span class="ln">1680 </span></a><span class="s1">Blockly.Procedures.rename=</span><span class="s3">function</span><span class="s1">(a){a=a.trim();</span><span class="s3">var </span><span class="s1">b=Blockly.Procedures.findLegalName(a,</span><span class="s3">this</span><span class="s1">.getSourceBlock()),c=</span><span class="s3">this</span><span class="s1">.getValue();</span><span class="s3">if</span><span class="s1">(c!=a&amp;&amp;c!=b){a=</span><span class="s3">this</span><span class="s1">.getSourceBlock().workspace.getAllBlocks(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++)a[d].renameProcedure&amp;&amp;a[d].renameProcedure(c,b)}</span><span class="s3">return </span><span class="s1">b};</span>
<a name="l1681"><span class="ln">1681 </span></a><span class="s1">Blockly.Procedures.flyoutCategory=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">function </span><span class="s1">b(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">;d&lt;a.length;d++){</span><span class="s3">var </span><span class="s1">e=a[d][</span><span class="s4">0</span><span class="s1">],f=a[d][</span><span class="s4">1</span><span class="s1">],g=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);g.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,b);g.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">16</span><span class="s1">);</span><span class="s3">var </span><span class="s1">m=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);m.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,e);g.appendChild(m);</span><span class="s3">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;e&lt;f.length;e++){</span><span class="s3">var </span><span class="s1">p=Blockly.utils.xml.createElement(</span><span class="s2">&quot;arg&quot;</span><span class="s1">);p.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,f[e]);m.appendChild(p)}c.push(g)}}</span><span class="s3">var </span><span class="s1">c=[];</span><span class="s3">if</span><span class="s1">(Blockly.Blocks.procedures_defnoreturn){</span><span class="s3">var </span><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);</span>
<a name="l1682"><span class="ln">1682 </span></a><span class="s1">d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures_defnoreturn&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">16</span><span class="s1">);</span><span class="s3">var </span><span class="s1">e=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);e.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFNORETURN_PROCEDURE));d.appendChild(e);c.push(d)}Blockly.Blocks.procedures_defreturn&amp;&amp;(d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures_defreturn&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">16</span><span class="s1">),e=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">),e.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">),e.appendChild(Blockly.utils.xml.createTextNode(Blockly.Msg.PROCEDURES_DEFRETURN_PROCEDURE)),</span>
<a name="l1683"><span class="ln">1683 </span></a><span class="s1">d.appendChild(e),c.push(d));Blockly.Blocks.procedures_ifreturn&amp;&amp;(d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures_ifreturn&quot;</span><span class="s1">),d.setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">16</span><span class="s1">),c.push(d));c.length&amp;&amp;c[c.length-1].setAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">,</span><span class="s4">24</span><span class="s1">);a=Blockly.Procedures.allProcedures(a);b(a[</span><span class="s4">0</span><span class="s1">],</span><span class="s2">&quot;procedures_callnoreturn&quot;</span><span class="s1">);b(a[</span><span class="s4">1</span><span class="s1">],</span><span class="s2">&quot;procedures_callreturn&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1684"><span class="ln">1684 </span></a><span class="s1">Blockly.Procedures.getCallers=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=[],d=b.getAllBlocks(!</span><span class="s4">1</span><span class="s1">),e=</span><span class="s4">0</span><span class="s1">;e&lt;d.length;e++)</span><span class="s3">if</span><span class="s1">(d[e].getProcedureCall){</span><span class="s3">var </span><span class="s1">f=d[e].getProcedureCall();f&amp;&amp;Blockly.Names.equals(f,a)&amp;&amp;c.push(d[e])}</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1685"><span class="ln">1685 </span></a><span class="s1">Blockly.Procedures.mutateCallers=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.Events.recordUndo,c=a.getProcedureDef()[</span><span class="s4">0</span><span class="s1">],d=a.mutationToDom(!</span><span class="s4">0</span><span class="s1">);a=Blockly.Procedures.getCallers(c,a.workspace);c=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e;e=a[c];c++){</span><span class="s3">var </span><span class="s1">f=e.mutationToDom();f=f&amp;&amp;Blockly.Xml.domToText(f);e.domToMutation(d);</span><span class="s3">var </span><span class="s1">g=e.mutationToDom();g=g&amp;&amp;Blockly.Xml.domToText(g);f!=g&amp;&amp;(Blockly.Events.recordUndo=!</span><span class="s4">1</span><span class="s1">,Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.BlockChange(e,</span><span class="s2">&quot;mutation&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,f,g)),Blockly.Events.recordUndo=b)}};</span>
<a name="l1686"><span class="ln">1686 </span></a><span class="s1">Blockly.Procedures.getDefinition=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=b.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),d=</span><span class="s4">0</span><span class="s1">;d&lt;c.length;d++)</span><span class="s3">if</span><span class="s1">(c[d].getProcedureDef){</span><span class="s3">var </span><span class="s1">e=c[d].getProcedureDef();</span><span class="s3">if</span><span class="s1">(e&amp;&amp;Blockly.Names.equals(e[</span><span class="s4">0</span><span class="s1">],a))</span><span class="s3">return </span><span class="s1">c[d]}</span><span class="s3">return null</span><span class="s1">};Blockly.FlyoutButton=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.targetWorkspace_=b;</span><span class="s3">this</span><span class="s1">.text_=c.getAttribute(</span><span class="s2">&quot;text&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.position_=</span><span class="s3">new </span><span class="s1">Blockly.utils.Coordinate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.isLabel_=d;</span><span class="s3">this</span><span class="s1">.callbackKey_=c.getAttribute(</span><span class="s2">&quot;callbackKey&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.cssClass_=c.getAttribute(</span><span class="s2">&quot;web-class&quot;</span><span class="s1">)||</span><span class="s3">null</span><span class="s1">};Blockly.FlyoutButton.MARGIN=</span><span class="s4">5</span><span class="s1">;Blockly.FlyoutButton.prototype.width=</span><span class="s4">0</span><span class="s1">;Blockly.FlyoutButton.prototype.height=</span><span class="s4">0</span><span class="s1">;Blockly.FlyoutButton.prototype.onMouseUpWrapper_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1687"><span class="ln">1687 </span></a><span class="s1">Blockly.FlyoutButton.prototype.createDom=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.isLabel_?</span><span class="s2">&quot;blocklyFlyoutLabel&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyFlyoutButton&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.cssClass_&amp;&amp;(a+=</span><span class="s2">&quot; &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.cssClass_);</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;g&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:a},</span><span class="s3">this</span><span class="s1">.workspace_.getCanvas());</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.isLabel_)</span><span class="s3">var </span><span class="s1">b=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyFlyoutButtonShadow&quot;</span><span class="s1">,rx:</span><span class="s4">4</span><span class="s1">,ry:</span><span class="s4">4</span><span class="s1">,x:</span><span class="s4">1</span><span class="s1">,y:</span><span class="s4">1</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);a=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.isLabel_?</span><span class="s2">&quot;blocklyFlyoutLabelBackground&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyFlyoutButtonBackground&quot;</span><span class="s1">,</span>
<a name="l1688"><span class="ln">1688 </span></a><span class="s1">rx:</span><span class="s4">4</span><span class="s1">,ry:</span><span class="s4">4</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">var </span><span class="s1">c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;text&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.isLabel_?</span><span class="s2">&quot;blocklyFlyoutLabelText&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyText&quot;</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,</span><span class="s2">&quot;text-anchor&quot;</span><span class="s1">:</span><span class="s2">&quot;middle&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);c.textContent=Blockly.utils.replaceMessageReferences(</span><span class="s3">this</span><span class="s1">.text_);</span><span class="s3">this</span><span class="s1">.width=Blockly.Field.getCachedWidth(c);</span><span class="s3">this</span><span class="s1">.height=</span><span class="s4">20</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.isLabel_||(</span><span class="s3">this</span><span class="s1">.width+=</span><span class="s4">2</span><span class="s1">*Blockly.FlyoutButton.MARGIN,b.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.width),b.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.height));a.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.width);a.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.height);</span>
<a name="l1689"><span class="ln">1689 </span></a><span class="s1">c.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.width/</span><span class="s4">2</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.height-Blockly.FlyoutButton.MARGIN);</span><span class="s3">this</span><span class="s1">.updateTransform_();</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_=Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;mouseup&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseUp_);</span><span class="s3">return this</span><span class="s1">.svgGroup_};Blockly.FlyoutButton.prototype.show=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.updateTransform_();</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;display&quot;</span><span class="s1">,</span><span class="s2">&quot;block&quot;</span><span class="s1">)};</span>
<a name="l1690"><span class="ln">1690 </span></a><span class="s1">Blockly.FlyoutButton.prototype.updateTransform_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.position_.x+</span><span class="s2">&quot;,&quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.position_.y+</span><span class="s2">&quot;)&quot;</span><span class="s1">)};Blockly.FlyoutButton.prototype.moveTo=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.position_.x=a;</span><span class="s3">this</span><span class="s1">.position_.y=b;</span><span class="s3">this</span><span class="s1">.updateTransform_()};Blockly.FlyoutButton.prototype.getPosition=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.position_};Blockly.FlyoutButton.prototype.getTargetWorkspace=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.targetWorkspace_};</span>
<a name="l1691"><span class="ln">1691 </span></a><span class="s1">Blockly.FlyoutButton.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_&amp;&amp;Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.onMouseUpWrapper_);</span><span class="s3">this</span><span class="s1">.svgGroup_&amp;&amp;(Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.targetWorkspace_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">null</span><span class="s1">};</span>
<a name="l1692"><span class="ln">1692 </span></a><span class="s1">Blockly.FlyoutButton.prototype.onMouseUp_=</span><span class="s3">function</span><span class="s1">(a){(a=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getGesture(a))&amp;&amp;a.cancel();</span><span class="s3">this</span><span class="s1">.isLabel_&amp;&amp;</span><span class="s3">this</span><span class="s1">.callbackKey_?console.warn(</span><span class="s2">&quot;Labels should not have callbacks. Label text: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.text_):</span><span class="s3">this</span><span class="s1">.isLabel_||</span><span class="s3">this</span><span class="s1">.callbackKey_&amp;&amp;</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getButtonCallback(</span><span class="s3">this</span><span class="s1">.callbackKey_)?</span><span class="s3">this</span><span class="s1">.isLabel_||</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getButtonCallback(</span><span class="s3">this</span><span class="s1">.callbackKey_)(</span><span class="s3">this</span><span class="s1">):console.warn(</span><span class="s2">&quot;Buttons should have callbacks. Button text: &quot;</span><span class="s1">+</span><span class="s3">this</span><span class="s1">.text_)};Blockly.Flyout=</span><span class="s3">function</span><span class="s1">(a){a.getMetrics=</span><span class="s3">this</span><span class="s1">.getMetrics_.bind(</span><span class="s3">this</span><span class="s1">);a.setMetrics=</span><span class="s3">this</span><span class="s1">.setMetrics_.bind(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceSvg(a);</span><span class="s3">this</span><span class="s1">.workspace_.isFlyout=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.RTL=!!a.RTL;</span><span class="s3">this</span><span class="s1">.toolboxPosition_=a.toolboxPosition;</span><span class="s3">this</span><span class="s1">.eventWrappers_=[];</span><span class="s3">this</span><span class="s1">.mats_=[];</span><span class="s3">this</span><span class="s1">.buttons_=[];</span><span class="s3">this</span><span class="s1">.listeners_=[];</span><span class="s3">this</span><span class="s1">.permanentlyDisabled_=[]};Blockly.Flyout.prototype.autoClose=!</span><span class="s4">0</span><span class="s1">;Blockly.Flyout.prototype.isVisible_=!</span><span class="s4">1</span><span class="s1">;Blockly.Flyout.prototype.containerVisible_=!</span><span class="s4">0</span><span class="s1">;</span>
<a name="l1693"><span class="ln">1693 </span></a><span class="s1">Blockly.Flyout.prototype.CORNER_RADIUS=</span><span class="s4">8</span><span class="s1">;Blockly.Flyout.prototype.MARGIN=Blockly.Flyout.prototype.CORNER_RADIUS;Blockly.Flyout.prototype.GAP_X=</span><span class="s4">3</span><span class="s1">*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.GAP_Y=</span><span class="s4">3</span><span class="s1">*Blockly.Flyout.prototype.MARGIN;Blockly.Flyout.prototype.SCROLLBAR_PADDING=</span><span class="s4">2</span><span class="s1">;Blockly.Flyout.prototype.width_=</span><span class="s4">0</span><span class="s1">;Blockly.Flyout.prototype.height_=</span><span class="s4">0</span><span class="s1">;Blockly.Flyout.prototype.dragAngleRange_=</span><span class="s4">70</span><span class="s1">;</span>
<a name="l1694"><span class="ln">1694 </span></a><span class="s1">Blockly.Flyout.prototype.createDom=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.svgGroup_=Blockly.utils.dom.createSvgElement(a,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyFlyout&quot;</span><span class="s1">,style:</span><span class="s2">&quot;display: none&quot;</span><span class="s1">},</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgBackground_=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyFlyoutBackground&quot;</span><span class="s1">},</span><span class="s3">this</span><span class="s1">.svgGroup_);</span><span class="s3">this</span><span class="s1">.svgGroup_.appendChild(</span><span class="s3">this</span><span class="s1">.workspace_.createDom());</span><span class="s3">return this</span><span class="s1">.svgGroup_};</span>
<a name="l1695"><span class="ln">1695 </span></a><span class="s1">Blockly.Flyout.prototype.init=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.targetWorkspace_=a;</span><span class="s3">this</span><span class="s1">.workspace_.targetWorkspace=a;</span><span class="s3">this</span><span class="s1">.scrollbar_=</span><span class="s3">new </span><span class="s1">Blockly.Scrollbar(</span><span class="s3">this</span><span class="s1">.workspace_,</span><span class="s3">this</span><span class="s1">.horizontalLayout_,!</span><span class="s4">1</span><span class="s1">,</span><span class="s2">&quot;blocklyFlyoutScrollbar&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.hide();Array.prototype.push.apply(</span><span class="s3">this</span><span class="s1">.eventWrappers_,Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;wheel&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.wheel_));</span><span class="s3">this</span><span class="s1">.autoClose||(</span><span class="s3">this</span><span class="s1">.filterWrapper_=</span><span class="s3">this</span><span class="s1">.filterForCapacity_.bind(</span><span class="s3">this</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.targetWorkspace_.addChangeListener(</span><span class="s3">this</span><span class="s1">.filterWrapper_));Array.prototype.push.apply(</span><span class="s3">this</span><span class="s1">.eventWrappers_,</span>
<a name="l1696"><span class="ln">1696 </span></a><span class="s1">Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgBackground_,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDown_));</span><span class="s3">this</span><span class="s1">.workspace_.getGesture=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getGesture.bind(</span><span class="s3">this</span><span class="s1">.targetWorkspace_);</span><span class="s3">this</span><span class="s1">.workspace_.variableMap_=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getVariableMap();</span><span class="s3">this</span><span class="s1">.workspace_.createPotentialVariableMap()};</span>
<a name="l1697"><span class="ln">1697 </span></a><span class="s1">Blockly.Flyout.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.hide();Blockly.unbindEvent_(</span><span class="s3">this</span><span class="s1">.eventWrappers_);</span><span class="s3">this</span><span class="s1">.filterWrapper_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.targetWorkspace_.removeChangeListener(</span><span class="s3">this</span><span class="s1">.filterWrapper_),</span><span class="s3">this</span><span class="s1">.filterWrapper_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.scrollbar_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.scrollbar_.dispose(),</span><span class="s3">this</span><span class="s1">.scrollbar_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace_.targetWorkspace=</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.workspace_.dispose(),</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgGroup_&amp;&amp;(Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.svgGroup_),</span><span class="s3">this</span><span class="s1">.svgGroup_=</span><span class="s3">null</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.targetWorkspace_=</span><span class="s3">this</span><span class="s1">.svgBackground_=</span>
<a name="l1698"><span class="ln">1698 </span></a><span class="s3">null</span><span class="s1">};Blockly.Flyout.prototype.getWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.width_};Blockly.Flyout.prototype.getHeight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.height_};Blockly.Flyout.prototype.getWorkspace=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.workspace_};Blockly.Flyout.prototype.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.isVisible_};Blockly.Flyout.prototype.setVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a!=</span><span class="s3">this</span><span class="s1">.isVisible();</span><span class="s3">this</span><span class="s1">.isVisible_=a;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateDisplay_()};</span>
<a name="l1699"><span class="ln">1699 </span></a><span class="s1">Blockly.Flyout.prototype.setContainerVisible=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a!=</span><span class="s3">this</span><span class="s1">.containerVisible_;</span><span class="s3">this</span><span class="s1">.containerVisible_=a;b&amp;&amp;</span><span class="s3">this</span><span class="s1">.updateDisplay_()};Blockly.Flyout.prototype.updateDisplay_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.containerVisible_?</span><span class="s3">this</span><span class="s1">.isVisible():!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.svgGroup_.style.display=a?</span><span class="s2">&quot;block&quot;</span><span class="s1">:</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.scrollbar_.setContainerVisible(a)};</span>
<a name="l1700"><span class="ln">1700 </span></a><span class="s1">Blockly.Flyout.prototype.positionAt_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,b);</span><span class="s2">&quot;svg&quot;</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.svgGroup_.tagName?Blockly.utils.dom.setCssTransform(</span><span class="s3">this</span><span class="s1">.svgGroup_,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+c+</span><span class="s2">&quot;px,&quot;</span><span class="s1">+d+</span><span class="s2">&quot;px)&quot;</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.svgGroup_.setAttribute(</span><span class="s2">&quot;transform&quot;</span><span class="s1">,</span><span class="s2">&quot;translate(&quot;</span><span class="s1">+c+</span><span class="s2">&quot;,&quot;</span><span class="s1">+d+</span><span class="s2">&quot;)&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.scrollbar_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.scrollbar_.setOrigin(c,d),</span><span class="s3">this</span><span class="s1">.scrollbar_.resize(),</span><span class="s3">this</span><span class="s1">.scrollbar_.setPosition_(</span><span class="s3">this</span><span class="s1">.scrollbar_.position_.x,</span><span class="s3">this</span><span class="s1">.scrollbar_.position_.y))};</span>
<a name="l1701"><span class="ln">1701 </span></a><span class="s1">Blockly.Flyout.prototype.hide=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isVisible()){</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b;b=</span><span class="s3">this</span><span class="s1">.listeners_[a];a++)Blockly.unbindEvent_(b);</span><span class="s3">this</span><span class="s1">.listeners_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.reflowWrapper_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace_.removeChangeListener(</span><span class="s3">this</span><span class="s1">.reflowWrapper_),</span><span class="s3">this</span><span class="s1">.reflowWrapper_=</span><span class="s3">null</span><span class="s1">)}};</span>
<a name="l1702"><span class="ln">1702 </span></a><span class="s1">Blockly.Flyout.prototype.show=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.hide();</span><span class="s3">this</span><span class="s1">.clearOldBlocks_();</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a){a=</span><span class="s3">this</span><span class="s1">.workspace_.targetWorkspace.getToolboxCategoryCallback(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;function&quot;</span><span class="s1">!=</span><span class="s3">typeof </span><span class="s1">a)</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Couldn't find a callback function when opening a toolbox category.&quot;</span><span class="s1">);a=a(</span><span class="s3">this</span><span class="s1">.workspace_.targetWorkspace);</span><span class="s3">if</span><span class="s1">(!Array.isArray(a))</span><span class="s3">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Result of toolbox category callback must be an array.&quot;</span><span class="s1">);}</span><span class="s3">this</span><span class="s1">.setVisible(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">b=[],c=[];</span><span class="s3">this</span><span class="s1">.permanentlyDisabled_.length=</span>
<a name="l1703"><span class="ln">1703 </span></a><span class="s4">0</span><span class="s1">;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.horizontalLayout_?</span><span class="s3">this</span><span class="s1">.GAP_X:</span><span class="s3">this</span><span class="s1">.GAP_Y,e=</span><span class="s4">0</span><span class="s1">,f;f=a[e];e++)</span><span class="s3">if</span><span class="s1">(f.tagName)</span><span class="s3">switch</span><span class="s1">(f.tagName.toUpperCase()){</span><span class="s3">case </span><span class="s2">&quot;BLOCK&quot;</span><span class="s1">:</span><span class="s3">var </span><span class="s1">g=Blockly.Xml.domToBlock(f,</span><span class="s3">this</span><span class="s1">.workspace_);g.isEnabled()||</span><span class="s3">this</span><span class="s1">.permanentlyDisabled_.push(g);b.push({type:</span><span class="s2">&quot;block&quot;</span><span class="s1">,block:g});f=parseInt(f.getAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);c.push(isNaN(f)?d:f);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;SEP&quot;</span><span class="s1">:f=parseInt(f.getAttribute(</span><span class="s2">&quot;gap&quot;</span><span class="s1">),</span><span class="s4">10</span><span class="s1">);!isNaN(f)&amp;&amp;</span><span class="s4">0</span><span class="s1">&lt;c.length?c[c.length-1]=f:c.push(d);</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;LABEL&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;BUTTON&quot;</span><span class="s1">:g=</span><span class="s2">&quot;LABEL&quot;</span><span class="s1">==f.tagName.toUpperCase(),f=</span><span class="s3">new </span><span class="s1">Blockly.FlyoutButton(</span><span class="s3">this</span><span class="s1">.workspace_,</span>
<a name="l1704"><span class="ln">1704 </span></a><span class="s3">this</span><span class="s1">.targetWorkspace_,f,g),b.push({type:</span><span class="s2">&quot;button&quot;</span><span class="s1">,button:f}),c.push(d)}</span><span class="s3">this</span><span class="s1">.layout_(b,c);</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.svgBackground_,</span><span class="s2">&quot;mouseover&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c.removeSelect()}));</span><span class="s3">this</span><span class="s1">.horizontalLayout_?</span><span class="s3">this</span><span class="s1">.height_=</span><span class="s4">0</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.width_=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workspace_.setResizesEnabled(!</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.reflow();</span><span class="s3">this</span><span class="s1">.filterForCapacity_();</span><span class="s3">this</span><span class="s1">.position();</span><span class="s3">this</span><span class="s1">.reflowWrapper_=</span><span class="s3">this</span><span class="s1">.reflow.bind(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.addChangeListener(</span><span class="s3">this</span><span class="s1">.reflowWrapper_)};</span>
<a name="l1705"><span class="ln">1705 </span></a><span class="s1">Blockly.Flyout.prototype.clearOldBlocks_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c.workspace==</span><span class="s3">this</span><span class="s1">.workspace_&amp;&amp;c.dispose(!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;</span><span class="s3">this</span><span class="s1">.mats_.length;b++)(a=</span><span class="s3">this</span><span class="s1">.mats_[b])&amp;&amp;Blockly.utils.dom.removeNode(a);</span><span class="s3">for</span><span class="s1">(b=</span><span class="s3">this</span><span class="s1">.mats_.length=</span><span class="s4">0</span><span class="s1">;a=</span><span class="s3">this</span><span class="s1">.buttons_[b];b++)a.dispose();</span><span class="s3">this</span><span class="s1">.buttons_.length=</span><span class="s4">0</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workspace_.getPotentialVariableMap().clear()};</span>
<a name="l1706"><span class="ln">1706 </span></a><span class="s1">Blockly.Flyout.prototype.addBlockListeners_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEventWithChecks_(a,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.blockMouseDown_(b)));</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEventWithChecks_(c,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.blockMouseDown_(b)));</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEvent_(a,</span><span class="s2">&quot;mouseover&quot;</span><span class="s1">,b,b.addSelect));</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEvent_(a,</span><span class="s2">&quot;mouseout&quot;</span><span class="s1">,b,b.removeSelect));</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEvent_(c,</span><span class="s2">&quot;mouseover&quot;</span><span class="s1">,b,b.addSelect));</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEvent_(c,</span>
<a name="l1707"><span class="ln">1707 </span></a><span class="s2">&quot;mouseout&quot;</span><span class="s1">,b,b.removeSelect))};Blockly.Flyout.prototype.blockMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">;</span><span class="s3">return function</span><span class="s1">(c){</span><span class="s3">var </span><span class="s1">d=b.targetWorkspace_.getGesture(c);d&amp;&amp;(d.setStartBlock(a),d.handleFlyoutStart(c,b))}};Blockly.Flyout.prototype.onMouseDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getGesture(a);b&amp;&amp;b.handleFlyoutStart(a,</span><span class="s3">this</span><span class="s1">)};Blockly.Flyout.prototype.isBlockCreatable_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">a.isEnabled()};</span>
<a name="l1708"><span class="ln">1708 </span></a><span class="s1">Blockly.Flyout.prototype.createBlock=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">null</span><span class="s1">;Blockly.Events.disable();</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getAllVariables();</span><span class="s3">this</span><span class="s1">.targetWorkspace_.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">try</span><span class="s1">{b=</span><span class="s3">this</span><span class="s1">.placeNewBlock_(a),Blockly.hideChaff()}</span><span class="s3">finally</span><span class="s1">{Blockly.Events.enable()}a=Blockly.Variables.getAddedVariables(</span><span class="s3">this</span><span class="s1">.targetWorkspace_,c);</span><span class="s3">if</span><span class="s1">(Blockly.Events.isEnabled())</span><span class="s3">for</span><span class="s1">(Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">),Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.Create(b)),c=</span><span class="s4">0</span><span class="s1">;c&lt;a.length;c++)Blockly.Events.fire(</span><span class="s3">new </span><span class="s1">Blockly.Events.VarCreate(a[c]));</span>
<a name="l1709"><span class="ln">1709 </span></a><span class="s3">this</span><span class="s1">.autoClose?</span><span class="s3">this</span><span class="s1">.hide():</span><span class="s3">this</span><span class="s1">.filterForCapacity_();</span><span class="s3">return </span><span class="s1">b};Blockly.Flyout.prototype.initFlyoutButton_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">var </span><span class="s1">d=a.createDom();a.moveTo(b,c);a.show();</span><span class="s3">this</span><span class="s1">.listeners_.push(Blockly.bindEventWithChecks_(d,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.onMouseDown_));</span><span class="s3">this</span><span class="s1">.buttons_.push(a)};</span>
<a name="l1710"><span class="ln">1710 </span></a><span class="s1">Blockly.Flyout.prototype.createRect_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e){b=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{</span><span class="s2">&quot;fill-opacity&quot;</span><span class="s1">:</span><span class="s4">0</span><span class="s1">,x:b,y:c,height:d.height,width:d.width},</span><span class="s3">null</span><span class="s1">);b.tooltip=a;Blockly.Tooltip.bindMouseEvents(b);</span><span class="s3">this</span><span class="s1">.workspace_.getCanvas().insertBefore(b,a.getSvgRoot());a.flyoutRect_=b;</span><span class="s3">return this</span><span class="s1">.mats_[e]=b};</span>
<a name="l1711"><span class="ln">1711 </span></a><span class="s1">Blockly.Flyout.prototype.moveRectToBlock_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.getHeightWidth();a.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,c.width);a.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,c.height);</span><span class="s3">var </span><span class="s1">d=b.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:</span><span class="s4">0</span><span class="s1">;d&amp;&amp;b.moveBy(</span><span class="s4">0</span><span class="s1">,d);d=b.outputConnection?Blockly.BlockSvg.TAB_WIDTH:</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">e=b.getRelativeToSurfaceXY();a.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,e.y);a.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.RTL?e.x-c.width+d:e.x-d)};</span>
<a name="l1712"><span class="ln">1712 </span></a><span class="s1">Blockly.Flyout.prototype.filterForCapacity_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)</span><span class="s3">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">==</span><span class="s3">this</span><span class="s1">.permanentlyDisabled_.indexOf(c))</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.isCapacityAvailable(Blockly.utils.getBlockTypeCounts(c));c;)c.setEnabled(d),c=c.getNextBlock()};Blockly.Flyout.prototype.reflow=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.reflowWrapper_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace_.removeChangeListener(</span><span class="s3">this</span><span class="s1">.reflowWrapper_);</span><span class="s3">this</span><span class="s1">.reflowInternal_();</span><span class="s3">this</span><span class="s1">.reflowWrapper_&amp;&amp;</span><span class="s3">this</span><span class="s1">.workspace_.addChangeListener(</span><span class="s3">this</span><span class="s1">.reflowWrapper_)};</span>
<a name="l1713"><span class="ln">1713 </span></a><span class="s1">Blockly.Flyout.prototype.isScrollable=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.scrollbar_?</span><span class="s3">this</span><span class="s1">.scrollbar_.isVisible():!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1714"><span class="ln">1714 </span></a><span class="s1">Blockly.Flyout.prototype.placeNewBlock_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.targetWorkspace_;</span><span class="s3">if</span><span class="s1">(!a.getSvgRoot())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;oldBlock is not rendered.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=Blockly.Xml.blockToDom(a,!</span><span class="s4">0</span><span class="s1">);b.setResizesEnabled(!</span><span class="s4">1</span><span class="s1">);c=Blockly.Xml.domToBlock(c,b);</span><span class="s3">if</span><span class="s1">(!c.getSvgRoot())</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;block is not rendered.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=b.getOriginOffsetInPixels(),e=</span><span class="s3">this</span><span class="s1">.workspace_.getOriginOffsetInPixels();a=a.getRelativeToSurfaceXY();a.scale(</span><span class="s3">this</span><span class="s1">.workspace_.scale);a=Blockly.utils.Coordinate.sum(e,a);d=Blockly.utils.Coordinate.difference(a,d);</span>
<a name="l1715"><span class="ln">1715 </span></a><span class="s1">d.scale(</span><span class="s4">1</span><span class="s1">/b.scale);c.moveBy(d.x,d.y);</span><span class="s3">return </span><span class="s1">c};Blockly.HorizontalFlyout=</span><span class="s3">function</span><span class="s1">(a){a.getMetrics=</span><span class="s3">this</span><span class="s1">.getMetrics_.bind(</span><span class="s3">this</span><span class="s1">);a.setMetrics=</span><span class="s3">this</span><span class="s1">.setMetrics_.bind(</span><span class="s3">this</span><span class="s1">);Blockly.HorizontalFlyout.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.horizontalLayout_=!</span><span class="s4">0</span><span class="s1">};goog.inherits(Blockly.HorizontalFlyout,Blockly.Flyout);</span>
<a name="l1716"><span class="ln">1716 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.getMetrics_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.isVisible())</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getCanvas().getBBox()}</span><span class="s3">catch</span><span class="s1">(e){a={height:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,width:</span><span class="s4">0</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">}}</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING,c=</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING;</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_BOTTOM&amp;&amp;(b=</span><span class="s4">0</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">this</span><span class="s1">.height_;</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_TOP&amp;&amp;(d-=</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING);</span><span class="s3">return</span><span class="s1">{viewHeight:d,viewWidth:</span><span class="s3">this</span><span class="s1">.width_-2*</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING,contentHeight:(a.height+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN)*</span><span class="s3">this</span><span class="s1">.workspace_.scale,</span>
<a name="l1717"><span class="ln">1717 </span></a><span class="s1">contentWidth:(a.width+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN)*</span><span class="s3">this</span><span class="s1">.workspace_.scale,viewTop:-</span><span class="s3">this</span><span class="s1">.workspace_.scrollY,viewLeft:-</span><span class="s3">this</span><span class="s1">.workspace_.scrollX,contentTop:</span><span class="s4">0</span><span class="s1">,contentLeft:</span><span class="s4">0</span><span class="s1">,absoluteTop:b,absoluteLeft:c}};Blockly.HorizontalFlyout.prototype.setMetrics_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getMetrics_();b&amp;&amp;(</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.x&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace_.scrollX=-b.contentWidth*a.x),</span><span class="s3">this</span><span class="s1">.workspace_.translate(</span><span class="s3">this</span><span class="s1">.workspace_.scrollX+b.absoluteLeft,</span><span class="s3">this</span><span class="s1">.workspace_.scrollY+b.absoluteTop))};</span>
<a name="l1718"><span class="ln">1718 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.position=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isVisible()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getMetrics();a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.width_=a.viewWidth,</span><span class="s3">this</span><span class="s1">.setBackgroundPath_(a.viewWidth-2*</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.height_-this.CORNER_RADIUS),</span><span class="s3">this</span><span class="s1">.positionAt_(</span><span class="s3">this</span><span class="s1">.width_,</span><span class="s3">this</span><span class="s1">.height_,</span><span class="s4">0</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.targetWorkspace_.toolboxPosition==</span><span class="s3">this</span><span class="s1">.toolboxPosition_?a.toolboxHeight?</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?a.toolboxHeight:a.viewHeight-this.height_:</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?</span><span class="s4">0</span><span class="s1">:a.viewHeight:</span>
<a name="l1719"><span class="ln">1719 </span></a><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?</span><span class="s4">0</span><span class="s1">:a.viewHeight+a.absoluteTop-this.height_))}};</span>
<a name="l1720"><span class="ln">1720 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.setBackgroundPath_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_TOP,d=[</span><span class="s2">&quot;M 0,&quot;</span><span class="s1">+(c?</span><span class="s4">0</span><span class="s1">:</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS)];c?(d.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,a+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS),d.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b),d.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,-</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS),d.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">*a),d.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,-</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,-</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS)):(d.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,-</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS),</span>
<a name="l1721"><span class="ln">1721 </span></a><span class="s1">d.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,a),d.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS),d.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,b),d.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,-a-2*</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS));d.push(</span><span class="s2">&quot;z&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgBackground_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,d.join(</span><span class="s2">&quot; &quot;</span><span class="s1">))};Blockly.HorizontalFlyout.prototype.scrollToStart=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.scrollbar_.set(</span><span class="s3">this</span><span class="s1">.RTL?Infinity:</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1722"><span class="ln">1722 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.wheel_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.getScrollDeltaPixels(a),c=b.x||b.y;c&amp;&amp;(b=</span><span class="s3">this</span><span class="s1">.getMetrics_(),c=b.viewLeft+c,c=Math.min(c,b.contentWidth-b.viewWidth),c=Math.max(c,</span><span class="s4">0</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.scrollbar_.set(c),Blockly.WidgetDiv.hide());a.preventDefault();a.stopPropagation()};</span>
<a name="l1723"><span class="ln">1723 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.layout_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.workspace_.scale=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.scale;</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.MARGIN,d=</span><span class="s3">this</span><span class="s1">.RTL?c:c+Blockly.BlockSvg.TAB_WIDTH;</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(a=a.reverse());</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,f;f=a[e];e++)</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;block&quot;</span><span class="s1">==f.type){f=f.block;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=f.getDescendants(!</span><span class="s4">1</span><span class="s1">),h=</span><span class="s4">0</span><span class="s1">,k;k=g[h];h++)k.isInFlyout=!</span><span class="s4">0</span><span class="s1">;f.render();g=f.getSvgRoot();h=f.getHeightWidth();k=f.outputConnection?Blockly.BlockSvg.TAB_WIDTH:</span><span class="s4">0</span><span class="s1">;k=</span><span class="s3">this</span><span class="s1">.RTL?d+h.width:d+k;f.moveBy(k,c);k=</span><span class="s3">this</span><span class="s1">.createRect_(f,k,c,h,e);d+=h.width+b[e];</span><span class="s3">this</span><span class="s1">.addBlockListeners_(g,</span>
<a name="l1724"><span class="ln">1724 </span></a><span class="s1">f,k)}</span><span class="s3">else</span><span class="s2">&quot;button&quot;</span><span class="s1">==f.type&amp;&amp;(</span><span class="s3">this</span><span class="s1">.initFlyoutButton_(f.button,d,c),d+=f.button.width+b[e])};Blockly.HorizontalFlyout.prototype.isDragTowardWorkspace=</span><span class="s3">function</span><span class="s1">(a){a=Math.atan2(a.y,a.x)/Math.PI*</span><span class="s4">180</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.dragAngleRange_;</span><span class="s3">return </span><span class="s1">a&lt;</span><span class="s4">90</span><span class="s1">+b&amp;&amp;a&gt;</span><span class="s4">90</span><span class="s1">-b||a&gt;-</span><span class="s4">90</span><span class="s1">-b&amp;&amp;a&lt;-</span><span class="s4">90</span><span class="s1">+b?!</span><span class="s4">0</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1725"><span class="ln">1725 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.getClientRect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.svgGroup_)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.svgGroup_.getBoundingClientRect(),b=a.top;</span><span class="s3">return this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_TOP?</span><span class="s3">new </span><span class="s1">Blockly.utils.Rect(-</span><span class="s4">1</span><span class="s1">E9,b+a.height,-</span><span class="s4">1</span><span class="s1">E9,</span><span class="s4">1</span><span class="s1">E9):</span><span class="s3">new </span><span class="s1">Blockly.utils.Rect(b,-</span><span class="s4">1</span><span class="s1">E9,-</span><span class="s4">1</span><span class="s1">E9,</span><span class="s4">1</span><span class="s1">E9)};</span>
<a name="l1726"><span class="ln">1726 </span></a><span class="s1">Blockly.HorizontalFlyout.prototype.reflowInternal_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace_.scale=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.scale;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b=</span><span class="s3">this</span><span class="s1">.workspace_.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">,d;d=b[c];c++)a=Math.max(a,d.getHeightWidth().height);a+=</span><span class="s4">1.5</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN;a*=</span><span class="s3">this</span><span class="s1">.workspace_.scale;a+=Blockly.Scrollbar.scrollbarThickness;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.height_!=a){</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;d=b[c];c++)d.flyoutRect_&amp;&amp;</span><span class="s3">this</span><span class="s1">.moveRectToBlock_(d.flyoutRect_,d);</span><span class="s3">this</span><span class="s1">.height_=a;</span><span class="s3">this</span><span class="s1">.position()}};Blockly.VerticalFlyout=</span><span class="s3">function</span><span class="s1">(a){a.getMetrics=</span><span class="s3">this</span><span class="s1">.getMetrics_.bind(</span><span class="s3">this</span><span class="s1">);a.setMetrics=</span><span class="s3">this</span><span class="s1">.setMetrics_.bind(</span><span class="s3">this</span><span class="s1">);Blockly.VerticalFlyout.superClass_.constructor.call(</span><span class="s3">this</span><span class="s1">,a);</span><span class="s3">this</span><span class="s1">.horizontalLayout_=!</span><span class="s4">1</span><span class="s1">};goog.inherits(Blockly.VerticalFlyout,Blockly.Flyout);</span>
<a name="l1727"><span class="ln">1727 </span></a><span class="s1">Blockly.VerticalFlyout.prototype.getMetrics_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.isVisible())</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">try</span><span class="s1">{</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_.getCanvas().getBBox()}</span><span class="s3">catch</span><span class="s1">(e){a={height:</span><span class="s4">0</span><span class="s1">,y:</span><span class="s4">0</span><span class="s1">,width:</span><span class="s4">0</span><span class="s1">,x:</span><span class="s4">0</span><span class="s1">}}</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING,c=</span><span class="s3">this</span><span class="s1">.height_-2*</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING,d=</span><span class="s3">this</span><span class="s1">.width_;</span><span class="s3">this</span><span class="s1">.RTL||(d-=</span><span class="s3">this</span><span class="s1">.SCROLLBAR_PADDING);</span><span class="s3">return</span><span class="s1">{viewHeight:c,viewWidth:d,contentHeight:a.height*</span><span class="s3">this</span><span class="s1">.workspace_.scale+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN,contentWidth:a.width*</span><span class="s3">this</span><span class="s1">.workspace_.scale+</span><span class="s4">2</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN,viewTop:-</span><span class="s3">this</span><span class="s1">.workspace_.scrollY+a.y,viewLeft:-</span><span class="s3">this</span><span class="s1">.workspace_.scrollX,</span>
<a name="l1728"><span class="ln">1728 </span></a><span class="s1">contentTop:a.y,contentLeft:a.x,absoluteTop:b,absoluteLeft:</span><span class="s4">0</span><span class="s1">}};Blockly.VerticalFlyout.prototype.setMetrics_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getMetrics_();b&amp;&amp;(</span><span class="s2">&quot;number&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a.y&amp;&amp;(</span><span class="s3">this</span><span class="s1">.workspace_.scrollY=-b.contentHeight*a.y),</span><span class="s3">this</span><span class="s1">.workspace_.translate(</span><span class="s3">this</span><span class="s1">.workspace_.scrollX+b.absoluteLeft,</span><span class="s3">this</span><span class="s1">.workspace_.scrollY+b.absoluteTop))};</span>
<a name="l1729"><span class="ln">1729 </span></a><span class="s1">Blockly.VerticalFlyout.prototype.position=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.isVisible()){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.getMetrics();a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.height_=a.viewHeight,</span><span class="s3">this</span><span class="s1">.setBackgroundPath_(</span><span class="s3">this</span><span class="s1">.width_-this.CORNER_RADIUS,a.viewHeight-2*</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS),</span><span class="s3">this</span><span class="s1">.positionAt_(</span><span class="s3">this</span><span class="s1">.width_,</span><span class="s3">this</span><span class="s1">.height_,</span><span class="s3">this</span><span class="s1">.targetWorkspace_.toolboxPosition==</span><span class="s3">this</span><span class="s1">.toolboxPosition_?a.toolboxWidth?</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?a.toolboxWidth:a.viewWidth-this.width_:</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT?</span><span class="s4">0</span><span class="s1">:a.viewWidth:</span><span class="s3">this</span><span class="s1">.toolboxPosition_==</span>
<a name="l1730"><span class="ln">1730 </span></a><span class="s1">Blockly.TOOLBOX_AT_LEFT?</span><span class="s4">0</span><span class="s1">:a.viewWidth+a.absoluteLeft-this.width_,</span><span class="s4">0</span><span class="s1">))}};</span>
<a name="l1731"><span class="ln">1731 </span></a><span class="s1">Blockly.VerticalFlyout.prototype.setBackgroundPath_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_RIGHT,d=a+</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS;d=[</span><span class="s2">&quot;M &quot;</span><span class="s1">+(c?d:</span><span class="s4">0</span><span class="s1">)+</span><span class="s2">&quot;,0&quot;</span><span class="s1">];d.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,c?-a:a);d.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,c?</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1</span><span class="s1">,c?-</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS:</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS);d.push(</span><span class="s2">&quot;v&quot;</span><span class="s1">,Math.max(</span><span class="s4">0</span><span class="s1">,b));d.push(</span><span class="s2">&quot;a&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">,c?</span><span class="s4">0</span><span class="s1">:</span><span class="s4">1</span><span class="s1">,c?</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS:-</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS,</span><span class="s3">this</span><span class="s1">.CORNER_RADIUS);d.push(</span><span class="s2">&quot;h&quot;</span><span class="s1">,c?a:-a);d.push(</span><span class="s2">&quot;z&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.svgBackground_.setAttribute(</span><span class="s2">&quot;d&quot;</span><span class="s1">,</span>
<a name="l1732"><span class="ln">1732 </span></a><span class="s1">d.join(</span><span class="s2">&quot; &quot;</span><span class="s1">))};Blockly.VerticalFlyout.prototype.scrollToStart=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.scrollbar_.set(</span><span class="s4">0</span><span class="s1">)};Blockly.VerticalFlyout.prototype.wheel_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.utils.getScrollDeltaPixels(a);</span><span class="s3">if</span><span class="s1">(b.y){</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.getMetrics_();b=c.viewTop-c.contentTop+b.y;b=Math.min(b,c.contentHeight-c.viewHeight);b=Math.max(b,</span><span class="s4">0</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.scrollbar_.set(b);Blockly.WidgetDiv.hide()}a.preventDefault();a.stopPropagation()};</span>
<a name="l1733"><span class="ln">1733 </span></a><span class="s1">Blockly.VerticalFlyout.prototype.layout_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.workspace_.scale=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.scale;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">this</span><span class="s1">.MARGIN,d=</span><span class="s3">this</span><span class="s1">.RTL?c:c+Blockly.BlockSvg.TAB_WIDTH,e=</span><span class="s4">0</span><span class="s1">,f;f=a[e];e++)</span><span class="s3">if</span><span class="s1">(</span><span class="s2">&quot;block&quot;</span><span class="s1">==f.type){f=f.block;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=f.getDescendants(!</span><span class="s4">1</span><span class="s1">),h=</span><span class="s4">0</span><span class="s1">,k;k=g[h];h++)k.isInFlyout=!</span><span class="s4">0</span><span class="s1">;f.render();g=f.getSvgRoot();h=f.getHeightWidth();f.moveBy(d,c);k=</span><span class="s3">this</span><span class="s1">.createRect_(f,</span><span class="s3">this</span><span class="s1">.RTL?d-h.width:d,c,h,e);</span><span class="s3">this</span><span class="s1">.addBlockListeners_(g,f,k);c+=h.height+b[e]}</span><span class="s3">else</span><span class="s2">&quot;button&quot;</span><span class="s1">==f.type&amp;&amp;(</span><span class="s3">this</span><span class="s1">.initFlyoutButton_(f.button,d,c),c+=</span>
<a name="l1734"><span class="ln">1734 </span></a><span class="s1">f.button.height+b[e])};Blockly.VerticalFlyout.prototype.isDragTowardWorkspace=</span><span class="s3">function</span><span class="s1">(a){a=Math.atan2(a.y,a.x)/Math.PI*</span><span class="s4">180</span><span class="s1">;</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.dragAngleRange_;</span><span class="s3">return </span><span class="s1">a&lt;b&amp;&amp;a&gt;-b||a&lt;-</span><span class="s4">180</span><span class="s1">+b||a&gt;</span><span class="s4">180</span><span class="s1">-b?!</span><span class="s4">0</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">};</span>
<a name="l1735"><span class="ln">1735 </span></a><span class="s1">Blockly.VerticalFlyout.prototype.getClientRect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.svgGroup_)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.svgGroup_.getBoundingClientRect(),b=a.left;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.toolboxPosition_==Blockly.TOOLBOX_AT_LEFT)</span><span class="s3">return new </span><span class="s1">Blockly.utils.Rect(-</span><span class="s4">1</span><span class="s1">E9,</span><span class="s4">1</span><span class="s1">E9,-</span><span class="s4">1</span><span class="s1">E9,b+a.width);Blockly.utils.userAgent.GECKO&amp;&amp;</span><span class="s3">this</span><span class="s1">.targetWorkspace_&amp;&amp;</span><span class="s3">this</span><span class="s1">.targetWorkspace_.isMutator&amp;&amp;(a=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.svgGroup_.getBoundingClientRect().x,</span><span class="s4">10</span><span class="s1">&gt;Math.abs(a-b)&amp;&amp;(b+=</span><span class="s3">this</span><span class="s1">.leftEdge_*</span><span class="s3">this</span><span class="s1">.targetWorkspace_.options.parentWorkspace.scale));</span><span class="s3">return new </span><span class="s1">Blockly.utils.Rect(-</span><span class="s4">1</span><span class="s1">E9,</span>
<a name="l1736"><span class="ln">1736 </span></a><span class="s4">1</span><span class="s1">E9,b,</span><span class="s4">1</span><span class="s1">E9)};</span>
<a name="l1737"><span class="ln">1737 </span></a><span class="s1">Blockly.VerticalFlyout.prototype.reflowInternal_=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.workspace_.scale=</span><span class="s3">this</span><span class="s1">.targetWorkspace_.scale;</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=</span><span class="s4">0</span><span class="s1">,b=</span><span class="s3">this</span><span class="s1">.workspace_.getTopBlocks(!</span><span class="s4">1</span><span class="s1">),c=</span><span class="s4">0</span><span class="s1">,d;d=b[c];c++){</span><span class="s3">var </span><span class="s1">e=d.getHeightWidth().width;d.outputConnection&amp;&amp;(e-=Blockly.BlockSvg.TAB_WIDTH);a=Math.max(a,e)}</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;d=</span><span class="s3">this</span><span class="s1">.buttons_[c];c++)a=Math.max(a,d.width);a+=</span><span class="s4">1.5</span><span class="s1">*</span><span class="s3">this</span><span class="s1">.MARGIN+Blockly.BlockSvg.TAB_WIDTH;a*=</span><span class="s3">this</span><span class="s1">.workspace_.scale;a+=Blockly.Scrollbar.scrollbarThickness;</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.width_!=a){</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;d=b[c];c++)</span><span class="s3">this</span><span class="s1">.RTL&amp;&amp;(e=d.getRelativeToSurfaceXY().x,</span>
<a name="l1738"><span class="ln">1738 </span></a><span class="s1">d.moveBy(a/</span><span class="s3">this</span><span class="s1">.workspace_.scale-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH-e,</span><span class="s4">0</span><span class="s1">)),d.flyoutRect_&amp;&amp;</span><span class="s3">this</span><span class="s1">.moveRectToBlock_(d.flyoutRect_,d);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.RTL)</span><span class="s3">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;d=</span><span class="s3">this</span><span class="s1">.buttons_[c];c++)b=d.getPosition().y,d.moveTo(a/</span><span class="s3">this</span><span class="s1">.workspace_.scale-d.width-this.MARGIN-Blockly.BlockSvg.TAB_WIDTH,b);</span><span class="s3">this</span><span class="s1">.width_=a;</span><span class="s3">this</span><span class="s1">.position()}};Blockly.Toolbox=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.workspace_=a;</span><span class="s3">this</span><span class="s1">.RTL=a.options.RTL;</span><span class="s3">this</span><span class="s1">.horizontalLayout_=a.options.horizontalLayout;</span><span class="s3">this</span><span class="s1">.toolboxPosition=a.options.toolboxPosition;</span><span class="s3">this</span><span class="s1">.config_={indentWidth:</span><span class="s4">19</span><span class="s1">,cssRoot:</span><span class="s2">&quot;blocklyTreeRoot&quot;</span><span class="s1">,cssHideRoot:</span><span class="s2">&quot;blocklyHidden&quot;</span><span class="s1">,cssItem:</span><span class="s2">&quot;&quot;</span><span class="s1">,cssTreeRow:</span><span class="s2">&quot;blocklyTreeRow&quot;</span><span class="s1">,cssItemLabel:</span><span class="s2">&quot;blocklyTreeLabel&quot;</span><span class="s1">,cssTreeIcon:</span><span class="s2">&quot;blocklyTreeIcon&quot;</span><span class="s1">,cssExpandedFolderIcon:</span><span class="s2">&quot;blocklyTreeIconOpen&quot;</span><span class="s1">,cssFileIcon:</span><span class="s2">&quot;blocklyTreeIconNone&quot;</span><span class="s1">,cssSelectedRow:</span><span class="s2">&quot;blocklyTreeSelected&quot;</span><span class="s1">};</span><span class="s3">this</span><span class="s1">.treeSeparatorConfig_={cssTreeRow:</span><span class="s2">&quot;blocklyTreeSeparator&quot;</span><span class="s1">};</span>
<a name="l1739"><span class="ln">1739 </span></a><span class="s3">this</span><span class="s1">.horizontalLayout_&amp;&amp;(</span><span class="s3">this</span><span class="s1">.config_.cssTreeRow+=a.RTL?</span><span class="s2">&quot; blocklyHorizontalTreeRtl&quot;</span><span class="s1">:</span><span class="s2">&quot; blocklyHorizontalTree&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.treeSeparatorConfig_.cssTreeRow=</span><span class="s2">&quot;blocklyTreeSeparatorHorizontal &quot;</span><span class="s1">+(a.RTL?</span><span class="s2">&quot;blocklyHorizontalTreeRtl&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklyHorizontalTree&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.config_.cssTreeIcon=</span><span class="s2">&quot;&quot;</span><span class="s1">)};Blockly.Toolbox.prototype.width=</span><span class="s4">0</span><span class="s1">;Blockly.Toolbox.prototype.height=</span><span class="s4">0</span><span class="s1">;Blockly.Toolbox.prototype.selectedOption_=</span><span class="s3">null</span><span class="s1">;Blockly.Toolbox.prototype.lastCategory_=</span><span class="s3">null</span><span class="s1">;</span>
<a name="l1740"><span class="ln">1740 </span></a><span class="s1">Blockly.Toolbox.prototype.init=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.workspace_,b=</span><span class="s3">this</span><span class="s1">.workspace_.getParentSvg();</span><span class="s3">this</span><span class="s1">.HtmlDiv=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.HtmlDiv.className=</span><span class="s2">&quot;blocklyToolboxDiv&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.HtmlDiv.setAttribute(</span><span class="s2">&quot;dir&quot;</span><span class="s1">,a.RTL?</span><span class="s2">&quot;RTL&quot;</span><span class="s1">:</span><span class="s2">&quot;LTR&quot;</span><span class="s1">);b.parentNode.insertBefore(</span><span class="s3">this</span><span class="s1">.HtmlDiv,b);Blockly.bindEventWithChecks_(</span><span class="s3">this</span><span class="s1">.HtmlDiv,</span><span class="s2">&quot;mousedown&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.isRightButton(a)||a.target==</span><span class="s3">this</span><span class="s1">.HtmlDiv?Blockly.hideChaff(!</span><span class="s4">1</span><span class="s1">):Blockly.hideChaff(!</span><span class="s4">0</span><span class="s1">);Blockly.Touch.clearTouchIdentifier()},!</span><span class="s4">1</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">);b={disabledPatternId:a.options.disabledPatternId,</span>
<a name="l1741"><span class="ln">1741 </span></a><span class="s1">parentWorkspace:a,RTL:a.RTL,oneBasedIndex:a.options.oneBasedIndex,horizontalLayout:a.horizontalLayout,toolboxPosition:a.options.toolboxPosition};</span><span class="s3">this</span><span class="s1">.flyout_=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.flyout_=a.horizontalLayout?</span><span class="s3">new </span><span class="s1">Blockly.HorizontalFlyout(b):</span><span class="s3">new </span><span class="s1">Blockly.VerticalFlyout(b);Blockly.utils.dom.insertAfter(</span><span class="s3">this</span><span class="s1">.flyout_.createDom(</span><span class="s2">&quot;svg&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.workspace_.getParentSvg());</span><span class="s3">this</span><span class="s1">.flyout_.init(a);</span><span class="s3">this</span><span class="s1">.config_.cleardotPath=a.options.pathToMedia+</span><span class="s2">&quot;1x1.gif&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.config_.cssCollapsedFolderIcon=</span><span class="s2">&quot;blocklyTreeIconClosed&quot;</span><span class="s1">+(a.RTL?</span><span class="s2">&quot;Rtl&quot;</span><span class="s1">:</span>
<a name="l1742"><span class="ln">1742 </span></a><span class="s2">&quot;Ltr&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.tree_=b=</span><span class="s3">new </span><span class="s1">Blockly.Toolbox.TreeControl(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.config_);b.setShowRootNode(!</span><span class="s4">1</span><span class="s1">);b.setShowLines(!</span><span class="s4">1</span><span class="s1">);b.setShowExpandIcons(!</span><span class="s4">1</span><span class="s1">);b.setSelectedItem(</span><span class="s3">null</span><span class="s1">);a=</span><span class="s3">this</span><span class="s1">.populate_(a.options.languageTree);b.render(</span><span class="s3">this</span><span class="s1">.HtmlDiv);a&amp;&amp;b.setSelectedItem(a);</span><span class="s3">this</span><span class="s1">.addColour_();</span><span class="s3">this</span><span class="s1">.position()};Blockly.Toolbox.prototype.dispose=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.flyout_.dispose();</span><span class="s3">this</span><span class="s1">.tree_.dispose();Blockly.utils.dom.removeNode(</span><span class="s3">this</span><span class="s1">.HtmlDiv);</span><span class="s3">this</span><span class="s1">.lastCategory_=</span><span class="s3">this</span><span class="s1">.workspace_=</span><span class="s3">null</span><span class="s1">};Blockly.Toolbox.prototype.getWidth=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.width};</span>
<a name="l1743"><span class="ln">1743 </span></a><span class="s1">Blockly.Toolbox.prototype.getHeight=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return this</span><span class="s1">.height};</span>
<a name="l1744"><span class="ln">1744 </span></a><span class="s1">Blockly.Toolbox.prototype.position=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.HtmlDiv;</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.workspace_.getParentSvg();b=Blockly.svgSize(b);</span><span class="s3">this</span><span class="s1">.horizontalLayout_?(a.style.left=</span><span class="s2">&quot;0&quot;</span><span class="s1">,a.style.height=</span><span class="s2">&quot;auto&quot;</span><span class="s1">,a.style.width=b.width+</span><span class="s2">&quot;px&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.height=a.offsetHeight,</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_TOP?a.style.top=</span><span class="s2">&quot;0&quot;</span><span class="s1">:a.style.bottom=</span><span class="s2">&quot;0&quot;</span><span class="s1">):(</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_RIGHT?a.style.right=</span><span class="s2">&quot;0&quot;</span><span class="s1">:a.style.left=</span><span class="s2">&quot;0&quot;</span><span class="s1">,a.style.height=b.height+</span><span class="s2">&quot;px&quot;</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.width=a.offsetWidth);</span><span class="s3">this</span><span class="s1">.flyout_.position()}};</span>
<a name="l1745"><span class="ln">1745 </span></a><span class="s1">Blockly.Toolbox.prototype.populate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.tree_.removeChildren();</span><span class="s3">this</span><span class="s1">.tree_.blocks=[];</span><span class="s3">this</span><span class="s1">.hasColours_=!</span><span class="s4">1</span><span class="s1">;a=</span><span class="s3">this</span><span class="s1">.syncTrees_(a,</span><span class="s3">this</span><span class="s1">.tree_,</span><span class="s3">this</span><span class="s1">.workspace_.options.pathToMedia);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.tree_.blocks.length)</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Toolbox cannot have both blocks and categories in the root level.&quot;</span><span class="s1">);</span><span class="s3">this</span><span class="s1">.workspace_.resizeContents();</span><span class="s3">return </span><span class="s1">a};</span>
<a name="l1746"><span class="ln">1746 </span></a><span class="s1">Blockly.Toolbox.prototype.syncTrees_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s3">null</span><span class="s1">,e=</span><span class="s3">null</span><span class="s1">,f=</span><span class="s4">0</span><span class="s1">,g;g=a.childNodes[f];f++)</span><span class="s3">if</span><span class="s1">(g.tagName)</span><span class="s3">switch</span><span class="s1">(g.tagName.toUpperCase()){</span><span class="s3">case </span><span class="s2">&quot;CATEGORY&quot;</span><span class="s1">:e=Blockly.utils.replaceMessageReferences(g.getAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">));</span><span class="s3">var </span><span class="s1">h=</span><span class="s3">this</span><span class="s1">.tree_.createNode(e);h.blocks=[];b.add(h);</span><span class="s3">var </span><span class="s1">k=g.getAttribute(</span><span class="s2">&quot;custom&quot;</span><span class="s1">);k?h.blocks=k:(k=</span><span class="s3">this</span><span class="s1">.syncTrees_(g,h,c))&amp;&amp;(d=k);k=g.getAttribute(</span><span class="s2">&quot;categorystyle&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">l=g.getAttribute(</span><span class="s2">&quot;colour&quot;</span><span class="s1">);l&amp;&amp;k?(h.hexColour=</span><span class="s2">&quot;&quot;</span><span class="s1">,console.warn(</span><span class="s2">'Toolbox category &quot;'</span><span class="s1">+e+</span><span class="s2">'&quot; can not have both a style and a colour'</span><span class="s1">)):</span>
<a name="l1747"><span class="ln">1747 </span></a><span class="s1">k?</span><span class="s3">this</span><span class="s1">.setColourFromStyle_(k,h,e):</span><span class="s3">this</span><span class="s1">.setColour_(l,h,e);</span><span class="s2">&quot;true&quot;</span><span class="s1">==g.getAttribute(</span><span class="s2">&quot;expanded&quot;</span><span class="s1">)?(h.blocks.length&amp;&amp;(d=h),h.setExpanded(!</span><span class="s4">0</span><span class="s1">)):h.setExpanded(!</span><span class="s4">1</span><span class="s1">);e=g;</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s2">&quot;SEP&quot;</span><span class="s1">:</span><span class="s3">if</span><span class="s1">(e&amp;&amp;</span><span class="s2">&quot;CATEGORY&quot;</span><span class="s1">==e.tagName.toUpperCase()){b.add(</span><span class="s3">new </span><span class="s1">Blockly.Toolbox.TreeSeparator(</span><span class="s3">this</span><span class="s1">.treeSeparatorConfig_));</span><span class="s3">break</span><span class="s1">}</span><span class="s3">case </span><span class="s2">&quot;BLOCK&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;SHADOW&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;LABEL&quot;</span><span class="s1">:</span><span class="s3">case </span><span class="s2">&quot;BUTTON&quot;</span><span class="s1">:b.blocks.push(g),e=g}</span><span class="s3">return </span><span class="s1">d};</span>
<a name="l1748"><span class="ln">1748 </span></a><span class="s1">Blockly.Toolbox.prototype.setColour_=</span><span class="s3">function</span><span class="s1">(a,b,c){a=Blockly.utils.replaceMessageReferences(a);</span><span class="s3">if</span><span class="s1">(</span><span class="s3">null</span><span class="s1">===a||</span><span class="s2">&quot;&quot;</span><span class="s1">===a)b.hexColour=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s3">else</span><span class="s1">{</span><span class="s3">var </span><span class="s1">d=Number(a);isNaN(d)?(d=Blockly.utils.colour.parse(a))?(b.hexColour=d,</span><span class="s3">this</span><span class="s1">.hasColours_=!</span><span class="s4">0</span><span class="s1">):(b.hexColour=</span><span class="s2">&quot;&quot;</span><span class="s1">,console.warn(</span><span class="s2">'Toolbox category &quot;'</span><span class="s1">+c+</span><span class="s2">'&quot; has unrecognized colour attribute: '</span><span class="s1">+a)):(b.hexColour=Blockly.hueToHex(d),</span><span class="s3">this</span><span class="s1">.hasColours_=!</span><span class="s4">0</span><span class="s1">)}};</span>
<a name="l1749"><span class="ln">1749 </span></a><span class="s1">Blockly.Toolbox.prototype.setColourFromStyle_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">if</span><span class="s1">((b.styleName=a)&amp;&amp;Blockly.getTheme()){</span><span class="s3">var </span><span class="s1">d=Blockly.getTheme().getCategoryStyle(a);d&amp;&amp;d.colour?</span><span class="s3">this</span><span class="s1">.setColour_(d.colour,b,c):console.warn(</span><span class="s2">'Style &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; must exist and contain a colour value'</span><span class="s1">)}};Blockly.Toolbox.prototype.updateColourFromTheme_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a=a||</span><span class="s3">this</span><span class="s1">.tree_){a=a.getChildren(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c.styleName&amp;&amp;(</span><span class="s3">this</span><span class="s1">.setColourFromStyle_(c.styleName,c,</span><span class="s2">&quot;&quot;</span><span class="s1">),</span><span class="s3">this</span><span class="s1">.addColour_()),</span><span class="s3">this</span><span class="s1">.updateColourFromTheme_(c)}};</span>
<a name="l1750"><span class="ln">1750 </span></a><span class="s1">Blockly.Toolbox.prototype.updateColourFromTheme=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.tree_;a&amp;&amp;(</span><span class="s3">this</span><span class="s1">.updateColourFromTheme_(a),</span><span class="s3">this</span><span class="s1">.updateSelectedItemColour_(a))};Blockly.Toolbox.prototype.updateSelectedItemColour_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.selectedItem_;</span><span class="s3">if</span><span class="s1">(b){</span><span class="s3">var </span><span class="s1">c=b.hexColour||</span><span class="s2">&quot;#57e&quot;</span><span class="s1">;b.getRowElement().style.backgroundColor=c;a.toolbox_.addColour_(b)}};</span>
<a name="l1751"><span class="ln">1751 </span></a><span class="s1">Blockly.Toolbox.prototype.addColour_=</span><span class="s3">function</span><span class="s1">(a){a=(a||</span><span class="s3">this</span><span class="s1">.tree_).getChildren(!</span><span class="s4">1</span><span class="s1">);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++){</span><span class="s3">var </span><span class="s1">d=c.getRowElement();</span><span class="s3">if</span><span class="s1">(d){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">this</span><span class="s1">.hasColours_?</span><span class="s2">&quot;8px solid &quot;</span><span class="s1">+(c.hexColour||</span><span class="s2">&quot;#ddd&quot;</span><span class="s1">):</span><span class="s2">&quot;none&quot;</span><span class="s1">;</span><span class="s3">this</span><span class="s1">.workspace_.RTL?d.style.borderRight=e:d.style.borderLeft=e}</span><span class="s3">this</span><span class="s1">.addColour_(c)}};Blockly.Toolbox.prototype.clearSelection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.tree_.setSelectedItem(</span><span class="s3">null</span><span class="s1">)};Blockly.Toolbox.prototype.addStyle=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.addClass(</span><span class="s3">this</span><span class="s1">.HtmlDiv,a)};</span>
<a name="l1752"><span class="ln">1752 </span></a><span class="s1">Blockly.Toolbox.prototype.removeStyle=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.dom.removeClass(</span><span class="s3">this</span><span class="s1">.HtmlDiv,a)};</span>
<a name="l1753"><span class="ln">1753 </span></a><span class="s1">Blockly.Toolbox.prototype.getClientRect=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">if</span><span class="s1">(!</span><span class="s3">this</span><span class="s1">.HtmlDiv)</span><span class="s3">return null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.HtmlDiv.getBoundingClientRect(),b=a.top,c=b+a.height,d=a.left;a=d+a.width;</span><span class="s3">return this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_TOP?</span><span class="s3">new </span><span class="s1">Blockly.utils.Rect(-</span><span class="s4">1</span><span class="s1">E7,c,-</span><span class="s4">1</span><span class="s1">E7,</span><span class="s4">1</span><span class="s1">E7):</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_BOTTOM?</span><span class="s3">new </span><span class="s1">Blockly.utils.Rect(b,</span><span class="s4">1</span><span class="s1">E7,-</span><span class="s4">1</span><span class="s1">E7,</span><span class="s4">1</span><span class="s1">E7):</span><span class="s3">this</span><span class="s1">.toolboxPosition==Blockly.TOOLBOX_AT_LEFT?</span><span class="s3">new </span><span class="s1">Blockly.utils.Rect(-</span><span class="s4">1</span><span class="s1">E7,</span><span class="s4">1</span><span class="s1">E7,-</span><span class="s4">1</span><span class="s1">E7,a):</span><span class="s3">new </span><span class="s1">Blockly.utils.Rect(-</span><span class="s4">1</span><span class="s1">E7,</span><span class="s4">1</span><span class="s1">E7,d,</span><span class="s4">1</span><span class="s1">E7)};</span>
<a name="l1754"><span class="ln">1754 </span></a><span class="s1">Blockly.Toolbox.prototype.refreshSelection=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.tree_.getSelectedItem();a&amp;&amp;a.blocks&amp;&amp;</span><span class="s3">this</span><span class="s1">.flyout_.show(a.blocks)};Blockly.Toolbox.TreeControl=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">this</span><span class="s1">.toolbox_=a;goog.ui.tree.TreeControl.call(</span><span class="s3">this</span><span class="s1">,goog.html.SafeHtml.EMPTY,b)};goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl);</span>
<a name="l1755"><span class="ln">1755 </span></a><span class="s1">Blockly.Toolbox.TreeControl.prototype.enterDocument=</span><span class="s3">function</span><span class="s1">(){Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(</span><span class="s3">this</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(Blockly.Touch.TOUCH_ENABLED){</span><span class="s3">var </span><span class="s1">a=</span><span class="s3">this</span><span class="s1">.getElement();Blockly.bindEventWithChecks_(a,goog.events.EventType.TOUCHEND,</span><span class="s3">this</span><span class="s1">,</span><span class="s3">this</span><span class="s1">.handleTouchEvent_)}};Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.getNodeFromEvent_(a);b&amp;&amp;a.type===goog.events.EventType.TOUCHEND&amp;&amp;setTimeout(</span><span class="s3">function</span><span class="s1">(){b.onClick_(a)},</span><span class="s4">1</span><span class="s1">)};</span>
<a name="l1756"><span class="ln">1756 </span></a><span class="s1">Blockly.Toolbox.TreeControl.prototype.createNode=</span><span class="s3">function</span><span class="s1">(a){a=a?goog.html.SafeHtml.htmlEscape(a):goog.html.SafeHtml.EMPTY;</span><span class="s3">return new </span><span class="s1">Blockly.Toolbox.TreeNode(</span><span class="s3">this</span><span class="s1">.toolbox_,a,</span><span class="s3">this</span><span class="s1">.getConfig())};</span>
<a name="l1757"><span class="ln">1757 </span></a><span class="s1">Blockly.Toolbox.TreeControl.prototype.setSelectedItem=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">this</span><span class="s1">.toolbox_;</span><span class="s3">if</span><span class="s1">(a!=</span><span class="s3">this</span><span class="s1">.selectedItem_&amp;&amp;a!=b.tree_){b.lastCategory_&amp;&amp;(b.lastCategory_.getRowElement().style.backgroundColor=</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s3">if</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">c=a.hexColour||</span><span class="s2">&quot;#57e&quot;</span><span class="s1">;a.getRowElement().style.backgroundColor=c;b.addColour_(a)}c=</span><span class="s3">this</span><span class="s1">.getSelectedItem();goog.ui.tree.TreeControl.prototype.setSelectedItem.call(</span><span class="s3">this</span><span class="s1">,a);a&amp;&amp;a.blocks&amp;&amp;a.blocks.length?(b.flyout_.show(a.blocks),b.lastCategory_!=a&amp;&amp;b.flyout_.scrollToStart()):b.flyout_.hide();c!=</span>
<a name="l1758"><span class="ln">1758 </span></a><span class="s1">a&amp;&amp;c!=</span><span class="s3">this</span><span class="s1">&amp;&amp;(c=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;category&quot;</span><span class="s1">,c&amp;&amp;c.getHtml(),a&amp;&amp;a.getHtml()),c.workspaceId=b.workspace_.id,Blockly.Events.fire(c));a&amp;&amp;(b.lastCategory_=a)}};Blockly.Toolbox.TreeNode=</span><span class="s3">function</span><span class="s1">(a,b,c){goog.ui.tree.TreeNode.call(</span><span class="s3">this</span><span class="s1">,b,c);a&amp;&amp;(b=</span><span class="s3">function</span><span class="s1">(){Blockly.svgResize(a.workspace_)},goog.events.listen(a.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,b),goog.events.listen(a.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,b))};goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode);</span>
<a name="l1759"><span class="ln">1759 </span></a><span class="s1">Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">goog.html.SafeHtml.create(</span><span class="s2">&quot;span&quot;</span><span class="s1">)};Blockly.Toolbox.TreeNode.prototype.onClick_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">this</span><span class="s1">.hasChildren()&amp;&amp;</span><span class="s3">this</span><span class="s1">.isUserCollapsible_?(</span><span class="s3">this</span><span class="s1">.toggle(),</span><span class="s3">this</span><span class="s1">.select()):</span><span class="s3">this</span><span class="s1">.isSelected()?</span><span class="s3">this</span><span class="s1">.getTree().setSelectedItem(</span><span class="s3">null</span><span class="s1">):</span><span class="s3">this</span><span class="s1">.select();</span><span class="s3">this</span><span class="s1">.updateRow()};Blockly.Toolbox.TreeNode.prototype.onMouseDown=</span><span class="s3">function</span><span class="s1">(a){};Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=</span><span class="s3">function</span><span class="s1">(a){};</span>
<a name="l1760"><span class="ln">1760 </span></a><span class="s1">Blockly.Toolbox.TreeNode.prototype.onKeyDown=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(</span><span class="s3">this</span><span class="s1">.tree.toolbox_.horizontalLayout_){</span><span class="s3">var </span><span class="s1">b={},c=goog.events.KeyCodes.DOWN,d=goog.events.KeyCodes.UP;b[goog.events.KeyCodes.RIGHT]=</span><span class="s3">this</span><span class="s1">.rightToLeft_?d:c;b[goog.events.KeyCodes.LEFT]=</span><span class="s3">this</span><span class="s1">.rightToLeft_?c:d;b[goog.events.KeyCodes.UP]=goog.events.KeyCodes.LEFT;b[goog.events.KeyCodes.DOWN]=goog.events.KeyCodes.RIGHT;a.keyCode=b[a.keyCode]||a.keyCode}</span><span class="s3">return </span><span class="s1">Blockly.Toolbox.TreeNode.superClass_.onKeyDown.call(</span><span class="s3">this</span><span class="s1">,a)};</span>
<a name="l1761"><span class="ln">1761 </span></a><span class="s1">Blockly.Toolbox.TreeSeparator=</span><span class="s3">function</span><span class="s1">(a){Blockly.Toolbox.TreeNode.call(</span><span class="s3">this</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,goog.html.SafeHtml.EMPTY,a)};goog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode);Blockly.Css={};Blockly.Css.Cursor={OPEN:</span><span class="s2">&quot;handopen&quot;</span><span class="s1">,CLOSED:</span><span class="s2">&quot;handclosed&quot;</span><span class="s1">,DELETE:</span><span class="s2">&quot;handdelete&quot;</span><span class="s1">};Blockly.Css.currentCursor_=</span><span class="s2">&quot;&quot;</span><span class="s1">;Blockly.Css.injected_=!</span><span class="s4">1</span><span class="s1">;Blockly.Css.mediaPath_=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span>
<a name="l1762"><span class="ln">1762 </span></a><span class="s1">Blockly.Css.inject=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">if</span><span class="s1">(!Blockly.Css.injected_){Blockly.Css.injected_=!</span><span class="s4">0</span><span class="s1">;</span><span class="s3">var </span><span class="s1">c=</span><span class="s2">&quot;.blocklyDraggable {}</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">;a&amp;&amp;(c+=Blockly.Css.CONTENT.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">),Blockly.Css.CONTENT=</span><span class="s3">null</span><span class="s1">,Blockly.FieldDate&amp;&amp;(c+=Blockly.FieldDate.CSS.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)));Blockly.Css.mediaPath_=b.replace(/[\\\/]$/,</span><span class="s2">&quot;&quot;</span><span class="s1">);c=c.replace(/&lt;&lt;&lt;PATH&gt;&gt;&gt;/g,Blockly.Css.mediaPath_);</span><span class="s3">var </span><span class="s1">d=document.createElement(</span><span class="s2">&quot;style&quot;</span><span class="s1">);c=document.createTextNode(c);d.appendChild(c);document.head.insertBefore(d,document.head.firstChild)}};Blockly.Css.setCursor=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.Css.setCursor. See https://github.com/google/blockly/issues/981 for context&quot;</span><span class="s1">)};</span>
<a name="l1763"><span class="ln">1763 </span></a><span class="s1">Blockly.Css.CONTENT=[</span><span class="s2">&quot;.blocklySvg {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow: hidden;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;display: block;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 99999;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.injectionDiv {&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 100%;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: relative;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow: hidden;&quot;</span><span class="s1">,</span><span class="s2">&quot;touch-action: none&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyNonSelectable {&quot;</span><span class="s1">,</span><span class="s2">&quot;user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-moz-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-ms-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-webkit-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWsDragSurface {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span>
<a name="l1764"><span class="ln">1764 </span></a><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;top: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;left: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWsDragSurface.blocklyOverflowVisible {&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow: visible;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyBlockDragSurface {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;top: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;left: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;right: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;bottom: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow: visible !important;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 50;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyBlockCanvas.blocklyCanvasTransitioning,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyBubbleCanvas.blocklyCanvasTransitioning {&quot;</span><span class="s1">,</span><span class="s2">&quot;transition: transform .5s;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTooltipDiv {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: #ffffc7;&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid #ddc;&quot;</span><span class="s1">,</span><span class="s2">&quot;box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);&quot;</span><span class="s1">,</span>
<a name="l1765"><span class="ln">1765 </span></a><span class="s2">&quot;color: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-family: sans-serif;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-size: 9pt;&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: .9;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 2px;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 100000;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv {&quot;</span><span class="s1">,</span><span class="s2">&quot;position: fixed;&quot;</span><span class="s1">,</span><span class="s2">&quot;left: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;top: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 1000;&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-radius: 2px;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;-webkit-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownContent {&quot;</span><span class="s1">,</span><span class="s2">&quot;max-height: 300px;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow-x: hidden;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownArrow {&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;left: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;top: 0;&quot;</span><span class="s1">,</span>
<a name="l1766"><span class="ln">1766 </span></a><span class="s2">&quot;width: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: -1;&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: inherit;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-color: inherit;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownButton {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: inline-block;&quot;</span><span class="s1">,</span><span class="s2">&quot;float: left;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-radius: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid;&quot;</span><span class="s1">,</span><span class="s2">&quot;transition: box-shadow .1s;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: pointer;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.arrowTop {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-top: 1px solid;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-left: 1px solid;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-top-left-radius: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-color: inherit;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.arrowBottom {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-bottom: 1px solid;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-right: 1px solid;&quot;</span><span class="s1">,</span>
<a name="l1767"><span class="ln">1767 </span></a><span class="s2">&quot;border-bottom-right-radius: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-color: inherit;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyResizeSE {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: se-resize;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #aaa;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyResizeSW {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: sw-resize;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #aaa;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyResizeLine {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #515A5A;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyHighlightedConnectionPath {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #fc3;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyPathLight {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-linecap: round;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklySelected&gt;.blocklyPath {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #fc3;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 3px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span>
<a name="l1768"><span class="ln">1768 </span></a><span class="s2">&quot;.blocklySelected&gt;.blocklyPathLight {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDraggable {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handopen.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;cursor: grab;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: -webkit-grab;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDragging {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handclosed.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;cursor: grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: -webkit-grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDraggable:active {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handclosed.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;cursor: grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: -webkit-grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyBlockDragSurface .blocklyDraggable {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handclosed.cur&quot;), auto;'</span><span class="s1">,</span>
<a name="l1769"><span class="ln">1769 </span></a><span class="s2">&quot;cursor: grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: -webkit-grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDragging.blocklyDraggingDelete {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handdelete.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyToolboxDelete {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handdelete.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyToolboxGrab {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handclosed.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;cursor: grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: -webkit-grabbing;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDragging&gt;.blocklyPath,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDragging&gt;.blocklyPathLight {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .8;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-opacity: .8;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDragging&gt;.blocklyPathDark {&quot;</span><span class="s1">,</span>
<a name="l1770"><span class="ln">1770 </span></a><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDisabled&gt;.blocklyPath {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .5;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-opacity: .5;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDisabled&gt;.blocklyPathLight,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDisabled&gt;.blocklyPathDark {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyInsertionMarker&gt;.blocklyPath,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyInsertionMarker&gt;.blocklyPathLight,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyInsertionMarker&gt;.blocklyPathDark {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .2;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: none&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyReplaceable .blocklyPath {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: 0.5;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyReplaceable .blocklyPathLight,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyReplaceable .blocklyPathDark {&quot;</span><span class="s1">,</span>
<a name="l1771"><span class="ln">1771 </span></a><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyText {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-family: sans-serif;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-size: 11pt;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyNonEditableText&gt;text {&quot;</span><span class="s1">,</span><span class="s2">&quot;pointer-events: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyNonEditableText&gt;rect,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyEditableText&gt;rect {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .6;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyNonEditableText&gt;text,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyEditableText&gt;text {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyEditableText:hover&gt;rect {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 2;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyBubbleText {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyout {&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span>
<a name="l1772"><span class="ln">1772 </span></a><span class="s2">&quot;z-index: 20;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutButton {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #888;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutButtonShadow {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #666;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutButton:hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #aaa;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutLabel {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutLabelBackground {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutLabelText {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklySvg text, .blocklyBlockDragSurface text {&quot;</span><span class="s1">,</span><span class="s2">&quot;user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-moz-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-ms-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-webkit-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: inherit;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyHidden {&quot;</span><span class="s1">,</span>
<a name="l1773"><span class="ln">1773 </span></a><span class="s2">&quot;display: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFieldDropdown:not(.blocklyHidden) {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: block;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyIconGroup {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyIconGroup:not(:hover),&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyIconGroupReadonly {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: .6;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyIconShape {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #00f;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyIconSymbol {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyMinimalBody {&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentForeignObject {&quot;</span><span class="s1">,</span><span class="s2">&quot;position: relative;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentRect {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #E7DE8E;&quot;</span><span class="s1">,</span>
<a name="l1774"><span class="ln">1774 </span></a><span class="s2">&quot;stroke: #bcA903;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1px&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentTarget {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: transparent;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #bcA903;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentTargetFocused {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentHandleTarget {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentHandleTargetFocused {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: transparent;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFocused&gt;.blocklyCommentRect {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #B9B272;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #B9B272;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklySelected&gt;.blocklyCommentTarget {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #fc3;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 3px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentTextarea {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: #fef49c;&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 0;&quot;</span><span class="s1">,</span>
<a name="l1775"><span class="ln">1775 </span></a><span class="s2">&quot;outline: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 3px;&quot;</span><span class="s1">,</span><span class="s2">&quot;resize: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;display: block;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow: hidden;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyCommentDeleteIcon {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: pointer;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;display: none&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklySelected &gt; .blocklyCommentDeleteIcon {&quot;</span><span class="s1">,</span><span class="s2">&quot;display: block&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDeleteIconShape {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #fc3;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyHtmlInput {&quot;</span><span class="s1">,</span><span class="s2">&quot;border: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-radius: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-family: sans-serif;&quot;</span><span class="s1">,</span>
<a name="l1776"><span class="ln">1776 </span></a><span class="s2">&quot;height: 100%;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0 1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;width: 100%&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyMainBackground {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #c6c6c6;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyMutatorBackground {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #ddd;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutBackground {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #ddd;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .8;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTransparentBackground {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyMainWorkspaceScrollbar {&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 20;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyoutScrollbar {&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 30;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyScrollbarHorizontal, .blocklyScrollbarVertical {&quot;</span><span class="s1">,</span>
<a name="l1777"><span class="ln">1777 </span></a><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyScrollbarBackground {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyScrollbarHandle {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #ccc;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyScrollbarHandle:hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #bbb;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyZoom&gt;image, .blocklyZoom&gt;svg&gt;image {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: .4;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyZoom&gt;image:hover, .blocklyZoom&gt;svg&gt;image:hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: .6;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyZoom&gt;image:active, .blocklyZoom&gt;svg&gt;image:active {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: .8;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyout .blocklyScrollbarHandle {&quot;</span><span class="s1">,</span>
<a name="l1778"><span class="ln">1778 </span></a><span class="s2">&quot;fill: #bbb;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyFlyout .blocklyScrollbarHandle:hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #aaa;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyInvalidInput {&quot;</span><span class="s1">,</span><span class="s2">&quot;background: #faa;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyAngleCircle {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #444;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #ddd;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .8;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyAngleMarks {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #444;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 1;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyAngleGauge {&quot;</span><span class="s1">,</span><span class="s2">&quot;fill: #f88;&quot;</span><span class="s1">,</span><span class="s2">&quot;fill-opacity: .8;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyAngleLine {&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke: #f00;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-width: 2;&quot;</span><span class="s1">,</span><span class="s2">&quot;stroke-linecap: round;&quot;</span><span class="s1">,</span>
<a name="l1779"><span class="ln">1779 </span></a><span class="s2">&quot;pointer-events: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyContextMenu {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-radius: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;max-height: 100%;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropdownMenu {&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0 !important;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {&quot;</span><span class="s1">,</span><span class="s2">&quot;background: url(&lt;&lt;&lt;PATH&gt;&gt;&gt;/sprites.png) no-repeat -48px -16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyToolboxDiv {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: #ddd;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow-x: visible;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow-y: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-moz-user-select: none;&quot;</span><span class="s1">,</span>
<a name="l1780"><span class="ln">1780 </span></a><span class="s2">&quot;-ms-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;-webkit-user-select: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 70;&quot;</span><span class="s1">,</span><span class="s2">&quot;-webkit-tap-highlight-color: transparent;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeRoot {&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 4px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeRoot:focus {&quot;</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeRow {&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 22px;&quot;</span><span class="s1">,</span><span class="s2">&quot;line-height: 22px;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin-bottom: 3px;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding-right: 8px;&quot;</span><span class="s1">,</span><span class="s2">&quot;white-space: nowrap;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyHorizontalTree {&quot;</span><span class="s1">,</span><span class="s2">&quot;float: left;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 1px 5px 8px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyHorizontalTreeRtl {&quot;</span><span class="s1">,</span><span class="s2">&quot;float: right;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 1px 0 8px 5px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">'.blocklyToolboxDiv[dir=&quot;RTL&quot;] .blocklyTreeRow {'</span><span class="s1">,</span>
<a name="l1781"><span class="ln">1781 </span></a><span class="s2">&quot;margin-left: 8px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeRow:not(.blocklyTreeSelected):hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: #e4e4e4;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSeparator {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-bottom: solid #e5e5e5 1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 5px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSeparatorHorizontal {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-right: solid #e5e5e5 1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;width: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 5px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 0 5px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeIcon {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-image: url(&lt;&lt;&lt;PATH&gt;&gt;&gt;/sprites.png);&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;vertical-align: middle;&quot;</span><span class="s1">,</span><span class="s2">&quot;width: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeIconClosedLtr {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: -32px -1px;&quot;</span><span class="s1">,</span>
<a name="l1782"><span class="ln">1782 </span></a><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeIconClosedRtl {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: 0 -1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeIconOpen {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: -16px -1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSelected&gt;.blocklyTreeIconClosedLtr {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: -32px -17px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSelected&gt;.blocklyTreeIconClosedRtl {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: 0 -17px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSelected&gt;.blocklyTreeIconOpen {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: -16px -17px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeIconNone,&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSelected&gt;.blocklyTreeIconNone {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-position: -48px -1px;&quot;</span><span class="s1">,</span>
<a name="l1783"><span class="ln">1783 </span></a><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeLabel {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-family: sans-serif;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-size: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0 3px;&quot;</span><span class="s1">,</span><span class="s2">&quot;vertical-align: middle;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyToolboxDelete .blocklyTreeLabel {&quot;</span><span class="s1">,</span><span class="s2">'cursor: url(&quot;&lt;&lt;&lt;PATH&gt;&gt;&gt;/handdelete.cur&quot;), auto;'</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyTreeSelected .blocklyTreeLabel {&quot;</span><span class="s1">,</span><span class="s2">&quot;color: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyColourTable {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-collapse: collapse;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyColourTable&gt;tr&gt;td {&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid #666;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyColourTable&gt;tr&gt;td&gt;div {&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid #666;&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 13px;&quot;</span><span class="s1">,</span>
<a name="l1784"><span class="ln">1784 </span></a><span class="s2">&quot;width: 15px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyColourTable&gt;tr&gt;td&gt;div:hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyColourSelected, .blocklyColourSelected:hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;border: 1px solid #000 !important;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menu {&quot;</span><span class="s1">,</span><span class="s2">&quot;background: #fff;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-color: #ccc #666 #666 #ccc;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-style: solid;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-width: 1px;&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">&quot;font: normal 13px Arial, sans-serif;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 4px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow-y: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;overflow-x: hidden;&quot;</span><span class="s1">,</span><span class="s2">&quot;max-height: 100%;&quot;</span><span class="s1">,</span>
<a name="l1785"><span class="ln">1785 </span></a><span class="s2">&quot;z-index: 20000;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menu {&quot;</span><span class="s1">,</span><span class="s2">&quot;cursor: default;&quot;</span><span class="s1">,</span><span class="s2">'font: normal 13px &quot;Helvetica Neue&quot;, Helvetica, sans-serif;'</span><span class="s1">,</span><span class="s2">&quot;outline: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;z-index: 20000;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem {&quot;</span><span class="s1">,</span><span class="s2">&quot;color: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;font: normal 13px Arial, sans-serif;&quot;</span><span class="s1">,</span><span class="s2">&quot;list-style: none;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;min-width: 7em;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 5px 5px 5px 28px;&quot;</span><span class="s1">,</span><span class="s2">&quot;white-space: nowrap;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem.goog-menuitem-rtl {&quot;</span><span class="s1">,</span>
<a name="l1786"><span class="ln">1786 </span></a><span class="s2">&quot;padding-left: 5px;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding-right: 28px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menu-noicon .goog-menuitem, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menu-nocheckbox .goog-menuitem, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menu-noicon .goog-menuitem { &quot;</span><span class="s1">,</span><span class="s2">&quot;padding-left: 12px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menu-noaccel .goog-menuitem {&quot;</span><span class="s1">,</span><span class="s2">&quot;padding-right: 20px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-content, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-content {&quot;</span><span class="s1">,</span>
<a name="l1787"><span class="ln">1787 </span></a><span class="s2">&quot;color: #000;&quot;</span><span class="s1">,</span><span class="s2">&quot;font: normal 13px Arial, sans-serif;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-accel, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-content {&quot;</span><span class="s1">,</span><span class="s2">&quot;color: #ccc !important;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-disabled .goog-menuitem-icon {&quot;</span><span class="s1">,</span><span class="s2">&quot;opacity: 0.3;&quot;</span><span class="s1">,</span>
<a name="l1788"><span class="ln">1788 </span></a><span class="s2">&quot;filter: alpha(opacity=30);&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-highlight, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: #d6e9f8;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-color: #d6e9f8;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-style: dotted;&quot;</span><span class="s1">,</span><span class="s2">&quot;border-width: 1px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding-bottom: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding-top: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-highlight, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-hover {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-color: rgba(0, 0, 0, 0.2);&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-icon, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span>
<a name="l1789"><span class="ln">1789 </span></a><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-icon {&quot;</span><span class="s1">,</span><span class="s2">&quot;background-repeat: no-repeat;&quot;</span><span class="s1">,</span><span class="s2">&quot;height: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;left: 6px;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;right: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;vertical-align: middle;&quot;</span><span class="s1">,</span><span class="s2">&quot;width: 16px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {&quot;</span><span class="s1">,</span><span class="s2">&quot;left: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;right: 6px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span>
<a name="l1790"><span class="ln">1790 </span></a><span class="s2">&quot;.blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-option-selected .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-option-selected .goog-menuitem-icon {&quot;</span><span class="s1">,</span><span class="s2">&quot;position: static;&quot;</span><span class="s1">,</span><span class="s2">&quot;float: left;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin-left: -24px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-checkbox, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-icon {&quot;</span><span class="s1">,</span>
<a name="l1791"><span class="ln">1791 </span></a><span class="s2">&quot;float: right;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin-right: -24px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-accel, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-accel {&quot;</span><span class="s1">,</span><span class="s2">&quot;color: #999;&quot;</span><span class="s1">,</span><span class="s2">&quot;direction: ltr;&quot;</span><span class="s1">,</span><span class="s2">&quot;left: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0 6px;&quot;</span><span class="s1">,</span><span class="s2">&quot;position: absolute;&quot;</span><span class="s1">,</span><span class="s2">&quot;right: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;text-align: right;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-rtl .goog-menuitem-accel {&quot;</span><span class="s1">,</span><span class="s2">&quot;left: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;right: auto;&quot;</span><span class="s1">,</span><span class="s2">&quot;text-align: left;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-mnemonic-hint, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-mnemonic-hint {&quot;</span><span class="s1">,</span>
<a name="l1792"><span class="ln">1792 </span></a><span class="s2">&quot;text-decoration: underline;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuitem-mnemonic-separator, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuitem-mnemonic-separator {&quot;</span><span class="s1">,</span><span class="s2">&quot;color: #999;&quot;</span><span class="s1">,</span><span class="s2">&quot;font-size: 12px;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding-left: 4px;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyWidgetDiv .goog-menuseparator, &quot;</span><span class="s1">,</span><span class="s2">&quot;.blocklyDropDownDiv .goog-menuseparator {&quot;</span><span class="s1">,</span><span class="s2">&quot;border-top: 1px solid #ccc;&quot;</span><span class="s1">,</span><span class="s2">&quot;margin: 4px 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;padding: 0;&quot;</span><span class="s1">,</span><span class="s2">&quot;}&quot;</span><span class="s1">,</span><span class="s2">&quot;&quot;</span><span class="s1">];Blockly.WidgetDiv={};Blockly.WidgetDiv.DIV=</span><span class="s3">null</span><span class="s1">;Blockly.WidgetDiv.owner_=</span><span class="s3">null</span><span class="s1">;Blockly.WidgetDiv.dispose_=</span><span class="s3">null</span><span class="s1">;Blockly.WidgetDiv.createDom=</span><span class="s3">function</span><span class="s1">(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">),Blockly.WidgetDiv.DIV.className=</span><span class="s2">&quot;blocklyWidgetDiv&quot;</span><span class="s1">,document.body.appendChild(Blockly.WidgetDiv.DIV))};</span>
<a name="l1793"><span class="ln">1793 </span></a><span class="s1">Blockly.WidgetDiv.show=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.WidgetDiv.hide();Blockly.WidgetDiv.owner_=a;Blockly.WidgetDiv.dispose_=c;a=goog.style.getViewportPageOffset(document);Blockly.WidgetDiv.DIV.style.top=a.y+</span><span class="s2">&quot;px&quot;</span><span class="s1">;Blockly.WidgetDiv.DIV.style.direction=b?</span><span class="s2">&quot;rtl&quot;</span><span class="s1">:</span><span class="s2">&quot;ltr&quot;</span><span class="s1">;Blockly.WidgetDiv.DIV.style.display=</span><span class="s2">&quot;block&quot;</span><span class="s1">};</span>
<a name="l1794"><span class="ln">1794 </span></a><span class="s1">Blockly.WidgetDiv.hide=</span><span class="s3">function</span><span class="s1">(){Blockly.WidgetDiv.owner_&amp;&amp;(Blockly.WidgetDiv.owner_=</span><span class="s3">null</span><span class="s1">,Blockly.WidgetDiv.DIV.style.display=</span><span class="s2">&quot;none&quot;</span><span class="s1">,Blockly.WidgetDiv.DIV.style.left=</span><span class="s2">&quot;&quot;</span><span class="s1">,Blockly.WidgetDiv.DIV.style.top=</span><span class="s2">&quot;&quot;</span><span class="s1">,Blockly.WidgetDiv.dispose_&amp;&amp;Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=</span><span class="s3">null</span><span class="s1">,Blockly.WidgetDiv.DIV.innerHTML=</span><span class="s2">&quot;&quot;</span><span class="s1">)};Blockly.WidgetDiv.isVisible=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return</span><span class="s1">!!Blockly.WidgetDiv.owner_};Blockly.WidgetDiv.hideIfOwner=</span><span class="s3">function</span><span class="s1">(a){Blockly.WidgetDiv.owner_==a&amp;&amp;Blockly.WidgetDiv.hide()};</span>
<a name="l1795"><span class="ln">1795 </span></a><span class="s1">Blockly.WidgetDiv.positionInternal_=</span><span class="s3">function</span><span class="s1">(a,b,c){Blockly.WidgetDiv.DIV.style.left=a+</span><span class="s2">&quot;px&quot;</span><span class="s1">;Blockly.WidgetDiv.DIV.style.top=b+</span><span class="s2">&quot;px&quot;</span><span class="s1">;Blockly.WidgetDiv.DIV.style.height=c+</span><span class="s2">&quot;px&quot;</span><span class="s1">};Blockly.WidgetDiv.positionWithAnchor=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=Blockly.WidgetDiv.calculateY_(a,b,c);a=Blockly.WidgetDiv.calculateX_(a,b,c,d);</span><span class="s4">0</span><span class="s1">&gt;e?Blockly.WidgetDiv.positionInternal_(a,</span><span class="s4">0</span><span class="s1">,c.height+e):Blockly.WidgetDiv.positionInternal_(a,e,c.height)};</span>
<a name="l1796"><span class="ln">1796 </span></a><span class="s1">Blockly.WidgetDiv.calculateX_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">if</span><span class="s1">(d)</span><span class="s3">return </span><span class="s1">b=Math.max(b.right-c.width,a.left),Math.min(b,a.right-c.width);b=Math.min(b.left,a.right-c.width);</span><span class="s3">return </span><span class="s1">Math.max(b,a.left)};Blockly.WidgetDiv.calculateY_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">return </span><span class="s1">b.bottom+c.height&gt;=a.bottom?b.top-c.height:b.bottom};Blockly.inject=</span><span class="s3">function</span><span class="s1">(a,b){Blockly.checkBlockColourConstants();</span><span class="s2">&quot;string&quot;</span><span class="s1">==</span><span class="s3">typeof </span><span class="s1">a&amp;&amp;(a=document.getElementById(a)||document.querySelector(a));</span><span class="s3">if</span><span class="s1">(!Blockly.utils.dom.containsNode(document,a))</span><span class="s3">throw </span><span class="s1">Error(</span><span class="s2">&quot;Error: container is not in current document.&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">c=</span><span class="s3">new </span><span class="s1">Blockly.Options(b||{}),d=document.createElement(</span><span class="s2">&quot;div&quot;</span><span class="s1">);d.className=</span><span class="s2">&quot;injectionDiv&quot;</span><span class="s1">;a.appendChild(d);</span><span class="s3">var </span><span class="s1">e=Blockly.createDom_(d,c),f=</span><span class="s3">new </span><span class="s1">Blockly.BlockDragSurfaceSvg(d);d=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceDragSurfaceSvg(d);e=Blockly.createMainWorkspace_(e,c,</span>
<a name="l1797"><span class="ln">1797 </span></a><span class="s1">f,d);Blockly.setTheme(c.theme);Blockly.init_(e);Blockly.mainWorkspace=e;Blockly.svgResize(e);</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l1798"><span class="ln">1798 </span></a><span class="s1">Blockly.createDom_=</span><span class="s3">function</span><span class="s1">(a,b){a.setAttribute(</span><span class="s2">&quot;dir&quot;</span><span class="s1">,</span><span class="s2">&quot;LTR&quot;</span><span class="s1">);goog.ui.Component.setDefaultRightToLeft(b.RTL);Blockly.Css.inject(b.hasCss,b.pathToMedia);</span><span class="s3">var </span><span class="s1">c=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;svg&quot;</span><span class="s1">,{xmlns:Blockly.utils.dom.SVG_NS,</span><span class="s2">&quot;xmlns:html&quot;</span><span class="s1">:Blockly.utils.dom.HTML_NS,</span><span class="s2">&quot;xmlns:xlink&quot;</span><span class="s1">:Blockly.utils.dom.XLINK_NS,version:</span><span class="s2">&quot;1.1&quot;</span><span class="s1">,</span><span class="s2">&quot;class&quot;</span><span class="s1">:</span><span class="s2">&quot;blocklySvg&quot;</span><span class="s1">},a),d=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;defs&quot;</span><span class="s1">,{},c),e=String(Math.random()).substring(</span><span class="s4">2</span><span class="s1">),f=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;filter&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyEmbossFilter&quot;</span><span class="s1">+</span>
<a name="l1799"><span class="ln">1799 </span></a><span class="s1">e},d);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;feGaussianBlur&quot;</span><span class="s1">,{</span><span class="s2">&quot;in&quot;</span><span class="s1">:</span><span class="s2">&quot;SourceAlpha&quot;</span><span class="s1">,stdDeviation:</span><span class="s4">1</span><span class="s1">,result:</span><span class="s2">&quot;blur&quot;</span><span class="s1">},f);</span><span class="s3">var </span><span class="s1">g=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;feSpecularLighting&quot;</span><span class="s1">,{</span><span class="s2">&quot;in&quot;</span><span class="s1">:</span><span class="s2">&quot;blur&quot;</span><span class="s1">,surfaceScale:</span><span class="s4">1</span><span class="s1">,specularConstant:.</span><span class="s4">5</span><span class="s1">,specularExponent:</span><span class="s4">10</span><span class="s1">,</span><span class="s2">&quot;lighting-color&quot;</span><span class="s1">:</span><span class="s2">&quot;white&quot;</span><span class="s1">,result:</span><span class="s2">&quot;specOut&quot;</span><span class="s1">},f);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;fePointLight&quot;</span><span class="s1">,{x:-</span><span class="s4">5</span><span class="s1">E3,y:-</span><span class="s4">1</span><span class="s1">E4,z:</span><span class="s4">2</span><span class="s1">E4},g);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;feComposite&quot;</span><span class="s1">,{</span><span class="s2">&quot;in&quot;</span><span class="s1">:</span><span class="s2">&quot;specOut&quot;</span><span class="s1">,in2:</span><span class="s2">&quot;SourceAlpha&quot;</span><span class="s1">,operator:</span><span class="s2">&quot;in&quot;</span><span class="s1">,result:</span><span class="s2">&quot;specOut&quot;</span><span class="s1">},f);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;feComposite&quot;</span><span class="s1">,</span>
<a name="l1800"><span class="ln">1800 </span></a><span class="s1">{</span><span class="s2">&quot;in&quot;</span><span class="s1">:</span><span class="s2">&quot;SourceGraphic&quot;</span><span class="s1">,in2:</span><span class="s2">&quot;specOut&quot;</span><span class="s1">,operator:</span><span class="s2">&quot;arithmetic&quot;</span><span class="s1">,k1:</span><span class="s4">0</span><span class="s1">,k2:</span><span class="s4">1</span><span class="s1">,k3:</span><span class="s4">1</span><span class="s1">,k4:</span><span class="s4">0</span><span class="s1">},f);b.embossFilterId=f.id;f=Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;pattern&quot;</span><span class="s1">,{id:</span><span class="s2">&quot;blocklyDisabledPattern&quot;</span><span class="s1">+e,patternUnits:</span><span class="s2">&quot;userSpaceOnUse&quot;</span><span class="s1">,width:</span><span class="s4">10</span><span class="s1">,height:</span><span class="s4">10</span><span class="s1">},d);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;rect&quot;</span><span class="s1">,{width:</span><span class="s4">10</span><span class="s1">,height:</span><span class="s4">10</span><span class="s1">,fill:</span><span class="s2">&quot;#aaa&quot;</span><span class="s1">},f);Blockly.utils.dom.createSvgElement(</span><span class="s2">&quot;path&quot;</span><span class="s1">,{d:</span><span class="s2">&quot;M 0 0 L 10 10 M 10 0 L 0 10&quot;</span><span class="s1">,stroke:</span><span class="s2">&quot;#cc0&quot;</span><span class="s1">},f);b.disabledPatternId=f.id;b.gridPattern=Blockly.Grid.createDom(e,b.gridOptions,d);</span><span class="s3">return </span><span class="s1">c};</span>
<a name="l1801"><span class="ln">1801 </span></a><span class="s1">Blockly.createMainWorkspace_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){b.parentWorkspace=</span><span class="s3">null</span><span class="s1">;</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">new </span><span class="s1">Blockly.WorkspaceSvg(b,c,d);e.scale=b.zoomOptions.startScale;a.appendChild(e.createDom(</span><span class="s2">&quot;blocklyMainBackground&quot;</span><span class="s1">));!b.hasCategories&amp;&amp;b.languageTree&amp;&amp;(c=e.addFlyout_(</span><span class="s2">&quot;svg&quot;</span><span class="s1">),Blockly.utils.dom.insertAfter(c,a));b.hasTrashcan&amp;&amp;e.addTrashcan();b.zoomOptions&amp;&amp;b.zoomOptions.controls&amp;&amp;e.addZoomControls();e.translate(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">0</span><span class="s1">);Blockly.mainWorkspace=e;b.readOnly||e.isMovable()||e.addChangeListener(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(!e.isDragging()&amp;&amp;!e.isMovable()&amp;&amp;</span>
<a name="l1802"><span class="ln">1802 </span></a><span class="s1">-</span><span class="s4">1</span><span class="s1">!=Blockly.Events.BUMP_EVENTS.indexOf(a.type)){</span><span class="s3">var </span><span class="s1">b=Object.create(</span><span class="s3">null</span><span class="s1">),c=e.getMetrics(),d=e.scale;b.viewLeft=c.viewLeft/d;b.viewTop=c.viewTop/d;b.viewRight=(c.viewLeft+c.viewWidth)/d;b.viewBottom=(c.viewTop+c.viewHeight)/d;e.isContentBounded()?(c=e.getBlocksBoundingBox(),b.contentLeft=c.left,b.contentTop=c.top,b.contentRight=c.right,b.contentBottom=c.bottom):(b.contentLeft=c.contentLeft/d,b.contentTop=c.contentTop/d,b.contentRight=(c.contentLeft+c.contentWidth)/d,b.contentBottom=(c.contentTop+</span>
<a name="l1803"><span class="ln">1803 </span></a><span class="s1">c.contentHeight)/d);</span><span class="s3">if</span><span class="s1">(b.contentTop&lt;b.viewTop||b.contentBottom&gt;b.viewBottom||b.contentLeft&lt;b.viewLeft||b.contentRight&gt;b.viewRight){c=</span><span class="s3">null</span><span class="s1">;a&amp;&amp;(c=Blockly.Events.getGroup(),Blockly.Events.setGroup(a.group));</span><span class="s3">switch</span><span class="s1">(a.type){</span><span class="s3">case </span><span class="s1">Blockly.Events.BLOCK_CREATE:</span><span class="s3">case </span><span class="s1">Blockly.Events.BLOCK_MOVE:</span><span class="s3">var </span><span class="s1">f=e.getBlockById(a.blockId);f=f.getRootBlock();</span><span class="s3">break</span><span class="s1">;</span><span class="s3">case </span><span class="s1">Blockly.Events.COMMENT_CREATE:</span><span class="s3">case </span><span class="s1">Blockly.Events.COMMENT_MOVE:f=e.getCommentById(a.commentId)}</span><span class="s3">if</span><span class="s1">(f){d=f.getBoundingRectangle();</span><span class="s3">var </span><span class="s1">n=b.viewTop-d.top;</span><span class="s4">0</span><span class="s1">&lt;n&amp;&amp;f.moveBy(</span><span class="s4">0</span><span class="s1">,</span>
<a name="l1804"><span class="ln">1804 </span></a><span class="s1">n);n=b.viewBottom-d.bottom;</span><span class="s4">0</span><span class="s1">&gt;n&amp;&amp;f.moveBy(</span><span class="s4">0</span><span class="s1">,n);n=b.viewLeft-d.left;</span><span class="s4">0</span><span class="s1">&lt;n&amp;&amp;f.moveBy(n,</span><span class="s4">0</span><span class="s1">);b=b.viewRight-d.right;</span><span class="s4">0</span><span class="s1">&gt;b&amp;&amp;f.moveBy(b,</span><span class="s4">0</span><span class="s1">)}a&amp;&amp;(a.group||console.log(</span><span class="s2">&quot;WARNING: Moved object in bounds but there was no event group. This may break undo.&quot;</span><span class="s1">),Blockly.Events.setGroup(c))}}});Blockly.svgResize(e);Blockly.WidgetDiv.createDom();Blockly.DropDownDiv.createDom();Blockly.Tooltip.createDom();</span><span class="s3">return </span><span class="s1">e};</span>
<a name="l1805"><span class="ln">1805 </span></a><span class="s1">Blockly.init_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=a.options,c=a.getParentSvg();Blockly.bindEventWithChecks_(c.parentNode,</span><span class="s2">&quot;contextmenu&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.isTargetInput(a)||a.preventDefault()});c=Blockly.bindEventWithChecks_(window,</span><span class="s2">&quot;resize&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){Blockly.hideChaff(!</span><span class="s4">0</span><span class="s1">);Blockly.svgResize(a)});a.setResizeHandlerWrapper(c);Blockly.inject.bindDocumentEvents_();b.languageTree&amp;&amp;(a.toolbox_?a.toolbox_.init(a):a.flyout_&amp;&amp;(a.flyout_.init(a),a.flyout_.show(b.languageTree.childNodes),a.flyout_.scrollToStart()));</span>
<a name="l1806"><span class="ln">1806 </span></a><span class="s1">c=Blockly.Scrollbar.scrollbarThickness;b.hasTrashcan&amp;&amp;(c=a.trashcan.init(c));b.zoomOptions&amp;&amp;b.zoomOptions.controls&amp;&amp;a.zoomControls_.init(c);b.moveOptions&amp;&amp;b.moveOptions.scrollbars?(a.scrollbar=</span><span class="s3">new </span><span class="s1">Blockly.ScrollbarPair(a),a.scrollbar.resize()):a.setMetrics({x:.</span><span class="s4">5</span><span class="s1">,y:.</span><span class="s4">5</span><span class="s1">});b.hasSounds&amp;&amp;Blockly.inject.loadSounds_(b.pathToMedia,a)};</span>
<a name="l1807"><span class="ln">1807 </span></a><span class="s1">Blockly.inject.bindDocumentEvents_=</span><span class="s3">function</span><span class="s1">(){Blockly.documentEventsBound_||(Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;scroll&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">a=Blockly.Workspace.getAll(),b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++)c.updateInverseScreenCTM&amp;&amp;c.updateInverseScreenCTM()}),Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;keydown&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,Blockly.onKeyDown_),Blockly.bindEvent_(document,</span><span class="s2">&quot;touchend&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,Blockly.longStop_),Blockly.bindEvent_(document,</span><span class="s2">&quot;touchcancel&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,Blockly.longStop_),Blockly.utils.userAgent.IPAD&amp;&amp;Blockly.bindEventWithChecks_(window,</span>
<a name="l1808"><span class="ln">1808 </span></a><span class="s2">&quot;orientationchange&quot;</span><span class="s1">,document,</span><span class="s3">function</span><span class="s1">(){Blockly.svgResize(Blockly.getMainWorkspace())}));Blockly.documentEventsBound_=!</span><span class="s4">0</span><span class="s1">};</span>
<a name="l1809"><span class="ln">1809 </span></a><span class="s1">Blockly.inject.loadSounds_=</span><span class="s3">function</span><span class="s1">(a,b){</span><span class="s3">var </span><span class="s1">c=b.getAudioManager();c.load([a+</span><span class="s2">&quot;click.mp3&quot;</span><span class="s1">,a+</span><span class="s2">&quot;click.wav&quot;</span><span class="s1">,a+</span><span class="s2">&quot;click.ogg&quot;</span><span class="s1">],</span><span class="s2">&quot;click&quot;</span><span class="s1">);c.load([a+</span><span class="s2">&quot;disconnect.wav&quot;</span><span class="s1">,a+</span><span class="s2">&quot;disconnect.mp3&quot;</span><span class="s1">,a+</span><span class="s2">&quot;disconnect.ogg&quot;</span><span class="s1">],</span><span class="s2">&quot;disconnect&quot;</span><span class="s1">);c.load([a+</span><span class="s2">&quot;delete.mp3&quot;</span><span class="s1">,a+</span><span class="s2">&quot;delete.ogg&quot;</span><span class="s1">,a+</span><span class="s2">&quot;delete.wav&quot;</span><span class="s1">],</span><span class="s2">&quot;delete&quot;</span><span class="s1">);</span><span class="s3">var </span><span class="s1">d=[],e=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">for</span><span class="s1">(;d.length;)Blockly.unbindEvent_(d.pop());c.preload()};d.push(Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;mousemove&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,e,!</span><span class="s4">0</span><span class="s1">));d.push(Blockly.bindEventWithChecks_(document,</span><span class="s2">&quot;touchstart&quot;</span><span class="s1">,</span><span class="s3">null</span><span class="s1">,e,!</span><span class="s4">0</span><span class="s1">))};</span>
<a name="l1810"><span class="ln">1810 </span></a><span class="s1">Blockly.updateToolbox=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead.&quot;</span><span class="s1">);Blockly.getMainWorkspace().updateToolbox(a)};</span><span class="s3">var </span><span class="s1">CLOSURE_DEFINES={</span><span class="s2">&quot;goog.DEBUG&quot;</span><span class="s1">:!</span><span class="s4">1</span><span class="s1">};Blockly.mainWorkspace=</span><span class="s3">null</span><span class="s1">;Blockly.selected=</span><span class="s3">null</span><span class="s1">;Blockly.draggingConnections_=[];Blockly.clipboardXml_=</span><span class="s3">null</span><span class="s1">;Blockly.clipboardSource_=</span><span class="s3">null</span><span class="s1">;Blockly.clipboardTypeCounts_=</span><span class="s3">null</span><span class="s1">;Blockly.cache3dSupported_=</span><span class="s3">null</span><span class="s1">;Blockly.theme_=</span><span class="s3">null</span><span class="s1">;Blockly.svgSize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">{width:a.cachedWidth_,height:a.cachedHeight_}};Blockly.resizeSvgContents=</span><span class="s3">function</span><span class="s1">(a){a.resizeContents()};</span>
<a name="l1811"><span class="ln">1811 </span></a><span class="s1">Blockly.svgResize=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(;a.options.parentWorkspace;)a=a.options.parentWorkspace;</span><span class="s3">var </span><span class="s1">b=a.getParentSvg(),c=b.parentNode;</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">var </span><span class="s1">d=c.offsetWidth;c=c.offsetHeight;b.cachedWidth_!=d&amp;&amp;(b.setAttribute(</span><span class="s2">&quot;width&quot;</span><span class="s1">,d+</span><span class="s2">&quot;px&quot;</span><span class="s1">),b.cachedWidth_=d);b.cachedHeight_!=c&amp;&amp;(b.setAttribute(</span><span class="s2">&quot;height&quot;</span><span class="s1">,c+</span><span class="s2">&quot;px&quot;</span><span class="s1">),b.cachedHeight_=c);a.resize()}};</span>
<a name="l1812"><span class="ln">1812 </span></a><span class="s1">Blockly.onKeyDown_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.mainWorkspace;</span><span class="s3">if</span><span class="s1">(!(b.options.readOnly||Blockly.utils.isTargetInput(a)||b.rendered&amp;&amp;!b.isVisible())){</span><span class="s3">var </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">if</span><span class="s1">(</span><span class="s4">27</span><span class="s1">==a.keyCode)Blockly.hideChaff();</span><span class="s3">else if</span><span class="s1">(</span><span class="s4">8</span><span class="s1">==a.keyCode||</span><span class="s4">46</span><span class="s1">==a.keyCode){a.preventDefault();</span><span class="s3">if</span><span class="s1">(Blockly.Gesture.inProgress())</span><span class="s3">return</span><span class="s1">;Blockly.selected&amp;&amp;Blockly.selected.isDeletable()&amp;&amp;(c=!</span><span class="s4">0</span><span class="s1">)}</span><span class="s3">else if</span><span class="s1">(a.altKey||a.ctrlKey||a.metaKey){</span><span class="s3">if</span><span class="s1">(Blockly.Gesture.inProgress())</span><span class="s3">return</span><span class="s1">;Blockly.selected&amp;&amp;Blockly.selected.isDeletable()&amp;&amp;Blockly.selected.isMovable()&amp;&amp;</span>
<a name="l1813"><span class="ln">1813 </span></a><span class="s1">(</span><span class="s4">67</span><span class="s1">==a.keyCode?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):</span><span class="s4">88</span><span class="s1">!=a.keyCode||Blockly.selected.workspace.isFlyout||(Blockly.copy_(Blockly.selected),c=!</span><span class="s4">0</span><span class="s1">));</span><span class="s4">86</span><span class="s1">==a.keyCode?Blockly.clipboardXml_&amp;&amp;(a=Blockly.clipboardSource_,a.isFlyout&amp;&amp;(a=a.targetWorkspace),Blockly.clipboardTypeCounts_&amp;&amp;a.isCapacityAvailable(Blockly.clipboardTypeCounts_)&amp;&amp;(Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">),a.paste(Blockly.clipboardXml_),Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">))):</span><span class="s4">90</span><span class="s1">==a.keyCode&amp;&amp;(Blockly.hideChaff(),b.undo(a.shiftKey))}c&amp;&amp;!Blockly.selected.workspace.isFlyout&amp;&amp;</span>
<a name="l1814"><span class="ln">1814 </span></a><span class="s1">(Blockly.Events.setGroup(!</span><span class="s4">0</span><span class="s1">),Blockly.hideChaff(),Blockly.selected.dispose(!</span><span class="s4">0</span><span class="s1">,!</span><span class="s4">0</span><span class="s1">),Blockly.Events.setGroup(!</span><span class="s4">1</span><span class="s1">))}};Blockly.copy_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.isComment)</span><span class="s3">var </span><span class="s1">b=a.toXmlWithXY();</span><span class="s3">else</span><span class="s1">{b=Blockly.Xml.blockToDom(a,!</span><span class="s4">0</span><span class="s1">);Blockly.Xml.deleteNext(b);</span><span class="s3">var </span><span class="s1">c=a.getRelativeToSurfaceXY();b.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,a.RTL?-c.x:c.x);b.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,c.y)}Blockly.clipboardXml_=b;Blockly.clipboardSource_=a.workspace;Blockly.clipboardTypeCounts_=a.isComment?</span><span class="s3">null</span><span class="s1">:Blockly.utils.getBlockTypeCounts(a,!</span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1815"><span class="ln">1815 </span></a><span class="s1">Blockly.duplicate_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=Blockly.clipboardXml_,c=Blockly.clipboardSource_;Blockly.copy_(a);a.workspace.paste(Blockly.clipboardXml_);Blockly.clipboardXml_=b;Blockly.clipboardSource_=c};Blockly.onContextMenu_=</span><span class="s3">function</span><span class="s1">(a){Blockly.utils.isTargetInput(a)||a.preventDefault()};</span>
<a name="l1816"><span class="ln">1816 </span></a><span class="s1">Blockly.hideChaff=</span><span class="s3">function</span><span class="s1">(a){Blockly.Tooltip.hide();Blockly.WidgetDiv.hide();Blockly.DropDownDiv.hideWithoutAnimation();</span><span class="s3">var </span><span class="s1">b=Blockly.getMainWorkspace();b.trashcan&amp;&amp;b.trashcan.flyout_&amp;&amp;b.trashcan.flyout_.hide();a||b.toolbox_&amp;&amp;b.toolbox_.flyout_&amp;&amp;b.toolbox_.flyout_.autoClose&amp;&amp;b.toolbox_.clearSelection()};Blockly.addChangeListener=</span><span class="s3">function</span><span class="s1">(a){console.warn(</span><span class="s2">&quot;Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead.&quot;</span><span class="s1">);</span><span class="s3">return </span><span class="s1">Blockly.getMainWorkspace().addChangeListener(a)};</span>
<a name="l1817"><span class="ln">1817 </span></a><span class="s1">Blockly.getMainWorkspace=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.mainWorkspace};Blockly.alert=</span><span class="s3">function</span><span class="s1">(a,b){alert(a);b&amp;&amp;b()};Blockly.confirm=</span><span class="s3">function</span><span class="s1">(a,b){b(confirm(a))};Blockly.prompt=</span><span class="s3">function</span><span class="s1">(a,b,c){c(prompt(a,b))};Blockly.jsonInitFactory_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return function</span><span class="s1">(){</span><span class="s3">this</span><span class="s1">.jsonInit(a)}};</span>
<a name="l1818"><span class="ln">1818 </span></a><span class="s1">Blockly.defineBlocksWithJsonArray=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">;b&lt;a.length;b++){</span><span class="s3">var </span><span class="s1">c=a[b];</span><span class="s3">if</span><span class="s1">(c){</span><span class="s3">var </span><span class="s1">d=c.type;</span><span class="s3">null</span><span class="s1">==d||</span><span class="s2">&quot;&quot;</span><span class="s1">===d?console.warn(</span><span class="s2">&quot;Block definition #&quot;</span><span class="s1">+b+</span><span class="s2">&quot; in JSON array is missing a type attribute. Skipping.&quot;</span><span class="s1">):(Blockly.Blocks[d]&amp;&amp;console.warn(</span><span class="s2">&quot;Block definition #&quot;</span><span class="s1">+b+</span><span class="s2">' in JSON array overwrites prior definition of &quot;'</span><span class="s1">+d+</span><span class="s2">'&quot;.'</span><span class="s1">),Blockly.Blocks[d]={init:Blockly.jsonInitFactory_(c)})}</span><span class="s3">else </span><span class="s1">console.warn(</span><span class="s2">&quot;Block definition #&quot;</span><span class="s1">+b+</span><span class="s2">&quot; in JSON array is &quot;</span><span class="s1">+c+</span><span class="s2">&quot;. Skipping.&quot;</span><span class="s1">)}};</span>
<a name="l1819"><span class="ln">1819 </span></a><span class="s1">Blockly.bindEventWithChecks_=</span><span class="s3">function</span><span class="s1">(a,b,c,d,e,f){</span><span class="s3">var </span><span class="s1">g=!</span><span class="s4">1</span><span class="s1">,h=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">var </span><span class="s1">b=!e;a=Blockly.Touch.splitEventByTouches(a);</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">f=</span><span class="s4">0</span><span class="s1">,h;h=a[f];f++)</span><span class="s3">if</span><span class="s1">(!b||Blockly.Touch.shouldHandleEvent(h))Blockly.Touch.setClientFromTouch(h),c?d.call(c,h):d(h),g=!</span><span class="s4">0</span><span class="s1">},k=[];</span><span class="s3">if</span><span class="s1">(Blockly.utils.global.PointerEvent&amp;&amp;b </span><span class="s3">in </span><span class="s1">Blockly.Touch.TOUCH_MAP)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">l=</span><span class="s4">0</span><span class="s1">,n;n=Blockly.Touch.TOUCH_MAP[b][l];l++)a.addEventListener(n,h,!</span><span class="s4">1</span><span class="s1">),k.push([a,n,h]);</span><span class="s3">else if</span><span class="s1">(a.addEventListener(b,h,!</span><span class="s4">1</span><span class="s1">),k.push([a,b,h]),b </span><span class="s3">in </span><span class="s1">Blockly.Touch.TOUCH_MAP){</span><span class="s3">var </span><span class="s1">m=</span>
<a name="l1820"><span class="ln">1820 </span></a><span class="s3">function</span><span class="s1">(a){h(a);</span><span class="s3">var </span><span class="s1">b=!f;g&amp;&amp;b&amp;&amp;a.preventDefault()};</span><span class="s3">for</span><span class="s1">(l=</span><span class="s4">0</span><span class="s1">;n=Blockly.Touch.TOUCH_MAP[b][l];l++)a.addEventListener(n,m,!</span><span class="s4">1</span><span class="s1">),k.push([a,n,m])}</span><span class="s3">return </span><span class="s1">k};</span>
<a name="l1821"><span class="ln">1821 </span></a><span class="s1">Blockly.bindEvent_=</span><span class="s3">function</span><span class="s1">(a,b,c,d){</span><span class="s3">var </span><span class="s1">e=</span><span class="s3">function</span><span class="s1">(a){c?d.call(c,a):d(a)},f=[];</span><span class="s3">if</span><span class="s1">(Blockly.utils.global.PointerEvent&amp;&amp;b </span><span class="s3">in </span><span class="s1">Blockly.Touch.TOUCH_MAP)</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">g=</span><span class="s4">0</span><span class="s1">,h;h=Blockly.Touch.TOUCH_MAP[b][g];g++)a.addEventListener(h,e,!</span><span class="s4">1</span><span class="s1">),f.push([a,h,e]);</span><span class="s3">else if</span><span class="s1">(a.addEventListener(b,e,!</span><span class="s4">1</span><span class="s1">),f.push([a,b,e]),b </span><span class="s3">in </span><span class="s1">Blockly.Touch.TOUCH_MAP){</span><span class="s3">var </span><span class="s1">k=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">if</span><span class="s1">(a.changedTouches&amp;&amp;</span><span class="s4">1</span><span class="s1">==a.changedTouches.length){</span><span class="s3">var </span><span class="s1">b=a.changedTouches[</span><span class="s4">0</span><span class="s1">];a.clientX=b.clientX;a.clientY=b.clientY}e(a);a.preventDefault()};</span><span class="s3">for</span><span class="s1">(g=</span><span class="s4">0</span><span class="s1">;h=Blockly.Touch.TOUCH_MAP[b][g];g++)a.addEventListener(h,</span>
<a name="l1822"><span class="ln">1822 </span></a><span class="s1">k,!</span><span class="s4">1</span><span class="s1">),f.push([a,h,k])}</span><span class="s3">return </span><span class="s1">f};Blockly.unbindEvent_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(;a.length;){</span><span class="s3">var </span><span class="s1">b=a.pop(),c=b[</span><span class="s4">2</span><span class="s1">];b[</span><span class="s4">0</span><span class="s1">].removeEventListener(b[</span><span class="s4">1</span><span class="s1">],c,!</span><span class="s4">1</span><span class="s1">)}</span><span class="s3">return </span><span class="s1">c};Blockly.isNumber=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return</span><span class="s1">/^\s*-?\d+(\.\d+)?\s*$/.test(a)};Blockly.hueToHex=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return </span><span class="s1">Blockly.utils.colour.hsvToHex(a,Blockly.HSV_SATURATION,</span><span class="s4">255</span><span class="s1">*Blockly.HSV_VALUE)};</span>
<a name="l1823"><span class="ln">1823 </span></a><span class="s1">Blockly.checkBlockColourConstants=</span><span class="s3">function</span><span class="s1">(){Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;LOGIC_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;logic&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;LOGIC_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Logic&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">210</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;LOOPS_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;loops&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;LOOPS_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Loops&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">120</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;MATH_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;math&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;MATH_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Math&quot;</span><span class="s1">,</span>
<a name="l1824"><span class="ln">1824 </span></a><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">230</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;TEXTS_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;texts&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;TEXTS_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Text&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">160</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;LISTS_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;lists&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;LISTS_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Lists&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">260</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;COLOUR_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;colour&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;COLOUR_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">20</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;VARIABLES_HUE&quot;</span><span class="s1">,</span>
<a name="l1825"><span class="ln">1825 </span></a><span class="s1">[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;variables&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;VARIABLES_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;Variables&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">330</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;VARIABLES_DYNAMIC_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Constants&quot;</span><span class="s1">,</span><span class="s2">&quot;VariablesDynamic&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s4">310</span><span class="s1">);Blockly.checkBlockColourConstant_(</span><span class="s2">&quot;PROCEDURES_HUE&quot;</span><span class="s1">,[</span><span class="s2">&quot;Blocks&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures&quot;</span><span class="s1">,</span><span class="s2">&quot;HUE&quot;</span><span class="s1">],</span><span class="s3">void </span><span class="s4">0</span><span class="s1">)};</span>
<a name="l1826"><span class="ln">1826 </span></a><span class="s1">Blockly.checkBlockColourConstant_=</span><span class="s3">function</span><span class="s1">(a,b,c){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">d=</span><span class="s2">&quot;Blockly&quot;</span><span class="s1">,e=Blockly,f=</span><span class="s4">0</span><span class="s1">;f&lt;b.length;++f)d+=</span><span class="s2">&quot;.&quot;</span><span class="s1">+b[f],e&amp;&amp;(e=e[b[f]]);e&amp;&amp;e!==c&amp;&amp;(a=(</span><span class="s3">void </span><span class="s4">0</span><span class="s1">===c?</span><span class="s2">'%1 has been removed. Use Blockly.Msg[&quot;%2&quot;].'</span><span class="s1">:</span><span class="s2">'%1 is deprecated and unused. Override Blockly.Msg[&quot;%2&quot;].'</span><span class="s1">).replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,d).replace(</span><span class="s2">&quot;%2&quot;</span><span class="s1">,a),console.warn(a))};Blockly.setTheme=</span><span class="s3">function</span><span class="s1">(a){Blockly.theme_=a;(a=Blockly.getMainWorkspace())&amp;&amp;Blockly.refreshTheme_(a)};</span>
<a name="l1827"><span class="ln">1827 </span></a><span class="s1">Blockly.refreshTheme_=</span><span class="s3">function</span><span class="s1">(a){Blockly.updateBlockStyles_(a.getAllBlocks().filter(</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">return void </span><span class="s4">0</span><span class="s1">!==a.getStyleName()}));!a.toolbox_&amp;&amp;a.flyout_&amp;&amp;a.flyout_.workspace_?Blockly.updateBlockStyles_(a.flyout_.workspace_.getAllBlocks()):a.refreshToolboxSelection();a.toolbox_&amp;&amp;a.toolbox_.updateColourFromTheme();</span><span class="s3">var </span><span class="s1">b=</span><span class="s3">new </span><span class="s1">Blockly.Events.Ui(</span><span class="s3">null</span><span class="s1">,</span><span class="s2">&quot;theme&quot;</span><span class="s1">);b.workspaceId=a.id;Blockly.Events.fire(b)};</span>
<a name="l1828"><span class="ln">1828 </span></a><span class="s1">Blockly.updateBlockStyles_=</span><span class="s3">function</span><span class="s1">(a){</span><span class="s3">for</span><span class="s1">(</span><span class="s3">var </span><span class="s1">b=</span><span class="s4">0</span><span class="s1">,c;c=a[b];b++){</span><span class="s3">var </span><span class="s1">d=c.getStyleName();c.setStyle(d);c.mutator&amp;&amp;c.mutator.updateBlockStyle(d)}};Blockly.getTheme=</span><span class="s3">function</span><span class="s1">(){</span><span class="s3">return </span><span class="s1">Blockly.theme_};Blockly.utils.global.Blockly||(Blockly.utils.global.Blockly={});Blockly.utils.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace;Blockly.utils.global.Blockly.addChangeListener=Blockly.addChangeListener;</span></pre>
</body>
</html>