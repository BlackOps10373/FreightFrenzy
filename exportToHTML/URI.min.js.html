<html>
<head>
<title>URI.min.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #cc7832;}
.s3 { color: #6a8759;}
.s4 { color: #6897bb;}
.s5 { color: #4646f1;}
.s6 { color: #6a8759;}
.ln { color: #606366; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
URI.min.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">/*! URI.js v1.18.10 http://medialize.github.io/URI.js/ */</span>
<a name="l2"><span class="ln">2    </span></a><span class="s0">/* build contains: IPv6.js, punycode.js, SecondLevelDomains.js, URI.js, URITemplate.js */</span>
<a name="l3"><span class="ln">3    </span></a><span class="s1">(</span><span class="s2">function</span><span class="s1">(g,k){</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">module&amp;&amp;module.exports?module.exports=k():</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">define&amp;&amp;define.amd?define(k):g.IPv6=k(g)})(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">function</span><span class="s1">(g){</span><span class="s2">var </span><span class="s1">k=g&amp;&amp;g.IPv6;</span><span class="s2">return</span><span class="s1">{best:</span><span class="s2">function</span><span class="s1">(h){h=h.toLowerCase().split(</span><span class="s3">&quot;:&quot;</span><span class="s1">);</span><span class="s2">var </span><span class="s1">l=h.length,b=</span><span class="s4">8</span><span class="s1">;</span><span class="s3">&quot;&quot;</span><span class="s1">===h[</span><span class="s4">0</span><span class="s1">]&amp;&amp;</span><span class="s3">&quot;&quot;</span><span class="s1">===h[</span><span class="s4">1</span><span class="s1">]&amp;&amp;</span><span class="s3">&quot;&quot;</span><span class="s1">===h[</span><span class="s4">2</span><span class="s1">]?(h.shift(),h.shift()):</span><span class="s3">&quot;&quot;</span><span class="s1">===h[</span><span class="s4">0</span><span class="s1">]&amp;&amp;</span><span class="s3">&quot;&quot;</span><span class="s1">===h[</span><span class="s4">1</span><span class="s1">]?h.shift():</span><span class="s3">&quot;&quot;</span><span class="s1">===h[l-1]&amp;&amp;</span><span class="s3">&quot;&quot;</span><span class="s1">===h[l-2]&amp;&amp;h.pop();l=h.length;-</span><span class="s4">1</span><span class="s1">!==h[l-1].indexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">)&amp;&amp;(b=</span><span class="s4">7</span><span class="s1">);</span><span class="s2">var </span><span class="s1">m;</span><span class="s2">for</span><span class="s1">(m=</span><span class="s4">0</span><span class="s1">;m&lt;l&amp;&amp;</span><span class="s3">&quot;&quot;</span><span class="s1">!==h[m];m++);</span><span class="s2">if</span><span class="s1">(m&lt;b)</span><span class="s2">for</span><span class="s1">(h.splice(m,</span><span class="s4">1</span><span class="s1">,</span><span class="s3">&quot;0000&quot;</span><span class="s1">);h.length&lt;b;)h.splice(m,</span><span class="s4">0</span><span class="s1">,</span><span class="s3">&quot;0000&quot;</span><span class="s1">);</span>
<a name="l4"><span class="ln">4    </span></a><span class="s2">for</span><span class="s1">(m=</span><span class="s4">0</span><span class="s1">;m&lt;b;m++){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">l=h[m].split(</span><span class="s3">&quot;&quot;</span><span class="s1">),g=</span><span class="s4">0</span><span class="s1">;</span><span class="s4">3</span><span class="s1">&gt;g;g++)</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;0&quot;</span><span class="s1">===l[</span><span class="s4">0</span><span class="s1">]&amp;&amp;</span><span class="s4">1</span><span class="s1">&lt;l.length)l.splice(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">);</span><span class="s2">else break</span><span class="s1">;h[m]=l.join(</span><span class="s3">&quot;&quot;</span><span class="s1">)}</span><span class="s2">var </span><span class="s1">l=-</span><span class="s4">1</span><span class="s1">,k=g=</span><span class="s4">0</span><span class="s1">,f=-</span><span class="s4">1</span><span class="s1">,n=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(m=</span><span class="s4">0</span><span class="s1">;m&lt;b;m++)n?</span><span class="s3">&quot;0&quot;</span><span class="s1">===h[m]?k+=</span><span class="s4">1</span><span class="s1">:(n=!</span><span class="s4">1</span><span class="s1">,k&gt;g&amp;&amp;(l=f,g=k)):</span><span class="s3">&quot;0&quot;</span><span class="s1">===h[m]&amp;&amp;(n=!</span><span class="s4">0</span><span class="s1">,f=m,k=</span><span class="s4">1</span><span class="s1">);k&gt;g&amp;&amp;(l=f,g=k);</span><span class="s4">1</span><span class="s1">&lt;g&amp;&amp;h.splice(l,g,</span><span class="s3">&quot;&quot;</span><span class="s1">);l=h.length;b=</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s3">&quot;&quot;</span><span class="s1">===h[</span><span class="s4">0</span><span class="s1">]&amp;&amp;(b=</span><span class="s3">&quot;:&quot;</span><span class="s1">);</span><span class="s2">for</span><span class="s1">(m=</span><span class="s4">0</span><span class="s1">;m&lt;l;m++){b+=h[m];</span><span class="s2">if</span><span class="s1">(m===l-1)</span><span class="s2">break</span><span class="s1">;b+=</span><span class="s3">&quot;:&quot;</span><span class="s1">}</span><span class="s3">&quot;&quot;</span><span class="s1">===h[l-1]&amp;&amp;(b+=</span><span class="s3">&quot;:&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">b},noConflict:</span><span class="s2">function</span><span class="s1">(){g.IPv6===</span><span class="s2">this</span><span class="s1">&amp;&amp;(g.IPv6=k);</span><span class="s2">return this</span><span class="s1">}}});</span>
<a name="l5"><span class="ln">5    </span></a><span class="s1">(</span><span class="s2">function</span><span class="s1">(g){</span><span class="s2">function </span><span class="s1">k(b){</span><span class="s2">throw new </span><span class="s1">RangeError(e[b]);}</span><span class="s2">function </span><span class="s1">h(b,e){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">f=b.length,h=[];f--;)h[f]=e(b[f]);</span><span class="s2">return </span><span class="s1">h}</span><span class="s2">function </span><span class="s1">l(b,e){</span><span class="s2">var </span><span class="s1">f=b.split(</span><span class="s3">&quot;@&quot;</span><span class="s1">),g=</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s4">1</span><span class="s1">&lt;f.length&amp;&amp;(g=f[</span><span class="s4">0</span><span class="s1">]+</span><span class="s3">&quot;@&quot;</span><span class="s1">,b=f[</span><span class="s4">1</span><span class="s1">]);b=b.replace(v,</span><span class="s3">&quot;.&quot;</span><span class="s1">);f=b.split(</span><span class="s3">&quot;.&quot;</span><span class="s1">);f=h(f,e).join(</span><span class="s3">&quot;.&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">g+f}</span><span class="s2">function </span><span class="s1">b(b){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">e=[],f=</span><span class="s4">0</span><span class="s1">,h=b.length,g,a;f&lt;h;)g=b.charCodeAt(f++),</span><span class="s4">55296</span><span class="s1">&lt;=g&amp;&amp;</span><span class="s4">56319</span><span class="s1">&gt;=g&amp;&amp;f&lt;h?(a=b.charCodeAt(f++),</span><span class="s4">56320</span><span class="s1">==(a&amp;</span><span class="s4">64512</span><span class="s1">)?e.push(((g&amp;</span><span class="s4">1023</span><span class="s1">)&lt;&lt;</span><span class="s4">10</span><span class="s1">)+(a&amp;</span><span class="s4">1023</span><span class="s1">)+</span><span class="s4">65536</span><span class="s1">):(e.push(g),f--)):e.push(g);</span><span class="s2">return </span><span class="s1">e}</span><span class="s2">function </span><span class="s1">m(b){</span><span class="s2">return </span><span class="s1">h(b,</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">var </span><span class="s1">e=</span>
<a name="l6"><span class="ln">6    </span></a><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s4">65535</span><span class="s1">&lt;b&amp;&amp;(b-=</span><span class="s4">65536</span><span class="s1">,e+=r(b&gt;&gt;&gt;</span><span class="s4">10</span><span class="s1">&amp;</span><span class="s4">1023</span><span class="s1">|</span><span class="s4">55296</span><span class="s1">),b=</span><span class="s4">56320</span><span class="s1">|b&amp;</span><span class="s4">1023</span><span class="s1">);</span><span class="s2">return </span><span class="s1">e+=r(b)}).join(</span><span class="s3">&quot;&quot;</span><span class="s1">)}</span><span class="s2">function </span><span class="s1">A(b,e){</span><span class="s2">return </span><span class="s1">b+</span><span class="s4">22</span><span class="s1">+</span><span class="s4">75</span><span class="s1">*(</span><span class="s4">26</span><span class="s1">&gt;b)-((</span><span class="s4">0</span><span class="s1">!=e)&lt;&lt;</span><span class="s4">5</span><span class="s1">)}</span><span class="s2">function </span><span class="s1">u(b,e,f){</span><span class="s2">var </span><span class="s1">h=</span><span class="s4">0</span><span class="s1">;b=f?q(b/</span><span class="s4">700</span><span class="s1">):b&gt;&gt;</span><span class="s4">1</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(b+=q(b/e);</span><span class="s4">455</span><span class="s1">&lt;b;h+=</span><span class="s4">36</span><span class="s1">)b=q(b/</span><span class="s4">35</span><span class="s1">);</span><span class="s2">return </span><span class="s1">q(h+</span><span class="s4">36</span><span class="s1">*b/(b+</span><span class="s4">38</span><span class="s1">))}</span><span class="s2">function </span><span class="s1">f(b){</span><span class="s2">var </span><span class="s1">e=[],f=b.length,h,g=</span><span class="s4">0</span><span class="s1">,a=</span><span class="s4">128</span><span class="s1">,c=</span><span class="s4">72</span><span class="s1">,d,p,t,w,l;d=b.lastIndexOf(</span><span class="s3">&quot;-&quot;</span><span class="s1">);</span><span class="s4">0</span><span class="s1">&gt;d&amp;&amp;(d=</span><span class="s4">0</span><span class="s1">);</span><span class="s2">for</span><span class="s1">(p=</span><span class="s4">0</span><span class="s1">;p&lt;d;++p)</span><span class="s4">128</span><span class="s1">&lt;=b.charCodeAt(p)&amp;&amp;k(</span><span class="s3">&quot;not-basic&quot;</span><span class="s1">),e.push(b.charCodeAt(p));</span><span class="s2">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">&lt;d?d+</span><span class="s4">1</span><span class="s1">:</span><span class="s4">0</span><span class="s1">;d&lt;f;){p=g;h=</span><span class="s4">1</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(t=</span><span class="s4">36</span><span class="s1">;;t+=</span><span class="s4">36</span><span class="s1">){d&gt;=f&amp;&amp;k(</span><span class="s3">&quot;invalid-input&quot;</span><span class="s1">);w=b.charCodeAt(d++);</span>
<a name="l7"><span class="ln">7    </span></a><span class="s1">w=</span><span class="s4">10</span><span class="s1">&gt;w-48?w-22:</span><span class="s4">26</span><span class="s1">&gt;w-65?w-65:</span><span class="s4">26</span><span class="s1">&gt;w-97?w-97:</span><span class="s4">36</span><span class="s1">;(</span><span class="s4">36</span><span class="s1">&lt;=w||w&gt;q((</span><span class="s4">2147483647</span><span class="s1">-g)/h))&amp;&amp;k(</span><span class="s3">&quot;overflow&quot;</span><span class="s1">);g+=w*h;l=t&lt;=c?</span><span class="s4">1</span><span class="s1">:t&gt;=c+</span><span class="s4">26</span><span class="s1">?</span><span class="s4">26</span><span class="s1">:t-c;</span><span class="s2">if</span><span class="s1">(w&lt;l)</span><span class="s2">break</span><span class="s1">;w=</span><span class="s4">36</span><span class="s1">-l;h&gt;q(</span><span class="s4">2147483647</span><span class="s1">/w)&amp;&amp;k(</span><span class="s3">&quot;overflow&quot;</span><span class="s1">);h*=w}h=e.length+</span><span class="s4">1</span><span class="s1">;c=u(g-p,h,</span><span class="s4">0</span><span class="s1">==p);q(g/h)&gt;</span><span class="s4">2147483647</span><span class="s1">-a&amp;&amp;k(</span><span class="s3">&quot;overflow&quot;</span><span class="s1">);a+=q(g/h);g%=h;e.splice(g++,</span><span class="s4">0</span><span class="s1">,a)}</span><span class="s2">return </span><span class="s1">m(e)}</span><span class="s2">function </span><span class="s1">n(e){</span><span class="s2">var </span><span class="s1">f,h,g,l,a,c,d,p,t,w=[],n,m,z;e=b(e);n=e.length;f=</span><span class="s4">128</span><span class="s1">;h=</span><span class="s4">0</span><span class="s1">;a=</span><span class="s4">72</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;n;++c)t=e[c],</span><span class="s4">128</span><span class="s1">&gt;t&amp;&amp;w.push(r(t));</span><span class="s2">for</span><span class="s1">((g=l=w.length)&amp;&amp;w.push(</span><span class="s3">&quot;-&quot;</span><span class="s1">);g&lt;n;){d=</span><span class="s4">2147483647</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;n;++c)t=e[c],t&gt;=f&amp;&amp;t&lt;d&amp;&amp;(d=t);</span>
<a name="l8"><span class="ln">8    </span></a><span class="s1">m=g+</span><span class="s4">1</span><span class="s1">;d-f&gt;q((</span><span class="s4">2147483647</span><span class="s1">-h)/m)&amp;&amp;k(</span><span class="s3">&quot;overflow&quot;</span><span class="s1">);h+=(d-f)*m;f=d;</span><span class="s2">for</span><span class="s1">(c=</span><span class="s4">0</span><span class="s1">;c&lt;n;++c)</span><span class="s2">if</span><span class="s1">(t=e[c],t&lt;f&amp;&amp;</span><span class="s4">2147483647</span><span class="s1">&lt;++h&amp;&amp;k(</span><span class="s3">&quot;overflow&quot;</span><span class="s1">),t==f){p=h;</span><span class="s2">for</span><span class="s1">(d=</span><span class="s4">36</span><span class="s1">;;d+=</span><span class="s4">36</span><span class="s1">){t=d&lt;=a?</span><span class="s4">1</span><span class="s1">:d&gt;=a+</span><span class="s4">26</span><span class="s1">?</span><span class="s4">26</span><span class="s1">:d-a;</span><span class="s2">if</span><span class="s1">(p&lt;t)</span><span class="s2">break</span><span class="s1">;z=p-t;p=</span><span class="s4">36</span><span class="s1">-t;w.push(r(A(t+z%p,</span><span class="s4">0</span><span class="s1">)));p=q(z/p)}w.push(r(A(p,</span><span class="s4">0</span><span class="s1">)));a=u(h,m,g==l);h=</span><span class="s4">0</span><span class="s1">;++g}++h;++f}</span><span class="s2">return </span><span class="s1">w.join(</span><span class="s3">&quot;&quot;</span><span class="s1">)}</span><span class="s2">var </span><span class="s1">B=</span><span class="s3">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof </span><span class="s1">exports&amp;&amp;exports&amp;&amp;!exports.nodeType&amp;&amp;exports,z=</span><span class="s3">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof </span><span class="s1">module&amp;&amp;module&amp;&amp;!module.nodeType&amp;&amp;module,D=</span><span class="s3">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof </span><span class="s1">global&amp;&amp;global;</span><span class="s2">if</span><span class="s1">(D.global===D||D.window===D||D.self===D)g=</span>
<a name="l9"><span class="ln">9    </span></a><span class="s1">D;</span><span class="s2">var </span><span class="s1">y,E=/^xn--/,x=/[^\x20-\x7E]/,v=/[\x2E\u3002\uFF0E\uFF61]/g,e={overflow:</span><span class="s3">&quot;Overflow: input needs wider integers to process&quot;</span><span class="s1">,</span><span class="s3">&quot;not-basic&quot;</span><span class="s1">:</span><span class="s3">&quot;Illegal input &gt;= 0x80 (not a basic code point)&quot;</span><span class="s1">,</span><span class="s3">&quot;invalid-input&quot;</span><span class="s1">:</span><span class="s3">&quot;Invalid input&quot;</span><span class="s1">},q=Math.floor,r=String.fromCharCode,C;y={version:</span><span class="s3">&quot;1.3.2&quot;</span><span class="s1">,ucs2:{decode:b,encode:m},decode:f,encode:n,toASCII:</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">return </span><span class="s1">l(b,</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">return </span><span class="s1">x.test(b)?</span><span class="s3">&quot;xn--&quot;</span><span class="s1">+n(b):b})},toUnicode:</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">return </span><span class="s1">l(b,</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">return </span><span class="s1">E.test(b)?f(b.slice(</span><span class="s4">4</span><span class="s1">).toLowerCase()):b})}};</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;function&quot;</span><span class="s1">==</span>
<a name="l10"><span class="ln">10   </span></a><span class="s2">typeof </span><span class="s1">define&amp;&amp;</span><span class="s3">&quot;object&quot;</span><span class="s1">==</span><span class="s2">typeof </span><span class="s1">define.amd&amp;&amp;define.amd)define(</span><span class="s3">&quot;punycode&quot;</span><span class="s1">,</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">return </span><span class="s1">y});</span><span class="s2">else if</span><span class="s1">(B&amp;&amp;z)</span><span class="s2">if</span><span class="s1">(module.exports==B)z.exports=y;</span><span class="s2">else for</span><span class="s1">(C </span><span class="s2">in </span><span class="s1">y)y.hasOwnProperty(C)&amp;&amp;(B[C]=y[C]);</span><span class="s2">else </span><span class="s1">g.punycode=y})(</span><span class="s2">this</span><span class="s1">);</span>
<a name="l11"><span class="ln">11   </span></a><span class="s1">(</span><span class="s2">function</span><span class="s1">(g,k){</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">module&amp;&amp;module.exports?module.exports=k():</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">define&amp;&amp;define.amd?define(k):g.SecondLevelDomains=k(g)})(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">function</span><span class="s1">(g){</span><span class="s2">var </span><span class="s1">k=g&amp;&amp;g.SecondLevelDomains,h={list:{ac:</span><span class="s3">&quot; com gov mil net org &quot;</span><span class="s1">,ae:</span><span class="s3">&quot; ac co gov mil name net org pro sch &quot;</span><span class="s1">,af:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,al:</span><span class="s3">&quot; com edu gov mil net org &quot;</span><span class="s1">,ao:</span><span class="s3">&quot; co ed gv it og pb &quot;</span><span class="s1">,ar:</span><span class="s3">&quot; com edu gob gov int mil net org tur &quot;</span><span class="s1">,at:</span><span class="s3">&quot; ac co gv or &quot;</span><span class="s1">,au:</span><span class="s3">&quot; asn com csiro edu gov id net org &quot;</span><span class="s1">,ba:</span><span class="s3">&quot; co com edu gov mil net org rs unbi unmo unsa untz unze &quot;</span><span class="s1">,</span>
<a name="l12"><span class="ln">12   </span></a><span class="s1">bb:</span><span class="s3">&quot; biz co com edu gov info net org store tv &quot;</span><span class="s1">,bh:</span><span class="s3">&quot; biz cc com edu gov info net org &quot;</span><span class="s1">,bn:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,bo:</span><span class="s3">&quot; com edu gob gov int mil net org tv &quot;</span><span class="s1">,br:</span><span class="s3">&quot; adm adv agr am arq art ato b bio blog bmd cim cng cnt com coop ecn edu eng esp etc eti far flog fm fnd fot fst g12 ggf gov imb ind inf jor jus lel mat med mil mus net nom not ntr odo org ppg pro psc psi qsl rec slg srv tmp trd tur tv vet vlog wiki zlg &quot;</span><span class="s1">,bs:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,bz:</span><span class="s3">&quot; du et om ov rg &quot;</span><span class="s1">,ca:</span><span class="s3">&quot; ab bc mb nb nf nl ns nt nu on pe qc sk yk &quot;</span><span class="s1">,</span>
<a name="l13"><span class="ln">13   </span></a><span class="s1">ck:</span><span class="s3">&quot; biz co edu gen gov info net org &quot;</span><span class="s1">,cn:</span><span class="s3">&quot; ac ah bj com cq edu fj gd gov gs gx gz ha hb he hi hl hn jl js jx ln mil net nm nx org qh sc sd sh sn sx tj tw xj xz yn zj &quot;</span><span class="s1">,co:</span><span class="s3">&quot; com edu gov mil net nom org &quot;</span><span class="s1">,cr:</span><span class="s3">&quot; ac c co ed fi go or sa &quot;</span><span class="s1">,cy:</span><span class="s3">&quot; ac biz com ekloges gov ltd name net org parliament press pro tm &quot;</span><span class="s1">,</span><span class="s3">&quot;do&quot;</span><span class="s1">:</span><span class="s3">&quot; art com edu gob gov mil net org sld web &quot;</span><span class="s1">,dz:</span><span class="s3">&quot; art asso com edu gov net org pol &quot;</span><span class="s1">,ec:</span><span class="s3">&quot; com edu fin gov info med mil net org pro &quot;</span><span class="s1">,eg:</span><span class="s3">&quot; com edu eun gov mil name net org sci &quot;</span><span class="s1">,er:</span><span class="s3">&quot; com edu gov ind mil net org rochest w &quot;</span><span class="s1">,</span>
<a name="l14"><span class="ln">14   </span></a><span class="s1">es:</span><span class="s3">&quot; com edu gob nom org &quot;</span><span class="s1">,et:</span><span class="s3">&quot; biz com edu gov info name net org &quot;</span><span class="s1">,fj:</span><span class="s3">&quot; ac biz com info mil name net org pro &quot;</span><span class="s1">,fk:</span><span class="s3">&quot; ac co gov net nom org &quot;</span><span class="s1">,fr:</span><span class="s3">&quot; asso com f gouv nom prd presse tm &quot;</span><span class="s1">,gg:</span><span class="s3">&quot; co net org &quot;</span><span class="s1">,gh:</span><span class="s3">&quot; com edu gov mil org &quot;</span><span class="s1">,gn:</span><span class="s3">&quot; ac com gov net org &quot;</span><span class="s1">,gr:</span><span class="s3">&quot; com edu gov mil net org &quot;</span><span class="s1">,gt:</span><span class="s3">&quot; com edu gob ind mil net org &quot;</span><span class="s1">,gu:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,hk:</span><span class="s3">&quot; com edu gov idv net org &quot;</span><span class="s1">,hu:</span><span class="s3">&quot; 2000 agrar bolt casino city co erotica erotika film forum games hotel info ingatlan jogasz konyvelo lakas media news org priv reklam sex shop sport suli szex tm tozsde utazas video &quot;</span><span class="s1">,</span>
<a name="l15"><span class="ln">15   </span></a><span class="s1">id:</span><span class="s3">&quot; ac co go mil net or sch web &quot;</span><span class="s1">,il:</span><span class="s3">&quot; ac co gov idf k12 muni net org &quot;</span><span class="s1">,</span><span class="s3">&quot;in&quot;</span><span class="s1">:</span><span class="s3">&quot; ac co edu ernet firm gen gov i ind mil net nic org res &quot;</span><span class="s1">,iq:</span><span class="s3">&quot; com edu gov i mil net org &quot;</span><span class="s1">,ir:</span><span class="s3">&quot; ac co dnssec gov i id net org sch &quot;</span><span class="s1">,it:</span><span class="s3">&quot; edu gov &quot;</span><span class="s1">,je:</span><span class="s3">&quot; co net org &quot;</span><span class="s1">,jo:</span><span class="s3">&quot; com edu gov mil name net org sch &quot;</span><span class="s1">,jp:</span><span class="s3">&quot; ac ad co ed go gr lg ne or &quot;</span><span class="s1">,ke:</span><span class="s3">&quot; ac co go info me mobi ne or sc &quot;</span><span class="s1">,kh:</span><span class="s3">&quot; com edu gov mil net org per &quot;</span><span class="s1">,ki:</span><span class="s3">&quot; biz com de edu gov info mob net org tel &quot;</span><span class="s1">,km:</span><span class="s3">&quot; asso com coop edu gouv k medecin mil nom notaires pharmaciens presse tm veterinaire &quot;</span><span class="s1">,</span>
<a name="l16"><span class="ln">16   </span></a><span class="s1">kn:</span><span class="s3">&quot; edu gov net org &quot;</span><span class="s1">,kr:</span><span class="s3">&quot; ac busan chungbuk chungnam co daegu daejeon es gangwon go gwangju gyeongbuk gyeonggi gyeongnam hs incheon jeju jeonbuk jeonnam k kg mil ms ne or pe re sc seoul ulsan &quot;</span><span class="s1">,kw:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,ky:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,kz:</span><span class="s3">&quot; com edu gov mil net org &quot;</span><span class="s1">,lb:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,lk:</span><span class="s3">&quot; assn com edu gov grp hotel int ltd net ngo org sch soc web &quot;</span><span class="s1">,lr:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,lv:</span><span class="s3">&quot; asn com conf edu gov id mil net org &quot;</span><span class="s1">,ly:</span><span class="s3">&quot; com edu gov id med net org plc sch &quot;</span><span class="s1">,ma:</span><span class="s3">&quot; ac co gov m net org press &quot;</span><span class="s1">,</span>
<a name="l17"><span class="ln">17   </span></a><span class="s1">mc:</span><span class="s3">&quot; asso tm &quot;</span><span class="s1">,me:</span><span class="s3">&quot; ac co edu gov its net org priv &quot;</span><span class="s1">,mg:</span><span class="s3">&quot; com edu gov mil nom org prd tm &quot;</span><span class="s1">,mk:</span><span class="s3">&quot; com edu gov inf name net org pro &quot;</span><span class="s1">,ml:</span><span class="s3">&quot; com edu gov net org presse &quot;</span><span class="s1">,mn:</span><span class="s3">&quot; edu gov org &quot;</span><span class="s1">,mo:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,mt:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,mv:</span><span class="s3">&quot; aero biz com coop edu gov info int mil museum name net org pro &quot;</span><span class="s1">,mw:</span><span class="s3">&quot; ac co com coop edu gov int museum net org &quot;</span><span class="s1">,mx:</span><span class="s3">&quot; com edu gob net org &quot;</span><span class="s1">,my:</span><span class="s3">&quot; com edu gov mil name net org sch &quot;</span><span class="s1">,nf:</span><span class="s3">&quot; arts com firm info net other per rec store web &quot;</span><span class="s1">,ng:</span><span class="s3">&quot; biz com edu gov mil mobi name net org sch &quot;</span><span class="s1">,</span>
<a name="l18"><span class="ln">18   </span></a><span class="s1">ni:</span><span class="s3">&quot; ac co com edu gob mil net nom org &quot;</span><span class="s1">,np:</span><span class="s3">&quot; com edu gov mil net org &quot;</span><span class="s1">,nr:</span><span class="s3">&quot; biz com edu gov info net org &quot;</span><span class="s1">,om:</span><span class="s3">&quot; ac biz co com edu gov med mil museum net org pro sch &quot;</span><span class="s1">,pe:</span><span class="s3">&quot; com edu gob mil net nom org sld &quot;</span><span class="s1">,ph:</span><span class="s3">&quot; com edu gov i mil net ngo org &quot;</span><span class="s1">,pk:</span><span class="s3">&quot; biz com edu fam gob gok gon gop gos gov net org web &quot;</span><span class="s1">,pl:</span><span class="s3">&quot; art bialystok biz com edu gda gdansk gorzow gov info katowice krakow lodz lublin mil net ngo olsztyn org poznan pwr radom slupsk szczecin torun warszawa waw wroc wroclaw zgora &quot;</span><span class="s1">,pr:</span><span class="s3">&quot; ac biz com edu est gov info isla name net org pro prof &quot;</span><span class="s1">,</span>
<a name="l19"><span class="ln">19   </span></a><span class="s1">ps:</span><span class="s3">&quot; com edu gov net org plo sec &quot;</span><span class="s1">,pw:</span><span class="s3">&quot; belau co ed go ne or &quot;</span><span class="s1">,ro:</span><span class="s3">&quot; arts com firm info nom nt org rec store tm www &quot;</span><span class="s1">,rs:</span><span class="s3">&quot; ac co edu gov in org &quot;</span><span class="s1">,sb:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,sc:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,sh:</span><span class="s3">&quot; co com edu gov net nom org &quot;</span><span class="s1">,sl:</span><span class="s3">&quot; com edu gov net org &quot;</span><span class="s1">,st:</span><span class="s3">&quot; co com consulado edu embaixada gov mil net org principe saotome store &quot;</span><span class="s1">,sv:</span><span class="s3">&quot; com edu gob org red &quot;</span><span class="s1">,sz:</span><span class="s3">&quot; ac co org &quot;</span><span class="s1">,tr:</span><span class="s3">&quot; av bbs bel biz com dr edu gen gov info k12 name net org pol tel tsk tv web &quot;</span><span class="s1">,tt:</span><span class="s3">&quot; aero biz cat co com coop edu gov info int jobs mil mobi museum name net org pro tel travel &quot;</span><span class="s1">,</span>
<a name="l20"><span class="ln">20   </span></a><span class="s1">tw:</span><span class="s3">&quot; club com ebiz edu game gov idv mil net org &quot;</span><span class="s1">,mu:</span><span class="s3">&quot; ac co com gov net or org &quot;</span><span class="s1">,mz:</span><span class="s3">&quot; ac co edu gov org &quot;</span><span class="s1">,na:</span><span class="s3">&quot; co com &quot;</span><span class="s1">,nz:</span><span class="s3">&quot; ac co cri geek gen govt health iwi maori mil net org parliament school &quot;</span><span class="s1">,pa:</span><span class="s3">&quot; abo ac com edu gob ing med net nom org sld &quot;</span><span class="s1">,pt:</span><span class="s3">&quot; com edu gov int net nome org publ &quot;</span><span class="s1">,py:</span><span class="s3">&quot; com edu gov mil net org &quot;</span><span class="s1">,qa:</span><span class="s3">&quot; com edu gov mil net org &quot;</span><span class="s1">,re:</span><span class="s3">&quot; asso com nom &quot;</span><span class="s1">,ru:</span><span class="s3">&quot; ac adygeya altai amur arkhangelsk astrakhan bashkiria belgorod bir bryansk buryatia cbg chel chelyabinsk chita chukotka chuvashia com dagestan e-burg edu gov grozny int irkutsk ivanovo izhevsk jar joshkar-ola kalmykia kaluga kamchatka karelia kazan kchr kemerovo khabarovsk khakassia khv kirov koenig komi kostroma kranoyarsk kuban kurgan kursk lipetsk magadan mari mari-el marine mil mordovia mosreg msk murmansk nalchik net nnov nov novosibirsk nsk omsk orenburg org oryol penza perm pp pskov ptz rnd ryazan sakhalin samara saratov simbirsk smolensk spb stavropol stv surgut tambov tatarstan tom tomsk tsaritsyn tsk tula tuva tver tyumen udm udmurtia ulan-ude vladikavkaz vladimir vladivostok volgograd vologda voronezh vrn vyatka yakutia yamal yekaterinburg yuzhno-sakhalinsk &quot;</span><span class="s1">,</span>
<a name="l21"><span class="ln">21   </span></a><span class="s1">rw:</span><span class="s3">&quot; ac co com edu gouv gov int mil net &quot;</span><span class="s1">,sa:</span><span class="s3">&quot; com edu gov med net org pub sch &quot;</span><span class="s1">,sd:</span><span class="s3">&quot; com edu gov info med net org tv &quot;</span><span class="s1">,se:</span><span class="s3">&quot; a ac b bd c d e f g h i k l m n o org p parti pp press r s t tm u w x y z &quot;</span><span class="s1">,sg:</span><span class="s3">&quot; com edu gov idn net org per &quot;</span><span class="s1">,sn:</span><span class="s3">&quot; art com edu gouv org perso univ &quot;</span><span class="s1">,sy:</span><span class="s3">&quot; com edu gov mil net news org &quot;</span><span class="s1">,th:</span><span class="s3">&quot; ac co go in mi net or &quot;</span><span class="s1">,tj:</span><span class="s3">&quot; ac biz co com edu go gov info int mil name net nic org test web &quot;</span><span class="s1">,tn:</span><span class="s3">&quot; agrinet com defense edunet ens fin gov ind info intl mincom nat net org perso rnrt rns rnu tourism &quot;</span><span class="s1">,</span>
<a name="l22"><span class="ln">22   </span></a><span class="s1">tz:</span><span class="s3">&quot; ac co go ne or &quot;</span><span class="s1">,ua:</span><span class="s3">&quot; biz cherkassy chernigov chernovtsy ck cn co com crimea cv dn dnepropetrovsk donetsk dp edu gov if in ivano-frankivsk kh kharkov kherson khmelnitskiy kiev kirovograd km kr ks kv lg lugansk lutsk lviv me mk net nikolaev od odessa org pl poltava pp rovno rv sebastopol sumy te ternopil uzhgorod vinnica vn zaporizhzhe zhitomir zp zt &quot;</span><span class="s1">,ug:</span><span class="s3">&quot; ac co go ne or org sc &quot;</span><span class="s1">,uk:</span><span class="s3">&quot; ac bl british-library co cym gov govt icnet jet lea ltd me mil mod national-library-scotland nel net nhs nic nls org orgn parliament plc police sch scot soc &quot;</span><span class="s1">,</span>
<a name="l23"><span class="ln">23   </span></a><span class="s1">us:</span><span class="s3">&quot; dni fed isa kids nsn &quot;</span><span class="s1">,uy:</span><span class="s3">&quot; com edu gub mil net org &quot;</span><span class="s1">,ve:</span><span class="s3">&quot; co com edu gob info mil net org web &quot;</span><span class="s1">,vi:</span><span class="s3">&quot; co com k12 net org &quot;</span><span class="s1">,vn:</span><span class="s3">&quot; ac biz com edu gov health info int name net org pro &quot;</span><span class="s1">,ye:</span><span class="s3">&quot; co com gov ltd me net org plc &quot;</span><span class="s1">,yu:</span><span class="s3">&quot; ac co edu gov org &quot;</span><span class="s1">,za:</span><span class="s3">&quot; ac agric alt bourse city co cybernet db edu gov grondar iaccess imt inca landesign law mil net ngo nis nom olivetti org pix school tm web &quot;</span><span class="s1">,zm:</span><span class="s3">&quot; ac co com edu gov net org sch &quot;</span><span class="s1">,com:</span><span class="s3">&quot;ar br cn de eu gb gr hu jpn kr no qc ru sa se uk us uy za &quot;</span><span class="s1">,net:</span><span class="s3">&quot;gb jp se uk &quot;</span><span class="s1">,</span>
<a name="l24"><span class="ln">24   </span></a><span class="s1">org:</span><span class="s3">&quot;ae&quot;</span><span class="s1">,de:</span><span class="s3">&quot;com &quot;</span><span class="s1">},has:</span><span class="s2">function</span><span class="s1">(g){</span><span class="s2">var </span><span class="s1">b=g.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=b||b&gt;=g.length-1)</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">var </span><span class="s1">l=g.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">,b-1);</span><span class="s2">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=l||l&gt;=b-1)</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">var </span><span class="s1">k=h.list[g.slice(b+</span><span class="s4">1</span><span class="s1">)];</span><span class="s2">return </span><span class="s1">k?</span><span class="s4">0</span><span class="s1">&lt;=k.indexOf(</span><span class="s3">&quot; &quot;</span><span class="s1">+g.slice(l+</span><span class="s4">1</span><span class="s1">,b)+</span><span class="s3">&quot; &quot;</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">},is:</span><span class="s2">function</span><span class="s1">(g){</span><span class="s2">var </span><span class="s1">b=g.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=b||b&gt;=g.length-1||</span><span class="s4">0</span><span class="s1">&lt;=g.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">,b-1))</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">var </span><span class="s1">l=h.list[g.slice(b+</span><span class="s4">1</span><span class="s1">)];</span><span class="s2">return </span><span class="s1">l?</span><span class="s4">0</span><span class="s1">&lt;=l.indexOf(</span><span class="s3">&quot; &quot;</span><span class="s1">+g.slice(</span><span class="s4">0</span><span class="s1">,b)+</span><span class="s3">&quot; &quot;</span><span class="s1">):!</span><span class="s4">1</span><span class="s1">},get:</span><span class="s2">function</span><span class="s1">(g){</span><span class="s2">var </span><span class="s1">b=g.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=b||b&gt;=g.length-1)</span><span class="s2">return null</span><span class="s1">;</span><span class="s2">var </span><span class="s1">l=g.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">,b-1);</span>
<a name="l25"><span class="ln">25   </span></a><span class="s2">if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">&gt;=l||l&gt;=b-1)</span><span class="s2">return null</span><span class="s1">;</span><span class="s2">var </span><span class="s1">k=h.list[g.slice(b+</span><span class="s4">1</span><span class="s1">)];</span><span class="s2">return</span><span class="s1">!k||</span><span class="s4">0</span><span class="s1">&gt;k.indexOf(</span><span class="s3">&quot; &quot;</span><span class="s1">+g.slice(l+</span><span class="s4">1</span><span class="s1">,b)+</span><span class="s3">&quot; &quot;</span><span class="s1">)?</span><span class="s2">null</span><span class="s1">:g.slice(l+</span><span class="s4">1</span><span class="s1">)},noConflict:</span><span class="s2">function</span><span class="s1">(){g.SecondLevelDomains===</span><span class="s2">this</span><span class="s1">&amp;&amp;(g.SecondLevelDomains=k);</span><span class="s2">return this</span><span class="s1">}};</span><span class="s2">return </span><span class="s1">h});</span>
<a name="l26"><span class="ln">26   </span></a><span class="s1">(</span><span class="s2">function</span><span class="s1">(g,k){</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">module&amp;&amp;module.exports?module.exports=k(require(</span><span class="s3">&quot;./punycode&quot;</span><span class="s1">),require(</span><span class="s3">&quot;./IPv6&quot;</span><span class="s1">),require(</span><span class="s3">&quot;./SecondLevelDomains&quot;</span><span class="s1">)):</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">define&amp;&amp;define.amd?define([</span><span class="s3">&quot;./punycode&quot;</span><span class="s1">,</span><span class="s3">&quot;./IPv6&quot;</span><span class="s1">,</span><span class="s3">&quot;./SecondLevelDomains&quot;</span><span class="s1">],k):g.URI=k(g.punycode,g.IPv6,g.SecondLevelDomains,g)})(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">function</span><span class="s1">(g,k,h,l){</span><span class="s2">function </span><span class="s1">b(a,c){</span><span class="s2">var </span><span class="s1">d=</span><span class="s4">1</span><span class="s1">&lt;=arguments.length,p=</span><span class="s4">2</span><span class="s1">&lt;=arguments.length;</span><span class="s2">if</span><span class="s1">(!(</span><span class="s2">this instanceof </span><span class="s1">b))</span><span class="s2">return </span><span class="s1">d?p?</span><span class="s2">new </span><span class="s1">b(a,c):</span><span class="s2">new </span><span class="s1">b(a):</span><span class="s2">new </span><span class="s1">b;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">if</span><span class="s1">(d)</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;undefined is not a valid argument for URI&quot;</span><span class="s1">);</span>
<a name="l27"><span class="ln">27   </span></a><span class="s1">a=</span><span class="s3">&quot;undefined&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">location?location.href+</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">}</span><span class="s2">if</span><span class="s1">(</span><span class="s2">null</span><span class="s1">===a&amp;&amp;d)</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;null is not a valid argument for URI&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.href(a);</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">!==c?</span><span class="s2">this</span><span class="s1">.absoluteTo(c):</span><span class="s2">this</span><span class="s1">}</span><span class="s2">function </span><span class="s1">m(a){</span><span class="s2">return </span><span class="s1">a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,</span><span class="s3">&quot;</span><span class="s5">\\</span><span class="s3">$1&quot;</span><span class="s1">)}</span><span class="s2">function </span><span class="s1">A(a){</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;Undefined&quot;</span><span class="s1">:String(Object.prototype.toString.call(a)).slice(</span><span class="s4">8</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">)}</span><span class="s2">function </span><span class="s1">u(a){</span><span class="s2">return</span><span class="s3">&quot;Array&quot;</span><span class="s1">===A(a)}</span><span class="s2">function </span><span class="s1">f(a,c){</span><span class="s2">var </span><span class="s1">d={},b,t;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;RegExp&quot;</span><span class="s1">===A(c))d=</span><span class="s2">null</span><span class="s1">;</span><span class="s2">else if</span><span class="s1">(u(c))</span><span class="s2">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">,t=c.length;b&lt;t;b++)d[c[b]]=!</span><span class="s4">0</span><span class="s1">;</span><span class="s2">else </span><span class="s1">d[c]=!</span><span class="s4">0</span><span class="s1">;</span>
<a name="l28"><span class="ln">28   </span></a><span class="s1">b=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(t=a.length;b&lt;t;b++)</span><span class="s2">if</span><span class="s1">(d&amp;&amp;</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==d[a[b]]||!d&amp;&amp;c.test(a[b]))a.splice(b,</span><span class="s4">1</span><span class="s1">),t--,b--;</span><span class="s2">return </span><span class="s1">a}</span><span class="s2">function </span><span class="s1">n(a,c){</span><span class="s2">var </span><span class="s1">d,b;</span><span class="s2">if</span><span class="s1">(u(c)){d=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(b=c.length;d&lt;b;d++)</span><span class="s2">if</span><span class="s1">(!n(a,c[d]))</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s2">var </span><span class="s1">t=A(c);d=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(b=a.length;d&lt;b;d++)</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;RegExp&quot;</span><span class="s1">===t){</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a[d]&amp;&amp;a[d].match(c))</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s2">else if</span><span class="s1">(a[d]===c)</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s2">function </span><span class="s1">B(a,c){</span><span class="s2">if</span><span class="s1">(!u(a)||!u(c)||a.length!==c.length)</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;a.sort();c.sort();</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">d=</span><span class="s4">0</span><span class="s1">,b=a.length;d&lt;b;d++)</span><span class="s2">if</span><span class="s1">(a[d]!==c[d])</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">}</span><span class="s2">function </span><span class="s1">z(a){</span><span class="s2">return </span><span class="s1">a.replace(/^\/+|\/+$/g,</span>
<a name="l29"><span class="ln">29   </span></a><span class="s3">&quot;&quot;</span><span class="s1">)}</span><span class="s2">function </span><span class="s1">D(a){</span><span class="s2">return </span><span class="s1">escape(a)}</span><span class="s2">function </span><span class="s1">y(a){</span><span class="s2">return </span><span class="s1">encodeURIComponent(a).replace(/[!</span><span class="s3">'()*]/g,D).replace(/</span><span class="s6">\*</span><span class="s3">/g,&quot;%2A&quot;)}function E(a){return function(c,d){if(void 0===c)return this._parts[a]||&quot;&quot;;this._parts[a]=c||null;this.build(!d);return this}}function x(a,c){return function(d,b){if(void 0===d)return this._parts[a]||&quot;&quot;;null!==d&amp;&amp;(d+=&quot;&quot;,d.charAt(0)===c&amp;&amp;(d=d.substring(1)));this._parts[a]=d;this.build(!b);return this}}var v=l&amp;&amp;l.URI;b.version=&quot;1.18.10&quot;;var e=b.prototype,q=Object.prototype.hasOwnProperty;</span>
<a name="l30"><span class="ln">30   </span></a><span class="s1">b._parts=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">return</span><span class="s1">{protocol:</span><span class="s2">null</span><span class="s1">,username:</span><span class="s2">null</span><span class="s1">,password:</span><span class="s2">null</span><span class="s1">,hostname:</span><span class="s2">null</span><span class="s1">,urn:</span><span class="s2">null</span><span class="s1">,port:</span><span class="s2">null</span><span class="s1">,path:</span><span class="s2">null</span><span class="s1">,query:</span><span class="s2">null</span><span class="s1">,fragment:</span><span class="s2">null</span><span class="s1">,duplicateQueryParameters:b.duplicateQueryParameters,escapeQuerySpace:b.escapeQuerySpace}};b.duplicateQueryParameters=!</span><span class="s4">1</span><span class="s1">;b.escapeQuerySpace=!</span><span class="s4">0</span><span class="s1">;b.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;b.idn_expression=/[^a-z0-9\.-]/i;b.punycode_expression=/(xn--)/i;b.ip4_expression=/^\d{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}\.\d{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}\.\d{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}\.\d{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}$/;b.ip6_expression=/^\s*((([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">7</span><span class="s1">}([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}|:))|(([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">6</span><span class="s1">}(:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}|((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">})|:))|(([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">5</span><span class="s1">}(((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">1</span><span class="s1">,</span><span class="s4">2</span><span class="s1">})|:((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">})|:))|(([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">4</span><span class="s1">}(((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">})|((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">})?:((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">}))|:))|(([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">3</span><span class="s1">}(((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">})|((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">}:((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">}))|:))|(([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">2</span><span class="s1">}(((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">1</span><span class="s1">,</span><span class="s4">5</span><span class="s1">})|((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">0</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}:((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">}))|:))|(([</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:){</span><span class="s4">1</span><span class="s1">}(((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">1</span><span class="s1">,</span><span class="s4">6</span><span class="s1">})|((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">0</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}:((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">}))|:))|(:(((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">1</span><span class="s1">,</span><span class="s4">7</span><span class="s1">})|((:[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">A-Fa-f]{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}){</span><span class="s4">0</span><span class="s1">,</span><span class="s4">5</span><span class="s1">}:((</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)(\.(</span><span class="s4">25</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">5</span><span class="s1">]|</span><span class="s4">2</span><span class="s1">[</span><span class="s4">0</span><span class="s1">-</span><span class="s4">4</span><span class="s1">]\d|</span><span class="s4">1</span><span class="s1">\d\d|[</span><span class="s4">1</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]?\d)){</span><span class="s4">3</span><span class="s1">}))|:)))(%.+)?\s*$/;</span>
<a name="l31"><span class="ln">31   </span></a><span class="s1">b.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{</span><span class="s4">1</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}|[a-z0-9%])|www\d{</span><span class="s4">0</span><span class="s1">,</span><span class="s4">3</span><span class="s1">}[.]|[a-z0-9.\-]+[.][a-z]{</span><span class="s4">2</span><span class="s1">,</span><span class="s4">4</span><span class="s1">}\/)(?:[^\s()&lt;&gt;]+|\(([^\s()&lt;&gt;]+|(\([^\s()&lt;&gt;]+\)))*\))+(?:\(([^\s()&lt;&gt;]+|(\([^\s()&lt;&gt;]+\)))*\)|[^\s`!()\[\]{};:</span><span class="s3">'&quot;.,&lt;&gt;?</span><span class="s5">\u00ab\u00bb\u201c\u201d\u2018\u2019</span><span class="s3">]))/ig;b.findUri={start:/</span><span class="s5">\b</span><span class="s3">(?:([a-z][a-z0-9.+-]*:</span><span class="s6">\/\/</span><span class="s3">)|www</span><span class="s6">\.</span><span class="s3">)/gi,end:/[</span><span class="s6">\s</span><span class="s5">\r\n</span><span class="s3">]|$/,trim:/[`!()</span><span class="s6">\[\]</span><span class="s3">{};:'&quot;.,&lt;&gt;?</span><span class="s5">\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019</span><span class="s3">]+$/,parens:/(</span><span class="s6">\(</span><span class="s3">[^</span><span class="s6">\)</span><span class="s3">]*</span><span class="s6">\)</span><span class="s3">|</span><span class="s6">\[</span><span class="s3">[^</span><span class="s6">\]</span><span class="s3">]*</span><span class="s6">\]</span><span class="s3">|</span><span class="s6">\{</span><span class="s3">[^}]*</span><span class="s6">\}</span><span class="s3">|&lt;[^&gt;]*&gt;)/g};b.defaultPorts={http:&quot;</span><span class="s4">80</span><span class="s3">&quot;,https:&quot;</span><span class="s4">443</span><span class="s3">&quot;,ftp:&quot;</span><span class="s4">21</span><span class="s3">&quot;,</span>
<a name="l32"><span class="ln">32   </span></a><span class="s1">gopher:</span><span class="s3">&quot;70&quot;</span><span class="s1">,ws:</span><span class="s3">&quot;80&quot;</span><span class="s1">,wss:</span><span class="s3">&quot;443&quot;</span><span class="s1">};b.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;b.domAttributes={a:</span><span class="s3">&quot;href&quot;</span><span class="s1">,blockquote:</span><span class="s3">&quot;cite&quot;</span><span class="s1">,link:</span><span class="s3">&quot;href&quot;</span><span class="s1">,base:</span><span class="s3">&quot;href&quot;</span><span class="s1">,script:</span><span class="s3">&quot;src&quot;</span><span class="s1">,form:</span><span class="s3">&quot;action&quot;</span><span class="s1">,img:</span><span class="s3">&quot;src&quot;</span><span class="s1">,area:</span><span class="s3">&quot;href&quot;</span><span class="s1">,iframe:</span><span class="s3">&quot;src&quot;</span><span class="s1">,embed:</span><span class="s3">&quot;src&quot;</span><span class="s1">,source:</span><span class="s3">&quot;src&quot;</span><span class="s1">,track:</span><span class="s3">&quot;src&quot;</span><span class="s1">,input:</span><span class="s3">&quot;src&quot;</span><span class="s1">,audio:</span><span class="s3">&quot;src&quot;</span><span class="s1">,video:</span><span class="s3">&quot;src&quot;</span><span class="s1">};b.getDomAttribute=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">if</span><span class="s1">(a&amp;&amp;a.nodeName){</span><span class="s2">var </span><span class="s1">c=a.nodeName.toLowerCase();</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;input&quot;</span><span class="s1">!==c||</span><span class="s3">&quot;image&quot;</span><span class="s1">===a.type)</span><span class="s2">return </span><span class="s1">b.domAttributes[c]}};b.encode=y;b.decode=decodeURIComponent;b.iso8859=</span><span class="s2">function</span><span class="s1">(){b.encode=escape;b.decode=</span>
<a name="l33"><span class="ln">33   </span></a><span class="s1">unescape};b.unicode=</span><span class="s2">function</span><span class="s1">(){b.encode=y;b.decode=decodeURIComponent};b.characters={pathname:{encode:{expression:/%(</span><span class="s4">24</span><span class="s1">|</span><span class="s4">26</span><span class="s1">|</span><span class="s4">2</span><span class="s1">B|</span><span class="s4">2</span><span class="s1">C|</span><span class="s4">3</span><span class="s1">B|</span><span class="s4">3</span><span class="s1">D|</span><span class="s4">3</span><span class="s1">A|</span><span class="s4">40</span><span class="s1">)/ig,map:{</span><span class="s3">&quot;%24&quot;</span><span class="s1">:</span><span class="s3">&quot;$&quot;</span><span class="s1">,</span><span class="s3">&quot;%26&quot;</span><span class="s1">:</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">,</span><span class="s3">&quot;%2B&quot;</span><span class="s1">:</span><span class="s3">&quot;+&quot;</span><span class="s1">,</span><span class="s3">&quot;%2C&quot;</span><span class="s1">:</span><span class="s3">&quot;,&quot;</span><span class="s1">,</span><span class="s3">&quot;%3B&quot;</span><span class="s1">:</span><span class="s3">&quot;;&quot;</span><span class="s1">,</span><span class="s3">&quot;%3D&quot;</span><span class="s1">:</span><span class="s3">&quot;=&quot;</span><span class="s1">,</span><span class="s3">&quot;%3A&quot;</span><span class="s1">:</span><span class="s3">&quot;:&quot;</span><span class="s1">,</span><span class="s3">&quot;%40&quot;</span><span class="s1">:</span><span class="s3">&quot;@&quot;</span><span class="s1">}},decode:{expression:/[\/\?#]/g,map:{</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;%2F&quot;</span><span class="s1">,</span><span class="s3">&quot;?&quot;</span><span class="s1">:</span><span class="s3">&quot;%3F&quot;</span><span class="s1">,</span><span class="s3">&quot;#&quot;</span><span class="s1">:</span><span class="s3">&quot;%23&quot;</span><span class="s1">}}},reserved:{encode:{expression:/%(</span><span class="s4">21</span><span class="s1">|</span><span class="s4">23</span><span class="s1">|</span><span class="s4">24</span><span class="s1">|</span><span class="s4">26</span><span class="s1">|</span><span class="s4">27</span><span class="s1">|</span><span class="s4">28</span><span class="s1">|</span><span class="s4">29</span><span class="s1">|</span><span class="s4">2</span><span class="s1">A|</span><span class="s4">2</span><span class="s1">B|</span><span class="s4">2</span><span class="s1">C|</span><span class="s4">2</span><span class="s1">F|</span><span class="s4">3</span><span class="s1">A|</span><span class="s4">3</span><span class="s1">B|</span><span class="s4">3</span><span class="s1">D|</span><span class="s4">3</span><span class="s1">F|</span><span class="s4">40</span><span class="s1">|</span><span class="s4">5</span><span class="s1">B|</span><span class="s4">5</span><span class="s1">D)/ig,map:{</span><span class="s3">&quot;%3A&quot;</span><span class="s1">:</span><span class="s3">&quot;:&quot;</span><span class="s1">,</span><span class="s3">&quot;%2F&quot;</span><span class="s1">:</span><span class="s3">&quot;/&quot;</span><span class="s1">,</span><span class="s3">&quot;%3F&quot;</span><span class="s1">:</span><span class="s3">&quot;?&quot;</span><span class="s1">,</span><span class="s3">&quot;%23&quot;</span><span class="s1">:</span><span class="s3">&quot;#&quot;</span><span class="s1">,</span><span class="s3">&quot;%5B&quot;</span><span class="s1">:</span><span class="s3">&quot;[&quot;</span><span class="s1">,</span><span class="s3">&quot;%5D&quot;</span><span class="s1">:</span><span class="s3">&quot;]&quot;</span><span class="s1">,</span><span class="s3">&quot;%40&quot;</span><span class="s1">:</span><span class="s3">&quot;@&quot;</span><span class="s1">,</span><span class="s3">&quot;%21&quot;</span><span class="s1">:</span><span class="s3">&quot;!&quot;</span><span class="s1">,</span><span class="s3">&quot;%24&quot;</span><span class="s1">:</span><span class="s3">&quot;$&quot;</span><span class="s1">,</span><span class="s3">&quot;%26&quot;</span><span class="s1">:</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">,</span><span class="s3">&quot;%27&quot;</span><span class="s1">:</span><span class="s3">&quot;'&quot;</span><span class="s1">,</span>
<a name="l34"><span class="ln">34   </span></a><span class="s3">&quot;%28&quot;</span><span class="s1">:</span><span class="s3">&quot;(&quot;</span><span class="s1">,</span><span class="s3">&quot;%29&quot;</span><span class="s1">:</span><span class="s3">&quot;)&quot;</span><span class="s1">,</span><span class="s3">&quot;%2A&quot;</span><span class="s1">:</span><span class="s3">&quot;*&quot;</span><span class="s1">,</span><span class="s3">&quot;%2B&quot;</span><span class="s1">:</span><span class="s3">&quot;+&quot;</span><span class="s1">,</span><span class="s3">&quot;%2C&quot;</span><span class="s1">:</span><span class="s3">&quot;,&quot;</span><span class="s1">,</span><span class="s3">&quot;%3B&quot;</span><span class="s1">:</span><span class="s3">&quot;;&quot;</span><span class="s1">,</span><span class="s3">&quot;%3D&quot;</span><span class="s1">:</span><span class="s3">&quot;=&quot;</span><span class="s1">}}},urnpath:{encode:{expression:/%(</span><span class="s4">21</span><span class="s1">|</span><span class="s4">24</span><span class="s1">|</span><span class="s4">27</span><span class="s1">|</span><span class="s4">28</span><span class="s1">|</span><span class="s4">29</span><span class="s1">|</span><span class="s4">2</span><span class="s1">A|</span><span class="s4">2</span><span class="s1">B|</span><span class="s4">2</span><span class="s1">C|</span><span class="s4">3</span><span class="s1">B|</span><span class="s4">3</span><span class="s1">D|</span><span class="s4">40</span><span class="s1">)/ig,map:{</span><span class="s3">&quot;%21&quot;</span><span class="s1">:</span><span class="s3">&quot;!&quot;</span><span class="s1">,</span><span class="s3">&quot;%24&quot;</span><span class="s1">:</span><span class="s3">&quot;$&quot;</span><span class="s1">,</span><span class="s3">&quot;%27&quot;</span><span class="s1">:</span><span class="s3">&quot;'&quot;</span><span class="s1">,</span><span class="s3">&quot;%28&quot;</span><span class="s1">:</span><span class="s3">&quot;(&quot;</span><span class="s1">,</span><span class="s3">&quot;%29&quot;</span><span class="s1">:</span><span class="s3">&quot;)&quot;</span><span class="s1">,</span><span class="s3">&quot;%2A&quot;</span><span class="s1">:</span><span class="s3">&quot;*&quot;</span><span class="s1">,</span><span class="s3">&quot;%2B&quot;</span><span class="s1">:</span><span class="s3">&quot;+&quot;</span><span class="s1">,</span><span class="s3">&quot;%2C&quot;</span><span class="s1">:</span><span class="s3">&quot;,&quot;</span><span class="s1">,</span><span class="s3">&quot;%3B&quot;</span><span class="s1">:</span><span class="s3">&quot;;&quot;</span><span class="s1">,</span><span class="s3">&quot;%3D&quot;</span><span class="s1">:</span><span class="s3">&quot;=&quot;</span><span class="s1">,</span><span class="s3">&quot;%40&quot;</span><span class="s1">:</span><span class="s3">&quot;@&quot;</span><span class="s1">}},decode:{expression:/[\/\?#:]/g,map:{</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;%2F&quot;</span><span class="s1">,</span><span class="s3">&quot;?&quot;</span><span class="s1">:</span><span class="s3">&quot;%3F&quot;</span><span class="s1">,</span><span class="s3">&quot;#&quot;</span><span class="s1">:</span><span class="s3">&quot;%23&quot;</span><span class="s1">,</span><span class="s3">&quot;:&quot;</span><span class="s1">:</span><span class="s3">&quot;%3A&quot;</span><span class="s1">}}}};b.encodeQuery=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d=b.encode(a+</span><span class="s3">&quot;&quot;</span><span class="s1">);</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===c&amp;&amp;(c=b.escapeQuerySpace);</span><span class="s2">return </span><span class="s1">c?d.replace(/%</span><span class="s4">20</span><span class="s1">/g,</span><span class="s3">&quot;+&quot;</span><span class="s1">):d};b.decodeQuery=</span><span class="s2">function</span><span class="s1">(a,c){a+=</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===c&amp;&amp;</span>
<a name="l35"><span class="ln">35   </span></a><span class="s1">(c=b.escapeQuerySpace);</span><span class="s2">try</span><span class="s1">{</span><span class="s2">return </span><span class="s1">b.decode(c?a.replace(/\+/g,</span><span class="s3">&quot;%20&quot;</span><span class="s1">):a)}</span><span class="s2">catch</span><span class="s1">(d){</span><span class="s2">return </span><span class="s1">a}};</span><span class="s2">var </span><span class="s1">r={encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">,decode:</span><span class="s3">&quot;decode&quot;</span><span class="s1">},C,F=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">return function</span><span class="s1">(d){</span><span class="s2">try</span><span class="s1">{</span><span class="s2">return </span><span class="s1">b[c](d+</span><span class="s3">&quot;&quot;</span><span class="s1">).replace(b.characters[a][c].expression,</span><span class="s2">function</span><span class="s1">(d){</span><span class="s2">return </span><span class="s1">b.characters[a][c].map[d]})}</span><span class="s2">catch</span><span class="s1">(p){</span><span class="s2">return </span><span class="s1">d}}};</span><span class="s2">for</span><span class="s1">(C </span><span class="s2">in </span><span class="s1">r)b[C+</span><span class="s3">&quot;PathSegment&quot;</span><span class="s1">]=F(</span><span class="s3">&quot;pathname&quot;</span><span class="s1">,r[C]),b[C+</span><span class="s3">&quot;UrnPathSegment&quot;</span><span class="s1">]=F(</span><span class="s3">&quot;urnpath&quot;</span><span class="s1">,r[C]);r=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">return function</span><span class="s1">(p){</span><span class="s2">var </span><span class="s1">t;t=d?</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">return </span><span class="s1">b[c](b[d](a))}:b[c];p=(p+</span><span class="s3">&quot;&quot;</span><span class="s1">).split(a);</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">e=</span><span class="s4">0</span><span class="s1">,</span>
<a name="l36"><span class="ln">36   </span></a><span class="s1">f=p.length;e&lt;f;e++)p[e]=t(p[e]);</span><span class="s2">return </span><span class="s1">p.join(a)}};b.decodePath=r(</span><span class="s3">&quot;/&quot;</span><span class="s1">,</span><span class="s3">&quot;decodePathSegment&quot;</span><span class="s1">);b.decodeUrnPath=r(</span><span class="s3">&quot;:&quot;</span><span class="s1">,</span><span class="s3">&quot;decodeUrnPathSegment&quot;</span><span class="s1">);b.recodePath=r(</span><span class="s3">&quot;/&quot;</span><span class="s1">,</span><span class="s3">&quot;encodePathSegment&quot;</span><span class="s1">,</span><span class="s3">&quot;decode&quot;</span><span class="s1">);b.recodeUrnPath=r(</span><span class="s3">&quot;:&quot;</span><span class="s1">,</span><span class="s3">&quot;encodeUrnPathSegment&quot;</span><span class="s1">,</span><span class="s3">&quot;decode&quot;</span><span class="s1">);b.encodeReserved=F(</span><span class="s3">&quot;reserved&quot;</span><span class="s1">,</span><span class="s3">&quot;encode&quot;</span><span class="s1">);b.parse=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d;c||(c={});d=a.indexOf(</span><span class="s3">&quot;#&quot;</span><span class="s1">);-</span><span class="s4">1</span><span class="s1">&lt;d&amp;&amp;(c.fragment=a.substring(d+</span><span class="s4">1</span><span class="s1">)||</span><span class="s2">null</span><span class="s1">,a=a.substring(</span><span class="s4">0</span><span class="s1">,d));d=a.indexOf(</span><span class="s3">&quot;?&quot;</span><span class="s1">);-</span><span class="s4">1</span><span class="s1">&lt;d&amp;&amp;(c.query=a.substring(d+</span><span class="s4">1</span><span class="s1">)||</span><span class="s2">null</span><span class="s1">,a=a.substring(</span><span class="s4">0</span><span class="s1">,d));</span><span class="s3">&quot;//&quot;</span><span class="s1">===a.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">2</span><span class="s1">)?(c.protocol=</span>
<a name="l37"><span class="ln">37   </span></a><span class="s2">null</span><span class="s1">,a=a.substring(</span><span class="s4">2</span><span class="s1">),a=b.parseAuthority(a,c)):(d=a.indexOf(</span><span class="s3">&quot;:&quot;</span><span class="s1">),-</span><span class="s4">1</span><span class="s1">&lt;d&amp;&amp;(c.protocol=a.substring(</span><span class="s4">0</span><span class="s1">,d)||</span><span class="s2">null</span><span class="s1">,c.protocol&amp;&amp;!c.protocol.match(b.protocol_expression)?c.protocol=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">:</span><span class="s3">&quot;//&quot;</span><span class="s1">===a.substring(d+</span><span class="s4">1</span><span class="s1">,d+</span><span class="s4">3</span><span class="s1">)?(a=a.substring(d+</span><span class="s4">3</span><span class="s1">),a=b.parseAuthority(a,c)):(a=a.substring(d+</span><span class="s4">1</span><span class="s1">),c.urn=!</span><span class="s4">0</span><span class="s1">)));c.path=a;</span><span class="s2">return </span><span class="s1">c};b.parseHost=</span><span class="s2">function</span><span class="s1">(a,c){a=a.replace(/\\/g,</span><span class="s3">&quot;/&quot;</span><span class="s1">);</span><span class="s2">var </span><span class="s1">d=a.indexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">),b;-</span><span class="s4">1</span><span class="s1">===d&amp;&amp;(d=a.length);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;[&quot;</span><span class="s1">===a.charAt(</span><span class="s4">0</span><span class="s1">))b=a.indexOf(</span><span class="s3">&quot;]&quot;</span><span class="s1">),c.hostname=a.substring(</span><span class="s4">1</span><span class="s1">,b)||</span><span class="s2">null</span><span class="s1">,c.port=a.substring(b+</span><span class="s4">2</span><span class="s1">,d)||</span><span class="s2">null</span><span class="s1">,</span><span class="s3">&quot;/&quot;</span><span class="s1">===</span>
<a name="l38"><span class="ln">38   </span></a><span class="s1">c.port&amp;&amp;(c.port=</span><span class="s2">null</span><span class="s1">);</span><span class="s2">else</span><span class="s1">{</span><span class="s2">var </span><span class="s1">e=a.indexOf(</span><span class="s3">&quot;:&quot;</span><span class="s1">);b=a.indexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">);e=a.indexOf(</span><span class="s3">&quot;:&quot;</span><span class="s1">,e+</span><span class="s4">1</span><span class="s1">);-</span><span class="s4">1</span><span class="s1">!==e&amp;&amp;(-</span><span class="s4">1</span><span class="s1">===b||e&lt;b)?(c.hostname=a.substring(</span><span class="s4">0</span><span class="s1">,d)||</span><span class="s2">null</span><span class="s1">,c.port=</span><span class="s2">null</span><span class="s1">):(b=a.substring(</span><span class="s4">0</span><span class="s1">,d).split(</span><span class="s3">&quot;:&quot;</span><span class="s1">),c.hostname=b[</span><span class="s4">0</span><span class="s1">]||</span><span class="s2">null</span><span class="s1">,c.port=b[</span><span class="s4">1</span><span class="s1">]||</span><span class="s2">null</span><span class="s1">)}c.hostname&amp;&amp;</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a.substring(d).charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(d++,a=</span><span class="s3">&quot;/&quot;</span><span class="s1">+a);</span><span class="s2">return </span><span class="s1">a.substring(d)||</span><span class="s3">&quot;/&quot;</span><span class="s1">};b.parseAuthority=</span><span class="s2">function</span><span class="s1">(a,c){a=b.parseUserinfo(a,c);</span><span class="s2">return </span><span class="s1">b.parseHost(a,c)};b.parseUserinfo=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d=a.indexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">),p=a.lastIndexOf(</span><span class="s3">&quot;@&quot;</span><span class="s1">,-</span><span class="s4">1</span><span class="s1">&lt;d?d:a.length-1);-</span><span class="s4">1</span><span class="s1">&lt;p&amp;&amp;(-</span><span class="s4">1</span><span class="s1">===d||p&lt;d)?</span>
<a name="l39"><span class="ln">39   </span></a><span class="s1">(d=a.substring(</span><span class="s4">0</span><span class="s1">,p).split(</span><span class="s3">&quot;:&quot;</span><span class="s1">),c.username=d[</span><span class="s4">0</span><span class="s1">]?b.decode(d[</span><span class="s4">0</span><span class="s1">]):</span><span class="s2">null</span><span class="s1">,d.shift(),c.password=d[</span><span class="s4">0</span><span class="s1">]?b.decode(d.join(</span><span class="s3">&quot;:&quot;</span><span class="s1">)):</span><span class="s2">null</span><span class="s1">,a=a.substring(p+</span><span class="s4">1</span><span class="s1">)):(c.username=</span><span class="s2">null</span><span class="s1">,c.password=</span><span class="s2">null</span><span class="s1">);</span><span class="s2">return </span><span class="s1">a};b.parseQuery=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(!a)</span><span class="s2">return</span><span class="s1">{};a=a.replace(/&amp;+/g,</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">).replace(/^\?*&amp;*|&amp;+$/g,</span><span class="s3">&quot;&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!a)</span><span class="s2">return</span><span class="s1">{};</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">d={},p=a.split(</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">),e=p.length,f,g,h=</span><span class="s4">0</span><span class="s1">;h&lt;e;h++)</span><span class="s2">if</span><span class="s1">(f=p[h].split(</span><span class="s3">&quot;=&quot;</span><span class="s1">),g=b.decodeQuery(f.shift(),c),f=f.length?b.decodeQuery(f.join(</span><span class="s3">&quot;=&quot;</span><span class="s1">),c):</span><span class="s2">null</span><span class="s1">,q.call(d,g)){</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">d[g]||</span><span class="s2">null</span><span class="s1">===d[g])d[g]=[d[g]];</span>
<a name="l40"><span class="ln">40   </span></a><span class="s1">d[g].push(f)}</span><span class="s2">else </span><span class="s1">d[g]=f;</span><span class="s2">return </span><span class="s1">d};b.build=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=</span><span class="s3">&quot;&quot;</span><span class="s1">;a.protocol&amp;&amp;(c+=a.protocol+</span><span class="s3">&quot;:&quot;</span><span class="s1">);a.urn||!c&amp;&amp;!a.hostname||(c+=</span><span class="s3">&quot;//&quot;</span><span class="s1">);c+=b.buildAuthority(a)||</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a.path&amp;&amp;(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a.path.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a.hostname&amp;&amp;(c+=</span><span class="s3">&quot;/&quot;</span><span class="s1">),c+=a.path);</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a.query&amp;&amp;a.query&amp;&amp;(c+=</span><span class="s3">&quot;?&quot;</span><span class="s1">+a.query);</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a.fragment&amp;&amp;a.fragment&amp;&amp;(c+=</span><span class="s3">&quot;#&quot;</span><span class="s1">+a.fragment);</span><span class="s2">return </span><span class="s1">c};b.buildHost=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(a.hostname)c=b.ip6_expression.test(a.hostname)?c+(</span><span class="s3">&quot;[&quot;</span><span class="s1">+a.hostname+</span><span class="s3">&quot;]&quot;</span><span class="s1">):c+a.hostname;</span>
<a name="l41"><span class="ln">41   </span></a><span class="s2">else return</span><span class="s3">&quot;&quot;</span><span class="s1">;a.port&amp;&amp;(c+=</span><span class="s3">&quot;:&quot;</span><span class="s1">+a.port);</span><span class="s2">return </span><span class="s1">c};b.buildAuthority=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">return </span><span class="s1">b.buildUserinfo(a)+b.buildHost(a)};b.buildUserinfo=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=</span><span class="s3">&quot;&quot;</span><span class="s1">;a.username&amp;&amp;(c+=b.encode(a.username));a.password&amp;&amp;(c+=</span><span class="s3">&quot;:&quot;</span><span class="s1">+b.encode(a.password));c&amp;&amp;(c+=</span><span class="s3">&quot;@&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">c};b.buildQuery=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">p=</span><span class="s3">&quot;&quot;</span><span class="s1">,e,f,g,h;</span><span class="s2">for</span><span class="s1">(f </span><span class="s2">in </span><span class="s1">a)</span><span class="s2">if</span><span class="s1">(q.call(a,f)&amp;&amp;f)</span><span class="s2">if</span><span class="s1">(u(a[f]))</span><span class="s2">for</span><span class="s1">(e={},g=</span><span class="s4">0</span><span class="s1">,h=a[f].length;g&lt;h;g++)</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a[f][g]&amp;&amp;</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===e[a[f][g]+</span><span class="s3">&quot;&quot;</span><span class="s1">]&amp;&amp;(p+=</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">+b.buildQueryParameter(f,a[f][g],d),!</span><span class="s4">0</span><span class="s1">!==c&amp;&amp;(e[a[f][g]+</span><span class="s3">&quot;&quot;</span><span class="s1">]=!</span><span class="s4">0</span><span class="s1">));</span><span class="s2">else void </span><span class="s4">0</span><span class="s1">!==</span>
<a name="l42"><span class="ln">42   </span></a><span class="s1">a[f]&amp;&amp;(p+=</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">+b.buildQueryParameter(f,a[f],d));</span><span class="s2">return </span><span class="s1">p.substring(</span><span class="s4">1</span><span class="s1">)};b.buildQueryParameter=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">return </span><span class="s1">b.encodeQuery(a,d)+(</span><span class="s2">null</span><span class="s1">!==c?</span><span class="s3">&quot;=&quot;</span><span class="s1">+b.encodeQuery(c,d):</span><span class="s3">&quot;&quot;</span><span class="s1">)};b.addQuery=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">c)</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">p </span><span class="s2">in </span><span class="s1">c)q.call(c,p)&amp;&amp;b.addQuery(a,p,c[p]);</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">c)</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a[c]?a[c]=d:(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a[c]&amp;&amp;(a[c]=[a[c]]),u(d)||(d=[d]),a[c]=(a[c]||[]).concat(d));</span><span class="s2">else throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;URI.addQuery() accepts an object, string as the name parameter&quot;</span><span class="s1">);};b.removeQuery=</span>
<a name="l43"><span class="ln">43   </span></a><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">p;</span><span class="s2">if</span><span class="s1">(u(c))</span><span class="s2">for</span><span class="s1">(d=</span><span class="s4">0</span><span class="s1">,p=c.length;d&lt;p;d++)a[c[d]]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">;</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">&quot;RegExp&quot;</span><span class="s1">===A(c))</span><span class="s2">for</span><span class="s1">(p </span><span class="s2">in </span><span class="s1">a)c.test(p)&amp;&amp;(a[p]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">);</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">c)</span><span class="s2">for</span><span class="s1">(p </span><span class="s2">in </span><span class="s1">c)q.call(c,p)&amp;&amp;b.removeQuery(a,p,c[p]);</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">c)</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==d?</span><span class="s3">&quot;RegExp&quot;</span><span class="s1">===A(d)?!u(a[c])&amp;&amp;d.test(a[c])?a[c]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">:a[c]=f(a[c],d):a[c]!==String(d)||u(d)&amp;&amp;</span><span class="s4">1</span><span class="s1">!==d.length?u(a[c])&amp;&amp;(a[c]=f(a[c],d)):a[c]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">:a[c]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">;</span><span class="s2">else throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;URI.removeQuery() accepts an object, string, RegExp as the first parameter&quot;</span><span class="s1">);</span>
<a name="l44"><span class="ln">44   </span></a><span class="s1">};b.hasQuery=</span><span class="s2">function</span><span class="s1">(a,c,d,p){</span><span class="s2">switch</span><span class="s1">(A(c)){</span><span class="s2">case </span><span class="s3">&quot;String&quot;</span><span class="s1">:</span><span class="s2">break</span><span class="s1">;</span><span class="s2">case </span><span class="s3">&quot;RegExp&quot;</span><span class="s1">:</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">e </span><span class="s2">in </span><span class="s1">a)</span><span class="s2">if</span><span class="s1">(q.call(a,e)&amp;&amp;c.test(e)&amp;&amp;(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===d||b.hasQuery(a,e,d)))</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">case </span><span class="s3">&quot;Object&quot;</span><span class="s1">:</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">f </span><span class="s2">in </span><span class="s1">c)</span><span class="s2">if</span><span class="s1">(q.call(c,f)&amp;&amp;!b.hasQuery(a,f,c[f]))</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">;</span><span class="s2">default</span><span class="s1">:</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;URI.hasQuery() accepts a string, regular expression or object as the name parameter&quot;</span><span class="s1">);}</span><span class="s2">switch</span><span class="s1">(A(d)){</span><span class="s2">case </span><span class="s3">&quot;Undefined&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">c </span><span class="s2">in </span><span class="s1">a;</span><span class="s2">case </span><span class="s3">&quot;Boolean&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">a=!(u(a[c])?!a[c].length:!a[c]),d===a;</span><span class="s2">case </span><span class="s3">&quot;Function&quot;</span><span class="s1">:</span><span class="s2">return</span><span class="s1">!!d(a[c],</span>
<a name="l45"><span class="ln">45   </span></a><span class="s1">c,a);</span><span class="s2">case </span><span class="s3">&quot;Array&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">u(a[c])?(p?n:B)(a[c],d):!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">case </span><span class="s3">&quot;RegExp&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">u(a[c])?p?n(a[c],d):!</span><span class="s4">1</span><span class="s1">:!(!a[c]||!a[c].match(d));</span><span class="s2">case </span><span class="s3">&quot;Number&quot;</span><span class="s1">:d=String(d);</span><span class="s2">case </span><span class="s3">&quot;String&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">u(a[c])?p?n(a[c],d):!</span><span class="s4">1</span><span class="s1">:a[c]===d;</span><span class="s2">default</span><span class="s1">:</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter&quot;</span><span class="s1">);}};b.joinPaths=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">a=[],c=[],d=</span><span class="s4">0</span><span class="s1">,p=</span><span class="s4">0</span><span class="s1">;p&lt;arguments.length;p++){</span><span class="s2">var </span><span class="s1">e=</span><span class="s2">new </span><span class="s1">b(arguments[p]);a.push(e);</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">e=e.segment(),f=</span><span class="s4">0</span><span class="s1">;f&lt;e.length;f++)</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">e[f]&amp;&amp;</span>
<a name="l46"><span class="ln">46   </span></a><span class="s1">c.push(e[f]),e[f]&amp;&amp;d++}</span><span class="s2">if</span><span class="s1">(!c.length||!d)</span><span class="s2">return new </span><span class="s1">b(</span><span class="s3">&quot;&quot;</span><span class="s1">);c=(</span><span class="s2">new </span><span class="s1">b(</span><span class="s3">&quot;&quot;</span><span class="s1">)).segment(c);</span><span class="s3">&quot;&quot;</span><span class="s1">!==a[</span><span class="s4">0</span><span class="s1">].path()&amp;&amp;</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a[</span><span class="s4">0</span><span class="s1">].path().slice(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">)||c.path(</span><span class="s3">&quot;/&quot;</span><span class="s1">+c.path());</span><span class="s2">return </span><span class="s1">c.normalize()};b.commonPath=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d=Math.min(a.length,c.length),b;</span><span class="s2">for</span><span class="s1">(b=</span><span class="s4">0</span><span class="s1">;b&lt;d;b++)</span><span class="s2">if</span><span class="s1">(a.charAt(b)!==c.charAt(b)){b--;</span><span class="s2">break</span><span class="s1">}</span><span class="s2">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">&gt;b)</span><span class="s2">return </span><span class="s1">a.charAt(</span><span class="s4">0</span><span class="s1">)===c.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;</span><span class="s3">&quot;/&quot;</span><span class="s1">===a.charAt(</span><span class="s4">0</span><span class="s1">)?</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a.charAt(b)||</span><span class="s3">&quot;/&quot;</span><span class="s1">!==c.charAt(b))b=a.substring(</span><span class="s4">0</span><span class="s1">,b).lastIndexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">a.substring(</span><span class="s4">0</span><span class="s1">,b+</span><span class="s4">1</span><span class="s1">)};b.withinString=</span><span class="s2">function</span><span class="s1">(a,c,d){d||(d={});</span>
<a name="l47"><span class="ln">47   </span></a><span class="s2">var </span><span class="s1">e=d.start||b.findUri.start,f=d.end||b.findUri.end,g=d.trim||b.findUri.trim,h=d.parens||b.findUri.parens,l=/[a-z0-9-]=[</span><span class="s3">&quot;']?$/i;for(e.lastIndex=0;;){var n=e.exec(a);if(!n)break;var k=n.index;if(d.ignoreHtml){var q=a.slice(Math.max(k-3,0),k);if(q&amp;&amp;l.test(q))continue}for(var m=k+a.slice(k).search(f),q=a.slice(k,m),m=-1;;){var z=h.exec(q);if(!z)break;m=Math.max(m,z.index+z[0].length)}q=-1&lt;m?q.slice(0,m)+q.slice(m).replace(g,&quot;&quot;):q.replace(g,&quot;&quot;);q.length&lt;=n[0].length||d.ignore&amp;&amp;d.ignore.test(q)||(m=</span>
<a name="l48"><span class="ln">48   </span></a><span class="s1">k+q.length,n=c(q,k,m,a),</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===n?e.lastIndex=m:(n=String(n),a=a.slice(</span><span class="s4">0</span><span class="s1">,k)+n+a.slice(m),e.lastIndex=k+n.length))}e.lastIndex=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">return </span><span class="s1">a};b.ensureValidHostname=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">if</span><span class="s1">(a.match(b.invalid_hostname_characters)){</span><span class="s2">if</span><span class="s1">(!g)</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Hostname &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot; contains characters other than [A-Z0-9.-] and Punycode.js is not available'</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(g.toASCII(a).match(b.invalid_hostname_characters))</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Hostname &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot; contains characters other than [A-Z0-9.-]'</span><span class="s1">);}};b.noConflict=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">if</span><span class="s1">(a)</span><span class="s2">return </span><span class="s1">a=</span>
<a name="l49"><span class="ln">49   </span></a><span class="s1">{URI:</span><span class="s2">this</span><span class="s1">.noConflict()},l.URITemplate&amp;&amp;</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">l.URITemplate.noConflict&amp;&amp;(a.URITemplate=l.URITemplate.noConflict()),l.IPv6&amp;&amp;</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">l.IPv6.noConflict&amp;&amp;(a.IPv6=l.IPv6.noConflict()),l.SecondLevelDomains&amp;&amp;</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">l.SecondLevelDomains.noConflict&amp;&amp;(a.SecondLevelDomains=l.SecondLevelDomains.noConflict()),a;l.URI===</span><span class="s2">this</span><span class="s1">&amp;&amp;(l.URI=v);</span><span class="s2">return this</span><span class="s1">};e.build=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s4">0</span><span class="s1">===a)</span><span class="s2">this</span><span class="s1">._deferred_build=!</span><span class="s4">0</span><span class="s1">;</span><span class="s2">else if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a||</span><span class="s2">this</span><span class="s1">._deferred_build)</span><span class="s2">this</span><span class="s1">._string=b.build(</span><span class="s2">this</span><span class="s1">._parts),</span>
<a name="l50"><span class="ln">50   </span></a><span class="s2">this</span><span class="s1">._deferred_build=!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">return this</span><span class="s1">};e.clone=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">return new </span><span class="s1">b(</span><span class="s2">this</span><span class="s1">)};e.valueOf=e.toString=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">.build(!</span><span class="s4">1</span><span class="s1">)._string};e.protocol=E(</span><span class="s3">&quot;protocol&quot;</span><span class="s1">);e.username=E(</span><span class="s3">&quot;username&quot;</span><span class="s1">);e.password=E(</span><span class="s3">&quot;password&quot;</span><span class="s1">);e.hostname=E(</span><span class="s3">&quot;hostname&quot;</span><span class="s1">);e.port=E(</span><span class="s3">&quot;port&quot;</span><span class="s1">);e.query=x(</span><span class="s3">&quot;query&quot;</span><span class="s1">,</span><span class="s3">&quot;?&quot;</span><span class="s1">);e.fragment=x(</span><span class="s3">&quot;fragment&quot;</span><span class="s1">,</span><span class="s3">&quot;#&quot;</span><span class="s1">);e.search=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">.query(a,c);</span><span class="s2">return</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">d&amp;&amp;d.length?</span><span class="s3">&quot;?&quot;</span><span class="s1">+d:d};e.hash=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">.fragment(a,c);</span><span class="s2">return</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">d&amp;&amp;d.length?</span><span class="s3">&quot;#&quot;</span><span class="s1">+d:d};e.pathname=</span><span class="s2">function</span><span class="s1">(a,</span>
<a name="l51"><span class="ln">51   </span></a><span class="s1">c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a||!</span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">._parts.path||(</span><span class="s2">this</span><span class="s1">._parts.hostname?</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">a?(</span><span class="s2">this</span><span class="s1">._parts.urn?b.decodeUrnPath:b.decodePath)(d):d}</span><span class="s2">this</span><span class="s1">._parts.path=</span><span class="s2">this</span><span class="s1">._parts.urn?a?b.recodeUrnPath(a):</span><span class="s3">&quot;&quot;</span><span class="s1">:a?b.recodePath(a):</span><span class="s3">&quot;/&quot;</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.path=e.pathname;e.href=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a)</span><span class="s2">return this</span><span class="s1">.toString();</span><span class="s2">this</span><span class="s1">._string=</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">this</span><span class="s1">._parts=b._parts();</span><span class="s2">var </span><span class="s1">e=a </span><span class="s2">instanceof </span><span class="s1">b,f=</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(a.hostname||a.path||a.pathname);a.nodeName&amp;&amp;(f=b.getDomAttribute(a),a=a[f]||</span><span class="s3">&quot;&quot;</span><span class="s1">,f=!</span><span class="s4">1</span><span class="s1">);!e&amp;&amp;</span>
<a name="l52"><span class="ln">52   </span></a><span class="s1">f&amp;&amp;</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a.pathname&amp;&amp;(a=a.toString());</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a||a </span><span class="s2">instanceof </span><span class="s1">String)</span><span class="s2">this</span><span class="s1">._parts=b.parse(String(a),</span><span class="s2">this</span><span class="s1">._parts);</span><span class="s2">else if</span><span class="s1">(e||f)</span><span class="s2">for</span><span class="s1">(d </span><span class="s2">in </span><span class="s1">e=e?a._parts:a,e)q.call(</span><span class="s2">this</span><span class="s1">._parts,d)&amp;&amp;(</span><span class="s2">this</span><span class="s1">._parts[d]=e[d]);</span><span class="s2">else throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;invalid input&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.is=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=!</span><span class="s4">1</span><span class="s1">,d=!</span><span class="s4">1</span><span class="s1">,e=!</span><span class="s4">1</span><span class="s1">,f=!</span><span class="s4">1</span><span class="s1">,g=!</span><span class="s4">1</span><span class="s1">,n=!</span><span class="s4">1</span><span class="s1">,l=!</span><span class="s4">1</span><span class="s1">,k=!</span><span class="s2">this</span><span class="s1">._parts.urn;</span><span class="s2">this</span><span class="s1">._parts.hostname&amp;&amp;(k=!</span><span class="s4">1</span><span class="s1">,d=b.ip4_expression.test(</span><span class="s2">this</span><span class="s1">._parts.hostname),e=b.ip6_expression.test(</span><span class="s2">this</span><span class="s1">._parts.hostname),c=d||e,g=(f=!c)&amp;&amp;h&amp;&amp;h.has(</span><span class="s2">this</span><span class="s1">._parts.hostname),</span>
<a name="l53"><span class="ln">53   </span></a><span class="s1">n=f&amp;&amp;b.idn_expression.test(</span><span class="s2">this</span><span class="s1">._parts.hostname),l=f&amp;&amp;b.punycode_expression.test(</span><span class="s2">this</span><span class="s1">._parts.hostname));</span><span class="s2">switch</span><span class="s1">(a.toLowerCase()){</span><span class="s2">case </span><span class="s3">&quot;relative&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">k;</span><span class="s2">case </span><span class="s3">&quot;absolute&quot;</span><span class="s1">:</span><span class="s2">return</span><span class="s1">!k;</span><span class="s2">case </span><span class="s3">&quot;domain&quot;</span><span class="s1">:</span><span class="s2">case </span><span class="s3">&quot;name&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">f;</span><span class="s2">case </span><span class="s3">&quot;sld&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">g;</span><span class="s2">case </span><span class="s3">&quot;ip&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">c;</span><span class="s2">case </span><span class="s3">&quot;ip4&quot;</span><span class="s1">:</span><span class="s2">case </span><span class="s3">&quot;ipv4&quot;</span><span class="s1">:</span><span class="s2">case </span><span class="s3">&quot;inet4&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">d;</span><span class="s2">case </span><span class="s3">&quot;ip6&quot;</span><span class="s1">:</span><span class="s2">case </span><span class="s3">&quot;ipv6&quot;</span><span class="s1">:</span><span class="s2">case </span><span class="s3">&quot;inet6&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">e;</span><span class="s2">case </span><span class="s3">&quot;idn&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">n;</span><span class="s2">case </span><span class="s3">&quot;url&quot;</span><span class="s1">:</span><span class="s2">return</span><span class="s1">!</span><span class="s2">this</span><span class="s1">._parts.urn;</span><span class="s2">case </span><span class="s3">&quot;urn&quot;</span><span class="s1">:</span><span class="s2">return</span><span class="s1">!!</span><span class="s2">this</span><span class="s1">._parts.urn;</span><span class="s2">case </span><span class="s3">&quot;punycode&quot;</span><span class="s1">:</span><span class="s2">return </span><span class="s1">l}</span><span class="s2">return null</span><span class="s1">};</span><span class="s2">var </span><span class="s1">G=e.protocol,H=e.port,I=e.hostname;</span>
<a name="l54"><span class="ln">54   </span></a><span class="s1">e.protocol=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a&amp;&amp;a&amp;&amp;(a=a.replace(/:(\/\/)?$/,</span><span class="s3">&quot;&quot;</span><span class="s1">),!a.match(b.protocol_expression)))</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Protocol &quot;'</span><span class="s1">+a+</span><span class="s3">&quot;</span><span class="s5">\&quot; </span><span class="s3">contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">G.call(</span><span class="s2">this</span><span class="s1">,a,c)};e.scheme=e.protocol;e.port=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a&amp;&amp;(</span><span class="s4">0</span><span class="s1">===a&amp;&amp;(a=</span><span class="s2">null</span><span class="s1">),a&amp;&amp;(a+=</span><span class="s3">&quot;&quot;</span><span class="s1">,</span><span class="s3">&quot;:&quot;</span><span class="s1">===a.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(a=a.substring(</span><span class="s4">1</span><span class="s1">)),a.match(/[^</span><span class="s4">0</span><span class="s1">-</span><span class="s4">9</span><span class="s1">]/))))</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Port &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot; contains characters other than [0-9]'</span><span class="s1">);</span>
<a name="l55"><span class="ln">55   </span></a><span class="s2">return </span><span class="s1">H.call(</span><span class="s2">this</span><span class="s1">,a,c)};e.hostname=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a){</span><span class="s2">var </span><span class="s1">d={};</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==b.parseHost(a,d))</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Hostname &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot; contains characters other than [A-Z0-9.-]'</span><span class="s1">);a=d.hostname}</span><span class="s2">return </span><span class="s1">I.call(</span><span class="s2">this</span><span class="s1">,a,c)};e.origin=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">.protocol();</span><span class="s2">return this</span><span class="s1">.authority()?(d?d+</span><span class="s3">&quot;://&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">)+</span><span class="s2">this</span><span class="s1">.authority():</span><span class="s3">&quot;&quot;</span><span class="s1">}d=b(a);</span><span class="s2">this</span><span class="s1">.protocol(d.protocol()).authority(d.authority()).build(!c);</span><span class="s2">return this</span><span class="s1">};</span>
<a name="l56"><span class="ln">56   </span></a><span class="s1">e.host=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a)</span><span class="s2">return this</span><span class="s1">._parts.hostname?b.buildHost(</span><span class="s2">this</span><span class="s1">._parts):</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==b.parseHost(a,</span><span class="s2">this</span><span class="s1">._parts))</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Hostname &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot; contains characters other than [A-Z0-9.-]'</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.authority=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a)</span><span class="s2">return this</span><span class="s1">._parts.hostname?b.buildAuthority(</span><span class="s2">this</span><span class="s1">._parts):</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==b.parseAuthority(a,</span><span class="s2">this</span><span class="s1">._parts))</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">'Hostname &quot;'</span><span class="s1">+</span>
<a name="l57"><span class="ln">57   </span></a><span class="s1">a+</span><span class="s3">'&quot; contains characters other than [A-Z0-9.-]'</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.userinfo=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">var </span><span class="s1">d=b.buildUserinfo(</span><span class="s2">this</span><span class="s1">._parts);</span><span class="s2">return </span><span class="s1">d?d.substring(</span><span class="s4">0</span><span class="s1">,d.length-1):d}</span><span class="s3">&quot;@&quot;</span><span class="s1">!==a[a.length-1]&amp;&amp;(a+=</span><span class="s3">&quot;@&quot;</span><span class="s1">);b.parseUserinfo(a,</span><span class="s2">this</span><span class="s1">._parts);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.resource=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">var </span><span class="s1">d;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a)</span><span class="s2">return this</span><span class="s1">.path()+</span><span class="s2">this</span><span class="s1">.search()+</span><span class="s2">this</span><span class="s1">.hash();d=b.parse(a);</span><span class="s2">this</span><span class="s1">._parts.path=d.path;</span><span class="s2">this</span><span class="s1">._parts.query=d.query;</span><span class="s2">this</span><span class="s1">._parts.fragment=d.fragment;</span>
<a name="l58"><span class="ln">58   </span></a><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.subdomain=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.hostname||</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IP&quot;</span><span class="s1">))</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">._parts.hostname.length-this.domain().length-1;</span><span class="s2">return this</span><span class="s1">._parts.hostname.substring(</span><span class="s4">0</span><span class="s1">,d)||</span><span class="s3">&quot;&quot;</span><span class="s1">}d=</span><span class="s2">this</span><span class="s1">._parts.hostname.length-this.domain().length;d=</span><span class="s2">this</span><span class="s1">._parts.hostname.substring(</span><span class="s4">0</span><span class="s1">,d);d=</span><span class="s2">new </span><span class="s1">RegExp(</span><span class="s3">&quot;^&quot;</span><span class="s1">+m(d));a&amp;&amp;</span><span class="s3">&quot;.&quot;</span><span class="s1">!==a.charAt(a.length-1)&amp;&amp;(a+=</span><span class="s3">&quot;.&quot;</span><span class="s1">);a&amp;&amp;b.ensureValidHostname(a);</span><span class="s2">this</span><span class="s1">._parts.hostname=</span><span class="s2">this</span><span class="s1">._parts.hostname.replace(d,a);</span>
<a name="l59"><span class="ln">59   </span></a><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.domain=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s3">&quot;boolean&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(c=a,a=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.hostname||</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IP&quot;</span><span class="s1">))</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">._parts.hostname.match(/\./g);</span><span class="s2">if</span><span class="s1">(d&amp;&amp;</span><span class="s4">2</span><span class="s1">&gt;d.length)</span><span class="s2">return this</span><span class="s1">._parts.hostname;d=</span><span class="s2">this</span><span class="s1">._parts.hostname.length-this.tld(c).length-1;d=</span><span class="s2">this</span><span class="s1">._parts.hostname.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">,d-1)+</span><span class="s4">1</span><span class="s1">;</span><span class="s2">return this</span><span class="s1">._parts.hostname.substring(d)||</span><span class="s3">&quot;&quot;</span><span class="s1">}</span><span class="s2">if</span><span class="s1">(!a)</span><span class="s2">throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;cannot set domain empty&quot;</span><span class="s1">);b.ensureValidHostname(a);</span>
<a name="l60"><span class="ln">60   </span></a><span class="s1">!</span><span class="s2">this</span><span class="s1">._parts.hostname||</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IP&quot;</span><span class="s1">)?</span><span class="s2">this</span><span class="s1">._parts.hostname=a:(d=</span><span class="s2">new </span><span class="s1">RegExp(m(</span><span class="s2">this</span><span class="s1">.domain())+</span><span class="s3">&quot;$&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">._parts.hostname=</span><span class="s2">this</span><span class="s1">._parts.hostname.replace(d,a));</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.tld=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s3">&quot;boolean&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(c=a,a=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.hostname||</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IP&quot;</span><span class="s1">))</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">._parts.hostname.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">),d=</span><span class="s2">this</span><span class="s1">._parts.hostname.substring(d+</span><span class="s4">1</span><span class="s1">);</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">!==c&amp;&amp;h&amp;&amp;h.list[d.toLowerCase()]?h.get(</span><span class="s2">this</span><span class="s1">._parts.hostname)||d:d}</span><span class="s2">if</span><span class="s1">(a)</span><span class="s2">if</span><span class="s1">(a.match(/[^a-zA-Z0-9-]/))</span><span class="s2">if</span><span class="s1">(h&amp;&amp;</span>
<a name="l61"><span class="ln">61   </span></a><span class="s1">h.is(a))d=</span><span class="s2">new </span><span class="s1">RegExp(m(</span><span class="s2">this</span><span class="s1">.tld())+</span><span class="s3">&quot;$&quot;</span><span class="s1">),</span><span class="s2">this</span><span class="s1">._parts.hostname=</span><span class="s2">this</span><span class="s1">._parts.hostname.replace(d,a);</span><span class="s2">else throw new </span><span class="s1">TypeError(</span><span class="s3">'TLD &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot; contains characters other than [A-Z0-9]'</span><span class="s1">);</span><span class="s2">else</span><span class="s1">{</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.hostname||</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IP&quot;</span><span class="s1">))</span><span class="s2">throw new </span><span class="s1">ReferenceError(</span><span class="s3">&quot;cannot set TLD on non-domain host&quot;</span><span class="s1">);d=</span><span class="s2">new </span><span class="s1">RegExp(m(</span><span class="s2">this</span><span class="s1">.tld())+</span><span class="s3">&quot;$&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">._parts.hostname=</span><span class="s2">this</span><span class="s1">._parts.hostname.replace(d,a)}</span><span class="s2">else throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;cannot set TLD empty&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.directory=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===</span>
<a name="l62"><span class="ln">62   </span></a><span class="s1">a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a||!</span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.path&amp;&amp;!</span><span class="s2">this</span><span class="s1">._parts.hostname)</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">===</span><span class="s2">this</span><span class="s1">._parts.path)</span><span class="s2">return</span><span class="s3">&quot;/&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">._parts.path.length-this.filename().length-1,d=</span><span class="s2">this</span><span class="s1">._parts.path.substring(</span><span class="s4">0</span><span class="s1">,d)||(</span><span class="s2">this</span><span class="s1">._parts.hostname?</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">);</span><span class="s2">return </span><span class="s1">a?b.decodePath(d):d}d=</span><span class="s2">this</span><span class="s1">._parts.path.length-this.filename().length;d=</span><span class="s2">this</span><span class="s1">._parts.path.substring(</span><span class="s4">0</span><span class="s1">,d);d=</span><span class="s2">new </span><span class="s1">RegExp(</span><span class="s3">&quot;^&quot;</span><span class="s1">+m(d));</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;relative&quot;</span><span class="s1">)||(a||(a=</span><span class="s3">&quot;/&quot;</span><span class="s1">),</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(a=</span><span class="s3">&quot;/&quot;</span><span class="s1">+a));a&amp;&amp;</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a.charAt(a.length-1)&amp;&amp;(a+=</span><span class="s3">&quot;/&quot;</span><span class="s1">);a=b.recodePath(a);</span><span class="s2">this</span><span class="s1">._parts.path=</span>
<a name="l63"><span class="ln">63   </span></a><span class="s2">this</span><span class="s1">._parts.path.replace(d,a);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.filename=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.path||</span><span class="s3">&quot;/&quot;</span><span class="s1">===</span><span class="s2">this</span><span class="s1">._parts.path)</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">._parts.path.lastIndexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">),d=</span><span class="s2">this</span><span class="s1">._parts.path.substring(d+</span><span class="s4">1</span><span class="s1">);</span><span class="s2">return </span><span class="s1">a?b.decodePathSegment(d):d}d=!</span><span class="s4">1</span><span class="s1">;</span><span class="s3">&quot;/&quot;</span><span class="s1">===a.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(a=a.substring(</span><span class="s4">1</span><span class="s1">));a.match(/\.?\</span><span class="s0">//)&amp;&amp;(d=!0);var e=new RegExp(m(this.filename())+&quot;$&quot;);a=b.recodePath(a);this._parts.path=this._parts.path.replace(e,a);d?this.normalizePath(c):</span>
<a name="l64"><span class="ln">64   </span></a><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.suffix=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?</span><span class="s3">&quot;&quot;</span><span class="s1">:</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===a||!</span><span class="s4">0</span><span class="s1">===a){</span><span class="s2">if</span><span class="s1">(!</span><span class="s2">this</span><span class="s1">._parts.path||</span><span class="s3">&quot;/&quot;</span><span class="s1">===</span><span class="s2">this</span><span class="s1">._parts.path)</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">var </span><span class="s1">d=</span><span class="s2">this</span><span class="s1">.filename(),e=d.lastIndexOf(</span><span class="s3">&quot;.&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">===e)</span><span class="s2">return</span><span class="s3">&quot;&quot;</span><span class="s1">;d=d.substring(e+</span><span class="s4">1</span><span class="s1">);d=/^[a-z0-9%]+$/i.test(d)?d:</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">return </span><span class="s1">a?b.decodePathSegment(d):d}</span><span class="s3">&quot;.&quot;</span><span class="s1">===a.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(a=a.substring(</span><span class="s4">1</span><span class="s1">));</span><span class="s2">if</span><span class="s1">(d=</span><span class="s2">this</span><span class="s1">.suffix())e=a?</span><span class="s2">new </span><span class="s1">RegExp(m(d)+</span><span class="s3">&quot;$&quot;</span><span class="s1">):</span><span class="s2">new </span><span class="s1">RegExp(m(</span><span class="s3">&quot;.&quot;</span><span class="s1">+d)+</span><span class="s3">&quot;$&quot;</span><span class="s1">);</span><span class="s2">else</span><span class="s1">{</span><span class="s2">if</span><span class="s1">(!a)</span><span class="s2">return this</span><span class="s1">;</span><span class="s2">this</span><span class="s1">._parts.path+=</span><span class="s3">&quot;.&quot;</span><span class="s1">+b.recodePath(a)}e&amp;&amp;(a=b.recodePath(a),</span>
<a name="l65"><span class="ln">65   </span></a><span class="s2">this</span><span class="s1">._parts.path=</span><span class="s2">this</span><span class="s1">._parts.path.replace(e,a));</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">};e.segment=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">b=</span><span class="s2">this</span><span class="s1">._parts.urn?</span><span class="s3">&quot;:&quot;</span><span class="s1">:</span><span class="s3">&quot;/&quot;</span><span class="s1">,e=</span><span class="s2">this</span><span class="s1">.path(),f=</span><span class="s3">&quot;/&quot;</span><span class="s1">===e.substring(</span><span class="s4">0</span><span class="s1">,</span><span class="s4">1</span><span class="s1">),e=e.split(b);</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a&amp;&amp;</span><span class="s3">&quot;number&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(d=c,c=a,a=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a&amp;&amp;</span><span class="s3">&quot;number&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a)</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Bad segment &quot;'</span><span class="s1">+a+</span><span class="s3">'&quot;, must be 0-based integer'</span><span class="s1">);f&amp;&amp;e.shift();</span><span class="s4">0</span><span class="s1">&gt;a&amp;&amp;(a=Math.max(e.length+a,</span><span class="s4">0</span><span class="s1">));</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===c)</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">===a?e:e[a];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">null</span><span class="s1">===a||</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===e[a])</span><span class="s2">if</span><span class="s1">(u(c)){e=[];a=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">g=c.length;a&lt;g;a++)</span><span class="s2">if</span><span class="s1">(c[a].length||</span>
<a name="l66"><span class="ln">66   </span></a><span class="s1">e.length&amp;&amp;e[e.length-1].length)e.length&amp;&amp;!e[e.length-1].length&amp;&amp;e.pop(),e.push(z(c[a]))}</span><span class="s2">else</span><span class="s1">{</span><span class="s2">if</span><span class="s1">(c||</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">c)c=z(c),</span><span class="s3">&quot;&quot;</span><span class="s1">===e[e.length-1]?e[e.length-1]=c:e.push(c)}</span><span class="s2">else </span><span class="s1">c?e[a]=z(c):e.splice(a,</span><span class="s4">1</span><span class="s1">);f&amp;&amp;e.unshift(</span><span class="s3">&quot;&quot;</span><span class="s1">);</span><span class="s2">return this</span><span class="s1">.path(e.join(b),d)};e.segmentCoded=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">e,f;</span><span class="s3">&quot;number&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(d=c,c=a,a=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===c){a=</span><span class="s2">this</span><span class="s1">.segment(a,c,d);</span><span class="s2">if</span><span class="s1">(u(a))</span><span class="s2">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">,f=a.length;e&lt;f;e++)a[e]=b.decode(a[e]);</span><span class="s2">else </span><span class="s1">a=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==a?b.decode(a):</span><span class="s2">void </span><span class="s4">0</span><span class="s1">;</span><span class="s2">return </span><span class="s1">a}</span><span class="s2">if</span><span class="s1">(u(c))</span><span class="s2">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">,f=c.length;e&lt;f;e++)c[e]=</span>
<a name="l67"><span class="ln">67   </span></a><span class="s1">b.encode(c[e]);</span><span class="s2">else </span><span class="s1">c=</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">c||c </span><span class="s2">instanceof </span><span class="s1">String?b.encode(c):c;</span><span class="s2">return this</span><span class="s1">.segment(a,c,d)};</span><span class="s2">var </span><span class="s1">J=e.query;e.query=</span><span class="s2">function</span><span class="s1">(a,c){</span><span class="s2">if</span><span class="s1">(!</span><span class="s4">0</span><span class="s1">===a)</span><span class="s2">return </span><span class="s1">b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a){</span><span class="s2">var </span><span class="s1">d=b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace),e=a.call(</span><span class="s2">this</span><span class="s1">,d);</span><span class="s2">this</span><span class="s1">._parts.query=b.buildQuery(e||d,</span><span class="s2">this</span><span class="s1">._parts.duplicateQueryParameters,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s2">this</span><span class="s1">.build(!c);</span><span class="s2">return this</span><span class="s1">}</span><span class="s2">return void </span><span class="s4">0</span><span class="s1">!==a&amp;&amp;</span><span class="s3">&quot;string&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a?(</span><span class="s2">this</span><span class="s1">._parts.query=</span>
<a name="l68"><span class="ln">68   </span></a><span class="s1">b.buildQuery(a,</span><span class="s2">this</span><span class="s1">._parts.duplicateQueryParameters,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace),</span><span class="s2">this</span><span class="s1">.build(!c),</span><span class="s2">this</span><span class="s1">):J.call(</span><span class="s2">this</span><span class="s1">,a,c)};e.setQuery=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">e=b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a||a </span><span class="s2">instanceof </span><span class="s1">String)e[a]=</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==c?c:</span><span class="s2">null</span><span class="s1">;</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">a)</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">f </span><span class="s2">in </span><span class="s1">a)q.call(a,f)&amp;&amp;(e[f]=a[f]);</span><span class="s2">else throw new </span><span class="s1">TypeError(</span><span class="s3">&quot;URI.addQuery() accepts an object, string as the name parameter&quot;</span><span class="s1">);</span><span class="s2">this</span><span class="s1">._parts.query=b.buildQuery(e,</span><span class="s2">this</span><span class="s1">._parts.duplicateQueryParameters,</span>
<a name="l69"><span class="ln">69   </span></a><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s3">&quot;string&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(d=c);</span><span class="s2">this</span><span class="s1">.build(!d);</span><span class="s2">return this</span><span class="s1">};e.addQuery=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">e=b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);b.addQuery(e,a,</span><span class="s2">void </span><span class="s4">0</span><span class="s1">===c?</span><span class="s2">null</span><span class="s1">:c);</span><span class="s2">this</span><span class="s1">._parts.query=b.buildQuery(e,</span><span class="s2">this</span><span class="s1">._parts.duplicateQueryParameters,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s3">&quot;string&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(d=c);</span><span class="s2">this</span><span class="s1">.build(!d);</span><span class="s2">return this</span><span class="s1">};e.removeQuery=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">e=b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);b.removeQuery(e,a,c);</span><span class="s2">this</span><span class="s1">._parts.query=</span>
<a name="l70"><span class="ln">70   </span></a><span class="s1">b.buildQuery(e,</span><span class="s2">this</span><span class="s1">._parts.duplicateQueryParameters,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s3">&quot;string&quot;</span><span class="s1">!==</span><span class="s2">typeof </span><span class="s1">a&amp;&amp;(d=c);</span><span class="s2">this</span><span class="s1">.build(!d);</span><span class="s2">return this</span><span class="s1">};e.hasQuery=</span><span class="s2">function</span><span class="s1">(a,c,d){</span><span class="s2">var </span><span class="s1">e=b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace);</span><span class="s2">return </span><span class="s1">b.hasQuery(e,a,c,d)};e.setSearch=e.setQuery;e.addSearch=e.addQuery;e.removeSearch=e.removeQuery;e.hasSearch=e.hasQuery;e.normalize=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">return this</span><span class="s1">._parts.urn?</span><span class="s2">this</span><span class="s1">.normalizeProtocol(!</span><span class="s4">1</span><span class="s1">).normalizePath(!</span><span class="s4">1</span><span class="s1">).normalizeQuery(!</span><span class="s4">1</span><span class="s1">).normalizeFragment(!</span><span class="s4">1</span><span class="s1">).build():</span><span class="s2">this</span><span class="s1">.normalizeProtocol(!</span><span class="s4">1</span><span class="s1">).normalizeHostname(!</span><span class="s4">1</span><span class="s1">).normalizePort(!</span><span class="s4">1</span><span class="s1">).normalizePath(!</span><span class="s4">1</span><span class="s1">).normalizeQuery(!</span><span class="s4">1</span><span class="s1">).normalizeFragment(!</span><span class="s4">1</span><span class="s1">).build()};</span>
<a name="l71"><span class="ln">71   </span></a><span class="s1">e.normalizeProtocol=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof this</span><span class="s1">._parts.protocol&amp;&amp;(</span><span class="s2">this</span><span class="s1">._parts.protocol=</span><span class="s2">this</span><span class="s1">._parts.protocol.toLowerCase(),</span><span class="s2">this</span><span class="s1">.build(!a));</span><span class="s2">return this</span><span class="s1">};e.normalizeHostname=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">this</span><span class="s1">._parts.hostname&amp;&amp;(</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IDN&quot;</span><span class="s1">)&amp;&amp;g?</span><span class="s2">this</span><span class="s1">._parts.hostname=g.toASCII(</span><span class="s2">this</span><span class="s1">._parts.hostname):</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;IPv6&quot;</span><span class="s1">)&amp;&amp;k&amp;&amp;(</span><span class="s2">this</span><span class="s1">._parts.hostname=k.best(</span><span class="s2">this</span><span class="s1">._parts.hostname)),</span><span class="s2">this</span><span class="s1">._parts.hostname=</span><span class="s2">this</span><span class="s1">._parts.hostname.toLowerCase(),</span><span class="s2">this</span><span class="s1">.build(!a));</span><span class="s2">return this</span><span class="s1">};e.normalizePort=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof this</span><span class="s1">._parts.protocol&amp;&amp;</span>
<a name="l72"><span class="ln">72   </span></a><span class="s2">this</span><span class="s1">._parts.port===b.defaultPorts[</span><span class="s2">this</span><span class="s1">._parts.protocol]&amp;&amp;(</span><span class="s2">this</span><span class="s1">._parts.port=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.build(!a));</span><span class="s2">return this</span><span class="s1">};e.normalizePath=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=</span><span class="s2">this</span><span class="s1">._parts.path;</span><span class="s2">if</span><span class="s1">(!c)</span><span class="s2">return this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">return this</span><span class="s1">._parts.path=b.recodeUrnPath(</span><span class="s2">this</span><span class="s1">._parts.path),</span><span class="s2">this</span><span class="s1">.build(!a),</span><span class="s2">this</span><span class="s1">;</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">===</span><span class="s2">this</span><span class="s1">._parts.path)</span><span class="s2">return this</span><span class="s1">;</span><span class="s2">var </span><span class="s1">c=b.recodePath(c),d,e=</span><span class="s3">&quot;&quot;</span><span class="s1">,f,g;</span><span class="s3">&quot;/&quot;</span><span class="s1">!==c.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(d=!</span><span class="s4">0</span><span class="s1">,c=</span><span class="s3">&quot;/&quot;</span><span class="s1">+c);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/..&quot;</span><span class="s1">===c.slice(-</span><span class="s4">3</span><span class="s1">)||</span><span class="s3">&quot;/.&quot;</span><span class="s1">===c.slice(-</span><span class="s4">2</span><span class="s1">))c+=</span><span class="s3">&quot;/&quot;</span><span class="s1">;c=c.replace(/(\/(\.\/)+)|(\/\.$)/g,</span><span class="s3">&quot;/&quot;</span><span class="s1">).replace(/\/{</span><span class="s4">2</span><span class="s1">,}/g,</span><span class="s3">&quot;/&quot;</span><span class="s1">);d&amp;&amp;(e=c.substring(</span><span class="s4">1</span><span class="s1">).match(/^(\.\.\/)+/)||</span>
<a name="l73"><span class="ln">73   </span></a><span class="s3">&quot;&quot;</span><span class="s1">)&amp;&amp;(e=e[</span><span class="s4">0</span><span class="s1">]);</span><span class="s2">for</span><span class="s1">(;;){f=c.search(/\/\.\.(\/|$)/);</span><span class="s2">if</span><span class="s1">(-</span><span class="s4">1</span><span class="s1">===f)</span><span class="s2">break</span><span class="s1">;</span><span class="s2">else if</span><span class="s1">(</span><span class="s4">0</span><span class="s1">===f){c=c.substring(</span><span class="s4">3</span><span class="s1">);</span><span class="s2">continue</span><span class="s1">}g=c.substring(</span><span class="s4">0</span><span class="s1">,f).lastIndexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">);-</span><span class="s4">1</span><span class="s1">===g&amp;&amp;(g=f);c=c.substring(</span><span class="s4">0</span><span class="s1">,g)+c.substring(f+</span><span class="s4">3</span><span class="s1">)}d&amp;&amp;</span><span class="s2">this</span><span class="s1">.is(</span><span class="s3">&quot;relative&quot;</span><span class="s1">)&amp;&amp;(c=e+c.substring(</span><span class="s4">1</span><span class="s1">));</span><span class="s2">this</span><span class="s1">._parts.path=c;</span><span class="s2">this</span><span class="s1">.build(!a);</span><span class="s2">return this</span><span class="s1">};e.normalizePathname=e.normalizePath;e.normalizeQuery=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof this</span><span class="s1">._parts.query&amp;&amp;(</span><span class="s2">this</span><span class="s1">._parts.query.length?</span><span class="s2">this</span><span class="s1">.query(b.parseQuery(</span><span class="s2">this</span><span class="s1">._parts.query,</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace)):</span><span class="s2">this</span><span class="s1">._parts.query=</span>
<a name="l74"><span class="ln">74   </span></a><span class="s2">null</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.build(!a));</span><span class="s2">return this</span><span class="s1">};e.normalizeFragment=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">this</span><span class="s1">._parts.fragment||(</span><span class="s2">this</span><span class="s1">._parts.fragment=</span><span class="s2">null</span><span class="s1">,</span><span class="s2">this</span><span class="s1">.build(!a));</span><span class="s2">return this</span><span class="s1">};e.normalizeSearch=e.normalizeQuery;e.normalizeHash=e.normalizeFragment;e.iso8859=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">var </span><span class="s1">a=b.encode,c=b.decode;b.encode=escape;b.decode=decodeURIComponent;</span><span class="s2">try</span><span class="s1">{</span><span class="s2">this</span><span class="s1">.normalize()}</span><span class="s2">finally</span><span class="s1">{b.encode=a,b.decode=c}</span><span class="s2">return this</span><span class="s1">};e.unicode=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">var </span><span class="s1">a=b.encode,c=b.decode;b.encode=y;b.decode=unescape;</span><span class="s2">try</span><span class="s1">{</span><span class="s2">this</span><span class="s1">.normalize()}</span><span class="s2">finally</span><span class="s1">{b.encode=a,b.decode=c}</span><span class="s2">return this</span><span class="s1">};</span>
<a name="l75"><span class="ln">75   </span></a><span class="s1">e.readable=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">var </span><span class="s1">a=</span><span class="s2">this</span><span class="s1">.clone();a.username(</span><span class="s3">&quot;&quot;</span><span class="s1">).password(</span><span class="s3">&quot;&quot;</span><span class="s1">).normalize();</span><span class="s2">var </span><span class="s1">c=</span><span class="s3">&quot;&quot;</span><span class="s1">;a._parts.protocol&amp;&amp;(c+=a._parts.protocol+</span><span class="s3">&quot;://&quot;</span><span class="s1">);a._parts.hostname&amp;&amp;(a.is(</span><span class="s3">&quot;punycode&quot;</span><span class="s1">)&amp;&amp;g?(c+=g.toUnicode(a._parts.hostname),a._parts.port&amp;&amp;(c+=</span><span class="s3">&quot;:&quot;</span><span class="s1">+a._parts.port)):c+=a.host());a._parts.hostname&amp;&amp;a._parts.path&amp;&amp;</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a._parts.path.charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(c+=</span><span class="s3">&quot;/&quot;</span><span class="s1">);c+=a.path(!</span><span class="s4">0</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(a._parts.query){</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">d=</span><span class="s3">&quot;&quot;</span><span class="s1">,e=</span><span class="s4">0</span><span class="s1">,f=a._parts.query.split(</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">),h=f.length;e&lt;h;e++){</span><span class="s2">var </span><span class="s1">n=(f[e]||</span><span class="s3">&quot;&quot;</span><span class="s1">).split(</span><span class="s3">&quot;=&quot;</span><span class="s1">),d=d+(</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">+b.decodeQuery(n[</span><span class="s4">0</span><span class="s1">],</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace).replace(/&amp;/g,</span>
<a name="l76"><span class="ln">76   </span></a><span class="s3">&quot;%26&quot;</span><span class="s1">));</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==n[</span><span class="s4">1</span><span class="s1">]&amp;&amp;(d+=</span><span class="s3">&quot;=&quot;</span><span class="s1">+b.decodeQuery(n[</span><span class="s4">1</span><span class="s1">],</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace).replace(/&amp;/g,</span><span class="s3">&quot;%26&quot;</span><span class="s1">))}c+=</span><span class="s3">&quot;?&quot;</span><span class="s1">+d.substring(</span><span class="s4">1</span><span class="s1">)}</span><span class="s2">return </span><span class="s1">c+=b.decodeQuery(a.hash(),!</span><span class="s4">0</span><span class="s1">)};e.absoluteTo=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=</span><span class="s2">this</span><span class="s1">.clone(),d=[</span><span class="s3">&quot;protocol&quot;</span><span class="s1">,</span><span class="s3">&quot;username&quot;</span><span class="s1">,</span><span class="s3">&quot;password&quot;</span><span class="s1">,</span><span class="s3">&quot;hostname&quot;</span><span class="s1">,</span><span class="s3">&quot;port&quot;</span><span class="s1">],e,f;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.urn)</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">&quot;URNs do not have any generally defined hierarchical components&quot;</span><span class="s1">);a </span><span class="s2">instanceof </span><span class="s1">b||(a=</span><span class="s2">new </span><span class="s1">b(a));</span><span class="s2">if</span><span class="s1">(c._parts.protocol)</span><span class="s2">return </span><span class="s1">c;c._parts.protocol=a._parts.protocol;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">this</span><span class="s1">._parts.hostname)</span><span class="s2">return </span><span class="s1">c;</span><span class="s2">for</span><span class="s1">(e=</span><span class="s4">0</span><span class="s1">;f=d[e];e++)c._parts[f]=</span>
<a name="l77"><span class="ln">77   </span></a><span class="s1">a._parts[f];c._parts.path?(</span><span class="s3">&quot;..&quot;</span><span class="s1">===c._parts.path.substring(-</span><span class="s4">2</span><span class="s1">)&amp;&amp;(c._parts.path+=</span><span class="s3">&quot;/&quot;</span><span class="s1">),</span><span class="s3">&quot;/&quot;</span><span class="s1">!==c.path().charAt(</span><span class="s4">0</span><span class="s1">)&amp;&amp;(d=(d=a.directory())?d:</span><span class="s4">0</span><span class="s1">===a.path().indexOf(</span><span class="s3">&quot;/&quot;</span><span class="s1">)?</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">,c._parts.path=(d?d+</span><span class="s3">&quot;/&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">)+c._parts.path,c.normalizePath())):(c._parts.path=a._parts.path,c._parts.query||(c._parts.query=a._parts.query));c.build();</span><span class="s2">return </span><span class="s1">c};e.relativeTo=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">var </span><span class="s1">c=</span><span class="s2">this</span><span class="s1">.clone().normalize(),d,e,f;</span><span class="s2">if</span><span class="s1">(c._parts.urn)</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">&quot;URNs do not have any generally defined hierarchical components&quot;</span><span class="s1">);a=(</span><span class="s2">new </span><span class="s1">b(a)).normalize();</span>
<a name="l78"><span class="ln">78   </span></a><span class="s1">d=c._parts;e=a._parts;f=c.path();a=a.path();</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==f.charAt(</span><span class="s4">0</span><span class="s1">))</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">&quot;URI is already relative&quot;</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;/&quot;</span><span class="s1">!==a.charAt(</span><span class="s4">0</span><span class="s1">))</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">&quot;Cannot calculate a URI relative to another relative URI&quot;</span><span class="s1">);d.protocol===e.protocol&amp;&amp;(d.protocol=</span><span class="s2">null</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(d.username===e.username&amp;&amp;d.password===e.password&amp;&amp;</span><span class="s2">null</span><span class="s1">===d.protocol&amp;&amp;</span><span class="s2">null</span><span class="s1">===d.username&amp;&amp;</span><span class="s2">null</span><span class="s1">===d.password&amp;&amp;d.hostname===e.hostname&amp;&amp;d.port===e.port)d.hostname=</span><span class="s2">null</span><span class="s1">,d.port=</span><span class="s2">null</span><span class="s1">;</span><span class="s2">else return </span><span class="s1">c.build();</span><span class="s2">if</span><span class="s1">(f===a)</span><span class="s2">return </span><span class="s1">d.path=</span><span class="s3">&quot;&quot;</span><span class="s1">,c.build();f=b.commonPath(f,a);</span><span class="s2">if</span><span class="s1">(!f)</span><span class="s2">return </span><span class="s1">c.build();</span>
<a name="l79"><span class="ln">79   </span></a><span class="s1">e=e.path.substring(f.length).replace(/[^\/]*$/,</span><span class="s3">&quot;&quot;</span><span class="s1">).replace(/.*?\</span><span class="s0">//g,&quot;../&quot;);d.path=e+d.path.substring(f.length)||&quot;./&quot;;return c.build()};e.equals=function(a){var c=this.clone(),d=new b(a),e;a={};var f,g;c.normalize();d.normalize();if(c.toString()===d.toString())return!0;f=c.query();e=d.query();c.query(&quot;&quot;);d.query(&quot;&quot;);if(c.toString()!==d.toString()||f.length!==e.length)return!1;c=b.parseQuery(f,this._parts.escapeQuerySpace);e=b.parseQuery(e,this._parts.escapeQuerySpace);for(g in c)if(q.call(c,g)){if(!u(c[g])){if(c[g]!==</span>
<a name="l80"><span class="ln">80   </span></a><span class="s1">e[g])</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">}</span><span class="s2">else if</span><span class="s1">(!B(c[g],e[g]))</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;a[g]=!</span><span class="s4">0</span><span class="s1">}</span><span class="s2">for</span><span class="s1">(g </span><span class="s2">in </span><span class="s1">e)</span><span class="s2">if</span><span class="s1">(q.call(e,g)&amp;&amp;!a[g])</span><span class="s2">return</span><span class="s1">!</span><span class="s4">1</span><span class="s1">;</span><span class="s2">return</span><span class="s1">!</span><span class="s4">0</span><span class="s1">};e.duplicateQueryParameters=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">this</span><span class="s1">._parts.duplicateQueryParameters=!!a;</span><span class="s2">return this</span><span class="s1">};e.escapeQuerySpace=</span><span class="s2">function</span><span class="s1">(a){</span><span class="s2">this</span><span class="s1">._parts.escapeQuerySpace=!!a;</span><span class="s2">return this</span><span class="s1">};</span><span class="s2">return </span><span class="s1">b});</span>
<a name="l81"><span class="ln">81   </span></a><span class="s1">(</span><span class="s2">function</span><span class="s1">(g,k){</span><span class="s3">&quot;object&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">module&amp;&amp;module.exports?module.exports=k(require(</span><span class="s3">&quot;./URI&quot;</span><span class="s1">)):</span><span class="s3">&quot;function&quot;</span><span class="s1">===</span><span class="s2">typeof </span><span class="s1">define&amp;&amp;define.amd?define([</span><span class="s3">&quot;./URI&quot;</span><span class="s1">],k):g.URITemplate=k(g.URI,g)})(</span><span class="s2">this</span><span class="s1">,</span><span class="s2">function</span><span class="s1">(g,k){</span><span class="s2">function </span><span class="s1">h(b){</span><span class="s2">if</span><span class="s1">(h._cache[b])</span><span class="s2">return </span><span class="s1">h._cache[b];</span><span class="s2">if</span><span class="s1">(!(</span><span class="s2">this instanceof </span><span class="s1">h))</span><span class="s2">return new </span><span class="s1">h(b);</span><span class="s2">this</span><span class="s1">.expression=b;h._cache[b]=</span><span class="s2">this</span><span class="s1">;</span><span class="s2">return this</span><span class="s1">}</span><span class="s2">function </span><span class="s1">l(b){</span><span class="s2">this</span><span class="s1">.data=b;</span><span class="s2">this</span><span class="s1">.cache={}}</span><span class="s2">var </span><span class="s1">b=k&amp;&amp;k.URITemplate,m=Object.prototype.hasOwnProperty,A=h.prototype,u={</span><span class="s3">&quot;&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;,&quot;</span><span class="s1">,named:!</span><span class="s4">1</span><span class="s1">,empty_name_separator:!</span><span class="s4">1</span><span class="s1">,</span>
<a name="l82"><span class="ln">82   </span></a><span class="s1">encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">},</span><span class="s3">&quot;+&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;,&quot;</span><span class="s1">,named:!</span><span class="s4">1</span><span class="s1">,empty_name_separator:!</span><span class="s4">1</span><span class="s1">,encode:</span><span class="s3">&quot;encodeReserved&quot;</span><span class="s1">},</span><span class="s3">&quot;#&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;#&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;,&quot;</span><span class="s1">,named:!</span><span class="s4">1</span><span class="s1">,empty_name_separator:!</span><span class="s4">1</span><span class="s1">,encode:</span><span class="s3">&quot;encodeReserved&quot;</span><span class="s1">},</span><span class="s3">&quot;.&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;.&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;.&quot;</span><span class="s1">,named:!</span><span class="s4">1</span><span class="s1">,empty_name_separator:!</span><span class="s4">1</span><span class="s1">,encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">},</span><span class="s3">&quot;/&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;/&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;/&quot;</span><span class="s1">,named:!</span><span class="s4">1</span><span class="s1">,empty_name_separator:!</span><span class="s4">1</span><span class="s1">,encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">},</span><span class="s3">&quot;;&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;;&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;;&quot;</span><span class="s1">,named:!</span><span class="s4">0</span><span class="s1">,empty_name_separator:!</span><span class="s4">1</span><span class="s1">,encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">},</span><span class="s3">&quot;?&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;?&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">,named:!</span><span class="s4">0</span><span class="s1">,empty_name_separator:!</span><span class="s4">0</span><span class="s1">,encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">},</span>
<a name="l83"><span class="ln">83   </span></a><span class="s3">&quot;&amp;&quot;</span><span class="s1">:{prefix:</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">,separator:</span><span class="s3">&quot;&amp;&quot;</span><span class="s1">,named:!</span><span class="s4">0</span><span class="s1">,empty_name_separator:!</span><span class="s4">0</span><span class="s1">,encode:</span><span class="s3">&quot;encode&quot;</span><span class="s1">}};h._cache={};h.EXPRESSION_PATTERN=/\{([^a-zA-Z0-9%_]?)([^\}]+)(\}|$)/g;h.VARIABLE_PATTERN=/^([^*:.](?:\.?[^*:.])*)((\*)|:(\d+))?$/;h.VARIABLE_NAME_PATTERN=/[^a-zA-Z0-9%_.]/;h.LITERAL_PATTERN=/[&lt;&gt;{}</span><span class="s3">&quot;`^| </span><span class="s5">\\</span><span class="s3">]/;h.expand=function(b,g,l){var f=u[b.operator],n=f.named?&quot;</span><span class="s1">Named</span><span class="s3">&quot;:&quot;</span><span class="s1">Unnamed</span><span class="s3">&quot;;b=b.variables;var k=[],m,x,v;for(v=0;x=b[v];v++){m=g.get(x.name);if(0===m.type&amp;&amp;l&amp;&amp;l.strict)throw Error('Missing expansion value for variable &quot;'+</span>
<a name="l84"><span class="ln">84   </span></a><span class="s1">x.name+</span><span class="s3">'&quot;'</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(m.val.length){</span><span class="s2">if</span><span class="s1">(</span><span class="s4">1</span><span class="s1">&lt;m.type&amp;&amp;x.maxlength)</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Invalid expression: Prefix modifier not applicable to variable &quot;'</span><span class="s1">+x.name+</span><span class="s3">'&quot;'</span><span class="s1">);k.push(h[</span><span class="s3">&quot;expand&quot;</span><span class="s1">+n](m,f,x.explode,x.explode&amp;&amp;f.separator||</span><span class="s3">&quot;,&quot;</span><span class="s1">,x.maxlength,x.name))}</span><span class="s2">else </span><span class="s1">m.type&amp;&amp;k.push(</span><span class="s3">&quot;&quot;</span><span class="s1">)}</span><span class="s2">return </span><span class="s1">k.length?f.prefix+k.join(f.separator):</span><span class="s3">&quot;&quot;</span><span class="s1">};h.expandNamed=</span><span class="s2">function</span><span class="s1">(b,h,k,l,m,y){</span><span class="s2">var </span><span class="s1">f=</span><span class="s3">&quot;&quot;</span><span class="s1">,n=h.encode;h=h.empty_name_separator;</span><span class="s2">var </span><span class="s1">z=!b[n].length,e=</span><span class="s4">2</span><span class="s1">===b.type?</span><span class="s3">&quot;&quot;</span><span class="s1">:g[n](y),q,r,B;r=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(B=b.val.length;r&lt;B;r++)m?(q=g[n](b.val[r][</span><span class="s4">1</span><span class="s1">].substring(</span><span class="s4">0</span><span class="s1">,m)),</span>
<a name="l85"><span class="ln">85   </span></a><span class="s4">2</span><span class="s1">===b.type&amp;&amp;(e=g[n](b.val[r][</span><span class="s4">0</span><span class="s1">].substring(</span><span class="s4">0</span><span class="s1">,m)))):z?(q=g[n](b.val[r][</span><span class="s4">1</span><span class="s1">]),</span><span class="s4">2</span><span class="s1">===b.type?(e=g[n](b.val[r][</span><span class="s4">0</span><span class="s1">]),b[n].push([e,q])):b[n].push([</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,q])):(q=b[n][r][</span><span class="s4">1</span><span class="s1">],</span><span class="s4">2</span><span class="s1">===b.type&amp;&amp;(e=b[n][r][</span><span class="s4">0</span><span class="s1">])),f&amp;&amp;(f+=l),k?f+=e+(h||q?</span><span class="s3">&quot;=&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">)+q:(r||(f+=g[n](y)+(h||q?</span><span class="s3">&quot;=&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">)),</span><span class="s4">2</span><span class="s1">===b.type&amp;&amp;(f+=e+</span><span class="s3">&quot;,&quot;</span><span class="s1">),f+=q);</span><span class="s2">return </span><span class="s1">f};h.expandUnnamed=</span><span class="s2">function</span><span class="s1">(b,h,k,l,m){</span><span class="s2">var </span><span class="s1">f=</span><span class="s3">&quot;&quot;</span><span class="s1">,n=h.encode;h=h.empty_name_separator;</span><span class="s2">var </span><span class="s1">z=!b[n].length,B,e,q,r;q=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(r=b.val.length;q&lt;r;q++)m?e=g[n](b.val[q][</span><span class="s4">1</span><span class="s1">].substring(</span><span class="s4">0</span><span class="s1">,m)):z?(e=g[n](b.val[q][</span><span class="s4">1</span><span class="s1">]),b[n].push([</span><span class="s4">2</span><span class="s1">===</span>
<a name="l86"><span class="ln">86   </span></a><span class="s1">b.type?g[n](b.val[q][</span><span class="s4">0</span><span class="s1">]):</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,e])):e=b[n][q][</span><span class="s4">1</span><span class="s1">],f&amp;&amp;(f+=l),</span><span class="s4">2</span><span class="s1">===b.type&amp;&amp;(B=m?g[n](b.val[q][</span><span class="s4">0</span><span class="s1">].substring(</span><span class="s4">0</span><span class="s1">,m)):b[n][q][</span><span class="s4">0</span><span class="s1">],f+=B,f=k?f+(h||e?</span><span class="s3">&quot;=&quot;</span><span class="s1">:</span><span class="s3">&quot;&quot;</span><span class="s1">):f+</span><span class="s3">&quot;,&quot;</span><span class="s1">),f+=e;</span><span class="s2">return </span><span class="s1">f};h.noConflict=</span><span class="s2">function</span><span class="s1">(){k.URITemplate===h&amp;&amp;(k.URITemplate=b);</span><span class="s2">return </span><span class="s1">h};A.expand=</span><span class="s2">function</span><span class="s1">(b,g){</span><span class="s2">var </span><span class="s1">f=</span><span class="s3">&quot;&quot;</span><span class="s1">;</span><span class="s2">this</span><span class="s1">.parts&amp;&amp;</span><span class="s2">this</span><span class="s1">.parts.length||</span><span class="s2">this</span><span class="s1">.parse();b </span><span class="s2">instanceof </span><span class="s1">l||(b=</span><span class="s2">new </span><span class="s1">l(b));</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">n=</span><span class="s4">0</span><span class="s1">,k=</span><span class="s2">this</span><span class="s1">.parts.length;n&lt;k;n++)f+=</span><span class="s3">&quot;string&quot;</span><span class="s1">===</span><span class="s2">typeof this</span><span class="s1">.parts[n]?</span><span class="s2">this</span><span class="s1">.parts[n]:h.expand(</span><span class="s2">this</span><span class="s1">.parts[n],b,g);</span><span class="s2">return </span><span class="s1">f};A.parse=</span><span class="s2">function</span><span class="s1">(){</span><span class="s2">var </span><span class="s1">b=</span><span class="s2">this</span><span class="s1">.expression,</span>
<a name="l87"><span class="ln">87   </span></a><span class="s1">g=h.EXPRESSION_PATTERN,k=h.VARIABLE_PATTERN,l=h.VARIABLE_NAME_PATTERN,m=h.LITERAL_PATTERN,y=[],A=</span><span class="s4">0</span><span class="s1">,x,v,e,q=</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">if</span><span class="s1">(b.match(m))</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Invalid Literal &quot;'</span><span class="s1">+b+</span><span class="s3">'&quot;'</span><span class="s1">);</span><span class="s2">return </span><span class="s1">b};</span><span class="s2">for</span><span class="s1">(g.lastIndex=</span><span class="s4">0</span><span class="s1">;;){v=g.exec(b);</span><span class="s2">if</span><span class="s1">(</span><span class="s2">null</span><span class="s1">===v){y.push(q(b.substring(A)));</span><span class="s2">break</span><span class="s1">}</span><span class="s2">else </span><span class="s1">y.push(q(b.substring(A,v.index))),A=v.index+v[</span><span class="s4">0</span><span class="s1">].length;</span><span class="s2">if</span><span class="s1">(!u[v[</span><span class="s4">1</span><span class="s1">]])</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Unknown Operator &quot;'</span><span class="s1">+v[</span><span class="s4">1</span><span class="s1">]+</span><span class="s3">'&quot; in &quot;'</span><span class="s1">+v[</span><span class="s4">0</span><span class="s1">]+</span><span class="s3">'&quot;'</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(!v[</span><span class="s4">3</span><span class="s1">])</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Unclosed Expression &quot;'</span><span class="s1">+v[</span><span class="s4">0</span><span class="s1">]+</span><span class="s3">'&quot;'</span><span class="s1">);x=v[</span><span class="s4">2</span><span class="s1">].split(</span><span class="s3">&quot;,&quot;</span><span class="s1">);</span><span class="s2">for</span><span class="s1">(</span><span class="s2">var </span><span class="s1">r=</span><span class="s4">0</span><span class="s1">,C=x.length;r&lt;C;r++){e=x[r].match(k);</span>
<a name="l88"><span class="ln">88   </span></a><span class="s2">if</span><span class="s1">(</span><span class="s2">null</span><span class="s1">===e)</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Invalid Variable &quot;'</span><span class="s1">+x[r]+</span><span class="s3">'&quot; in &quot;'</span><span class="s1">+v[</span><span class="s4">0</span><span class="s1">]+</span><span class="s3">'&quot;'</span><span class="s1">);</span><span class="s2">if</span><span class="s1">(e[</span><span class="s4">1</span><span class="s1">].match(l))</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Invalid Variable Name &quot;'</span><span class="s1">+e[</span><span class="s4">1</span><span class="s1">]+</span><span class="s3">'&quot; in &quot;'</span><span class="s1">+v[</span><span class="s4">0</span><span class="s1">]+</span><span class="s3">'&quot;'</span><span class="s1">);x[r]={name:e[</span><span class="s4">1</span><span class="s1">],explode:!!e[</span><span class="s4">3</span><span class="s1">],maxlength:e[</span><span class="s4">4</span><span class="s1">]&amp;&amp;parseInt(e[</span><span class="s4">4</span><span class="s1">],</span><span class="s4">10</span><span class="s1">)}}</span><span class="s2">if</span><span class="s1">(!x.length)</span><span class="s2">throw </span><span class="s1">Error(</span><span class="s3">'Expression Missing Variable(s) &quot;'</span><span class="s1">+v[</span><span class="s4">0</span><span class="s1">]+</span><span class="s3">'&quot;'</span><span class="s1">);y.push({expression:v[</span><span class="s4">0</span><span class="s1">],operator:v[</span><span class="s4">1</span><span class="s1">],variables:x})}y.length||y.push(q(b));</span><span class="s2">this</span><span class="s1">.parts=y;</span><span class="s2">return this</span><span class="s1">};l.prototype.get=</span><span class="s2">function</span><span class="s1">(b){</span><span class="s2">var </span><span class="s1">f=</span><span class="s2">this</span><span class="s1">.data,g={type:</span><span class="s4">0</span><span class="s1">,val:[],encode:[],encodeReserved:[]},h;</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==</span><span class="s2">this</span><span class="s1">.cache[b])</span><span class="s2">return this</span><span class="s1">.cache[b];</span>
<a name="l89"><span class="ln">89   </span></a><span class="s2">this</span><span class="s1">.cache[b]=g;f=</span><span class="s3">&quot;[object Function]&quot;</span><span class="s1">===String(Object.prototype.toString.call(f))?f(b):</span><span class="s3">&quot;[object Function]&quot;</span><span class="s1">===String(Object.prototype.toString.call(f[b]))?f[b](b):f[b];</span><span class="s2">if</span><span class="s1">(</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==f&amp;&amp;</span><span class="s2">null</span><span class="s1">!==f)</span><span class="s2">if</span><span class="s1">(</span><span class="s3">&quot;[object Array]&quot;</span><span class="s1">===String(Object.prototype.toString.call(f))){h=</span><span class="s4">0</span><span class="s1">;</span><span class="s2">for</span><span class="s1">(b=f.length;h&lt;b;h++)</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==f[h]&amp;&amp;</span><span class="s2">null</span><span class="s1">!==f[h]&amp;&amp;g.val.push([</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,String(f[h])]);g.val.length&amp;&amp;(g.type=</span><span class="s4">3</span><span class="s1">)}</span><span class="s2">else if</span><span class="s1">(</span><span class="s3">&quot;[object Object]&quot;</span><span class="s1">===String(Object.prototype.toString.call(f))){</span><span class="s2">for</span><span class="s1">(h </span><span class="s2">in </span><span class="s1">f)m.call(f,h)&amp;&amp;</span><span class="s2">void </span><span class="s4">0</span><span class="s1">!==f[h]&amp;&amp;</span><span class="s2">null</span><span class="s1">!==f[h]&amp;&amp;g.val.push([h,</span>
<a name="l90"><span class="ln">90   </span></a><span class="s1">String(f[h])]);g.val.length&amp;&amp;(g.type=</span><span class="s4">2</span><span class="s1">)}</span><span class="s2">else </span><span class="s1">g.type=</span><span class="s4">1</span><span class="s1">,g.val.push([</span><span class="s2">void </span><span class="s4">0</span><span class="s1">,String(f)]);</span><span class="s2">return </span><span class="s1">g};g.expand=</span><span class="s2">function</span><span class="s1">(b,k){</span><span class="s2">var </span><span class="s1">f=(</span><span class="s2">new </span><span class="s1">h(b)).expand(k);</span><span class="s2">return new </span><span class="s1">g(f)};</span><span class="s2">return </span><span class="s1">h});</span>
<a name="l91"><span class="ln">91   </span></a></pre>
</body>
</html>