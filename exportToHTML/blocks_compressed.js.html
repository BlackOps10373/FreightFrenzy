<html>
<head>
<title>blocks_compressed.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #808080;}
.s1 { color: #a9b7c6;}
.s2 { color: #6a8759;}
.s3 { color: #6897bb;}
.s4 { color: #cc7832;}
.s5 { color: #4646f1;}
.ln { color: #606366; font-weight: normal; font-style: normal; }
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
blocks_compressed.js</font>
</center></td></tr></table>
<pre><a name="l1"><span class="ln">1    </span></a><span class="s0">// Do not edit this file; automatically generated by build.py.</span>
<a name="l2"><span class="ln">2    </span></a><span class="s2">'use strict'</span><span class="s1">;</span>
<a name="l3"><span class="ln">3    </span></a>
<a name="l4"><span class="ln">4    </span></a>
<a name="l5"><span class="ln">5    </span></a><span class="s1">Blockly.Blocks.colour={};Blockly.Constants={};Blockly.Constants.Colour={};Blockly.Constants.Colour.HUE=</span><span class="s3">20</span><span class="s1">;</span>
<a name="l6"><span class="ln">6    </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;colour_picker&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_colour&quot;</span><span class="s1">,name:</span><span class="s2">&quot;COLOUR&quot;</span><span class="s1">,colour:</span><span class="s2">&quot;#ff0000&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_COLOUR_PICKER_HELPURL}&quot;</span><span class="s1">,style:</span><span class="s2">&quot;colour_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_COLOUR_PICKER_TOOLTIP}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;parent_tooltip_when_inline&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;colour_random&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_COLOUR_RANDOM_TITLE}&quot;</span><span class="s1">,output:</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_COLOUR_RANDOM_HELPURL}&quot;</span><span class="s1">,style:</span><span class="s2">&quot;colour_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_COLOUR_RANDOM_TOOLTIP}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;colour_rgb&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3&quot;</span><span class="s1">,</span>
<a name="l7"><span class="ln">7    </span></a><span class="s1">args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;RED&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;GREEN&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;BLUE&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_COLOUR_RGB_HELPURL}&quot;</span><span class="s1">,style:</span><span class="s2">&quot;colour_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_COLOUR_RGB_TOOLTIP}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;colour_blend&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;COLOUR1&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,</span>
<a name="l8"><span class="ln">8    </span></a><span class="s1">align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;COLOUR2&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;RATIO&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Colour&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_COLOUR_BLEND_HELPURL}&quot;</span><span class="s1">,style:</span><span class="s2">&quot;colour_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_COLOUR_BLEND_TOOLTIP}&quot;</span><span class="s1">}]);Blockly.Blocks.lists={};Blockly.Constants.Lists={};Blockly.Constants.Lists.HUE=</span><span class="s3">260</span><span class="s1">;</span>
<a name="l9"><span class="ln">9    </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;lists_create_empty&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LISTS_CREATE_EMPTY_TITLE}&quot;</span><span class="s1">,output:</span><span class="s2">&quot;Array&quot;</span><span class="s1">,style:</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LISTS_CREATE_EMPTY_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;lists_repeat&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LISTS_REPEAT_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;ITEM&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;NUM&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Array&quot;</span><span class="s1">,style:</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LISTS_REPEAT_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LISTS_REPEAT_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;lists_reverse&quot;</span><span class="s1">,</span>
<a name="l10"><span class="ln">10   </span></a><span class="s1">message0:</span><span class="s2">&quot;%{BKY_LISTS_REVERSE_MESSAGE0}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;LIST&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Array&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Array&quot;</span><span class="s1">,inputsInline:!</span><span class="s3">0</span><span class="s1">,style:</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LISTS_REVERSE_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LISTS_REVERSE_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;lists_isEmpty&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LISTS_ISEMPTY_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:[</span><span class="s2">&quot;String&quot;</span><span class="s1">,</span><span class="s2">&quot;Array&quot;</span><span class="s1">]}],output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LISTS_ISEMPTY_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LISTS_ISEMPTY_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;lists_length&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LISTS_LENGTH_TITLE}&quot;</span><span class="s1">,</span>
<a name="l11"><span class="ln">11   </span></a><span class="s1">args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:[</span><span class="s2">&quot;String&quot;</span><span class="s1">,</span><span class="s2">&quot;Array&quot;</span><span class="s1">]}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LISTS_LENGTH_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LISTS_LENGTH_HELPURL}&quot;</span><span class="s1">}]);</span>
<a name="l12"><span class="ln">12   </span></a><span class="s1">Blockly.Blocks.lists_create_with={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.LISTS_CREATE_WITH_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.itemCount_=</span><span class="s3">3</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;Array&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setMutator(</span><span class="s4">new </span><span class="s1">Blockly.Mutator([</span><span class="s2">&quot;lists_create_with_item&quot;</span><span class="s1">]));</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;items&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.itemCount_);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.itemCount_=parseInt(a.getAttribute(</span><span class="s2">&quot;items&quot;</span><span class="s1">),</span>
<a name="l13"><span class="ln">13   </span></a><span class="s3">10</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateShape_()},decompose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=a.newBlock(</span><span class="s2">&quot;lists_create_with_container&quot;</span><span class="s1">);b.initSvg();</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=b.getInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">).connection,d=</span><span class="s3">0</span><span class="s1">;d&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;d++){</span><span class="s4">var </span><span class="s1">e=a.newBlock(</span><span class="s2">&quot;lists_create_with_item&quot;</span><span class="s1">);e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}</span><span class="s4">return </span><span class="s1">b},compose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=a.getInputTargetBlock(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&amp;&amp;b.nextConnection.targetBlock();</span><span class="s4">for</span><span class="s1">(b=</span><span class="s3">0</span><span class="s1">;b&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;b++){</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+b).connection.targetConnection;</span>
<a name="l14"><span class="ln">14   </span></a><span class="s1">c&amp;&amp;-</span><span class="s3">1</span><span class="s1">==a.indexOf(c)&amp;&amp;c.disconnect()}</span><span class="s4">this</span><span class="s1">.itemCount_=a.length;</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">for</span><span class="s1">(b=</span><span class="s3">0</span><span class="s1">;b&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;b++)Blockly.Mutator.reconnect(a[b],</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+b)},saveConnections:</span><span class="s4">function</span><span class="s1">(a){a=a.getInputTargetBlock(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=</span><span class="s3">0</span><span class="s1">;a;){</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+b);a.valueConnection_=c&amp;&amp;c.connection.targetConnection;b++;a=a.nextConnection&amp;&amp;a.nextConnection.targetBlock()}},updateShape_:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.itemCount_&amp;&amp;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">)?</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">):</span><span class="s4">this</span><span class="s1">.itemCount_||</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">)||</span>
<a name="l15"><span class="ln">15   </span></a><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_CREATE_EMPTY_TITLE);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">a=</span><span class="s3">0</span><span class="s1">;a&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;a++)</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a)){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a);</span><span class="s3">0</span><span class="s1">==a&amp;&amp;b.appendField(Blockly.Msg.LISTS_CREATE_WITH_INPUT_WITH)}</span><span class="s4">for</span><span class="s1">(;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a);)</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a),a++}};</span>
<a name="l16"><span class="ln">16   </span></a><span class="s1">Blockly.Blocks.lists_create_with_container={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD);</span><span class="s4">this</span><span class="s1">.appendStatementInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP);</span><span class="s4">this</span><span class="s1">.contextMenu=!</span><span class="s3">1</span><span class="s1">}};</span>
<a name="l17"><span class="ln">17   </span></a><span class="s1">Blockly.Blocks.lists_create_with_item={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TITLE);</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP);</span><span class="s4">this</span><span class="s1">.contextMenu=!</span><span class="s3">1</span><span class="s1">}};</span>
<a name="l18"><span class="ln">18   </span></a><span class="s1">Blockly.Blocks.lists_indexOf={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.LISTS_INDEX_OF_FIRST,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">],[Blockly.Msg.LISTS_INDEX_OF_LAST,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.LISTS_INDEX_OF_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;Number&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_INDEX_OF_INPUT_IN_LIST);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;FIND&quot;</span><span class="s1">).appendField(</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a),</span><span class="s2">&quot;END&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return </span><span class="s1">Blockly.Msg.LISTS_INDEX_OF_TOOLTIP.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,</span>
<a name="l19"><span class="ln">19   </span></a><span class="s1">b.workspace.options.oneBasedIndex?</span><span class="s2">&quot;0&quot;</span><span class="s1">:</span><span class="s2">&quot;-1&quot;</span><span class="s1">)})}};</span>
<a name="l20"><span class="ln">20   </span></a><span class="s1">Blockly.Blocks.lists_getIndex={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.LISTS_GET_INDEX_GET,</span><span class="s2">&quot;GET&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_GET_REMOVE,</span><span class="s2">&quot;GET_REMOVE&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_REMOVE,</span><span class="s2">&quot;REMOVE&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_FIRST,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_LAST,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,</span><span class="s2">&quot;RANDOM&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.LISTS_GET_INDEX_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span>
<a name="l21"><span class="ln">21   </span></a><span class="s1">a=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a,</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s2">&quot;REMOVE&quot;</span><span class="s1">==a;</span><span class="s4">this</span><span class="s1">.getSourceBlock().updateStatement_(a)});</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_GET_INDEX_INPUT_IN_LIST);</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(a,</span><span class="s2">&quot;MODE&quot;</span><span class="s1">).appendField(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;SPACE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">);Blockly.Msg.LISTS_GET_INDEX_TAIL&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_GET_INDEX_TAIL);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span>
<a name="l22"><span class="ln">22   </span></a><span class="s1">b.getFieldValue(</span><span class="s2">&quot;MODE&quot;</span><span class="s1">),d=b.getFieldValue(</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">),e=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(a+</span><span class="s2">&quot; &quot;</span><span class="s1">+d){</span><span class="s4">case </span><span class="s2">&quot;GET FROM_START&quot;</span><span class="s1">:</span><span class="s4">case </span><span class="s2">&quot;GET FROM_END&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET FIRST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET LAST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET RANDOM&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET_REMOVE FROM_START&quot;</span><span class="s1">:</span><span class="s4">case </span><span class="s2">&quot;GET_REMOVE FROM_END&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET_REMOVE FIRST&quot;</span><span class="s1">:e=</span>
<a name="l23"><span class="ln">23   </span></a><span class="s1">Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET_REMOVE LAST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;GET_REMOVE RANDOM&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;REMOVE FROM_START&quot;</span><span class="s1">:</span><span class="s4">case </span><span class="s2">&quot;REMOVE FROM_END&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;REMOVE FIRST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;REMOVE LAST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;REMOVE RANDOM&quot;</span><span class="s1">:e=</span>
<a name="l24"><span class="ln">24   </span></a><span class="s1">Blockly.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==d||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==d)e+=</span><span class="s2">&quot;  &quot;</span><span class="s1">+(</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==d?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP).replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,b.workspace.options.oneBasedIndex?</span><span class="s2">&quot;#1&quot;</span><span class="s1">:</span><span class="s2">&quot;#0&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s1">e})},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;statement&quot;</span><span class="s1">,!</span><span class="s4">this</span><span class="s1">.outputConnection);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).type==Blockly.INPUT_VALUE;a.setAttribute(</span><span class="s2">&quot;at&quot;</span><span class="s1">,b);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=</span>
<a name="l25"><span class="ln">25   </span></a><span class="s2">&quot;true&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;statement&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateStatement_(b);a=</span><span class="s2">&quot;false&quot;</span><span class="s1">!=a.getAttribute(</span><span class="s2">&quot;at&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(a)},updateStatement_:</span><span class="s4">function</span><span class="s1">(a){a!=!</span><span class="s4">this</span><span class="s1">.outputConnection&amp;&amp;(</span><span class="s4">this</span><span class="s1">.unplug(!</span><span class="s3">0</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">),a?(</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">1</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">0</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">0</span><span class="s1">)):(</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">1</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">1</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">)))},updateAt_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);a?(</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&amp;&amp;</span>
<a name="l26"><span class="ln">26   </span></a><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS,</span><span class="s4">function</span><span class="s1">(b){</span><span class="s4">var </span><span class="s1">c=</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==b||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==b;</span><span class="s4">if</span><span class="s1">(c!=a){</span><span class="s4">var </span><span class="s1">e=</span><span class="s4">this</span><span class="s1">.getSourceBlock();e.updateAt_(c);e.setFieldValue(b,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">);</span><span class="s4">return null</span><span class="s1">}});</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).appendField(b,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">);Blockly.Msg.LISTS_GET_INDEX_TAIL&amp;&amp;</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">,</span><span class="s4">null</span><span class="s1">)}};</span>
<a name="l27"><span class="ln">27   </span></a><span class="s1">Blockly.Blocks.lists_setIndex={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.LISTS_SET_INDEX_SET,</span><span class="s2">&quot;SET&quot;</span><span class="s1">],[Blockly.Msg.LISTS_SET_INDEX_INSERT,</span><span class="s2">&quot;INSERT&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS=[[Blockly.Msg.LISTS_GET_INDEX_FROM_START,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_FROM_END,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_FIRST,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_LAST,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_INDEX_RANDOM,</span><span class="s2">&quot;RANDOM&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.LISTS_SET_INDEX_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;LIST&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_IN_LIST);</span>
<a name="l28"><span class="ln">28   </span></a><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a),</span><span class="s2">&quot;MODE&quot;</span><span class="s1">).appendField(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;SPACE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;TO&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_SET_INDEX_INPUT_TO);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.LISTS_SET_INDEX_TOOLTIP);</span><span class="s4">this</span><span class="s1">.updateAt_(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=b.getFieldValue(</span><span class="s2">&quot;MODE&quot;</span><span class="s1">),d=b.getFieldValue(</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">),e=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s4">switch</span><span class="s1">(a+</span><span class="s2">&quot; &quot;</span><span class="s1">+d){</span><span class="s4">case </span><span class="s2">&quot;SET FROM_START&quot;</span><span class="s1">:</span><span class="s4">case </span><span class="s2">&quot;SET FROM_END&quot;</span><span class="s1">:e=</span>
<a name="l29"><span class="ln">29   </span></a><span class="s1">Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;SET FIRST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;SET LAST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;SET RANDOM&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;INSERT FROM_START&quot;</span><span class="s1">:</span><span class="s4">case </span><span class="s2">&quot;INSERT FROM_END&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;INSERT FIRST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;INSERT LAST&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;</span>
<a name="l30"><span class="ln">30   </span></a><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;INSERT RANDOM&quot;</span><span class="s1">:e=Blockly.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==d||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==d)e+=</span><span class="s2">&quot;  &quot;</span><span class="s1">+Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,b.workspace.options.oneBasedIndex?</span><span class="s2">&quot;#1&quot;</span><span class="s1">:</span><span class="s2">&quot;#0&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s1">e})},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">),b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).type==Blockly.INPUT_VALUE;a.setAttribute(</span><span class="s2">&quot;at&quot;</span><span class="s1">,b);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s2">&quot;false&quot;</span><span class="s1">!=a.getAttribute(</span><span class="s2">&quot;at&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(a)},updateAt_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">);</span>
<a name="l31"><span class="ln">31   </span></a><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);a?(</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS,</span><span class="s4">function</span><span class="s1">(b){</span><span class="s4">var </span><span class="s1">c=</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==b||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==b;</span><span class="s4">if</span><span class="s1">(c!=a){</span><span class="s4">var </span><span class="s1">e=</span><span class="s4">this</span><span class="s1">.getSourceBlock();e.updateAt_(c);e.setFieldValue(b,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">);</span><span class="s4">return null</span><span class="s1">}});</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;AT&quot;</span><span class="s1">,</span><span class="s2">&quot;TO&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">)&amp;&amp;</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">,</span>
<a name="l32"><span class="ln">32   </span></a><span class="s2">&quot;TO&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).appendField(b,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">)}};</span>
<a name="l33"><span class="ln">33   </span></a><span class="s1">Blockly.Blocks.lists_getSublist={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS_1=[[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_START,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_SUBLIST_START_FROM_END,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_SUBLIST_START_FIRST,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS_2=[[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_START,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_SUBLIST_END_FROM_END,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[Blockly.Msg.LISTS_GET_SUBLIST_END_LAST,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.LISTS_GET_SUBLIST_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span>
<a name="l34"><span class="ln">34   </span></a><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;LIST&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT1&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT2&quot;</span><span class="s1">);Blockly.Msg.LISTS_GET_SUBLIST_TAIL&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_GET_SUBLIST_TAIL);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;Array&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">1</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">2</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">),</span>
<a name="l35"><span class="ln">35   </span></a><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT1&quot;</span><span class="s1">).type==Blockly.INPUT_VALUE;a.setAttribute(</span><span class="s2">&quot;at1&quot;</span><span class="s1">,b);b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT2&quot;</span><span class="s1">).type==Blockly.INPUT_VALUE;a.setAttribute(</span><span class="s2">&quot;at2&quot;</span><span class="s1">,b);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=</span><span class="s2">&quot;true&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;at1&quot;</span><span class="s1">);a=</span><span class="s2">&quot;true&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;at2&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">1</span><span class="s1">,b);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">2</span><span class="s1">,a)},updateAt_:</span><span class="s4">function</span><span class="s1">(a,b){</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a);</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">+a,!</span><span class="s3">0</span><span class="s1">);b?(</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a).setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):</span>
<a name="l36"><span class="ln">36   </span></a><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a);</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(</span><span class="s4">this</span><span class="s1">[</span><span class="s2">&quot;WHERE_OPTIONS_&quot;</span><span class="s1">+a],</span><span class="s4">function</span><span class="s1">(c){</span><span class="s4">var </span><span class="s1">d=</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==c||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==c;</span><span class="s4">if</span><span class="s1">(d!=b){</span><span class="s4">var </span><span class="s1">f=</span><span class="s4">this</span><span class="s1">.getSourceBlock();f.updateAt_(a,d);f.setFieldValue(c,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">+a);</span><span class="s4">return null</span><span class="s1">}});</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a).appendField(c,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">+a);</span><span class="s3">1</span><span class="s1">==a&amp;&amp;(</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;AT1&quot;</span><span class="s1">,</span><span class="s2">&quot;AT2&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ORDINAL1&quot;</span><span class="s1">)&amp;&amp;</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;ORDINAL1&quot;</span><span class="s1">,</span><span class="s2">&quot;AT2&quot;</span><span class="s1">));Blockly.Msg.LISTS_GET_SUBLIST_TAIL&amp;&amp;</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">,</span><span class="s4">null</span><span class="s1">)}};</span>
<a name="l37"><span class="ln">37   </span></a><span class="s1">Blockly.Blocks.lists_sort={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.jsonInit({message0:Blockly.Msg.LISTS_SORT_TITLE,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TYPE&quot;</span><span class="s1">,options:[[Blockly.Msg.LISTS_SORT_TYPE_NUMERIC,</span><span class="s2">&quot;NUMERIC&quot;</span><span class="s1">],[Blockly.Msg.LISTS_SORT_TYPE_TEXT,</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">],[Blockly.Msg.LISTS_SORT_TYPE_IGNORECASE,</span><span class="s2">&quot;IGNORE_CASE&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DIRECTION&quot;</span><span class="s1">,options:[[Blockly.Msg.LISTS_SORT_ORDER_ASCENDING,</span><span class="s2">&quot;1&quot;</span><span class="s1">],[Blockly.Msg.LISTS_SORT_ORDER_DESCENDING,</span><span class="s2">&quot;-1&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;LIST&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Array&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Array&quot;</span><span class="s1">,style:</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">,</span>
<a name="l38"><span class="ln">38   </span></a><span class="s1">tooltip:Blockly.Msg.LISTS_SORT_TOOLTIP,helpUrl:Blockly.Msg.LISTS_SORT_HELPURL})}};</span>
<a name="l39"><span class="ln">39   </span></a><span class="s1">Blockly.Blocks.lists_split={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span><span class="s4">this</span><span class="s1">,b=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown([[Blockly.Msg.LISTS_SPLIT_LIST_FROM_TEXT,</span><span class="s2">&quot;SPLIT&quot;</span><span class="s1">],[Blockly.Msg.LISTS_SPLIT_TEXT_FROM_LIST,</span><span class="s2">&quot;JOIN&quot;</span><span class="s1">]],</span><span class="s4">function</span><span class="s1">(b){a.updateType_(b)});</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.LISTS_SPLIT_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;list_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">).appendField(b,</span><span class="s2">&quot;MODE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;DELIM&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">).appendField(Blockly.Msg.LISTS_SPLIT_WITH_DELIMITER);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span>
<a name="l40"><span class="ln">40   </span></a><span class="s2">&quot;Array&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">b=a.getFieldValue(</span><span class="s2">&quot;MODE&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;SPLIT&quot;</span><span class="s1">==b)</span><span class="s4">return </span><span class="s1">Blockly.Msg.LISTS_SPLIT_TOOLTIP_SPLIT;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;JOIN&quot;</span><span class="s1">==b)</span><span class="s4">return </span><span class="s1">Blockly.Msg.LISTS_SPLIT_TOOLTIP_JOIN;</span><span class="s4">throw </span><span class="s1">Error(</span><span class="s2">&quot;Unknown mode: &quot;</span><span class="s1">+b);})},updateType_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;MODE&quot;</span><span class="s1">)!=a){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">).connection;b.setShadowDom(</span><span class="s4">null</span><span class="s1">);</span><span class="s4">var </span><span class="s1">c=b.targetBlock();c&amp;&amp;(b.disconnect(),c.isShadow()?c.dispose():</span><span class="s4">this</span><span class="s1">.bumpNeighbours_())}</span><span class="s2">&quot;SPLIT&quot;</span><span class="s1">==a?(</span><span class="s4">this</span><span class="s1">.outputConnection.setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">)):</span>
<a name="l41"><span class="ln">41   </span></a><span class="s1">(</span><span class="s4">this</span><span class="s1">.outputConnection.setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;INPUT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">))},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;mode&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;MODE&quot;</span><span class="s1">));</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.updateType_(a.getAttribute(</span><span class="s2">&quot;mode&quot;</span><span class="s1">))}};Blockly.Blocks.logic={};Blockly.Constants.Logic={};Blockly.Constants.Logic.HUE=</span><span class="s3">210</span><span class="s1">;</span>
<a name="l42"><span class="ln">42   </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;logic_boolean&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;BOOL&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_LOGIC_BOOLEAN_TRUE}&quot;</span><span class="s1">,</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_LOGIC_BOOLEAN_FALSE}&quot;</span><span class="s1">,</span><span class="s2">&quot;FALSE&quot;</span><span class="s1">]]}],output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LOGIC_BOOLEAN_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LOGIC_BOOLEAN_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;controls_if&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_MSG_IF} %1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;IF0&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_MSG_THEN} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,</span>
<a name="l43"><span class="ln">43   </span></a><span class="s1">name:</span><span class="s2">&quot;DO0&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_HELPURL}&quot;</span><span class="s1">,mutator:</span><span class="s2">&quot;controls_if_mutator&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;controls_if_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;controls_ifelse&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_MSG_IF} %1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;IF0&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_MSG_THEN} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DO0&quot;</span><span class="s1">}],message2:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_MSG_ELSE} %1&quot;</span><span class="s1">,args2:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,</span>
<a name="l44"><span class="ln">44   </span></a><span class="s1">style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKYCONTROLS_IF_TOOLTIP_2}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;controls_if_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;logic_compare&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2 %3&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;A&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;=&quot;</span><span class="s1">,</span><span class="s2">&quot;EQ&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u2260</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;NEQ&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u200f</span><span class="s2">&lt;&quot;</span><span class="s1">,</span><span class="s2">&quot;LT&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u200f\u2264</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;LTE&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u200f</span><span class="s2">&gt;&quot;</span><span class="s1">,</span><span class="s2">&quot;GT&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u200f\u2265</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;GTE&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;B&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;logic_compare&quot;</span><span class="s1">,</span>
<a name="l45"><span class="ln">45   </span></a><span class="s2">&quot;logic_op_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;logic_operation&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2 %3&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;A&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_LOGIC_OPERATION_AND}&quot;</span><span class="s1">,</span><span class="s2">&quot;AND&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_LOGIC_OPERATION_OR}&quot;</span><span class="s1">,</span><span class="s2">&quot;OR&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;B&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LOGIC_OPERATION_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;logic_op_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;logic_negate&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LOGIC_NEGATE_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;BOOL&quot;</span><span class="s1">,</span>
<a name="l46"><span class="ln">46   </span></a><span class="s1">check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LOGIC_NEGATE_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LOGIC_NEGATE_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;logic_null&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LOGIC_NULL}&quot;</span><span class="s1">,output:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LOGIC_NULL_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LOGIC_NULL_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;logic_ternary&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_LOGIC_TERNARY_CONDITION} %1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;IF&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_LOGIC_TERNARY_IF_TRUE} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;THEN&quot;</span><span class="s1">}],message2:</span><span class="s2">&quot;%{BKY_LOGIC_TERNARY_IF_FALSE} %1&quot;</span><span class="s1">,</span>
<a name="l47"><span class="ln">47   </span></a><span class="s1">args2:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">}],output:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_LOGIC_TERNARY_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_LOGIC_TERNARY_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;logic_ternary&quot;</span><span class="s1">]}]);</span>
<a name="l48"><span class="ln">48   </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;controls_if_if&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_IF_TITLE_IF}&quot;</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,enableContextMenu:!</span><span class="s3">1</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_IF_TOOLTIP}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;controls_if_elseif&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}&quot;</span><span class="s1">,previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,enableContextMenu:!</span><span class="s3">1</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;controls_if_else&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}&quot;</span><span class="s1">,previousStatement:</span><span class="s4">null</span><span class="s1">,</span>
<a name="l49"><span class="ln">49   </span></a><span class="s1">enableContextMenu:!</span><span class="s3">1</span><span class="s1">,style:</span><span class="s2">&quot;logic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_CONTROLS_IF_ELSE_TOOLTIP}&quot;</span><span class="s1">}]);Blockly.Constants.Logic.TOOLTIPS_BY_OP={EQ:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}&quot;</span><span class="s1">,NEQ:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}&quot;</span><span class="s1">,LT:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_TOOLTIP_LT}&quot;</span><span class="s1">,LTE:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}&quot;</span><span class="s1">,GT:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_TOOLTIP_GT}&quot;</span><span class="s1">,GTE:</span><span class="s2">&quot;%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}&quot;</span><span class="s1">,AND:</span><span class="s2">&quot;%{BKY_LOGIC_OPERATION_TOOLTIP_AND}&quot;</span><span class="s1">,OR:</span><span class="s2">&quot;%{BKY_LOGIC_OPERATION_TOOLTIP_OR}&quot;</span><span class="s1">};</span>
<a name="l50"><span class="ln">50   </span></a><span class="s1">Blockly.Extensions.register(</span><span class="s2">&quot;logic_op_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipForDropdown(</span><span class="s2">&quot;OP&quot;</span><span class="s1">,Blockly.Constants.Logic.TOOLTIPS_BY_OP));</span>
<a name="l51"><span class="ln">51   </span></a><span class="s1">Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN={elseifCount_:</span><span class="s3">0</span><span class="s1">,elseCount_:</span><span class="s3">0</span><span class="s1">,suppressPrefixSuffix:!</span><span class="s3">0</span><span class="s1">,mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.elseifCount_&amp;&amp;!</span><span class="s4">this</span><span class="s1">.elseCount_)</span><span class="s4">return null</span><span class="s1">;</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.elseifCount_&amp;&amp;a.setAttribute(</span><span class="s2">&quot;elseif&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.elseifCount_);</span><span class="s4">this</span><span class="s1">.elseCount_&amp;&amp;a.setAttribute(</span><span class="s2">&quot;else&quot;</span><span class="s1">,</span><span class="s3">1</span><span class="s1">);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.elseifCount_=parseInt(a.getAttribute(</span><span class="s2">&quot;elseif&quot;</span><span class="s1">),</span><span class="s3">10</span><span class="s1">)||</span><span class="s3">0</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.elseCount_=parseInt(a.getAttribute(</span><span class="s2">&quot;else&quot;</span><span class="s1">),</span><span class="s3">10</span><span class="s1">)||</span><span class="s3">0</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.rebuildShape_()},</span>
<a name="l52"><span class="ln">52   </span></a><span class="s1">decompose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=a.newBlock(</span><span class="s2">&quot;controls_if_if&quot;</span><span class="s1">);b.initSvg();</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=b.nextConnection,d=</span><span class="s3">1</span><span class="s1">;d&lt;=</span><span class="s4">this</span><span class="s1">.elseifCount_;d++){</span><span class="s4">var </span><span class="s1">e=a.newBlock(</span><span class="s2">&quot;controls_if_elseif&quot;</span><span class="s1">);e.initSvg();c.connect(e.previousConnection);c=e.nextConnection}</span><span class="s4">this</span><span class="s1">.elseCount_&amp;&amp;(a=a.newBlock(</span><span class="s2">&quot;controls_if_else&quot;</span><span class="s1">),a.initSvg(),c.connect(a.previousConnection));</span><span class="s4">return </span><span class="s1">b},compose:</span><span class="s4">function</span><span class="s1">(a){a=a.nextConnection.targetBlock();</span><span class="s4">this</span><span class="s1">.elseCount_=</span><span class="s4">this</span><span class="s1">.elseifCount_=</span><span class="s3">0</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=[</span><span class="s4">null</span><span class="s1">],c=[</span><span class="s4">null</span><span class="s1">],d=</span><span class="s4">null</span><span class="s1">;a;){</span><span class="s4">switch</span><span class="s1">(a.type){</span><span class="s4">case </span><span class="s2">&quot;controls_if_elseif&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.elseifCount_++;</span>
<a name="l53"><span class="ln">53   </span></a><span class="s1">b.push(a.valueConnection_);c.push(a.statementConnection_);</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;controls_if_else&quot;</span><span class="s1">:</span><span class="s4">this</span><span class="s1">.elseCount_++;d=a.statementConnection_;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s4">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Unknown block type: &quot;</span><span class="s1">+a.type);}a=a.nextConnection&amp;&amp;a.nextConnection.targetBlock()}</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">this</span><span class="s1">.reconnectChildBlocks_(b,c,d)},saveConnections:</span><span class="s4">function</span><span class="s1">(a){a=a.nextConnection.targetBlock();</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=</span><span class="s3">1</span><span class="s1">;a;){</span><span class="s4">switch</span><span class="s1">(a.type){</span><span class="s4">case </span><span class="s2">&quot;controls_if_elseif&quot;</span><span class="s1">:</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;IF&quot;</span><span class="s1">+b),d=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;DO&quot;</span><span class="s1">+b);a.valueConnection_=c&amp;&amp;c.connection.targetConnection;</span>
<a name="l54"><span class="ln">54   </span></a><span class="s1">a.statementConnection_=d&amp;&amp;d.connection.targetConnection;b++;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">case </span><span class="s2">&quot;controls_if_else&quot;</span><span class="s1">:d=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">);a.statementConnection_=d&amp;&amp;d.connection.targetConnection;</span><span class="s4">break</span><span class="s1">;</span><span class="s4">default</span><span class="s1">:</span><span class="s4">throw </span><span class="s1">TypeError(</span><span class="s2">&quot;Unknown block type: &quot;</span><span class="s1">+a.type);}a=a.nextConnection&amp;&amp;a.nextConnection.targetBlock()}},rebuildShape_:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[</span><span class="s4">null</span><span class="s1">],b=[</span><span class="s4">null</span><span class="s1">],c=</span><span class="s4">null</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">)&amp;&amp;(c=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">).connection.targetConnection);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">d=</span><span class="s3">1</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;IF&quot;</span><span class="s1">+d);){</span><span class="s4">var </span><span class="s1">e=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;IF&quot;</span><span class="s1">+d),f=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;DO&quot;</span><span class="s1">+</span>
<a name="l55"><span class="ln">55   </span></a><span class="s1">d);a.push(e.connection.targetConnection);b.push(f.connection.targetConnection);d++}</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">this</span><span class="s1">.reconnectChildBlocks_(a,b,c)},updateShape_:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">)&amp;&amp;</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">a=</span><span class="s3">1</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;IF&quot;</span><span class="s1">+a);)</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;IF&quot;</span><span class="s1">+a),</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;DO&quot;</span><span class="s1">+a),a++;</span><span class="s4">for</span><span class="s1">(a=</span><span class="s3">1</span><span class="s1">;a&lt;=</span><span class="s4">this</span><span class="s1">.elseifCount_;a++)</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;IF&quot;</span><span class="s1">+a).setCheck(</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">).appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSEIF),</span><span class="s4">this</span><span class="s1">.appendStatementInput(</span><span class="s2">&quot;DO&quot;</span><span class="s1">+a).appendField(Blockly.Msg.CONTROLS_IF_MSG_THEN);</span>
<a name="l56"><span class="ln">56   </span></a><span class="s4">this</span><span class="s1">.elseCount_&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendStatementInput(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">).appendField(Blockly.Msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:</span><span class="s4">function</span><span class="s1">(a,b,c){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">d=</span><span class="s3">1</span><span class="s1">;d&lt;=</span><span class="s4">this</span><span class="s1">.elseifCount_;d++)Blockly.Mutator.reconnect(a[d],</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;IF&quot;</span><span class="s1">+d),Blockly.Mutator.reconnect(b[d],</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;DO&quot;</span><span class="s1">+d);Blockly.Mutator.reconnect(c,</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">)}};Blockly.Extensions.registerMutator(</span><span class="s2">&quot;controls_if_mutator&quot;</span><span class="s1">,Blockly.Constants.Logic.CONTROLS_IF_MUTATOR_MIXIN,</span><span class="s4">null</span><span class="s1">,[</span><span class="s2">&quot;controls_if_elseif&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_if_else&quot;</span><span class="s1">]);</span>
<a name="l57"><span class="ln">57   </span></a><span class="s1">Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.elseifCount_||</span><span class="s4">this</span><span class="s1">.elseCount_){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.elseifCount_&amp;&amp;</span><span class="s4">this</span><span class="s1">.elseCount_)</span><span class="s4">return </span><span class="s1">Blockly.Msg.CONTROLS_IF_TOOLTIP_2;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.elseifCount_&amp;&amp;!</span><span class="s4">this</span><span class="s1">.elseCount_)</span><span class="s4">return </span><span class="s1">Blockly.Msg.CONTROLS_IF_TOOLTIP_3;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.elseifCount_&amp;&amp;</span><span class="s4">this</span><span class="s1">.elseCount_)</span><span class="s4">return </span><span class="s1">Blockly.Msg.CONTROLS_IF_TOOLTIP_4}</span><span class="s4">else return </span><span class="s1">Blockly.Msg.CONTROLS_IF_TOOLTIP_1;</span><span class="s4">return</span><span class="s2">&quot;&quot;</span><span class="s1">}.bind(</span><span class="s4">this</span><span class="s1">))};Blockly.Extensions.register(</span><span class="s2">&quot;controls_if_tooltip&quot;</span><span class="s1">,Blockly.Constants.Logic.CONTROLS_IF_TOOLTIP_EXTENSION);</span>
<a name="l58"><span class="ln">58   </span></a><span class="s1">Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN={onchange:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.prevBlocks_||(</span><span class="s4">this</span><span class="s1">.prevBlocks_=[</span><span class="s4">null</span><span class="s1">,</span><span class="s4">null</span><span class="s1">]);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInputTargetBlock(</span><span class="s2">&quot;A&quot;</span><span class="s1">),c=</span><span class="s4">this</span><span class="s1">.getInputTargetBlock(</span><span class="s2">&quot;B&quot;</span><span class="s1">);b&amp;&amp;c&amp;&amp;!b.outputConnection.checkType_(c.outputConnection)&amp;&amp;(Blockly.Events.setGroup(a.group),a=</span><span class="s4">this</span><span class="s1">.prevBlocks_[</span><span class="s3">0</span><span class="s1">],a!==b&amp;&amp;(b.unplug(),a&amp;&amp;!a.isShadow()&amp;&amp;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;A&quot;</span><span class="s1">).connection.connect(a.outputConnection)),b=</span><span class="s4">this</span><span class="s1">.prevBlocks_[</span><span class="s3">1</span><span class="s1">],b!==c&amp;&amp;(c.unplug(),b&amp;&amp;!b.isShadow()&amp;&amp;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;B&quot;</span><span class="s1">).connection.connect(b.outputConnection)),</span>
<a name="l59"><span class="ln">59   </span></a><span class="s4">this</span><span class="s1">.bumpNeighbours_(),Blockly.Events.setGroup(!</span><span class="s3">1</span><span class="s1">));</span><span class="s4">this</span><span class="s1">.prevBlocks_[</span><span class="s3">0</span><span class="s1">]=</span><span class="s4">this</span><span class="s1">.getInputTargetBlock(</span><span class="s2">&quot;A&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.prevBlocks_[</span><span class="s3">1</span><span class="s1">]=</span><span class="s4">this</span><span class="s1">.getInputTargetBlock(</span><span class="s2">&quot;B&quot;</span><span class="s1">)}};Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.mixin(Blockly.Constants.Logic.LOGIC_COMPARE_ONCHANGE_MIXIN)};Blockly.Extensions.register(</span><span class="s2">&quot;logic_compare&quot;</span><span class="s1">,Blockly.Constants.Logic.LOGIC_COMPARE_EXTENSION);</span>
<a name="l60"><span class="ln">60   </span></a><span class="s1">Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN={prevParentConnection_:</span><span class="s4">null</span><span class="s1">,onchange:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInputTargetBlock(</span><span class="s2">&quot;THEN&quot;</span><span class="s1">),c=</span><span class="s4">this</span><span class="s1">.getInputTargetBlock(</span><span class="s2">&quot;ELSE&quot;</span><span class="s1">),d=</span><span class="s4">this</span><span class="s1">.outputConnection.targetConnection;</span><span class="s4">if</span><span class="s1">((b||c)&amp;&amp;d)</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">e=</span><span class="s3">0</span><span class="s1">;</span><span class="s3">2</span><span class="s1">&gt;e;e++){</span><span class="s4">var </span><span class="s1">f=</span><span class="s3">1</span><span class="s1">==e?b:c;f&amp;&amp;!f.outputConnection.checkType_(d)&amp;&amp;(Blockly.Events.setGroup(a.group),d===</span><span class="s4">this</span><span class="s1">.prevParentConnection_?(</span><span class="s4">this</span><span class="s1">.unplug(),d.getSourceBlock().bumpNeighbours_()):(f.unplug(),f.bumpNeighbours_()),Blockly.Events.setGroup(!</span><span class="s3">1</span><span class="s1">))}</span><span class="s4">this</span><span class="s1">.prevParentConnection_=</span>
<a name="l61"><span class="ln">61   </span></a><span class="s1">d}};Blockly.Extensions.registerMixin(</span><span class="s2">&quot;logic_ternary&quot;</span><span class="s1">,Blockly.Constants.Logic.LOGIC_TERNARY_ONCHANGE_MIXIN);Blockly.Blocks.loops={};Blockly.Constants.Loops={};Blockly.Constants.Loops.HUE=</span><span class="s3">120</span><span class="s1">;</span>
<a name="l62"><span class="ln">62   </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;controls_repeat_ext&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TIMES&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_INPUT_DO} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DO&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;loop_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;controls_repeat&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_number&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TIMES&quot;</span><span class="s1">,value:</span><span class="s3">10</span><span class="s1">,</span>
<a name="l63"><span class="ln">63   </span></a><span class="s1">min:</span><span class="s3">0</span><span class="s1">,precision:</span><span class="s3">1</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_INPUT_DO} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DO&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;loop_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;controls_whileUntil&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;MODE&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}&quot;</span><span class="s1">,</span><span class="s2">&quot;WHILE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}&quot;</span><span class="s1">,</span><span class="s2">&quot;UNTIL&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;BOOL&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">}],</span>
<a name="l64"><span class="ln">64   </span></a><span class="s1">message1:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_INPUT_DO} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DO&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;loop_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_WHILEUNTIL_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;controls_whileUntil_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;controls_for&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_FOR_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s4">null</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;FROM&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TO&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;BY&quot;</span><span class="s1">,</span>
<a name="l65"><span class="ln">65   </span></a><span class="s1">check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,align:</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_INPUT_DO} %1&quot;</span><span class="s1">,args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DO&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;loop_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_FOR_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;contextMenu_newGetVariableBlock&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_for_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;controls_forEach&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_CONTROLS_FOREACH_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s4">null</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;LIST&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Array&quot;</span><span class="s1">}],message1:</span><span class="s2">&quot;%{BKY_CONTROLS_REPEAT_INPUT_DO} %1&quot;</span><span class="s1">,</span>
<a name="l66"><span class="ln">66   </span></a><span class="s1">args1:[{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DO&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;loop_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_FOREACH_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;contextMenu_newGetVariableBlock&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_forEach_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;controls_flow_statements&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;FLOW&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}&quot;</span><span class="s1">,</span><span class="s2">&quot;BREAK&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}&quot;</span><span class="s1">,</span><span class="s2">&quot;CONTINUE&quot;</span><span class="s1">]]}],previousStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;loop_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}&quot;</span><span class="s1">,</span>
<a name="l67"><span class="ln">67   </span></a><span class="s1">extensions:[</span><span class="s2">&quot;controls_flow_tooltip&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_flow_in_loop_check&quot;</span><span class="s1">]}]);Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS={WHILE:</span><span class="s2">&quot;%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}&quot;</span><span class="s1">,UNTIL:</span><span class="s2">&quot;%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}&quot;</span><span class="s1">};Blockly.Extensions.register(</span><span class="s2">&quot;controls_whileUntil_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipForDropdown(</span><span class="s2">&quot;MODE&quot;</span><span class="s1">,Blockly.Constants.Loops.WHILE_UNTIL_TOOLTIPS));Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS={BREAK:</span><span class="s2">&quot;%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}&quot;</span><span class="s1">,CONTINUE:</span><span class="s2">&quot;%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}&quot;</span><span class="s1">};</span>
<a name="l68"><span class="ln">68   </span></a><span class="s1">Blockly.Extensions.register(</span><span class="s2">&quot;controls_flow_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipForDropdown(</span><span class="s2">&quot;FLOW&quot;</span><span class="s1">,Blockly.Constants.Loops.BREAK_CONTINUE_TOOLTIPS));</span>
<a name="l69"><span class="ln">69   </span></a><span class="s1">Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN={customContextMenu:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.isInFlyout){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getVariable(),c=b.name;</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.isCollapsed()&amp;&amp;</span><span class="s4">null</span><span class="s1">!=c){</span><span class="s4">var </span><span class="s1">d={enabled:!</span><span class="s3">0</span><span class="s1">};d.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,c);b=Blockly.Variables.generateVariableFieldDom(b);c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">);c.appendChild(b);d.callback=Blockly.ContextMenu.callbackFactory(</span><span class="s4">this</span><span class="s1">,c);a.push(d)}}}};</span>
<a name="l70"><span class="ln">70   </span></a><span class="s1">Blockly.Extensions.registerMixin(</span><span class="s2">&quot;contextMenu_newGetVariableBlock&quot;</span><span class="s1">,Blockly.Constants.Loops.CUSTOM_CONTEXT_MENU_CREATE_VARIABLES_GET_MIXIN);Blockly.Extensions.register(</span><span class="s2">&quot;controls_for_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipWithFieldText(</span><span class="s2">&quot;%{BKY_CONTROLS_FOR_TOOLTIP}&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">));Blockly.Extensions.register(</span><span class="s2">&quot;controls_forEach_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipWithFieldText(</span><span class="s2">&quot;%{BKY_CONTROLS_FOREACH_TOOLTIP}&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">));</span>
<a name="l71"><span class="ln">71   </span></a><span class="s1">Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN={LOOP_TYPES:[</span><span class="s2">&quot;controls_repeat&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_repeat_ext&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_forEach&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_for&quot;</span><span class="s1">,</span><span class="s2">&quot;controls_whileUntil&quot;</span><span class="s1">],suppressPrefixSuffix:!</span><span class="s3">0</span><span class="s1">,getSurroundLoop:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">do</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(-</span><span class="s3">1</span><span class="s1">!=Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.LOOP_TYPES.indexOf(a.type))</span><span class="s4">return </span><span class="s1">a;a=a.getSurroundParent()}</span><span class="s4">while</span><span class="s1">(a);</span><span class="s4">return null</span><span class="s1">},onchange:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.workspace.isDragging&amp;&amp;!</span><span class="s4">this</span><span class="s1">.workspace.isDragging()&amp;&amp;(Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN.getSurroundLoop(</span><span class="s4">this</span><span class="s1">)?</span>
<a name="l72"><span class="ln">72   </span></a><span class="s1">(</span><span class="s4">this</span><span class="s1">.setWarningText(</span><span class="s4">null</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.isInFlyout||</span><span class="s4">this</span><span class="s1">.setEnabled(!</span><span class="s3">0</span><span class="s1">)):(</span><span class="s4">this</span><span class="s1">.setWarningText(Blockly.Msg.CONTROLS_FLOW_STATEMENTS_WARNING),</span><span class="s4">this</span><span class="s1">.isInFlyout||</span><span class="s4">this</span><span class="s1">.getInheritedDisabled()||</span><span class="s4">this</span><span class="s1">.setEnabled(!</span><span class="s3">1</span><span class="s1">)))}};Blockly.Extensions.registerMixin(</span><span class="s2">&quot;controls_flow_in_loop_check&quot;</span><span class="s1">,Blockly.Constants.Loops.CONTROL_FLOW_IN_LOOP_CHECK_MIXIN);Blockly.Blocks.math={};Blockly.Constants.Math={};Blockly.Constants.Math.HUE=</span><span class="s3">230</span><span class="s1">;</span>
<a name="l73"><span class="ln">73   </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;math_number&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_number&quot;</span><span class="s1">,name:</span><span class="s2">&quot;NUM&quot;</span><span class="s1">,value:</span><span class="s3">0</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_NUMBER_HELPURL}&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_NUMBER_TOOLTIP}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;parent_tooltip_when_inline&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;math_arithmetic&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2 %3&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;A&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_MATH_ADDITION_SYMBOL}&quot;</span><span class="s1">,</span><span class="s2">&quot;ADD&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_SUBTRACTION_SYMBOL}&quot;</span><span class="s1">,</span><span class="s2">&quot;MINUS&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_MULTIPLICATION_SYMBOL}&quot;</span><span class="s1">,</span>
<a name="l74"><span class="ln">74   </span></a><span class="s2">&quot;MULTIPLY&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_DIVISION_SYMBOL}&quot;</span><span class="s1">,</span><span class="s2">&quot;DIVIDE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_POWER_SYMBOL}&quot;</span><span class="s1">,</span><span class="s2">&quot;POWER&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;B&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_ARITHMETIC_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;math_op_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;math_single&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_MATH_SINGLE_OP_ROOT}&quot;</span><span class="s1">,</span><span class="s2">&quot;ROOT&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_SINGLE_OP_ABSOLUTE}&quot;</span><span class="s1">,</span><span class="s2">&quot;ABS&quot;</span><span class="s1">],[</span><span class="s2">&quot;-&quot;</span><span class="s1">,</span><span class="s2">&quot;NEG&quot;</span><span class="s1">],[</span><span class="s2">&quot;ln&quot;</span><span class="s1">,</span><span class="s2">&quot;LN&quot;</span><span class="s1">],[</span><span class="s2">&quot;log10&quot;</span><span class="s1">,</span><span class="s2">&quot;LOG10&quot;</span><span class="s1">],[</span><span class="s2">&quot;e^&quot;</span><span class="s1">,</span><span class="s2">&quot;EXP&quot;</span><span class="s1">],[</span><span class="s2">&quot;10^&quot;</span><span class="s1">,</span><span class="s2">&quot;POW10&quot;</span><span class="s1">]]},</span>
<a name="l75"><span class="ln">75   </span></a><span class="s1">{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;NUM&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;math_op_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;math_trig&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_MATH_TRIG_SIN}&quot;</span><span class="s1">,</span><span class="s2">&quot;SIN&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_TRIG_COS}&quot;</span><span class="s1">,</span><span class="s2">&quot;COS&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_TRIG_TAN}&quot;</span><span class="s1">,</span><span class="s2">&quot;TAN&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_TRIG_ASIN}&quot;</span><span class="s1">,</span><span class="s2">&quot;ASIN&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_TRIG_ACOS}&quot;</span><span class="s1">,</span><span class="s2">&quot;ACOS&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_TRIG_ATAN}&quot;</span><span class="s1">,</span><span class="s2">&quot;ATAN&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;NUM&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,</span>
<a name="l76"><span class="ln">76   </span></a><span class="s1">helpUrl:</span><span class="s2">&quot;%{BKY_MATH_TRIG_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;math_op_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;math_constant&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;CONSTANT&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;</span><span class="s5">\u03c0</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;PI&quot;</span><span class="s1">],[</span><span class="s2">&quot;e&quot;</span><span class="s1">,</span><span class="s2">&quot;E&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u03c6</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;GOLDEN_RATIO&quot;</span><span class="s1">],[</span><span class="s2">&quot;sqrt(2)&quot;</span><span class="s1">,</span><span class="s2">&quot;SQRT2&quot;</span><span class="s1">],[</span><span class="s2">&quot;sqrt(</span><span class="s5">\u00bd</span><span class="s2">)&quot;</span><span class="s1">,</span><span class="s2">&quot;SQRT1_2&quot;</span><span class="s1">],[</span><span class="s2">&quot;</span><span class="s5">\u221e</span><span class="s2">&quot;</span><span class="s1">,</span><span class="s2">&quot;INFINITY&quot;</span><span class="s1">]]}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_CONSTANT_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_CONSTANT_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_number_property&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;NUMBER_TO_CHECK&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},</span>
<a name="l77"><span class="ln">77   </span></a><span class="s1">{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;PROPERTY&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_MATH_IS_EVEN}&quot;</span><span class="s1">,</span><span class="s2">&quot;EVEN&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_IS_ODD}&quot;</span><span class="s1">,</span><span class="s2">&quot;ODD&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_IS_PRIME}&quot;</span><span class="s1">,</span><span class="s2">&quot;PRIME&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_IS_WHOLE}&quot;</span><span class="s1">,</span><span class="s2">&quot;WHOLE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_IS_POSITIVE}&quot;</span><span class="s1">,</span><span class="s2">&quot;POSITIVE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_IS_NEGATIVE}&quot;</span><span class="s1">,</span><span class="s2">&quot;NEGATIVE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_IS_DIVISIBLE_BY}&quot;</span><span class="s1">,</span><span class="s2">&quot;DIVISIBLE_BY&quot;</span><span class="s1">]]}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_IS_TOOLTIP}&quot;</span><span class="s1">,mutator:</span><span class="s2">&quot;math_is_divisibleby_mutator&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_change&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_MATH_CHANGE_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,</span>
<a name="l78"><span class="ln">78   </span></a><span class="s1">name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s2">&quot;%{BKY_MATH_CHANGE_TITLE_ITEM}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DELTA&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;variable_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_CHANGE_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;math_change_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;math_round&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_MATH_ROUND_OPERATOR_ROUND}&quot;</span><span class="s1">,</span><span class="s2">&quot;ROUND&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}&quot;</span><span class="s1">,</span><span class="s2">&quot;ROUNDUP&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}&quot;</span><span class="s1">,</span><span class="s2">&quot;ROUNDDOWN&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;NUM&quot;</span><span class="s1">,</span>
<a name="l79"><span class="ln">79   </span></a><span class="s1">check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_ROUND_HELPURL}&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_ROUND_TOOLTIP}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_on_list&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1 %2&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;OP&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_SUM}&quot;</span><span class="s1">,</span><span class="s2">&quot;SUM&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_MIN}&quot;</span><span class="s1">,</span><span class="s2">&quot;MIN&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_MAX}&quot;</span><span class="s1">,</span><span class="s2">&quot;MAX&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}&quot;</span><span class="s1">,</span><span class="s2">&quot;AVERAGE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}&quot;</span><span class="s1">,</span><span class="s2">&quot;MEDIAN&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_MODE}&quot;</span><span class="s1">,</span><span class="s2">&quot;MODE&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}&quot;</span><span class="s1">,</span>
<a name="l80"><span class="ln">80   </span></a><span class="s2">&quot;STD_DEV&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_MATH_ONLIST_OPERATOR_RANDOM}&quot;</span><span class="s1">,</span><span class="s2">&quot;RANDOM&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;LIST&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Array&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_HELPURL}&quot;</span><span class="s1">,mutator:</span><span class="s2">&quot;math_modes_of_list_mutator&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;math_op_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;math_modulo&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_MATH_MODULO_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DIVIDEND&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;DIVISOR&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_MODULO_TOOLTIP}&quot;</span><span class="s1">,</span>
<a name="l81"><span class="ln">81   </span></a><span class="s1">helpUrl:</span><span class="s2">&quot;%{BKY_MATH_MODULO_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_constrain&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_MATH_CONSTRAIN_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;LOW&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;HIGH&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_CONSTRAIN_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_CONSTRAIN_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_random_int&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_MATH_RANDOM_INT_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;FROM&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},</span>
<a name="l82"><span class="ln">82   </span></a><span class="s1">{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TO&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_RANDOM_INT_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_RANDOM_INT_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_random_float&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}&quot;</span><span class="s1">,output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_RANDOM_FLOAT_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;math_atan2&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_MATH_ATAN2_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;X&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,</span>
<a name="l83"><span class="ln">83   </span></a><span class="s1">name:</span><span class="s2">&quot;Y&quot;</span><span class="s1">,check:</span><span class="s2">&quot;Number&quot;</span><span class="s1">}],inputsInline:!</span><span class="s3">0</span><span class="s1">,output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;math_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_MATH_ATAN2_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_MATH_ATAN2_HELPURL}&quot;</span><span class="s1">}]);</span>
<a name="l84"><span class="ln">84   </span></a><span class="s1">Blockly.Constants.Math.TOOLTIPS_BY_OP={ADD:</span><span class="s2">&quot;%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}&quot;</span><span class="s1">,MINUS:</span><span class="s2">&quot;%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}&quot;</span><span class="s1">,MULTIPLY:</span><span class="s2">&quot;%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}&quot;</span><span class="s1">,DIVIDE:</span><span class="s2">&quot;%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}&quot;</span><span class="s1">,POWER:</span><span class="s2">&quot;%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}&quot;</span><span class="s1">,ROOT:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_ROOT}&quot;</span><span class="s1">,ABS:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_ABS}&quot;</span><span class="s1">,NEG:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_NEG}&quot;</span><span class="s1">,LN:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_LN}&quot;</span><span class="s1">,LOG10:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_LOG10}&quot;</span><span class="s1">,EXP:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_EXP}&quot;</span><span class="s1">,POW10:</span><span class="s2">&quot;%{BKY_MATH_SINGLE_TOOLTIP_POW10}&quot;</span><span class="s1">,</span>
<a name="l85"><span class="ln">85   </span></a><span class="s1">SIN:</span><span class="s2">&quot;%{BKY_MATH_TRIG_TOOLTIP_SIN}&quot;</span><span class="s1">,COS:</span><span class="s2">&quot;%{BKY_MATH_TRIG_TOOLTIP_COS}&quot;</span><span class="s1">,TAN:</span><span class="s2">&quot;%{BKY_MATH_TRIG_TOOLTIP_TAN}&quot;</span><span class="s1">,ASIN:</span><span class="s2">&quot;%{BKY_MATH_TRIG_TOOLTIP_ASIN}&quot;</span><span class="s1">,ACOS:</span><span class="s2">&quot;%{BKY_MATH_TRIG_TOOLTIP_ACOS}&quot;</span><span class="s1">,ATAN:</span><span class="s2">&quot;%{BKY_MATH_TRIG_TOOLTIP_ATAN}&quot;</span><span class="s1">,SUM:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_SUM}&quot;</span><span class="s1">,MIN:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_MIN}&quot;</span><span class="s1">,MAX:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_MAX}&quot;</span><span class="s1">,AVERAGE:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}&quot;</span><span class="s1">,MEDIAN:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}&quot;</span><span class="s1">,MODE:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_MODE}&quot;</span><span class="s1">,STD_DEV:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}&quot;</span><span class="s1">,RANDOM:</span><span class="s2">&quot;%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}&quot;</span><span class="s1">};</span>
<a name="l86"><span class="ln">86   </span></a><span class="s1">Blockly.Extensions.register(</span><span class="s2">&quot;math_op_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipForDropdown(</span><span class="s2">&quot;OP&quot;</span><span class="s1">,Blockly.Constants.Math.TOOLTIPS_BY_OP));</span>
<a name="l87"><span class="ln">87   </span></a><span class="s1">Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN={mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">),b=</span><span class="s2">&quot;DIVISIBLE_BY&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;PROPERTY&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;divisor_input&quot;</span><span class="s1">,b);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s2">&quot;true&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;divisor_input&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateShape_(a)},updateShape_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;DIVISOR&quot;</span><span class="s1">);a?b||</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;DIVISOR&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">):b&amp;&amp;</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;DIVISOR&quot;</span><span class="s1">)}};</span>
<a name="l88"><span class="ln">88   </span></a><span class="s1">Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;PROPERTY&quot;</span><span class="s1">).setValidator(</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s2">&quot;DIVISIBLE_BY&quot;</span><span class="s1">==a;</span><span class="s4">this</span><span class="s1">.getSourceBlock().updateShape_(a)})};Blockly.Extensions.registerMutator(</span><span class="s2">&quot;math_is_divisibleby_mutator&quot;</span><span class="s1">,Blockly.Constants.Math.IS_DIVISIBLEBY_MUTATOR_MIXIN,Blockly.Constants.Math.IS_DIVISIBLE_MUTATOR_EXTENSION);Blockly.Extensions.register(</span><span class="s2">&quot;math_change_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipWithFieldText(</span><span class="s2">&quot;%{BKY_MATH_CHANGE_TOOLTIP}&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">));</span>
<a name="l89"><span class="ln">89   </span></a><span class="s1">Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN={updateType_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s2">&quot;MODE&quot;</span><span class="s1">==a?</span><span class="s4">this</span><span class="s1">.outputConnection.setCheck(</span><span class="s2">&quot;Array&quot;</span><span class="s1">):</span><span class="s4">this</span><span class="s1">.outputConnection.setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">)},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;op&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;OP&quot;</span><span class="s1">));</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.updateType_(a.getAttribute(</span><span class="s2">&quot;op&quot;</span><span class="s1">))}};Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;OP&quot;</span><span class="s1">).setValidator(</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.updateType_(a)}.bind(</span><span class="s4">this</span><span class="s1">))};</span>
<a name="l90"><span class="ln">90   </span></a><span class="s1">Blockly.Extensions.registerMutator(</span><span class="s2">&quot;math_modes_of_list_mutator&quot;</span><span class="s1">,Blockly.Constants.Math.LIST_MODES_MUTATOR_MIXIN,Blockly.Constants.Math.LIST_MODES_MUTATOR_EXTENSION);Blockly.Blocks.procedures={};</span>
<a name="l91"><span class="ln">91   </span></a><span class="s1">Blockly.Blocks.procedures_defnoreturn={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span><span class="s4">new </span><span class="s1">Blockly.FieldTextInput(</span><span class="s2">&quot;&quot;</span><span class="s1">,Blockly.Procedures.rename);a.setSpellcheck(!</span><span class="s3">1</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_TITLE).appendField(a,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">).appendField(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;PARAMS&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setMutator(</span><span class="s4">new </span><span class="s1">Blockly.Mutator([</span><span class="s2">&quot;procedures_mutatorarg&quot;</span><span class="s1">]));(</span><span class="s4">this</span><span class="s1">.workspace.options.comments||</span><span class="s4">this</span><span class="s1">.workspace.options.parentWorkspace&amp;&amp;</span><span class="s4">this</span><span class="s1">.workspace.options.parentWorkspace.options.comments)&amp;&amp;Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT&amp;&amp;</span><span class="s4">this</span><span class="s1">.setCommentText(Blockly.Msg.PROCEDURES_DEFNORETURN_COMMENT);</span>
<a name="l92"><span class="ln">92   </span></a><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.PROCEDURES_DEFNORETURN_TOOLTIP);</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.PROCEDURES_DEFNORETURN_HELPURL);</span><span class="s4">this</span><span class="s1">.arguments_=[];</span><span class="s4">this</span><span class="s1">.argumentVarModels_=[];</span><span class="s4">this</span><span class="s1">.setStatements_(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.statementConnection_=</span><span class="s4">null</span><span class="s1">},setStatements_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.hasStatements_!==a&amp;&amp;(a?(</span><span class="s4">this</span><span class="s1">.appendStatementInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">).appendField(Blockly.Msg.PROCEDURES_DEFNORETURN_DO),</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;RETURN&quot;</span><span class="s1">)&amp;&amp;</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">,</span><span class="s2">&quot;RETURN&quot;</span><span class="s1">)):</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.hasStatements_=</span>
<a name="l93"><span class="ln">93   </span></a><span class="s1">a)},updateParams_:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span><span class="s2">&quot;&quot;</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.arguments_.length&amp;&amp;(a=Blockly.Msg.PROCEDURES_BEFORE_PARAMS+</span><span class="s2">&quot; &quot;</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.arguments_.join(</span><span class="s2">&quot;, &quot;</span><span class="s1">));Blockly.Events.disable();</span><span class="s4">try</span><span class="s1">{</span><span class="s4">this</span><span class="s1">.setFieldValue(a,</span><span class="s2">&quot;PARAMS&quot;</span><span class="s1">)}</span><span class="s4">finally</span><span class="s1">{Blockly.Events.enable()}},mutationToDom:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a&amp;&amp;b.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">));</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=</span><span class="s3">0</span><span class="s1">;c&lt;</span><span class="s4">this</span><span class="s1">.argumentVarModels_.length;c++){</span><span class="s4">var </span><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;arg&quot;</span><span class="s1">),e=</span><span class="s4">this</span><span class="s1">.argumentVarModels_[c];d.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span>
<a name="l94"><span class="ln">94   </span></a><span class="s1">e.name);d.setAttribute(</span><span class="s2">&quot;varid&quot;</span><span class="s1">,e.getId());a&amp;&amp;</span><span class="s4">this</span><span class="s1">.paramIds_&amp;&amp;d.setAttribute(</span><span class="s2">&quot;paramId&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.paramIds_[c]);b.appendChild(d)}</span><span class="s4">this</span><span class="s1">.hasStatements_||b.setAttribute(</span><span class="s2">&quot;statements&quot;</span><span class="s1">,</span><span class="s2">&quot;false&quot;</span><span class="s1">);</span><span class="s4">return </span><span class="s1">b},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.arguments_=[];</span><span class="s4">this</span><span class="s1">.argumentVarModels_=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=</span><span class="s3">0</span><span class="s1">,c;c=a.childNodes[b];b++)</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;arg&quot;</span><span class="s1">==c.nodeName.toLowerCase()){</span><span class="s4">var </span><span class="s1">d=c.getAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">);c=c.getAttribute(</span><span class="s2">&quot;varid&quot;</span><span class="s1">)||c.getAttribute(</span><span class="s2">&quot;varId&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.arguments_.push(d);c=Blockly.Variables.getOrCreateVariablePackage(</span><span class="s4">this</span><span class="s1">.workspace,c,</span>
<a name="l95"><span class="ln">95   </span></a><span class="s1">d,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s4">null</span><span class="s1">!=c?</span><span class="s4">this</span><span class="s1">.argumentVarModels_.push(c):console.log(</span><span class="s2">&quot;Failed to create a variable with name &quot;</span><span class="s1">+d+</span><span class="s2">&quot;, ignoring.&quot;</span><span class="s1">)}</span><span class="s4">this</span><span class="s1">.updateParams_();Blockly.Procedures.mutateCallers(</span><span class="s4">this</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setStatements_(</span><span class="s2">&quot;false&quot;</span><span class="s1">!==a.getAttribute(</span><span class="s2">&quot;statements&quot;</span><span class="s1">))},decompose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);b.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures_mutatorcontainer&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;statement&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);b.appendChild(c);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">d=</span><span class="s3">0</span><span class="s1">;d&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;d++){</span><span class="s4">var </span><span class="s1">e=</span>
<a name="l96"><span class="ln">96   </span></a><span class="s1">Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);e.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures_mutatorarg&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">f=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);f.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">g=Blockly.utils.xml.createTextNode(</span><span class="s4">this</span><span class="s1">.arguments_[d]);f.appendChild(g);e.appendChild(f);f=Blockly.utils.xml.createElement(</span><span class="s2">&quot;next&quot;</span><span class="s1">);e.appendChild(f);c.appendChild(e);c=f}a=Blockly.Xml.domToBlock(b,a);</span><span class="s2">&quot;procedures_defreturn&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type?a.setFieldValue(</span><span class="s4">this</span><span class="s1">.hasStatements_,</span><span class="s2">&quot;STATEMENTS&quot;</span><span class="s1">):a.removeInput(</span><span class="s2">&quot;STATEMENT_INPUT&quot;</span><span class="s1">);Blockly.Procedures.mutateCallers(</span><span class="s4">this</span><span class="s1">);</span>
<a name="l97"><span class="ln">97   </span></a><span class="s4">return </span><span class="s1">a},compose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.arguments_=[];</span><span class="s4">this</span><span class="s1">.paramIds_=[];</span><span class="s4">this</span><span class="s1">.argumentVarModels_=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=a.getInputTargetBlock(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);b;){</span><span class="s4">var </span><span class="s1">c=b.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.arguments_.push(c);c=</span><span class="s4">this</span><span class="s1">.workspace.getVariable(c,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.argumentVarModels_.push(c);</span><span class="s4">this</span><span class="s1">.paramIds_.push(b.id);b=b.nextConnection&amp;&amp;b.nextConnection.targetBlock()}</span><span class="s4">this</span><span class="s1">.updateParams_();Blockly.Procedures.mutateCallers(</span><span class="s4">this</span><span class="s1">);a=a.getFieldValue(</span><span class="s2">&quot;STATEMENTS&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(</span><span class="s4">null</span><span class="s1">!==a&amp;&amp;(a=</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">==a,</span><span class="s4">this</span><span class="s1">.hasStatements_!=a))</span><span class="s4">if</span><span class="s1">(a)</span><span class="s4">this</span><span class="s1">.setStatements_(!</span><span class="s3">0</span><span class="s1">),</span>
<a name="l98"><span class="ln">98   </span></a><span class="s1">Blockly.Mutator.reconnect(</span><span class="s4">this</span><span class="s1">.statementConnection_,</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;STACK&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.statementConnection_=</span><span class="s4">null</span><span class="s1">;</span><span class="s4">else</span><span class="s1">{a=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">).connection;</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.statementConnection_=a.targetConnection)a=a.targetBlock(),a.unplug(),a.bumpNeighbours_();</span><span class="s4">this</span><span class="s1">.setStatements_(!</span><span class="s3">1</span><span class="s1">)}},getProcedureDef:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.arguments_,!</span><span class="s3">1</span><span class="s1">]},getVars:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.arguments_},getVarModels:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.argumentVarModels_},renameVarById:</span><span class="s4">function</span><span class="s1">(a,b){</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.workspace.getVariableById(a);</span>
<a name="l99"><span class="ln">99   </span></a><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;&quot;</span><span class="s1">==c.type){c=c.name;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">d=</span><span class="s4">this</span><span class="s1">.workspace.getVariableById(b),e=!</span><span class="s3">1</span><span class="s1">,f=</span><span class="s3">0</span><span class="s1">;f&lt;</span><span class="s4">this</span><span class="s1">.argumentVarModels_.length;f++)</span><span class="s4">this</span><span class="s1">.argumentVarModels_[f].getId()==a&amp;&amp;(</span><span class="s4">this</span><span class="s1">.arguments_[f]=d.name,</span><span class="s4">this</span><span class="s1">.argumentVarModels_[f]=d,e=!</span><span class="s3">0</span><span class="s1">);e&amp;&amp;(</span><span class="s4">this</span><span class="s1">.displayRenamedVar_(c,d.name),Blockly.Procedures.mutateCallers(</span><span class="s4">this</span><span class="s1">))}},updateVarName:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=a.name,c=!</span><span class="s3">1</span><span class="s1">,d=</span><span class="s3">0</span><span class="s1">;d&lt;</span><span class="s4">this</span><span class="s1">.argumentVarModels_.length;d++)</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.argumentVarModels_[d].getId()==a.getId()){</span><span class="s4">var </span><span class="s1">e=</span><span class="s4">this</span><span class="s1">.arguments_[d];</span><span class="s4">this</span><span class="s1">.arguments_[d]=b;c=!</span><span class="s3">0</span><span class="s1">}c&amp;&amp;(</span><span class="s4">this</span><span class="s1">.displayRenamedVar_(e,</span>
<a name="l100"><span class="ln">100  </span></a><span class="s1">b),Blockly.Procedures.mutateCallers(</span><span class="s4">this</span><span class="s1">))},displayRenamedVar_:</span><span class="s4">function</span><span class="s1">(a,b){</span><span class="s4">this</span><span class="s1">.updateParams_();</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.mutator.isVisible())</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.mutator.workspace_.getAllBlocks(!</span><span class="s3">1</span><span class="s1">),d=</span><span class="s3">0</span><span class="s1">,e;e=c[d];d++)</span><span class="s2">&quot;procedures_mutatorarg&quot;</span><span class="s1">==e.type&amp;&amp;Blockly.Names.equals(a,e.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">))&amp;&amp;e.setFieldValue(b,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">)},customContextMenu:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.isInFlyout){</span><span class="s4">var </span><span class="s1">b={enabled:!</span><span class="s3">0</span><span class="s1">},c=</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);b.text=Blockly.Msg.PROCEDURES_CREATE_DO.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,c);</span><span class="s4">var </span><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);</span>
<a name="l101"><span class="ln">101  </span></a><span class="s1">d.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,c);</span><span class="s4">for</span><span class="s1">(c=</span><span class="s3">0</span><span class="s1">;c&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;c++){</span><span class="s4">var </span><span class="s1">e=Blockly.utils.xml.createElement(</span><span class="s2">&quot;arg&quot;</span><span class="s1">);e.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.arguments_[c]);d.appendChild(e)}c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.callType_);c.appendChild(d);b.callback=Blockly.ContextMenu.callbackFactory(</span><span class="s4">this</span><span class="s1">,c);a.push(b);</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.isCollapsed())</span><span class="s4">for</span><span class="s1">(c=</span><span class="s3">0</span><span class="s1">;c&lt;</span><span class="s4">this</span><span class="s1">.argumentVarModels_.length;c++)b={enabled:!</span><span class="s3">0</span><span class="s1">},d=</span><span class="s4">this</span><span class="s1">.argumentVarModels_[c],b.text=Blockly.Msg.VARIABLES_SET_CREATE_GET.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,d.name),</span>
<a name="l102"><span class="ln">102  </span></a><span class="s1">d=Blockly.Variables.generateVariableFieldDom(d),e=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">),e.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">),e.appendChild(d),b.callback=Blockly.ContextMenu.callbackFactory(</span><span class="s4">this</span><span class="s1">,e),a.push(b)}},callType_:</span><span class="s2">&quot;procedures_callnoreturn&quot;</span><span class="s1">};</span>
<a name="l103"><span class="ln">103  </span></a><span class="s1">Blockly.Blocks.procedures_defreturn={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span><span class="s4">new </span><span class="s1">Blockly.FieldTextInput(</span><span class="s2">&quot;&quot;</span><span class="s1">,Blockly.Procedures.rename);a.setSpellcheck(!</span><span class="s3">1</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_DEFRETURN_TITLE).appendField(a,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">).appendField(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;PARAMS&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;RETURN&quot;</span><span class="s1">).setAlign(Blockly.ALIGN_RIGHT).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);</span><span class="s4">this</span><span class="s1">.setMutator(</span><span class="s4">new </span><span class="s1">Blockly.Mutator([</span><span class="s2">&quot;procedures_mutatorarg&quot;</span><span class="s1">]));(</span><span class="s4">this</span><span class="s1">.workspace.options.comments||</span><span class="s4">this</span><span class="s1">.workspace.options.parentWorkspace&amp;&amp;</span>
<a name="l104"><span class="ln">104  </span></a><span class="s4">this</span><span class="s1">.workspace.options.parentWorkspace.options.comments)&amp;&amp;Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT&amp;&amp;</span><span class="s4">this</span><span class="s1">.setCommentText(Blockly.Msg.PROCEDURES_DEFRETURN_COMMENT);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.PROCEDURES_DEFRETURN_TOOLTIP);</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.PROCEDURES_DEFRETURN_HELPURL);</span><span class="s4">this</span><span class="s1">.arguments_=[];</span><span class="s4">this</span><span class="s1">.argumentVarModels_=[];</span><span class="s4">this</span><span class="s1">.setStatements_(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.statementConnection_=</span><span class="s4">null</span><span class="s1">},setStatements_:Blockly.Blocks.procedures_defnoreturn.setStatements_,updateParams_:Blockly.Blocks.procedures_defnoreturn.updateParams_,</span>
<a name="l105"><span class="ln">105  </span></a><span class="s1">mutationToDom:Blockly.Blocks.procedures_defnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_defnoreturn.domToMutation,decompose:Blockly.Blocks.procedures_defnoreturn.decompose,compose:Blockly.Blocks.procedures_defnoreturn.compose,getProcedureDef:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s1">[</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.arguments_,!</span><span class="s3">0</span><span class="s1">]},getVars:Blockly.Blocks.procedures_defnoreturn.getVars,getVarModels:Blockly.Blocks.procedures_defnoreturn.getVarModels,renameVarById:Blockly.Blocks.procedures_defnoreturn.renameVarById,</span>
<a name="l106"><span class="ln">106  </span></a><span class="s1">updateVarName:Blockly.Blocks.procedures_defnoreturn.updateVarName,displayRenamedVar_:Blockly.Blocks.procedures_defnoreturn.displayRenamedVar_,customContextMenu:Blockly.Blocks.procedures_defnoreturn.customContextMenu,callType_:</span><span class="s2">&quot;procedures_callreturn&quot;</span><span class="s1">};</span>
<a name="l107"><span class="ln">107  </span></a><span class="s1">Blockly.Blocks.procedures_mutatorcontainer={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TITLE);</span><span class="s4">this</span><span class="s1">.appendStatementInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;STATEMENT_INPUT&quot;</span><span class="s1">).appendField(Blockly.Msg.PROCEDURES_ALLOW_STATEMENTS).appendField(</span><span class="s4">new </span><span class="s1">Blockly.FieldCheckbox(</span><span class="s2">&quot;TRUE&quot;</span><span class="s1">),</span><span class="s2">&quot;STATEMENTS&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP);</span><span class="s4">this</span><span class="s1">.contextMenu=!</span><span class="s3">1</span><span class="s1">},onchange:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.workspace&amp;&amp;!</span><span class="s4">this</span><span class="s1">.workspace.isFlyout&amp;&amp;</span>
<a name="l108"><span class="ln">108  </span></a><span class="s1">(a.type==Blockly.Events.BLOCK_DELETE||a.type==Blockly.Events.BLOCK_CREATE)){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.workspace.getAllBlocks(),c=</span><span class="s4">this</span><span class="s1">.workspace.getAllVariables();</span><span class="s4">if</span><span class="s1">(a.type==Blockly.Events.BLOCK_DELETE){a=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">d=</span><span class="s3">0</span><span class="s1">;d&lt;b.length;d+=</span><span class="s3">1</span><span class="s1">)b[d].getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">)&amp;&amp;a.push(b[d].getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">));</span><span class="s4">for</span><span class="s1">(b=</span><span class="s3">0</span><span class="s1">;b&lt;c.length;b+=</span><span class="s3">1</span><span class="s1">)-</span><span class="s3">1</span><span class="s1">==a.indexOf(c[b].name)&amp;&amp;</span><span class="s4">this</span><span class="s1">.workspace.deleteVariableById(c[b].getId())}</span><span class="s4">else if</span><span class="s1">(a.type==Blockly.Events.BLOCK_CREATE&amp;&amp;(c=</span><span class="s4">this</span><span class="s1">.workspace.getBlockById(a.blockId),c.getField(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">)&amp;&amp;(d=c.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">),</span>
<a name="l109"><span class="ln">109  </span></a><span class="s1">(a=</span><span class="s4">this</span><span class="s1">.workspace.getVariable(d))||(a=</span><span class="s4">this</span><span class="s1">.workspace.createVariable(d)),!c.previousConnection.isConnected()&amp;&amp;!c.nextConnection.isConnected())))</span><span class="s4">for</span><span class="s1">(d=</span><span class="s3">0</span><span class="s1">;d&lt;b.length;d+=</span><span class="s3">1</span><span class="s1">)</span><span class="s4">if</span><span class="s1">(c.id!=b[d].id&amp;&amp;b[d].getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">)==a.name){d=Blockly.Variables.generateUniqueName(</span><span class="s4">this</span><span class="s1">.workspace);a=</span><span class="s4">this</span><span class="s1">.workspace.createVariable(d);c.setFieldValue(a.name,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);</span><span class="s4">break</span><span class="s1">}}}};</span>
<a name="l110"><span class="ln">110  </span></a><span class="s1">Blockly.Blocks.procedures_mutatorarg={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span><span class="s4">new </span><span class="s1">Blockly.FieldTextInput(</span><span class="s2">&quot;x&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.validator_);a.oldShowEditorFn_=a.showEditor_;a.showEditor_=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.createdVariables_=[];</span><span class="s4">this</span><span class="s1">.oldShowEditorFn_()};</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(Blockly.Msg.PROCEDURES_MUTATORARG_TITLE).appendField(a,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.PROCEDURES_MUTATORARG_TOOLTIP);</span><span class="s4">this</span><span class="s1">.contextMenu=!</span><span class="s3">1</span><span class="s1">;a.onFinishEditing_=</span>
<a name="l111"><span class="ln">111  </span></a><span class="s4">this</span><span class="s1">.deleteIntermediateVars_;a.createdVariables_=[];a.onFinishEditing_(</span><span class="s2">&quot;x&quot;</span><span class="s1">)},validator_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=Blockly.Mutator.findParentWs(</span><span class="s4">this</span><span class="s1">.getSourceBlock().workspace);a=a.replace(/[\s\xa0]+/g,</span><span class="s2">&quot; &quot;</span><span class="s1">).replace(/^ | $/g,</span><span class="s2">&quot;&quot;</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!a)</span><span class="s4">return null</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getSourceBlock().workspace.getAllBlocks(),d=</span><span class="s3">0</span><span class="s1">;d&lt;c.length;d+=</span><span class="s3">1</span><span class="s1">)</span><span class="s4">if</span><span class="s1">(c[d].id!=</span><span class="s4">this</span><span class="s1">.getSourceBlock().id&amp;&amp;c[d].getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">)==a)</span><span class="s4">return null</span><span class="s1">;(c=b.getVariable(a,</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;c.name!=a&amp;&amp;b.renameVarById(c.getId(),a);c||(c=b.createVariable(a,</span><span class="s2">&quot;&quot;</span><span class="s1">))&amp;&amp;</span><span class="s4">this</span><span class="s1">.createdVariables_&amp;&amp;</span>
<a name="l112"><span class="ln">112  </span></a><span class="s4">this</span><span class="s1">.createdVariables_.push(c);</span><span class="s4">return </span><span class="s1">a},deleteIntermediateVars_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=Blockly.Mutator.findParentWs(</span><span class="s4">this</span><span class="s1">.getSourceBlock().workspace);</span><span class="s4">if</span><span class="s1">(b)</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=</span><span class="s3">0</span><span class="s1">;c&lt;</span><span class="s4">this</span><span class="s1">.createdVariables_.length;c++){</span><span class="s4">var </span><span class="s1">d=</span><span class="s4">this</span><span class="s1">.createdVariables_[c];d.name!=a&amp;&amp;b.deleteVariableById(d.getId())}}};</span>
<a name="l113"><span class="ln">113  </span></a><span class="s1">Blockly.Blocks.procedures_callnoreturn={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TOPROW&quot;</span><span class="s1">).appendField(</span><span class="s4">this</span><span class="s1">.id,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.PROCEDURES_CALLNORETURN_HELPURL);</span><span class="s4">this</span><span class="s1">.arguments_=[];</span><span class="s4">this</span><span class="s1">.argumentVarModels_=[];</span><span class="s4">this</span><span class="s1">.quarkConnections_={};</span><span class="s4">this</span><span class="s1">.quarkIds_=</span><span class="s4">null</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.previousEnabledState_=!</span><span class="s3">0</span><span class="s1">},getProcedureCall:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;NAME&quot;</span><span class="s1">)},renameProcedure:</span><span class="s4">function</span><span class="s1">(a,b){Blockly.Names.equals(a,</span>
<a name="l114"><span class="ln">114  </span></a><span class="s4">this</span><span class="s1">.getProcedureCall())&amp;&amp;(</span><span class="s4">this</span><span class="s1">.setFieldValue(b,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.setTooltip((</span><span class="s4">this</span><span class="s1">.outputConnection?Blockly.Msg.PROCEDURES_CALLRETURN_TOOLTIP:Blockly.Msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,b)))},setProcedureParameters_:</span><span class="s4">function</span><span class="s1">(a,b){</span><span class="s4">var </span><span class="s1">c=Blockly.Procedures.getDefinition(</span><span class="s4">this</span><span class="s1">.getProcedureCall(),</span><span class="s4">this</span><span class="s1">.workspace),d=c&amp;&amp;c.mutator&amp;&amp;c.mutator.isVisible();d||(</span><span class="s4">this</span><span class="s1">.quarkConnections_={},</span><span class="s4">this</span><span class="s1">.quarkIds_=</span><span class="s4">null</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(b)</span><span class="s4">if</span><span class="s1">(a.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">)==</span><span class="s4">this</span><span class="s1">.arguments_.join(</span><span class="s2">&quot;</span><span class="s5">\n</span><span class="s2">&quot;</span><span class="s1">))</span><span class="s4">this</span><span class="s1">.quarkIds_=b;</span><span class="s4">else</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(b.length!=a.length)</span><span class="s4">throw </span><span class="s1">RangeError(</span><span class="s2">&quot;paramNames and paramIds must be the same length.&quot;</span><span class="s1">);</span>
<a name="l115"><span class="ln">115  </span></a><span class="s4">this</span><span class="s1">.setCollapsed(!</span><span class="s3">1</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.quarkIds_||(</span><span class="s4">this</span><span class="s1">.quarkConnections_={},</span><span class="s4">this</span><span class="s1">.quarkIds_=[]);c=</span><span class="s4">this</span><span class="s1">.rendered;</span><span class="s4">this</span><span class="s1">.rendered=!</span><span class="s3">1</span><span class="s1">;</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">e=</span><span class="s3">0</span><span class="s1">;e&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;e++){</span><span class="s4">var </span><span class="s1">f=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ARG&quot;</span><span class="s1">+e);f&amp;&amp;(f=f.connection.targetConnection,</span><span class="s4">this</span><span class="s1">.quarkConnections_[</span><span class="s4">this</span><span class="s1">.quarkIds_[e]]=f,d&amp;&amp;f&amp;&amp;-</span><span class="s3">1</span><span class="s1">==b.indexOf(</span><span class="s4">this</span><span class="s1">.quarkIds_[e])&amp;&amp;(f.disconnect(),f.getSourceBlock().bumpNeighbours_()))}</span><span class="s4">this</span><span class="s1">.arguments_=[].concat(a);</span><span class="s4">this</span><span class="s1">.argumentVarModels_=[];</span><span class="s4">for</span><span class="s1">(e=</span><span class="s3">0</span><span class="s1">;e&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;e++)d=Blockly.Variables.getOrCreateVariablePackage(</span><span class="s4">this</span><span class="s1">.workspace,</span>
<a name="l116"><span class="ln">116  </span></a><span class="s4">null</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.arguments_[e],</span><span class="s2">&quot;&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.argumentVarModels_.push(d);</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.quarkIds_=b)</span><span class="s4">for</span><span class="s1">(e=</span><span class="s3">0</span><span class="s1">;e&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;e++)d=</span><span class="s4">this</span><span class="s1">.quarkIds_[e],d </span><span class="s4">in this</span><span class="s1">.quarkConnections_&amp;&amp;(f=</span><span class="s4">this</span><span class="s1">.quarkConnections_[d],Blockly.Mutator.reconnect(f,</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;ARG&quot;</span><span class="s1">+e)||</span><span class="s4">delete this</span><span class="s1">.quarkConnections_[d]);(</span><span class="s4">this</span><span class="s1">.rendered=c)&amp;&amp;</span><span class="s4">this</span><span class="s1">.render()}},updateShape_:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">a=</span><span class="s3">0</span><span class="s1">;a&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;a++){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;ARGNAME&quot;</span><span class="s1">+a);</span><span class="s4">if</span><span class="s1">(b){Blockly.Events.disable();</span><span class="s4">try</span><span class="s1">{b.setValue(</span><span class="s4">this</span><span class="s1">.arguments_[a])}</span><span class="s4">finally</span><span class="s1">{Blockly.Events.enable()}}</span><span class="s4">else </span><span class="s1">b=</span>
<a name="l117"><span class="ln">117  </span></a><span class="s4">new </span><span class="s1">Blockly.FieldLabel(</span><span class="s4">this</span><span class="s1">.arguments_[a]),</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;ARG&quot;</span><span class="s1">+a).setAlign(Blockly.ALIGN_RIGHT).appendField(b,</span><span class="s2">&quot;ARGNAME&quot;</span><span class="s1">+a).init()}</span><span class="s4">for</span><span class="s1">(;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ARG&quot;</span><span class="s1">+a);)</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ARG&quot;</span><span class="s1">+a),a++;</span><span class="s4">if</span><span class="s1">(a=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;TOPROW&quot;</span><span class="s1">))</span><span class="s4">this</span><span class="s1">.arguments_.length?</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;WITH&quot;</span><span class="s1">)||(a.appendField(Blockly.Msg.PROCEDURES_CALL_BEFORE_PARAMS,</span><span class="s2">&quot;WITH&quot;</span><span class="s1">),a.init()):</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;WITH&quot;</span><span class="s1">)&amp;&amp;a.removeField(</span><span class="s2">&quot;WITH&quot;</span><span class="s1">)},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.getProcedureCall());</span>
<a name="l118"><span class="ln">118  </span></a><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=</span><span class="s3">0</span><span class="s1">;b&lt;</span><span class="s4">this</span><span class="s1">.arguments_.length;b++){</span><span class="s4">var </span><span class="s1">c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;arg&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.arguments_[b]);a.appendChild(c)}</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=a.getAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.renameProcedure(</span><span class="s4">this</span><span class="s1">.getProcedureCall(),b);b=[];</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=[],d=</span><span class="s3">0</span><span class="s1">,e;e=a.childNodes[d];d++)</span><span class="s2">&quot;arg&quot;</span><span class="s1">==e.nodeName.toLowerCase()&amp;&amp;(b.push(e.getAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">)),c.push(e.getAttribute(</span><span class="s2">&quot;paramId&quot;</span><span class="s1">)));</span><span class="s4">this</span><span class="s1">.setProcedureParameters_(b,c)},getVarModels:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return this</span><span class="s1">.argumentVarModels_},onchange:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.workspace&amp;&amp;</span>
<a name="l119"><span class="ln">119  </span></a><span class="s1">!</span><span class="s4">this</span><span class="s1">.workspace.isFlyout&amp;&amp;a.recordUndo)</span><span class="s4">if</span><span class="s1">(a.type==Blockly.Events.BLOCK_CREATE&amp;&amp;-</span><span class="s3">1</span><span class="s1">!=a.ids.indexOf(</span><span class="s4">this</span><span class="s1">.id)){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getProcedureCall();b=Blockly.Procedures.getDefinition(b,</span><span class="s4">this</span><span class="s1">.workspace);!b||b.type==</span><span class="s4">this</span><span class="s1">.defType_&amp;&amp;JSON.stringify(b.arguments_)==JSON.stringify(</span><span class="s4">this</span><span class="s1">.arguments_)||(b=</span><span class="s4">null</span><span class="s1">);</span><span class="s4">if</span><span class="s1">(!b){Blockly.Events.setGroup(a.group);a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;xml&quot;</span><span class="s1">);b=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);b.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.defType_);</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getRelativeToSurfaceXY(),d=c.y+</span><span class="s3">2</span><span class="s1">*Blockly.SNAP_RADIUS;</span>
<a name="l120"><span class="ln">120  </span></a><span class="s1">b.setAttribute(</span><span class="s2">&quot;x&quot;</span><span class="s1">,c.x+Blockly.SNAP_RADIUS*(</span><span class="s4">this</span><span class="s1">.RTL?-</span><span class="s3">1</span><span class="s1">:</span><span class="s3">1</span><span class="s1">));b.setAttribute(</span><span class="s2">&quot;y&quot;</span><span class="s1">,d);c=</span><span class="s4">this</span><span class="s1">.mutationToDom();b.appendChild(c);c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);c.appendChild(Blockly.utils.xml.createTextNode(</span><span class="s4">this</span><span class="s1">.getProcedureCall()));b.appendChild(c);a.appendChild(b);Blockly.Xml.domToWorkspace(a,</span><span class="s4">this</span><span class="s1">.workspace);Blockly.Events.setGroup(!</span><span class="s3">1</span><span class="s1">)}}</span><span class="s4">else </span><span class="s1">a.type==Blockly.Events.BLOCK_DELETE?(b=</span><span class="s4">this</span><span class="s1">.getProcedureCall(),b=Blockly.Procedures.getDefinition(b,</span><span class="s4">this</span><span class="s1">.workspace),b||(Blockly.Events.setGroup(a.group),</span>
<a name="l121"><span class="ln">121  </span></a><span class="s4">this</span><span class="s1">.dispose(!</span><span class="s3">0</span><span class="s1">,!</span><span class="s3">1</span><span class="s1">),Blockly.Events.setGroup(!</span><span class="s3">1</span><span class="s1">))):a.type==Blockly.Events.CHANGE&amp;&amp;</span><span class="s2">&quot;disabled&quot;</span><span class="s1">==a.element&amp;&amp;(b=</span><span class="s4">this</span><span class="s1">.getProcedureCall(),(b=Blockly.Procedures.getDefinition(b,</span><span class="s4">this</span><span class="s1">.workspace))&amp;&amp;b.id==a.blockId&amp;&amp;((b=Blockly.Events.getGroup())&amp;&amp;console.log(</span><span class="s2">&quot;Saw an existing group while responding to a definition change&quot;</span><span class="s1">),Blockly.Events.setGroup(a.group),a.newValue?(</span><span class="s4">this</span><span class="s1">.previousEnabledState_=</span><span class="s4">this</span><span class="s1">.isEnabled(),</span><span class="s4">this</span><span class="s1">.setEnabled(!</span><span class="s3">1</span><span class="s1">)):</span><span class="s4">this</span><span class="s1">.setEnabled(</span><span class="s4">this</span><span class="s1">.previousEnabledState_),Blockly.Events.setGroup(b)))},customContextMenu:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.workspace.isMovable()){</span><span class="s4">var </span><span class="s1">b=</span>
<a name="l122"><span class="ln">122  </span></a><span class="s1">{enabled:!</span><span class="s3">0</span><span class="s1">};b.text=Blockly.Msg.PROCEDURES_HIGHLIGHT_DEF;</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getProcedureCall(),d=</span><span class="s4">this</span><span class="s1">.workspace;b.callback=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.Procedures.getDefinition(c,d);a&amp;&amp;(d.centerOnBlock(a.id),a.select())};a.push(b)}},defType_:</span><span class="s2">&quot;procedures_defnoreturn&quot;</span><span class="s1">};</span>
<a name="l123"><span class="ln">123  </span></a><span class="s1">Blockly.Blocks.procedures_callreturn={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TOPROW&quot;</span><span class="s1">).appendField(</span><span class="s2">&quot;&quot;</span><span class="s1">,</span><span class="s2">&quot;NAME&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.PROCEDURES_CALLRETURN_HELPURL);</span><span class="s4">this</span><span class="s1">.arguments_=[];</span><span class="s4">this</span><span class="s1">.quarkConnections_={};</span><span class="s4">this</span><span class="s1">.quarkIds_=</span><span class="s4">null</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.previousEnabledState_=!</span><span class="s3">0</span><span class="s1">},getProcedureCall:Blockly.Blocks.procedures_callnoreturn.getProcedureCall,renameProcedure:Blockly.Blocks.procedures_callnoreturn.renameProcedure,setProcedureParameters_:Blockly.Blocks.procedures_callnoreturn.setProcedureParameters_,</span>
<a name="l124"><span class="ln">124  </span></a><span class="s1">updateShape_:Blockly.Blocks.procedures_callnoreturn.updateShape_,mutationToDom:Blockly.Blocks.procedures_callnoreturn.mutationToDom,domToMutation:Blockly.Blocks.procedures_callnoreturn.domToMutation,getVarModels:Blockly.Blocks.procedures_callnoreturn.getVarModels,onchange:Blockly.Blocks.procedures_callnoreturn.onchange,customContextMenu:Blockly.Blocks.procedures_callnoreturn.customContextMenu,defType_:</span><span class="s2">&quot;procedures_defreturn&quot;</span><span class="s1">};</span>
<a name="l125"><span class="ln">125  </span></a><span class="s1">Blockly.Blocks.procedures_ifreturn={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;CONDITION&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">).appendField(Blockly.Msg.CONTROLS_IF_MSG_IF);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setPreviousStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setNextStatement(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;procedure_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.PROCEDURES_IFRETURN_TOOLTIP);</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.PROCEDURES_IFRETURN_HELPURL);</span><span class="s4">this</span><span class="s1">.hasReturnValue_=!</span><span class="s3">0</span><span class="s1">},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span>
<a name="l126"><span class="ln">126  </span></a><span class="s1">Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;value&quot;</span><span class="s1">,Number(</span><span class="s4">this</span><span class="s1">.hasReturnValue_));</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.hasReturnValue_=</span><span class="s3">1</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;value&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.hasReturnValue_||(</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN))},onchange:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(</span><span class="s4">this</span><span class="s1">.workspace.isDragging&amp;&amp;!</span><span class="s4">this</span><span class="s1">.workspace.isDragging()){a=!</span><span class="s3">1</span><span class="s1">;</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">do</span><span class="s1">{</span><span class="s4">if</span><span class="s1">(-</span><span class="s3">1</span><span class="s1">!=</span><span class="s4">this</span><span class="s1">.FUNCTION_TYPES.indexOf(b.type)){a=!</span><span class="s3">0</span><span class="s1">;</span><span class="s4">break</span><span class="s1">}b=b.getSurroundParent()}</span><span class="s4">while</span><span class="s1">(b);</span>
<a name="l127"><span class="ln">127  </span></a><span class="s1">a?(</span><span class="s2">&quot;procedures_defnoreturn&quot;</span><span class="s1">==b.type&amp;&amp;</span><span class="s4">this</span><span class="s1">.hasReturnValue_?(</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),</span><span class="s4">this</span><span class="s1">.hasReturnValue_=!</span><span class="s3">1</span><span class="s1">):</span><span class="s2">&quot;procedures_defreturn&quot;</span><span class="s1">!=b.type||</span><span class="s4">this</span><span class="s1">.hasReturnValue_||(</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).appendField(Blockly.Msg.PROCEDURES_DEFRETURN_RETURN),</span><span class="s4">this</span><span class="s1">.hasReturnValue_=!</span><span class="s3">0</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.setWarningText(</span><span class="s4">null</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.isInFlyout||</span><span class="s4">this</span><span class="s1">.setEnabled(!</span><span class="s3">0</span><span class="s1">)):(</span><span class="s4">this</span><span class="s1">.setWarningText(Blockly.Msg.PROCEDURES_IFRETURN_WARNING),</span>
<a name="l128"><span class="ln">128  </span></a><span class="s4">this</span><span class="s1">.isInFlyout||</span><span class="s4">this</span><span class="s1">.getInheritedDisabled()||</span><span class="s4">this</span><span class="s1">.setEnabled(!</span><span class="s3">1</span><span class="s1">))}},FUNCTION_TYPES:[</span><span class="s2">&quot;procedures_defnoreturn&quot;</span><span class="s1">,</span><span class="s2">&quot;procedures_defreturn&quot;</span><span class="s1">]};Blockly.Blocks.texts={};Blockly.Constants.Text={};Blockly.Constants.Text.HUE=</span><span class="s3">160</span><span class="s1">;</span>
<a name="l129"><span class="ln">129  </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;text&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_input&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">,text:</span><span class="s2">&quot;&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;String&quot;</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_TEXT_TEXT_HELPURL}&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_TEXT_TEXT_TOOLTIP}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;text_quotes&quot;</span><span class="s1">,</span><span class="s2">&quot;parent_tooltip_when_inline&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;text_join&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;&quot;</span><span class="s1">,output:</span><span class="s2">&quot;String&quot;</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_TEXT_JOIN_HELPURL}&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_TEXT_JOIN_TOOLTIP}&quot;</span><span class="s1">,mutator:</span><span class="s2">&quot;text_join_mutator&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;text_create_join_container&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2&quot;</span><span class="s1">,</span>
<a name="l130"><span class="ln">130  </span></a><span class="s1">args0:[{type:</span><span class="s2">&quot;input_dummy&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_statement&quot;</span><span class="s1">,name:</span><span class="s2">&quot;STACK&quot;</span><span class="s1">}],style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_TEXT_CREATE_JOIN_TOOLTIP}&quot;</span><span class="s1">,enableContextMenu:!</span><span class="s3">1</span><span class="s1">},{type:</span><span class="s2">&quot;text_create_join_item&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}&quot;</span><span class="s1">,previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}&quot;</span><span class="s1">,enableContextMenu:!</span><span class="s3">1</span><span class="s1">},{type:</span><span class="s2">&quot;text_append&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_APPEND_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s2">&quot;%{BKY_TEXT_APPEND_VARIABLE}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,</span>
<a name="l131"><span class="ln">131  </span></a><span class="s1">name:</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;text_append_tooltip&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;text_length&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_LENGTH_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:[</span><span class="s2">&quot;String&quot;</span><span class="s1">,</span><span class="s2">&quot;Array&quot;</span><span class="s1">]}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_TEXT_LENGTH_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_TEXT_LENGTH_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;text_isEmpty&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_ISEMPTY_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:[</span><span class="s2">&quot;String&quot;</span><span class="s1">,</span><span class="s2">&quot;Array&quot;</span><span class="s1">]}],output:</span><span class="s2">&quot;Boolean&quot;</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,</span>
<a name="l132"><span class="ln">132  </span></a><span class="s1">tooltip:</span><span class="s2">&quot;%{BKY_TEXT_ISEMPTY_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_TEXT_ISEMPTY_HELPURL}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;text_indexOf&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_INDEXOF_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;END&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}&quot;</span><span class="s1">,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_TEXT_INDEXOF_OPERATOR_LAST}&quot;</span><span class="s1">,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">]]},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;FIND&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_TEXT_INDEXOF_HELPURL}&quot;</span><span class="s1">,inputsInline:!</span><span class="s3">0</span><span class="s1">,extensions:[</span><span class="s2">&quot;text_indexOf_tooltip&quot;</span><span class="s1">]},</span>
<a name="l133"><span class="ln">133  </span></a><span class="s1">{type:</span><span class="s2">&quot;text_charAt&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_TITLE}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;field_dropdown&quot;</span><span class="s1">,name:</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">,options:[[</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_FROM_START}&quot;</span><span class="s1">,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_FROM_END}&quot;</span><span class="s1">,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_FIRST}&quot;</span><span class="s1">,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_LAST}&quot;</span><span class="s1">,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">],[</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_RANDOM}&quot;</span><span class="s1">,</span><span class="s2">&quot;RANDOM&quot;</span><span class="s1">]]}],output:</span><span class="s2">&quot;String&quot;</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_TEXT_CHARAT_HELPURL}&quot;</span><span class="s1">,inputsInline:!</span><span class="s3">0</span><span class="s1">,mutator:</span><span class="s2">&quot;text_charAt_mutator&quot;</span><span class="s1">}]);</span>
<a name="l134"><span class="ln">134  </span></a><span class="s1">Blockly.Blocks.text_getSubstring={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS_1=[[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_START,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FROM_END,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[Blockly.Msg.TEXT_GET_SUBSTRING_START_FIRST,</span><span class="s2">&quot;FIRST&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.WHERE_OPTIONS_2=[[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_START,</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">],[Blockly.Msg.TEXT_GET_SUBSTRING_END_FROM_END,</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">],[Blockly.Msg.TEXT_GET_SUBSTRING_END_LAST,</span><span class="s2">&quot;LAST&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.TEXT_GET_SUBSTRING_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">);</span>
<a name="l135"><span class="ln">135  </span></a><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;STRING&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">).appendField(Blockly.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT1&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT2&quot;</span><span class="s1">);Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">).appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL);</span><span class="s4">this</span><span class="s1">.setInputsInline(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;String&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">1</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">2</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">),</span>
<a name="l136"><span class="ln">136  </span></a><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT1&quot;</span><span class="s1">).type==Blockly.INPUT_VALUE;a.setAttribute(</span><span class="s2">&quot;at1&quot;</span><span class="s1">,b);b=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT2&quot;</span><span class="s1">).type==Blockly.INPUT_VALUE;a.setAttribute(</span><span class="s2">&quot;at2&quot;</span><span class="s1">,b);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=</span><span class="s2">&quot;true&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;at1&quot;</span><span class="s1">);a=</span><span class="s2">&quot;true&quot;</span><span class="s1">==a.getAttribute(</span><span class="s2">&quot;at2&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">1</span><span class="s1">,b);</span><span class="s4">this</span><span class="s1">.updateAt_(</span><span class="s3">2</span><span class="s1">,a)},updateAt_:</span><span class="s4">function</span><span class="s1">(a,b){</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a);</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">+a,!</span><span class="s3">0</span><span class="s1">);b?(</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a).setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">+a).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX)):</span>
<a name="l137"><span class="ln">137  </span></a><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a);</span><span class="s3">2</span><span class="s1">==a&amp;&amp;Blockly.Msg.TEXT_GET_SUBSTRING_TAIL&amp;&amp;(</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">).appendField(Blockly.Msg.TEXT_GET_SUBSTRING_TAIL));</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(</span><span class="s4">this</span><span class="s1">[</span><span class="s2">&quot;WHERE_OPTIONS_&quot;</span><span class="s1">+a],</span><span class="s4">function</span><span class="s1">(c){</span><span class="s4">var </span><span class="s1">d=</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==c||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==c;</span><span class="s4">if</span><span class="s1">(d!=b){</span><span class="s4">var </span><span class="s1">f=</span><span class="s4">this</span><span class="s1">.getSourceBlock();f.updateAt_(a,d);f.setFieldValue(c,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">+a);</span><span class="s4">return null</span><span class="s1">}});</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">+a).appendField(c,</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">+a);</span><span class="s3">1</span><span class="s1">==a&amp;&amp;(</span><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;AT1&quot;</span><span class="s1">,</span><span class="s2">&quot;AT2&quot;</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ORDINAL1&quot;</span><span class="s1">)&amp;&amp;</span>
<a name="l138"><span class="ln">138  </span></a><span class="s4">this</span><span class="s1">.moveInputBefore(</span><span class="s2">&quot;ORDINAL1&quot;</span><span class="s1">,</span><span class="s2">&quot;AT2&quot;</span><span class="s1">))}};Blockly.Blocks.text_changeCase={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,</span><span class="s2">&quot;UPPERCASE&quot;</span><span class="s1">],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,</span><span class="s2">&quot;LOWERCASE&quot;</span><span class="s1">],[Blockly.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,</span><span class="s2">&quot;TITLECASE&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.TEXT_CHANGECASE_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">).appendField(</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a),</span><span class="s2">&quot;CASE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;String&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.TEXT_CHANGECASE_TOOLTIP)}};</span>
<a name="l139"><span class="ln">139  </span></a><span class="s1">Blockly.Blocks.text_trim={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.TEXT_TRIM_OPERATOR_BOTH,</span><span class="s2">&quot;BOTH&quot;</span><span class="s1">],[Blockly.Msg.TEXT_TRIM_OPERATOR_LEFT,</span><span class="s2">&quot;LEFT&quot;</span><span class="s1">],[Blockly.Msg.TEXT_TRIM_OPERATOR_RIGHT,</span><span class="s2">&quot;RIGHT&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.TEXT_TRIM_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;String&quot;</span><span class="s1">).appendField(</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a),</span><span class="s2">&quot;MODE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;String&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(Blockly.Msg.TEXT_TRIM_TOOLTIP)}};</span>
<a name="l140"><span class="ln">140  </span></a><span class="s1">Blockly.Blocks.text_print={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.jsonInit({message0:Blockly.Msg.TEXT_PRINT_TITLE,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:Blockly.Msg.TEXT_PRINT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_PRINT_HELPURL})}};</span>
<a name="l141"><span class="ln">141  </span></a><span class="s1">Blockly.Blocks.text_prompt_ext={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,</span><span class="s2">&quot;NUMBER&quot;</span><span class="s1">]];</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">;a=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a,</span><span class="s4">function</span><span class="s1">(a){b.updateType_(a)});</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">).appendField(a,</span><span class="s2">&quot;TYPE&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;String&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">==b.getFieldValue(</span><span class="s2">&quot;TYPE&quot;</span><span class="s1">)?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},</span>
<a name="l142"><span class="ln">142  </span></a><span class="s1">updateType_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.outputConnection.setCheck(</span><span class="s2">&quot;NUMBER&quot;</span><span class="s1">==a?</span><span class="s2">&quot;Number&quot;</span><span class="s1">:</span><span class="s2">&quot;String&quot;</span><span class="s1">)},mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;TYPE&quot;</span><span class="s1">));</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.updateType_(a.getAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">))}};</span>
<a name="l143"><span class="ln">143  </span></a><span class="s1">Blockly.Blocks.text_prompt={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);</span><span class="s4">var </span><span class="s1">a=[[Blockly.Msg.TEXT_PROMPT_TYPE_TEXT,</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">],[Blockly.Msg.TEXT_PROMPT_TYPE_NUMBER,</span><span class="s2">&quot;NUMBER&quot;</span><span class="s1">]],b=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.setHelpUrl(Blockly.Msg.TEXT_PROMPT_HELPURL);</span><span class="s4">this</span><span class="s1">.setStyle(</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">);a=</span><span class="s4">new </span><span class="s1">Blockly.FieldDropdown(a,</span><span class="s4">function</span><span class="s1">(a){b.updateType_(a)});</span><span class="s4">this</span><span class="s1">.appendDummyInput().appendField(a,</span><span class="s2">&quot;TYPE&quot;</span><span class="s1">).appendField(</span><span class="s4">this</span><span class="s1">.newQuote_(!</span><span class="s3">0</span><span class="s1">)).appendField(</span><span class="s4">new </span><span class="s1">Blockly.FieldTextInput(</span><span class="s2">&quot;&quot;</span><span class="s1">),</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">).appendField(</span><span class="s4">this</span><span class="s1">.newQuote_(!</span><span class="s3">1</span><span class="s1">));</span>
<a name="l144"><span class="ln">144  </span></a><span class="s4">this</span><span class="s1">.setOutput(!</span><span class="s3">0</span><span class="s1">,</span><span class="s2">&quot;String&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">==b.getFieldValue(</span><span class="s2">&quot;TYPE&quot;</span><span class="s1">)?Blockly.Msg.TEXT_PROMPT_TOOLTIP_TEXT:Blockly.Msg.TEXT_PROMPT_TOOLTIP_NUMBER})},updateType_:Blockly.Blocks.text_prompt_ext.updateType_,mutationToDom:Blockly.Blocks.text_prompt_ext.mutationToDom,domToMutation:Blockly.Blocks.text_prompt_ext.domToMutation};</span>
<a name="l145"><span class="ln">145  </span></a><span class="s1">Blockly.Blocks.text_count={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.jsonInit({message0:Blockly.Msg.TEXT_COUNT_MESSAGE0,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;SUB&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;Number&quot;</span><span class="s1">,inputsInline:!</span><span class="s3">0</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:Blockly.Msg.TEXT_COUNT_TOOLTIP,helpUrl:Blockly.Msg.TEXT_COUNT_HELPURL})}};</span>
<a name="l146"><span class="ln">146  </span></a><span class="s1">Blockly.Blocks.text_replace={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.jsonInit({message0:Blockly.Msg.TEXT_REPLACE_MESSAGE0,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;FROM&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TO&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;String&quot;</span><span class="s1">,inputsInline:!</span><span class="s3">0</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:Blockly.Msg.TEXT_REPLACE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REPLACE_HELPURL})}};</span>
<a name="l147"><span class="ln">147  </span></a><span class="s1">Blockly.Blocks.text_reverse={init:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.jsonInit({message0:Blockly.Msg.TEXT_REVERSE_MESSAGE0,args0:[{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">,check:</span><span class="s2">&quot;String&quot;</span><span class="s1">}],output:</span><span class="s2">&quot;String&quot;</span><span class="s1">,inputsInline:!</span><span class="s3">0</span><span class="s1">,style:</span><span class="s2">&quot;text_blocks&quot;</span><span class="s1">,tooltip:Blockly.Msg.TEXT_REVERSE_TOOLTIP,helpUrl:Blockly.Msg.TEXT_REVERSE_HELPURL})}};</span>
<a name="l148"><span class="ln">148  </span></a><span class="s1">Blockly.Constants.Text.QUOTE_IMAGE_MIXIN={QUOTE_IMAGE_LEFT_DATAURI:</span><span class="s2">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC&quot;</span><span class="s1">,QUOTE_IMAGE_RIGHT_DATAURI:</span><span class="s2">&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==&quot;</span><span class="s1">,</span>
<a name="l149"><span class="ln">149  </span></a><span class="s1">QUOTE_IMAGE_WIDTH:</span><span class="s3">12</span><span class="s1">,QUOTE_IMAGE_HEIGHT:</span><span class="s3">12</span><span class="s1">,quoteField_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=</span><span class="s3">0</span><span class="s1">,c;c=</span><span class="s4">this</span><span class="s1">.inputList[b];b++)</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">d=</span><span class="s3">0</span><span class="s1">,e;e=c.fieldRow[d];d++)</span><span class="s4">if</span><span class="s1">(a==e.name){c.insertFieldAt(d,</span><span class="s4">this</span><span class="s1">.newQuote_(!</span><span class="s3">0</span><span class="s1">));c.insertFieldAt(d+</span><span class="s3">2</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.newQuote_(!</span><span class="s3">1</span><span class="s1">));</span><span class="s4">return</span><span class="s1">}console.warn(</span><span class="s2">'field named &quot;'</span><span class="s1">+a+</span><span class="s2">'&quot; not found in '</span><span class="s1">+</span><span class="s4">this</span><span class="s1">.toDevString())},newQuote_:</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s4">this</span><span class="s1">.RTL?!a:a;</span><span class="s4">return new </span><span class="s1">Blockly.FieldImage(a?</span><span class="s4">this</span><span class="s1">.QUOTE_IMAGE_LEFT_DATAURI:</span><span class="s4">this</span><span class="s1">.QUOTE_IMAGE_RIGHT_DATAURI,</span><span class="s4">this</span><span class="s1">.QUOTE_IMAGE_WIDTH,</span><span class="s4">this</span><span class="s1">.QUOTE_IMAGE_HEIGHT,a?</span><span class="s2">&quot;</span><span class="s5">\u201c</span><span class="s2">&quot;</span><span class="s1">:</span><span class="s2">&quot;</span><span class="s5">\u201d</span><span class="s2">&quot;</span><span class="s1">)}};</span>
<a name="l150"><span class="ln">150  </span></a><span class="s1">Blockly.Constants.Text.TEXT_QUOTES_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);</span><span class="s4">this</span><span class="s1">.quoteField_(</span><span class="s2">&quot;TEXT&quot;</span><span class="s1">)};</span>
<a name="l151"><span class="ln">151  </span></a><span class="s1">Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN={mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;items&quot;</span><span class="s1">,</span><span class="s4">this</span><span class="s1">.itemCount_);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.itemCount_=parseInt(a.getAttribute(</span><span class="s2">&quot;items&quot;</span><span class="s1">),</span><span class="s3">10</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateShape_()},decompose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=a.newBlock(</span><span class="s2">&quot;text_create_join_container&quot;</span><span class="s1">);b.initSvg();</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">c=b.getInput(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">).connection,d=</span><span class="s3">0</span><span class="s1">;d&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;d++){</span><span class="s4">var </span><span class="s1">e=a.newBlock(</span><span class="s2">&quot;text_create_join_item&quot;</span><span class="s1">);e.initSvg();c.connect(e.previousConnection);</span>
<a name="l152"><span class="ln">152  </span></a><span class="s1">c=e.nextConnection}</span><span class="s4">return </span><span class="s1">b},compose:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">var </span><span class="s1">b=a.getInputTargetBlock(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(a=[];b;)a.push(b.valueConnection_),b=b.nextConnection&amp;&amp;b.nextConnection.targetBlock();</span><span class="s4">for</span><span class="s1">(b=</span><span class="s3">0</span><span class="s1">;b&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;b++){</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+b).connection.targetConnection;c&amp;&amp;-</span><span class="s3">1</span><span class="s1">==a.indexOf(c)&amp;&amp;c.disconnect()}</span><span class="s4">this</span><span class="s1">.itemCount_=a.length;</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">for</span><span class="s1">(b=</span><span class="s3">0</span><span class="s1">;b&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;b++)Blockly.Mutator.reconnect(a[b],</span><span class="s4">this</span><span class="s1">,</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+b)},saveConnections:</span><span class="s4">function</span><span class="s1">(a){a=a.getInputTargetBlock(</span><span class="s2">&quot;STACK&quot;</span><span class="s1">);</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">b=</span><span class="s3">0</span><span class="s1">;a;){</span><span class="s4">var </span><span class="s1">c=</span>
<a name="l153"><span class="ln">153  </span></a><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+b);a.valueConnection_=c&amp;&amp;c.connection.targetConnection;b++;a=a.nextConnection&amp;&amp;a.nextConnection.targetBlock()}},updateShape_:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.itemCount_&amp;&amp;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">)?</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">):</span><span class="s4">this</span><span class="s1">.itemCount_||</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">)||</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;EMPTY&quot;</span><span class="s1">).appendField(</span><span class="s4">this</span><span class="s1">.newQuote_(!</span><span class="s3">0</span><span class="s1">)).appendField(</span><span class="s4">this</span><span class="s1">.newQuote_(!</span><span class="s3">1</span><span class="s1">));</span><span class="s4">for</span><span class="s1">(</span><span class="s4">var </span><span class="s1">a=</span><span class="s3">0</span><span class="s1">;a&lt;</span><span class="s4">this</span><span class="s1">.itemCount_;a++)</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a)){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a);</span><span class="s3">0</span><span class="s1">==a&amp;&amp;b.appendField(Blockly.Msg.TEXT_JOIN_TITLE_CREATEWITH)}</span><span class="s4">for</span><span class="s1">(;</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+</span>
<a name="l154"><span class="ln">154  </span></a><span class="s1">a);)</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ADD&quot;</span><span class="s1">+a),a++}};Blockly.Constants.Text.TEXT_JOIN_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.mixin(Blockly.Constants.Text.QUOTE_IMAGE_MIXIN);</span><span class="s4">this</span><span class="s1">.itemCount_=</span><span class="s3">2</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.updateShape_();</span><span class="s4">this</span><span class="s1">.setMutator(</span><span class="s4">new </span><span class="s1">Blockly.Mutator([</span><span class="s2">&quot;text_create_join_item&quot;</span><span class="s1">]))};Blockly.Extensions.register(</span><span class="s2">&quot;text_append_tooltip&quot;</span><span class="s1">,Blockly.Extensions.buildTooltipWithFieldText(</span><span class="s2">&quot;%{BKY_TEXT_APPEND_TOOLTIP}&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">));</span>
<a name="l155"><span class="ln">155  </span></a><span class="s1">Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">return </span><span class="s1">Blockly.Msg.TEXT_INDEXOF_TOOLTIP.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,a.workspace.options.oneBasedIndex?</span><span class="s2">&quot;0&quot;</span><span class="s1">:</span><span class="s2">&quot;-1&quot;</span><span class="s1">)})};</span>
<a name="l156"><span class="ln">156  </span></a><span class="s1">Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN={mutationToDom:</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">a=Blockly.utils.xml.createElement(</span><span class="s2">&quot;mutation&quot;</span><span class="s1">);a.setAttribute(</span><span class="s2">&quot;at&quot;</span><span class="s1">,!!</span><span class="s4">this</span><span class="s1">.isAt_);</span><span class="s4">return </span><span class="s1">a},domToMutation:</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s2">&quot;false&quot;</span><span class="s1">!=a.getAttribute(</span><span class="s2">&quot;at&quot;</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.updateAt_(a)},updateAt_:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">);a&amp;&amp;(</span><span class="s4">this</span><span class="s1">.appendValueInput(</span><span class="s2">&quot;AT&quot;</span><span class="s1">).setCheck(</span><span class="s2">&quot;Number&quot;</span><span class="s1">),Blockly.Msg.ORDINAL_NUMBER_SUFFIX&amp;&amp;</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;ORDINAL&quot;</span><span class="s1">).appendField(Blockly.Msg.ORDINAL_NUMBER_SUFFIX));Blockly.Msg.TEXT_CHARAT_TAIL&amp;&amp;</span>
<a name="l157"><span class="ln">157  </span></a><span class="s1">(</span><span class="s4">this</span><span class="s1">.removeInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">,!</span><span class="s3">0</span><span class="s1">),</span><span class="s4">this</span><span class="s1">.appendDummyInput(</span><span class="s2">&quot;TAIL&quot;</span><span class="s1">).appendField(Blockly.Msg.TEXT_CHARAT_TAIL));</span><span class="s4">this</span><span class="s1">.isAt_=a}};</span>
<a name="l158"><span class="ln">158  </span></a><span class="s1">Blockly.Constants.Text.TEXT_CHARAT_EXTENSION=</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">).setValidator(</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==a||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==a;a!=</span><span class="s4">this</span><span class="s1">.isAt_&amp;&amp;</span><span class="s4">this</span><span class="s1">.getSourceBlock().updateAt_(a)});</span><span class="s4">this</span><span class="s1">.updateAt_(!</span><span class="s3">0</span><span class="s1">);</span><span class="s4">var </span><span class="s1">a=</span><span class="s4">this</span><span class="s1">;</span><span class="s4">this</span><span class="s1">.setTooltip(</span><span class="s4">function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">b=a.getFieldValue(</span><span class="s2">&quot;WHERE&quot;</span><span class="s1">),c=Blockly.Msg.TEXT_CHARAT_TOOLTIP;(</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==b||</span><span class="s2">&quot;FROM_END&quot;</span><span class="s1">==b)&amp;&amp;(b=</span><span class="s2">&quot;FROM_START&quot;</span><span class="s1">==b?Blockly.Msg.LISTS_INDEX_FROM_START_TOOLTIP:Blockly.Msg.LISTS_INDEX_FROM_END_TOOLTIP)&amp;&amp;(c+=</span><span class="s2">&quot;  &quot;</span><span class="s1">+b.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,a.workspace.options.oneBasedIndex?</span>
<a name="l159"><span class="ln">159  </span></a><span class="s2">&quot;#1&quot;</span><span class="s1">:</span><span class="s2">&quot;#0&quot;</span><span class="s1">));</span><span class="s4">return </span><span class="s1">c})};Blockly.Extensions.register(</span><span class="s2">&quot;text_indexOf_tooltip&quot;</span><span class="s1">,Blockly.Constants.Text.TEXT_INDEXOF_TOOLTIP_EXTENSION);Blockly.Extensions.register(</span><span class="s2">&quot;text_quotes&quot;</span><span class="s1">,Blockly.Constants.Text.TEXT_QUOTES_EXTENSION);Blockly.Extensions.registerMutator(</span><span class="s2">&quot;text_join_mutator&quot;</span><span class="s1">,Blockly.Constants.Text.TEXT_JOIN_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_JOIN_EXTENSION);Blockly.Extensions.registerMutator(</span><span class="s2">&quot;text_charAt_mutator&quot;</span><span class="s1">,Blockly.Constants.Text.TEXT_CHARAT_MUTATOR_MIXIN,Blockly.Constants.Text.TEXT_CHARAT_EXTENSION);Blockly.Blocks.variables={};Blockly.Constants.Variables={};Blockly.Constants.Variables.HUE=</span><span class="s3">330</span><span class="s1">;</span>
<a name="l160"><span class="ln">160  </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s2">&quot;%{BKY_VARIABLES_DEFAULT_NAME}&quot;</span><span class="s1">}],output:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;variable_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_VARIABLES_GET_HELPURL}&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_VARIABLES_GET_TOOLTIP}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;contextMenu_variableSetterGetter&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;variables_set&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_VARIABLES_SET}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s2">&quot;%{BKY_VARIABLES_DEFAULT_NAME}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,</span>
<a name="l161"><span class="ln">161  </span></a><span class="s1">nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;variable_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_VARIABLES_SET_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_VARIABLES_SET_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;contextMenu_variableSetterGetter&quot;</span><span class="s1">]}]);</span>
<a name="l162"><span class="ln">162  </span></a><span class="s1">Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.isInFlyout){</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type)</span><span class="s4">var </span><span class="s1">b=</span><span class="s2">&quot;variables_set&quot;</span><span class="s1">,c=Blockly.Msg.VARIABLES_GET_CREATE_SET;</span><span class="s4">else </span><span class="s1">b=</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">,c=Blockly.Msg.VARIABLES_SET_CREATE_GET;</span><span class="s4">var </span><span class="s1">d={enabled:</span><span class="s3">0</span><span class="s1">&lt;</span><span class="s4">this</span><span class="s1">.workspace.remainingCapacity()},e=</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getText();d.text=c.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,e);c=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);c.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">);c.appendChild(Blockly.utils.xml.createTextNode(e));</span>
<a name="l163"><span class="ln">163  </span></a><span class="s1">e=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);e.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,b);e.appendChild(c);d.callback=Blockly.ContextMenu.callbackFactory(</span><span class="s4">this</span><span class="s1">,e);a.push(d)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">&quot;variables_get&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type||</span><span class="s2">&quot;variables_get_reporter&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type)b={text:Blockly.Msg.RENAME_VARIABLE,enabled:!</span><span class="s3">0</span><span class="s1">,callback:Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(</span><span class="s4">this</span><span class="s1">)},e=</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getText(),d={text:Blockly.Msg.DELETE_VARIABLE.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,e),enabled:!</span><span class="s3">0</span><span class="s1">,callback:Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(</span><span class="s4">this</span><span class="s1">)},</span>
<a name="l164"><span class="ln">164  </span></a><span class="s1">a.unshift(b),a.unshift(d)}};Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY=</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">return function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">b=a.workspace,c=a.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getVariable();Blockly.Variables.renameVariable(b,c)}};Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY=</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">return function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">b=a.workspace,c=a.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getVariable();b.deleteVariableById(c.getId());b.refreshToolboxSelection()}};Blockly.Extensions.registerMixin(</span><span class="s2">&quot;contextMenu_variableSetterGetter&quot;</span><span class="s1">,Blockly.Constants.Variables.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);</span>
<a name="l165"><span class="ln">165  </span></a><span class="s1">Blockly.Constants.VariablesDynamic={};Blockly.Constants.VariablesDynamic.HUE=</span><span class="s3">310</span><span class="s1">;</span>
<a name="l166"><span class="ln">166  </span></a><span class="s1">Blockly.defineBlocksWithJsonArray([{type:</span><span class="s2">&quot;variables_get_dynamic&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%1&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s2">&quot;%{BKY_VARIABLES_DEFAULT_NAME}&quot;</span><span class="s1">}],output:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;variable_dynamic_blocks&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_VARIABLES_GET_HELPURL}&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_VARIABLES_GET_TOOLTIP}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;contextMenu_variableDynamicSetterGetter&quot;</span><span class="s1">]},{type:</span><span class="s2">&quot;variables_set_dynamic&quot;</span><span class="s1">,message0:</span><span class="s2">&quot;%{BKY_VARIABLES_SET}&quot;</span><span class="s1">,args0:[{type:</span><span class="s2">&quot;field_variable&quot;</span><span class="s1">,name:</span><span class="s2">&quot;VAR&quot;</span><span class="s1">,variable:</span><span class="s2">&quot;%{BKY_VARIABLES_DEFAULT_NAME}&quot;</span><span class="s1">},{type:</span><span class="s2">&quot;input_value&quot;</span><span class="s1">,</span>
<a name="l167"><span class="ln">167  </span></a><span class="s1">name:</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">}],previousStatement:</span><span class="s4">null</span><span class="s1">,nextStatement:</span><span class="s4">null</span><span class="s1">,style:</span><span class="s2">&quot;variable_dynamic_blocks&quot;</span><span class="s1">,tooltip:</span><span class="s2">&quot;%{BKY_VARIABLES_SET_TOOLTIP}&quot;</span><span class="s1">,helpUrl:</span><span class="s2">&quot;%{BKY_VARIABLES_SET_HELPURL}&quot;</span><span class="s1">,extensions:[</span><span class="s2">&quot;contextMenu_variableDynamicSetterGetter&quot;</span><span class="s1">]}]);</span>
<a name="l168"><span class="ln">168  </span></a><span class="s1">Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN={customContextMenu:</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">if</span><span class="s1">(!</span><span class="s4">this</span><span class="s1">.isInFlyout){</span><span class="s4">var </span><span class="s1">b=</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">);</span><span class="s4">var </span><span class="s1">c=</span><span class="s4">this</span><span class="s1">.workspace.getVariableById(b).type;</span><span class="s4">if</span><span class="s1">(</span><span class="s2">&quot;variables_get_dynamic&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type){b=</span><span class="s2">&quot;variables_set_dynamic&quot;</span><span class="s1">;</span><span class="s4">var </span><span class="s1">d=Blockly.Msg.VARIABLES_GET_CREATE_SET}</span><span class="s4">else </span><span class="s1">b=</span><span class="s2">&quot;variables_get_dynamic&quot;</span><span class="s1">,d=Blockly.Msg.VARIABLES_SET_CREATE_GET;</span><span class="s4">var </span><span class="s1">e={enabled:</span><span class="s3">0</span><span class="s1">&lt;</span><span class="s4">this</span><span class="s1">.workspace.remainingCapacity()},f=</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getText();e.text=d.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,f);</span>
<a name="l169"><span class="ln">169  </span></a><span class="s1">d=Blockly.utils.xml.createElement(</span><span class="s2">&quot;field&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;name&quot;</span><span class="s1">,</span><span class="s2">&quot;VAR&quot;</span><span class="s1">);d.setAttribute(</span><span class="s2">&quot;variabletype&quot;</span><span class="s1">,c);d.appendChild(Blockly.utils.xml.createTextNode(f));f=Blockly.utils.xml.createElement(</span><span class="s2">&quot;block&quot;</span><span class="s1">);f.setAttribute(</span><span class="s2">&quot;type&quot;</span><span class="s1">,b);f.appendChild(d);e.callback=Blockly.ContextMenu.callbackFactory(</span><span class="s4">this</span><span class="s1">,f);a.push(e)}</span><span class="s4">else if</span><span class="s1">(</span><span class="s2">&quot;variables_get_dynamic&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type||</span><span class="s2">&quot;variables_get_reporter_dynamic&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type)b={text:Blockly.Msg.RENAME_VARIABLE,enabled:!</span><span class="s3">0</span><span class="s1">,callback:Blockly.Constants.Variables.RENAME_OPTION_CALLBACK_FACTORY(</span><span class="s4">this</span><span class="s1">)},</span>
<a name="l170"><span class="ln">170  </span></a><span class="s1">f=</span><span class="s4">this</span><span class="s1">.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getText(),e={text:Blockly.Msg.DELETE_VARIABLE.replace(</span><span class="s2">&quot;%1&quot;</span><span class="s1">,f),enabled:!</span><span class="s3">0</span><span class="s1">,callback:Blockly.Constants.Variables.DELETE_OPTION_CALLBACK_FACTORY(</span><span class="s4">this</span><span class="s1">)},a.unshift(b),a.unshift(e)},onchange:</span><span class="s4">function</span><span class="s1">(a){a=</span><span class="s4">this</span><span class="s1">.getFieldValue(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">);a=Blockly.Variables.getVariable(</span><span class="s4">this</span><span class="s1">.workspace,a);</span><span class="s2">&quot;variables_get_dynamic&quot;</span><span class="s1">==</span><span class="s4">this</span><span class="s1">.type?</span><span class="s4">this</span><span class="s1">.outputConnection.setCheck(a.type):</span><span class="s4">this</span><span class="s1">.getInput(</span><span class="s2">&quot;VALUE&quot;</span><span class="s1">).connection.setCheck(a.type)}};</span>
<a name="l171"><span class="ln">171  </span></a><span class="s1">Blockly.Constants.VariablesDynamic.RENAME_OPTION_CALLBACK_FACTORY=</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">return function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">b=a.workspace,c=a.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getVariable();Blockly.Variables.renameVariable(b,c)}};Blockly.Constants.VariablesDynamic.DELETE_OPTION_CALLBACK_FACTORY=</span><span class="s4">function</span><span class="s1">(a){</span><span class="s4">return function</span><span class="s1">(){</span><span class="s4">var </span><span class="s1">b=a.workspace,c=a.getField(</span><span class="s2">&quot;VAR&quot;</span><span class="s1">).getVariable();b.deleteVariableById(c.getId());b.refreshToolboxSelection()}};Blockly.Extensions.registerMixin(</span><span class="s2">&quot;contextMenu_variableDynamicSetterGetter&quot;</span><span class="s1">,Blockly.Constants.VariablesDynamic.CUSTOM_CONTEXT_MENU_VARIABLE_GETTER_SETTER_MIXIN);</span></pre>
</body>
</html>